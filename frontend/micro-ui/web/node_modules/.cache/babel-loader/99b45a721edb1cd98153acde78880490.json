{"ast":null,"code":"import { SurveyIconSolid, PMBIconSolid, EventsIconSolid, DocumentIconSolid, EmployeeModuleCard, LabelFieldPair, CardLabel, Dropdown, RemoveableTag, TextInput, TextArea, CardLabelError as CardLabelError$1, UploadFile, Loader, Header, FormComposer, Card, CardText, ActionBar, SubmitBar, Banner, Table, CloseSvg, Label, LinkLabel, EventCalendar, DocumentIcon, CheckBox, RefreshIcon, DateRange, DetailsCard, SearchAction, FilterAction, PopUp, PMBIcon, RadioButtons, Modal, CardSubHeader, PDFSvg, MultiUploadWrapper, CardHeader, CardSectionHeader, StatusTable, Row, LinkButton, Close as Close$b, BreakLine, TelePhone, DisplayPhotos, CheckPoint, ConnectingCheckPoints, Toast, Menu, ButtonSelector, GenericFileIcon, PrivateRoute, LocationSearch, OnGroundEventCard, WhatsNewCard, CardCaption, SearchIconSvg, ViewsIcon, ExternalLinkIcon, DownloadImgIcon, AppContainer, PrevIcon, BackButton, MapMarker, Clock, FilterFormField, SearchField, InboxComposer, DustbinIcon, DatePicker, BreadCrumb } from '@egovernments/digit-ui-react-components';\nimport React, { useEffect, useMemo, Fragment, useState, useCallback, useReducer } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useLocation, useHistory, useParams, Link, Switch, Redirect as Redirect$1, Route, useRouteMatch } from 'react-router-dom';\nimport { Controller, useForm, useFormContext, FormProvider } from 'react-hook-form';\nimport { useQueryClient } from 'react-query';\nimport TimePicker from 'react-time-picker';\nimport { PieChart, Pie, Cell, Tooltip, Legend, ResponsiveContainer, BarChart, CartesianGrid, XAxis, YAxis, Bar } from 'recharts';\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n  return arr2;\n}\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (it) return (it = it.call(o)).next.bind(it);\n  if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n    if (it) o = it;\n    var i = 0;\n    return function () {\n      if (i >= o.length) return {\n        done: true\n      };\n      return {\n        done: false,\n        value: o[i++]\n      };\n    };\n  }\n  throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nvar EngagementCard = function EngagementCard() {\n  var _Digit$SessionStorage, _Digit$SessionStorage2;\n  var userRoles = (_Digit$SessionStorage = Digit.SessionStorage.get('User')) === null || _Digit$SessionStorage === void 0 ? void 0 : (_Digit$SessionStorage2 = _Digit$SessionStorage.info) === null || _Digit$SessionStorage2 === void 0 ? void 0 : _Digit$SessionStorage2.roles;\n  var isEmployee = userRoles.find(function (role) {\n    return role.code === 'EMPLOYEE';\n  });\n  useEffect(function () {\n    Digit.SessionStorage.set(\"CITIZENSURVEY.INBOX\", null);\n  }, []);\n  if (!isEmployee) return null;\n  var tenantId = Digit.ULBService.getCurrentTenantId();\n  var _Digit$Hooks$engageme = Digit.Hooks.engagement.useDocSearch({\n      tenantIds: tenantId\n    }, {\n      select: function select(data) {\n        return data === null || data === void 0 ? void 0 : data.totalCount;\n      }\n    }),\n    documentsCount = _Digit$Hooks$engageme.data,\n    isLoadingDocs = _Digit$Hooks$engageme.isLoading;\n  var _Digit$Hooks$events$u = Digit.Hooks.events.useInbox(tenantId, {}, {\n      status: \"ACTIVE,INACTIVE\",\n      eventTypes: \"BROADCAST\"\n    }, {\n      select: function select(data) {\n        return data === null || data === void 0 ? void 0 : data.totalCount;\n      }\n    }),\n    MessagesCount = _Digit$Hooks$events$u.data,\n    isLoadingMessages = _Digit$Hooks$events$u.isLoading;\n  var _Digit$Hooks$events$u2 = Digit.Hooks.events.useInbox(tenantId, {}, {\n      eventTypes: \"EVENTSONGROUND\"\n    }, {\n      select: function select(data) {\n        return data === null || data === void 0 ? void 0 : data.totalCount;\n      }\n    }),\n    totalEvents = _Digit$Hooks$events$u2.data,\n    isLoadingEvents = _Digit$Hooks$events$u2.isLoading;\n  var _Digit$Hooks$survey$u = Digit.Hooks.survey.useSearch({\n      tenantIds: tenantId\n    }, {\n      select: function select(data) {\n        return data === null || data === void 0 ? void 0 : data.TotalCount;\n      }\n    }),\n    surveysCount = _Digit$Hooks$survey$u.data,\n    isLoadingSurveys = _Digit$Hooks$survey$u.isLoading;\n  var totalDocsCount = useMemo(function () {\n    return isLoadingDocs ? \"-\" : documentsCount;\n  }, [isLoadingDocs, documentsCount]);\n  var totalEventsCount = useMemo(function () {\n    return isLoadingEvents ? \"-\" : totalEvents;\n  }, [isLoadingEvents, totalEvents]);\n  var totalMessagesCount = useMemo(function () {\n    return isLoadingMessages ? \"-\" : MessagesCount;\n  }, [isLoadingMessages, MessagesCount]);\n  var totalSurveysCount = useMemo(function () {\n    return isLoadingSurveys ? \"-\" : surveysCount;\n  }, [isLoadingSurveys, surveysCount]);\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var result = null;\n  var propsForSurveyModuleCard = {\n    Icon: /*#__PURE__*/React.createElement(SurveyIconSolid, null),\n    moduleName: t(\"CS_COMMON_SURVEYS\"),\n    kpis: [{\n      count: totalSurveysCount,\n      label: t(\"TOTAL_SURVEYS\"),\n      link: \"/digit-ui/employee/engagement/surveys/inbox\"\n    }],\n    links: [{\n      count: totalSurveysCount,\n      label: t(\"ES_TITLE_INBOX\"),\n      link: \"/digit-ui/employee/engagement/surveys/inbox\"\n    }, {\n      label: t(\"CS_COMMON_NEW_SURVEY\"),\n      link: \"/digit-ui/employee/engagement/surveys/create\"\n    }]\n  };\n  var propsForPMBModuleCard = {\n    Icon: /*#__PURE__*/React.createElement(PMBIconSolid, null),\n    moduleName: t(\"ACTION_TEST_PUBLIC_MESSAGE_BROADCAST\"),\n    kpis: [{\n      count: totalMessagesCount,\n      label: t(\"TOTAL_MESSAGES\"),\n      link: \"/digit-ui/employee/engagement/messages/inbox\"\n    }],\n    links: [{\n      count: totalMessagesCount,\n      label: t(\"ES_TITLE_INBOX\"),\n      link: \"/digit-ui/employee/engagement/messages/inbox\"\n    }, {\n      label: t(\"NEW_PUBLIC_MESSAGE_BUTTON_LABEL\"),\n      link: \"/digit-ui/employee/engagement/messages/create\"\n    }]\n  };\n  var propsForEventsModuleCard = {\n    Icon: /*#__PURE__*/React.createElement(EventsIconSolid, null),\n    moduleName: t(\"TOTAL_EVENTS\"),\n    kpis: [{\n      count: totalEventsCount,\n      label: t(\"TOTAL_EVENTS\"),\n      link: \"/digit-ui/employee/engagement/event/inbox\"\n    }],\n    links: [{\n      count: totalEventsCount,\n      label: t(\"ES_TITLE_INBOX\"),\n      link: \"/digit-ui/employee/engagement/event/inbox\"\n    }, {\n      label: t(\"ES_TITLE_NEW_EVENTS\"),\n      link: \"/digit-ui/employee/engagement/event/new-event\"\n    }]\n  };\n  var propsForDocumentModuleCard = {\n    Icon: /*#__PURE__*/React.createElement(DocumentIconSolid, null),\n    moduleName: t(\"ES_TITLE_DOCS\"),\n    kpis: [{\n      count: totalDocsCount,\n      label: t(\"TOTAL_DOCUMENTS\"),\n      link: \"/digit-ui/employee/engagement/documents/inbox\"\n    }],\n    links: [{\n      count: totalDocsCount,\n      label: t(\"ES_TITLE_INBOX\"),\n      link: \"/digit-ui/employee/engagement/documents/inbox\"\n    }, {\n      label: t(\"NEW_DOCUMENT_TEXT\"),\n      link: \"/digit-ui/employee/engagement/documents/new-doc\"\n    }]\n  };\n  var engagementSubModulesProps = [propsForDocumentModuleCard, propsForEventsModuleCard, propsForPMBModuleCard, propsForSurveyModuleCard];\n  if (isEmployee) result = /*#__PURE__*/React.createElement(Fragment, null, engagementSubModulesProps.map(function (propsForModuleCard, index) {\n    return /*#__PURE__*/React.createElement(EmployeeModuleCard, _extends({\n      key: index\n    }, propsForModuleCard));\n  }));\n  return result;\n};\nvar _iteratorSymbol = /*#__PURE__*/typeof Symbol !== \"undefined\" ? Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\")) : \"@@iterator\";\nvar _asyncIteratorSymbol = /*#__PURE__*/typeof Symbol !== \"undefined\" ? Symbol.asyncIterator || (Symbol.asyncIterator = Symbol(\"Symbol.asyncIterator\")) : \"@@asyncIterator\";\nfunction _catch(body, recover) {\n  try {\n    var result = body();\n  } catch (e) {\n    return recover(e);\n  }\n  if (result && result.then) {\n    return result.then(void 0, recover);\n  }\n  return result;\n}\nfunction _finallyRethrows(body, finalizer) {\n  try {\n    var result = body();\n  } catch (e) {\n    return finalizer(true, e);\n  }\n  if (result && result.then) {\n    return result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n  }\n  return finalizer(false, result);\n}\nfunction requiredArgs(required, args) {\n  if (args.length < required) {\n    throw new TypeError(required + ' argument' + (required > 1 ? 's' : '') + ' required, but only ' + args.length + ' present');\n  }\n}\nfunction toDate(argument) {\n  requiredArgs(1, arguments);\n  var argStr = Object.prototype.toString.call(argument);\n  if (argument instanceof Date || typeof argument === 'object' && argStr === '[object Date]') {\n    return new Date(argument.getTime());\n  } else if (typeof argument === 'number' || argStr === '[object Number]') {\n    return new Date(argument);\n  } else {\n    if ((typeof argument === 'string' || argStr === '[object String]') && typeof console !== 'undefined') {\n      console.warn(\"Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule\");\n      console.warn(new Error().stack);\n    }\n    return new Date(NaN);\n  }\n}\nfunction startOfDay(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  date.setHours(0, 0, 0, 0);\n  return date;\n}\nfunction isSameDay(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeftStartOfDay = startOfDay(dirtyDateLeft);\n  var dateRightStartOfDay = startOfDay(dirtyDateRight);\n  return dateLeftStartOfDay.getTime() === dateRightStartOfDay.getTime();\n}\nfunction isToday(dirtyDate) {\n  requiredArgs(1, arguments);\n  return isSameDay(dirtyDate, Date.now());\n}\nvar alphabeticalSortFunctionForTenantsBasedOnName = function alphabeticalSortFunctionForTenantsBasedOnName(firstEl, secondEl) {\n  if (firstEl.name.toUpperCase() < secondEl.name.toUpperCase()) {\n    return -1;\n  }\n  if (firstEl.name.toUpperCase() > secondEl.name.toUpperCase()) {\n    return 1;\n  }\n  return 0;\n};\nvar areEqual = function areEqual(stringA, stringB) {\n  var _stringA$trim, _stringB$trim;\n  if (!stringA || !stringB) return false;\n  if ((stringA === null || stringA === void 0 ? void 0 : (_stringA$trim = stringA.trim()) === null || _stringA$trim === void 0 ? void 0 : _stringA$trim.toLowerCase()) === (stringB === null || stringB === void 0 ? void 0 : (_stringB$trim = stringB.trim()) === null || _stringB$trim === void 0 ? void 0 : _stringB$trim.toLowerCase())) {\n    return true;\n  }\n  return false;\n};\nvar getFileUrl = function getFileUrl(fileStoreId) {\n  return Promise.resolve(_catch(function () {\n    return Promise.resolve(Digit.UploadServices.Filefetch([fileStoreId], Digit.ULBService.getStateId())).then(function (response) {\n      var _response$data, _response$data$fileSt;\n      if ((response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : (_response$data$fileSt = _response$data.fileStoreIds) === null || _response$data$fileSt === void 0 ? void 0 : _response$data$fileSt.length) > 0) {\n        var _response$data$fileSt2, _response$data$fileSt3;\n        var url = (_response$data$fileSt2 = response.data.fileStoreIds[0]) === null || _response$data$fileSt2 === void 0 ? void 0 : _response$data$fileSt2.url;\n        if (url.includes(\".jpg\") || url.includes(\".png\")) {\n          var arr = url.split(\",\");\n          var original = arr[0],\n            large = arr[1],\n            medium = arr[2],\n            small = arr[3];\n          return original;\n        }\n        return (_response$data$fileSt3 = response.data.fileStoreIds[0]) === null || _response$data$fileSt3 === void 0 ? void 0 : _response$data$fileSt3.url;\n      }\n    });\n  }, function () {}));\n};\nvar openUploadedDocument = function openUploadedDocument(filestoreId, name) {\n  try {\n    if (!filestoreId || !filestoreId.length) {\n      alert(\"No Document exists!\");\n      return Promise.resolve();\n    }\n    var w = window.open(\"\", \"_blank\");\n    return Promise.resolve(getFileUrl(filestoreId)).then(function (url) {\n      if (window.mSewaApp && window.mSewaApp.isMsewaApp()) {\n        window.open(url, \"_blank\");\n        setTimeout(function () {\n          window.location.href = url;\n        }, 1000);\n      } else {\n        w.location = url;\n        w.document.title = name;\n      }\n    });\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\nvar openDocumentLink = function openDocumentLink(docLink, title) {\n  if (!docLink || !docLink.length) {\n    alert(\"No Document Link exists!\");\n    return;\n  }\n  if (window.mSewaApp && window.mSewaApp.isMsewaApp()) {\n    window.open(docLink, \"_blank\");\n    setTimeout(function () {\n      window.location.href = docLink;\n    }, 1000);\n  } else {\n    var w = window.open(\"\", \"_blank\");\n    w.location = docLink;\n    w.document.title = title;\n  }\n};\nvar downloadDocument = function downloadDocument(filestoreId, title) {\n  try {\n    if (!filestoreId || !filestoreId.length) {\n      alert(\"No Document exists!\");\n      return Promise.resolve();\n    }\n    return Promise.resolve(getFileUrl(filestoreId)).then(function (fileUrl) {\n      if (fileUrl) {\n        Digit.Utils.downloadPDFFromLink(fileUrl);\n      }\n    });\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\nvar isNestedArray = function isNestedArray(documents) {\n  if (!documents || !documents.length) return false;\n  if (Array.isArray(documents) && documents.length) {\n    var firstItem = Array.isArray(documents[0]);\n    if (firstItem) {\n      return true;\n    }\n  }\n  return false;\n};\nvar reduceDocsArray = function reduceDocsArray(documentsArray) {\n  if (!documentsArray || !documentsArray.length) return [];\n  return documentsArray.reduce(function (acc, files) {\n    var fileObj = {};\n    var _files$ = files[1],\n      file = _files$.file,\n      fileStoreId = _files$.fileStoreId;\n    fileObj[\"fileName\"] = file === null || file === void 0 ? void 0 : file.name;\n    fileObj[\"documentType\"] = file === null || file === void 0 ? void 0 : file.type;\n    fileObj[\"fileStoreId\"] = fileStoreId === null || fileStoreId === void 0 ? void 0 : fileStoreId.fileStoreId;\n    acc.push(fileObj);\n    return acc;\n  }, []);\n};\nvar getFileSize = function getFileSize(size) {\n  if (size === 0) return \"0 Bytes\";\n  var k = 1024;\n  var sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\", \"TB\"];\n  var i = Math.floor(Math.log(size) / Math.log(k));\n  return parseFloat((size / Math.pow(k, i)).toFixed(2)) + \" \" + sizes[i];\n};\nvar documentUploadMessage = function documentUploadMessage(t, fileStoreId, editMode) {\n  var _fileStoreId$fileStor;\n  if (!fileStoreId) return t(\"CS_ACTION_NO_FILEUPLOADED\");\n  return editMode ? fileStoreId !== null && fileStoreId !== void 0 && (_fileStoreId$fileStor = fileStoreId.fileStoreId) !== null && _fileStoreId$fileStor !== void 0 && _fileStoreId$fileStor.length ? \"1 \" + t(\"CS_ACTION_FILEUPLOADED\") : t(\"CS_ACTION_NO_FILEUPLOADED\") : fileStoreId ? \"1 \" + t(\"CS_ACTION_FILEUPLOADED\") : t(\"CS_ACTION_NO_FILEUPLOADED\");\n};\nvar checkValidFileType = function checkValidFileType(fileType) {\n  if (!fileType) return false;\n  var allowedFileType = /(.*?)(jpg|jpeg|png|image|pdf|msword|openxmlformats)$/i;\n  if (allowedFileType.test(fileType)) {\n    return true;\n  }\n  return false;\n};\nvar handleTodaysDate = function handleTodaysDate(dateString) {\n  var dateObject = new Date(dateString);\n  if (isToday(dateObject)) {\n    var todaysDate = new Date();\n    dateObject = new Date(todaysDate.getFullYear(), todaysDate.getMonth(), todaysDate.getDate(), 23, 59);\n  }\n  return dateObject.getTime();\n};\nvar convertDateToMaximumPossibleValue = function convertDateToMaximumPossibleValue(dateObject) {\n  return new Date(dateObject.getFullYear(), dateObject.getMonth(), dateObject.getDate(), 23, 59);\n};\nvar SelectULB = function SelectULB(_ref) {\n  var _formData$config$key2, _formData$config$key3;\n  var t = _ref.t,\n    setValue = _ref.setValue,\n    config = _ref.config,\n    formData = _ref.formData,\n    errors = _ref.errors,\n    control = _ref.control;\n  var ulbs = Digit.SessionStorage.get(\"ENGAGEMENT_TENANTS\");\n  var tenantId = Digit.ULBService.getCurrentTenantId();\n  var selectedTenat = useMemo(function () {\n    if (formData !== null && formData !== void 0 && formData.defaultTenantId) {\n      return ulbs === null || ulbs === void 0 ? void 0 : ulbs.find(function (ulb) {\n        return (ulb === null || ulb === void 0 ? void 0 : ulb.code) === (formData === null || formData === void 0 ? void 0 : formData.defaultTenantId);\n      });\n    }\n    if (tenantId && ulbs) {\n      var filtered = ulbs === null || ulbs === void 0 ? void 0 : ulbs.filter(function (item) {\n        return item.code === tenantId;\n      });\n      return filtered;\n    }\n    return (userUlbs === null || userUlbs === void 0 ? void 0 : userUlbs.length) === 1 ? userUlbs === null || userUlbs === void 0 ? void 0 : userUlbs[0] : null;\n  }, [tenantId, ulbs]);\n  var userInfo = Digit.UserService.getUser().info;\n  var userUlbs = ulbs.filter(function (ulb) {\n    var _userInfo$roles;\n    return userInfo === null || userInfo === void 0 ? void 0 : (_userInfo$roles = userInfo.roles) === null || _userInfo$roles === void 0 ? void 0 : _userInfo$roles.some(function (role) {\n      return (role === null || role === void 0 ? void 0 : role.tenantId) === (ulb === null || ulb === void 0 ? void 0 : ulb.code);\n    });\n  }).sort(alphabeticalSortFunctionForTenantsBasedOnName);\n  var dropDownData = Digit.ULBService.getUserUlbs(\"SUPERUSER\").sort(alphabeticalSortFunctionForTenantsBasedOnName);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(LabelFieldPair, {\n    style: {\n      alignItems: 'start'\n    }\n  }, /*#__PURE__*/React.createElement(CardLabel, {\n    style: {\n      fontWeight: \"bold\"\n    }\n  }, t(\"ES_COMMON_ULB\") + \" *\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\"\n  }, /*#__PURE__*/React.createElement(Controller, {\n    name: config.key,\n    control: control,\n    defaultValue: selectedTenat === null || selectedTenat === void 0 ? void 0 : selectedTenat[0],\n    rules: {\n      required: true\n    },\n    render: function render(props) {\n      return /*#__PURE__*/React.createElement(Dropdown, {\n        allowMultiselect: true,\n        optionKey: \"i18nKey\",\n        option: dropDownData,\n        select: function select(e) {\n          var _formData$config$key, _formData$config$key$;\n          props.onChange([].concat((formData === null || formData === void 0 ? void 0 : (_formData$config$key = formData[config === null || config === void 0 ? void 0 : config.key]) === null || _formData$config$key === void 0 ? void 0 : (_formData$config$key$ = _formData$config$key.filter) === null || _formData$config$key$ === void 0 ? void 0 : _formData$config$key$.call(_formData$config$key, function (f) {\n            return e.code != (f === null || f === void 0 ? void 0 : f.code);\n          })) || [], [e]));\n        },\n        keepNull: true,\n        selected: props.value,\n        disable: (ulbs === null || ulbs === void 0 ? void 0 : ulbs.length) === 1,\n        t: t\n      });\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"tag-container\"\n  }, formData && ((_formData$config$key2 = formData[config === null || config === void 0 ? void 0 : config.key]) === null || _formData$config$key2 === void 0 ? void 0 : _formData$config$key2.length) > 0 && (formData === null || formData === void 0 ? void 0 : (_formData$config$key3 = formData[config.key]) === null || _formData$config$key3 === void 0 ? void 0 : _formData$config$key3.map(function (ulb, index) {\n    return /*#__PURE__*/React.createElement(RemoveableTag, {\n      key: index,\n      text: t(ulb === null || ulb === void 0 ? void 0 : ulb.i18nKey),\n      onClick: function onClick() {\n        var _formData$config$key4;\n        setValue(config.key, formData === null || formData === void 0 ? void 0 : (_formData$config$key4 = formData[config.key]) === null || _formData$config$key4 === void 0 ? void 0 : _formData$config$key4.filter(function (e) {\n          return e.i18nKey != ulb.i18nKey;\n        }));\n      }\n    });\n  }))), errors && errors[config.key] && /*#__PURE__*/React.createElement(CardLabelError, null, t(\"EVENTS_TENANT_ERROR_REQUIRED\")))));\n};\nvar ULBDropdown = function ULBDropdown(_ref) {\n  var t = _ref.t,\n    config = _ref.config,\n    errors = _ref.errors,\n    control = _ref.control;\n  var ulbs = Digit.SessionStorage.get(\"ENGAGEMENT_TENANTS\");\n  var userInfo = Digit.UserService.getUser().info;\n  var userUlbs = ulbs.filter(function (ulb) {\n    var _userInfo$roles;\n    return userInfo === null || userInfo === void 0 ? void 0 : (_userInfo$roles = userInfo.roles) === null || _userInfo$roles === void 0 ? void 0 : _userInfo$roles.some(function (role) {\n      return (role === null || role === void 0 ? void 0 : role.tenantId) === (ulb === null || ulb === void 0 ? void 0 : ulb.code);\n    });\n  }).sort(alphabeticalSortFunctionForTenantsBasedOnName);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(LabelFieldPair, {\n    style: {\n      alignItems: 'start'\n    }\n  }, /*#__PURE__*/React.createElement(CardLabel, {\n    style: {\n      fontWeight: \"bold\"\n    }\n  }, t(\"ES_COMMON_ULB\") + \"*\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\"\n  }, /*#__PURE__*/React.createElement(Controller, {\n    name: config.key,\n    control: control,\n    rules: {\n      required: true\n    },\n    render: function render(_ref2) {\n      var onChange = _ref2.onChange,\n        value = _ref2.value;\n      return /*#__PURE__*/React.createElement(Dropdown, {\n        option: userUlbs,\n        selected: value,\n        disable: (userUlbs === null || userUlbs === void 0 ? void 0 : userUlbs.length) === 1,\n        optionKey: \"code\",\n        t: t,\n        select: onChange\n      });\n    }\n  }), errors && errors[config === null || config === void 0 ? void 0 : config.key] && /*#__PURE__*/React.createElement(CardLabelError, null, t(\"EVENTS_TENANT_ERROR_REQUIRED\")))));\n};\nvar DocumentName = function DocumentName(_ref) {\n  var t = _ref.t,\n    config = _ref.config,\n    register = _ref.register;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(LabelFieldPair, {\n    style: {\n      marginBottom: '20px'\n    }\n  }, /*#__PURE__*/React.createElement(CardLabel, {\n    style: {\n      fontWeight: \"bold\"\n    }\n  }, t(\"ES_COMMON_DOC_NAME\") + \" *\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\"\n  }, /*#__PURE__*/React.createElement(TextInput, {\n    name: config.key,\n    inputRef: register()\n  }))));\n};\nvar SelectCategory = function SelectCategory(_ref) {\n  var t = _ref.t,\n    config = _ref.config,\n    formData = _ref.formData,\n    control = _ref.control;\n  var stateId = Digit.ULBService.getStateId();\n  var _useState = useState(function () {\n      return [];\n    }),\n    setUlbs = _useState[1];\n  var currrentUlb = Digit.ULBService.getCurrentUlb() || \"pb.amritsar\";\n  var _Digit$Hooks$engageme = Digit.Hooks.engagement.useMDMS(stateId, \"DocumentUploader\", [\"UlbLevelCategories\"], {\n      select: function select(d) {\n        var _d$DocumentUploader, _d$DocumentUploader$U, _d$DocumentUploader$U2;\n        var data = d === null || d === void 0 ? void 0 : (_d$DocumentUploader = d.DocumentUploader) === null || _d$DocumentUploader === void 0 ? void 0 : (_d$DocumentUploader$U = _d$DocumentUploader.UlbLevelCategories) === null || _d$DocumentUploader$U === void 0 ? void 0 : (_d$DocumentUploader$U2 = _d$DocumentUploader$U.filter) === null || _d$DocumentUploader$U2 === void 0 ? void 0 : _d$DocumentUploader$U2.call(_d$DocumentUploader$U, function (e) {\n          return e.ulb === currrentUlb.code;\n        });\n        return data[0].categoryList.map(function (name) {\n          return {\n            name: name\n          };\n        });\n      }\n    }),\n    categoryData = _Digit$Hooks$engageme.data;\n  useEffect(function () {\n    var _formData$ULB, _formData$ULB2;\n    formData !== null && formData !== void 0 && (_formData$ULB = formData.ULB) !== null && _formData$ULB !== void 0 && _formData$ULB.length ? setUlbs(formData === null || formData === void 0 ? void 0 : (_formData$ULB2 = formData.ULB) === null || _formData$ULB2 === void 0 ? void 0 : _formData$ULB2.map(function (e) {\n      return e === null || e === void 0 ? void 0 : e.code;\n    })) : null;\n  }, [formData === null || formData === void 0 ? void 0 : formData.ULB]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(LabelFieldPair, null, /*#__PURE__*/React.createElement(CardLabel, {\n    style: {\n      fontWeight: \"bold\"\n    }\n  }, t(\"ES_COMMON_DOC_CATEGORY\") + \"*\"), /*#__PURE__*/React.createElement(Controller, {\n    name: config.key,\n    control: control,\n    render: function render(props) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"field\"\n      }, /*#__PURE__*/React.createElement(Dropdown, {\n        option: categoryData,\n        select: props.onChange,\n        selected: props.value,\n        t: t,\n        optionKey: \"name\"\n      }));\n    }\n  })));\n};\nvar SelectULB$1 = function SelectULB(_ref) {\n  var _errors$description, _errors$description2, _errors$description2$;\n  var t = _ref.t,\n    config = _ref.config,\n    register = _ref.register,\n    errors = _ref.errors;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(LabelFieldPair, null, /*#__PURE__*/React.createElement(CardLabel, {\n    style: {\n      fontWeight: \"bold\"\n    }\n  }, t(\"ES_COMMON_DOC_DESCRIPTION\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\"\n  }, /*#__PURE__*/React.createElement(TextArea, {\n    name: config.key,\n    inputRef: register({\n      maxLength: 140\n    })\n  }), (errors === null || errors === void 0 ? void 0 : (_errors$description = errors.description) === null || _errors$description === void 0 ? void 0 : _errors$description.type) && /*#__PURE__*/React.createElement(CardLabelError$1, null, t(\"ERROR_\" + (errors === null || errors === void 0 ? void 0 : (_errors$description2 = errors.description) === null || _errors$description2 === void 0 ? void 0 : (_errors$description2$ = _errors$description2.type) === null || _errors$description2$ === void 0 ? void 0 : _errors$description2$.toUpperCase()) + \"_140\")))));\n};\nvar EngagementDocUploadDocument = function EngagementDocUploadDocument(_ref) {\n  var t = _ref.t,\n    config = _ref.config,\n    formData = _ref.formData,\n    setError = _ref.setError,\n    control = _ref.control;\n  var _useState = useState(function () {\n      var _formData$config$key;\n      return formData === null || formData === void 0 ? void 0 : (_formData$config$key = formData[config.key]) === null || _formData$config$key === void 0 ? void 0 : _formData$config$key.filestoreId;\n    }),\n    fileStoreId = _useState[0],\n    setFileStoreId = _useState[1];\n  var _useState2 = useState(),\n    fileSize = _useState2[0],\n    setFileSize = _useState2[1];\n  var _useState3 = useState(''),\n    fileType = _useState3[0],\n    setFileType = _useState3[1];\n  var _useState4 = useState(),\n    file = _useState4[0],\n    setFile = _useState4[1];\n  var _useState5 = useState(false),\n    setUrlDisabled = _useState5[1];\n  var tenantId = Digit.ULBService.getCurrentTenantId();\n  var _useState6 = useState({}),\n    controllerProps = _useState6[0],\n    setProps = _useState6[1];\n  var _useState7 = useState(false),\n    isUploadingImage = _useState7[0],\n    setIsUploadingImage = _useState7[1];\n  var _useState8 = useState(\"\"),\n    imageUploadError = _useState8[0],\n    setUploadError = _useState8[1];\n  var selectFile = function selectFile(e, props) {\n    var _e$target, _e$target$files, _e$target2, _e$target2$files$, _e$target3, _e$target3$files$;\n    setFile();\n    setFileSize();\n    setFileType();\n    setUploadError(\"\");\n    if (!((_e$target = e.target) !== null && _e$target !== void 0 && (_e$target$files = _e$target.files) !== null && _e$target$files !== void 0 && _e$target$files.length)) return;\n    var size = e === null || e === void 0 ? void 0 : (_e$target2 = e.target) === null || _e$target2 === void 0 ? void 0 : (_e$target2$files$ = _e$target2.files[0]) === null || _e$target2$files$ === void 0 ? void 0 : _e$target2$files$.size;\n    var type = e === null || e === void 0 ? void 0 : (_e$target3 = e.target) === null || _e$target3 === void 0 ? void 0 : (_e$target3$files$ = _e$target3.files[0]) === null || _e$target3$files$ === void 0 ? void 0 : _e$target3$files$.type;\n    if (size && size / 1024 / 1024 > 5) {\n      setUploadError('FILE_SIZE_EXCEEDED');\n      return;\n    }\n    if (type && checkValidFileType(type)) {\n      setFileSize(size);\n      setFileType(type);\n      setProps(props);\n      setFile(e.target.files[0]);\n      return;\n    } else {\n      setUploadError('NOT_SUPPORTED_FILE_TYPE');\n    }\n  };\n  useEffect(function () {\n    if (file) uploadFile();\n  }, [file]);\n  useEffect(function () {\n    var _controllerProps$onCh;\n    if (fileStoreId) ;else setUrlDisabled(false);\n    controllerProps === null || controllerProps === void 0 ? void 0 : (_controllerProps$onCh = controllerProps.onChange) === null || _controllerProps$onCh === void 0 ? void 0 : _controllerProps$onCh.call(controllerProps, {\n      fileStoreId: fileStoreId,\n      fileSize: fileSize,\n      fileType: fileType\n    });\n  }, [fileStoreId, controllerProps]);\n  var uploadFile = function uploadFile() {\n    try {\n      var _temp2 = _finallyRethrows(function () {\n        return _catch(function () {\n          setIsUploadingImage(true);\n          return Promise.resolve(Digit.UploadServices.Filestorage(\"engagement\", file, Digit.ULBService.getStateId())).then(function (response) {\n            var _response$data, _response$data$files;\n            if ((response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : (_response$data$files = _response$data.files) === null || _response$data$files === void 0 ? void 0 : _response$data$files.length) > 0) {\n              var _response$data2, _response$data2$files;\n              setFileStoreId(response === null || response === void 0 ? void 0 : (_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : (_response$data2$files = _response$data2.files[0]) === null || _response$data2$files === void 0 ? void 0 : _response$data2$files.fileStoreId);\n            } else {\n              setError(t(\"CS_FILE_UPLOAD_ERROR\"));\n            }\n          });\n        }, function () {});\n      }, function (_wasThrown, _result) {\n        setIsUploadingImage(false);\n        if (_wasThrown) throw _result;\n        return _result;\n      });\n      return Promise.resolve(_temp2 && _temp2.then ? _temp2.then(function () {}) : void 0);\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n  var location = useLocation();\n  var isInEditFormMode = useMemo(function () {\n    if (location.pathname.includes('/documents/inbox/update')) return true;\n    return false;\n  }, [location.pathname]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(LabelFieldPair, null, /*#__PURE__*/React.createElement(CardLabel, {\n    style: {\n      fontWeight: \"bold\"\n    }\n  }, t(\"ES_COMMON_DOC_DOCUMENT\") + \"*\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\"\n  }, /*#__PURE__*/React.createElement(Controller, {\n    name: config.key + \".filestoreId\",\n    control: control,\n    render: function render(props) {\n      return /*#__PURE__*/React.createElement(UploadFile, {\n        id: \"city-engagement-doc\",\n        onUpload: function onUpload(d) {\n          return selectFile(d, props);\n        },\n        onDelete: function onDelete() {\n          setFileStoreId(null);\n          setFileSize(100);\n        },\n        accept: \"image/*, .pdf, .png, .jpeg, .doc\",\n        showHintBelow: true,\n        hintText: t(\"DOCUMENTS_ATTACH_RESTRICTIONS_SIZE\"),\n        message: isUploadingImage ? /*#__PURE__*/React.createElement(Loader, null) : documentUploadMessage(t, fileStoreId, isInEditFormMode),\n        textStyles: {\n          width: \"100%\"\n        },\n        inputStyles: {\n          width: \"280px\"\n        }\n      });\n    }\n  }), fileSize ? \"\" + getFileSize(fileSize) : null, imageUploadError ? /*#__PURE__*/React.createElement(CardLabelError$1, null, t(imageUploadError)) : null)));\n};\nvar _ref;\nvar config = [{\n  head: \"\",\n  body: [{\n    type: \"form\",\n    withoutLabel: true,\n    component: \"EventForm\",\n    nextStep: \"\",\n    route: \"\",\n    key: \"eventData\"\n  }, {\n    type: \"text\",\n    label: \"EVENTS_DESCRIPTION_LABEL\",\n    isMandatory: true,\n    description: \"EVENTS_DESCRIPTION_TEXT\",\n    populators: {\n      name: \"description\",\n      className: \"fullWidth\",\n      validation: {\n        required: true,\n        maxLength: 500\n      },\n      error: 'EVENTS_DESCRIPTION_ERROR_REQUIRED'\n    }\n  }, {\n    type: \"date\",\n    label: \"EVENTS_FROM_DATE_LABEL\",\n    isMandatory: true,\n    populators: {\n      name: \"fromDate\",\n      className: \"fullWidth\",\n      validation: {\n        required: true\n      },\n      shouldUpdate: true,\n      error: \"EVENTS_FROM_DATE_ERROR_INVALID\"\n    }\n  }, (_ref = {\n    type: \"form\",\n    key: \"SelectToDate\",\n    withoutLabel: true,\n    component: \"SelectToDate\"\n  }, _ref[\"key\"] = \"toDate\", _ref), {\n    type: \"time\",\n    label: \"EVENTS_FROM_TIME_LABEL\",\n    isMandatory: true,\n    populators: {\n      name: \"fromTime\",\n      className: \"fullWidth\",\n      validation: {\n        required: true\n      },\n      error: \"EVENTS_FROM_TIME_ERROR_REQUIRED\"\n    }\n  }, {\n    type: \"time\",\n    label: \"EVENTS_TO_TIME_LABEL\",\n    isMandatory: true,\n    populators: {\n      name: \"toTime\",\n      className: \"fullWidth\",\n      validation: {\n        required: true\n      },\n      error: \"EVENTS_TO_TIME_ERROR_REQUIRED\"\n    }\n  }, {\n    type: \"text\",\n    label: \"EVENTS_ADDRESS_LABEL\",\n    isMandatory: true,\n    populators: {\n      name: \"address\",\n      className: \"fullWidth\",\n      validation: {\n        required: true\n      },\n      error: \"EVENTS_ADDRESS_ERROR_REQUIRED\"\n    }\n  }, {\n    type: \"component\",\n    component: \"SelectEventGeolocation\",\n    withoutLabel: true,\n    key: \"geoLocation\"\n  }, {\n    type: \"text\",\n    label: \"EVENTS_ORGANIZER_NAME_LABEL\",\n    populators: {\n      name: \"organizer\",\n      className: \"fullWidth\",\n      validation: {\n        pattern: /^[A-Za-z ]*$/\n      },\n      error: \"EVENTS_ORGANIZER_ERROR\"\n    }\n  }, {\n    type: \"number\",\n    label: \"EVENTS_ENTRY_FEE_INR_LABEL\",\n    populators: {\n      name: \"fees\",\n      className: \"fullWidth\",\n      error: \"EVENTS_ENTRY_ERROR_REQUIRED\"\n    }\n  }]\n}];\nvar NewEvents = function NewEvents() {\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var history = useHistory();\n  var onSubmit = function onSubmit(data) {\n    var _data$tenantId, _data$eventCategory;\n    var fromDate = data.fromDate,\n      toDate = data.toDate,\n      fromTime = data.fromTime,\n      toTime = data.toTime,\n      address = data.address,\n      organizer = data.organizer,\n      fees = data.fees,\n      _data$geoLocation = data.geoLocation,\n      geoLocation = _data$geoLocation === void 0 ? {} : _data$geoLocation;\n    var details = {\n      events: [{\n        source: \"WEBAPP\",\n        eventType: \"EVENTSONGROUND\",\n        tenantId: data === null || data === void 0 ? void 0 : (_data$tenantId = data.tenantId) === null || _data$tenantId === void 0 ? void 0 : _data$tenantId.code,\n        description: data === null || data === void 0 ? void 0 : data.description,\n        name: data === null || data === void 0 ? void 0 : data.name,\n        eventcategory: data === null || data === void 0 ? void 0 : (_data$eventCategory = data.eventCategory) === null || _data$eventCategory === void 0 ? void 0 : _data$eventCategory.code,\n        eventDetails: _extends({\n          fromDate: new Date(fromDate + \" \" + fromTime).getTime(),\n          toDate: new Date(toDate + \" \" + toTime).getTime(),\n          fromTime: fromTime,\n          toTime: toTime,\n          address: address,\n          organizer: organizer,\n          fees: fees\n        }, geoLocation)\n      }]\n    };\n    history.push(\"/digit-ui/employee/engagement/event/response\", details);\n  };\n  var _Digit$Hooks$useSessi = Digit.Hooks.useSessionStorage(\"EMPLOYEE_EVENT_MUTATION_HAPPENED\", false),\n    setMutationHappened = _Digit$Hooks$useSessi[1];\n  var _Digit$Hooks$useSessi2 = Digit.Hooks.useSessionStorage(\"EMPLOYEE_EVENT_ERROR_DATA\", false),\n    clearError = _Digit$Hooks$useSessi2[2];\n  var _Digit$Hooks$useSessi3 = Digit.Hooks.useSessionStorage(\"EMPLOYEE_EVENT_MUTATION_SUCCESS_DATA\", false),\n    clearSuccessData = _Digit$Hooks$useSessi3[2];\n  useEffect(function () {\n    setMutationHappened(false);\n    clearSuccessData();\n    clearError();\n  }, []);\n  return /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(Header, null, t(\"ES_TITLE_NEW_EVENTS\")), /*#__PURE__*/React.createElement(FormComposer, {\n    config: config,\n    onSubmit: onSubmit,\n    label: t(\"EVENTS_CREATE_EVENT\")\n  }));\n};\nfunction toInteger(dirtyNumber) {\n  if (dirtyNumber === null || dirtyNumber === true || dirtyNumber === false) {\n    return NaN;\n  }\n  var number = Number(dirtyNumber);\n  if (isNaN(number)) {\n    return number;\n  }\n  return number < 0 ? Math.ceil(number) : Math.floor(number);\n}\nfunction addMilliseconds(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var timestamp = toDate(dirtyDate).getTime();\n  var amount = toInteger(dirtyAmount);\n  return new Date(timestamp + amount);\n}\nfunction getTimezoneOffsetInMilliseconds(date) {\n  var utcDate = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds(), date.getMilliseconds()));\n  utcDate.setUTCFullYear(date.getFullYear());\n  return date.getTime() - utcDate.getTime();\n}\nfunction compareAsc(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeft = toDate(dirtyDateLeft);\n  var dateRight = toDate(dirtyDateRight);\n  var diff = dateLeft.getTime() - dateRight.getTime();\n  if (diff < 0) {\n    return -1;\n  } else if (diff > 0) {\n    return 1;\n  } else {\n    return diff;\n  }\n}\nfunction isDate(value) {\n  requiredArgs(1, arguments);\n  return value instanceof Date || typeof value === 'object' && Object.prototype.toString.call(value) === '[object Date]';\n}\nfunction isValid(dirtyDate) {\n  requiredArgs(1, arguments);\n  if (!isDate(dirtyDate) && typeof dirtyDate !== 'number') {\n    return false;\n  }\n  var date = toDate(dirtyDate);\n  return !isNaN(Number(date));\n}\nfunction differenceInCalendarMonths(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeft = toDate(dirtyDateLeft);\n  var dateRight = toDate(dirtyDateRight);\n  var yearDiff = dateLeft.getFullYear() - dateRight.getFullYear();\n  var monthDiff = dateLeft.getMonth() - dateRight.getMonth();\n  return yearDiff * 12 + monthDiff;\n}\nfunction differenceInMilliseconds(dateLeft, dateRight) {\n  requiredArgs(2, arguments);\n  return toDate(dateLeft).getTime() - toDate(dateRight).getTime();\n}\nvar roundingMap = {\n  ceil: Math.ceil,\n  round: Math.round,\n  floor: Math.floor,\n  trunc: function trunc(value) {\n    return value < 0 ? Math.ceil(value) : Math.floor(value);\n  }\n};\nvar defaultRoundingMethod = 'trunc';\nfunction getRoundingMethod(method) {\n  return method ? roundingMap[method] : roundingMap[defaultRoundingMethod];\n}\nfunction endOfDay(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  date.setHours(23, 59, 59, 999);\n  return date;\n}\nfunction endOfMonth(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var month = date.getMonth();\n  date.setFullYear(date.getFullYear(), month + 1, 0);\n  date.setHours(23, 59, 59, 999);\n  return date;\n}\nfunction isLastDayOfMonth(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  return endOfDay(date).getTime() === endOfMonth(date).getTime();\n}\nfunction differenceInMonths(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeft = toDate(dirtyDateLeft);\n  var dateRight = toDate(dirtyDateRight);\n  var sign = compareAsc(dateLeft, dateRight);\n  var difference = Math.abs(differenceInCalendarMonths(dateLeft, dateRight));\n  var result;\n  if (difference < 1) {\n    result = 0;\n  } else {\n    if (dateLeft.getMonth() === 1 && dateLeft.getDate() > 27) {\n      dateLeft.setDate(30);\n    }\n    dateLeft.setMonth(dateLeft.getMonth() - sign * difference);\n    var isLastMonthNotFull = compareAsc(dateLeft, dateRight) === -sign;\n    if (isLastDayOfMonth(toDate(dirtyDateLeft)) && difference === 1 && compareAsc(dirtyDateLeft, dateRight) === 1) {\n      isLastMonthNotFull = false;\n    }\n    result = sign * (difference - Number(isLastMonthNotFull));\n  }\n  return result === 0 ? 0 : result;\n}\nfunction differenceInSeconds(dateLeft, dateRight, options) {\n  requiredArgs(2, arguments);\n  var diff = differenceInMilliseconds(dateLeft, dateRight) / 1000;\n  return getRoundingMethod(options === null || options === void 0 ? void 0 : options.roundingMethod)(diff);\n}\nvar formatDistanceLocale = {\n  lessThanXSeconds: {\n    one: 'less than a second',\n    other: 'less than {{count}} seconds'\n  },\n  xSeconds: {\n    one: '1 second',\n    other: '{{count}} seconds'\n  },\n  halfAMinute: 'half a minute',\n  lessThanXMinutes: {\n    one: 'less than a minute',\n    other: 'less than {{count}} minutes'\n  },\n  xMinutes: {\n    one: '1 minute',\n    other: '{{count}} minutes'\n  },\n  aboutXHours: {\n    one: 'about 1 hour',\n    other: 'about {{count}} hours'\n  },\n  xHours: {\n    one: '1 hour',\n    other: '{{count}} hours'\n  },\n  xDays: {\n    one: '1 day',\n    other: '{{count}} days'\n  },\n  aboutXWeeks: {\n    one: 'about 1 week',\n    other: 'about {{count}} weeks'\n  },\n  xWeeks: {\n    one: '1 week',\n    other: '{{count}} weeks'\n  },\n  aboutXMonths: {\n    one: 'about 1 month',\n    other: 'about {{count}} months'\n  },\n  xMonths: {\n    one: '1 month',\n    other: '{{count}} months'\n  },\n  aboutXYears: {\n    one: 'about 1 year',\n    other: 'about {{count}} years'\n  },\n  xYears: {\n    one: '1 year',\n    other: '{{count}} years'\n  },\n  overXYears: {\n    one: 'over 1 year',\n    other: 'over {{count}} years'\n  },\n  almostXYears: {\n    one: 'almost 1 year',\n    other: 'almost {{count}} years'\n  }\n};\nvar formatDistance = function formatDistance(token, count, options) {\n  var result;\n  var tokenValue = formatDistanceLocale[token];\n  if (typeof tokenValue === 'string') {\n    result = tokenValue;\n  } else if (count === 1) {\n    result = tokenValue.one;\n  } else {\n    result = tokenValue.other.replace('{{count}}', count.toString());\n  }\n  if (options !== null && options !== void 0 && options.addSuffix) {\n    if (options.comparison && options.comparison > 0) {\n      return 'in ' + result;\n    } else {\n      return result + ' ago';\n    }\n  }\n  return result;\n};\nfunction buildFormatLongFn(args) {\n  return function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var width = options.width ? String(options.width) : args.defaultWidth;\n    var format = args.formats[width] || args.formats[args.defaultWidth];\n    return format;\n  };\n}\nvar dateFormats = {\n  full: 'EEEE, MMMM do, y',\n  long: 'MMMM do, y',\n  medium: 'MMM d, y',\n  short: 'MM/dd/yyyy'\n};\nvar timeFormats = {\n  full: 'h:mm:ss a zzzz',\n  long: 'h:mm:ss a z',\n  medium: 'h:mm:ss a',\n  short: 'h:mm a'\n};\nvar dateTimeFormats = {\n  full: \"{{date}} 'at' {{time}}\",\n  long: \"{{date}} 'at' {{time}}\",\n  medium: '{{date}}, {{time}}',\n  short: '{{date}}, {{time}}'\n};\nvar formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: 'full'\n  }),\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: 'full'\n  }),\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: 'full'\n  })\n};\nvar formatRelativeLocale = {\n  lastWeek: \"'last' eeee 'at' p\",\n  yesterday: \"'yesterday at' p\",\n  today: \"'today at' p\",\n  tomorrow: \"'tomorrow at' p\",\n  nextWeek: \"eeee 'at' p\",\n  other: 'P'\n};\nvar formatRelative = function formatRelative(token, _date, _baseDate, _options) {\n  return formatRelativeLocale[token];\n};\nfunction buildLocalizeFn(args) {\n  return function (dirtyIndex, dirtyOptions) {\n    var options = dirtyOptions || {};\n    var context = options.context ? String(options.context) : 'standalone';\n    var valuesArray;\n    if (context === 'formatting' && args.formattingValues) {\n      var defaultWidth = args.defaultFormattingWidth || args.defaultWidth;\n      var width = options.width ? String(options.width) : defaultWidth;\n      valuesArray = args.formattingValues[width] || args.formattingValues[defaultWidth];\n    } else {\n      var _defaultWidth = args.defaultWidth;\n      var _width = options.width ? String(options.width) : args.defaultWidth;\n      valuesArray = args.values[_width] || args.values[_defaultWidth];\n    }\n    var index = args.argumentCallback ? args.argumentCallback(dirtyIndex) : dirtyIndex;\n    return valuesArray[index];\n  };\n}\nvar eraValues = {\n  narrow: ['B', 'A'],\n  abbreviated: ['BC', 'AD'],\n  wide: ['Before Christ', 'Anno Domini']\n};\nvar quarterValues = {\n  narrow: ['1', '2', '3', '4'],\n  abbreviated: ['Q1', 'Q2', 'Q3', 'Q4'],\n  wide: ['1st quarter', '2nd quarter', '3rd quarter', '4th quarter']\n};\nvar monthValues = {\n  narrow: ['J', 'F', 'M', 'A', 'M', 'J', 'J', 'A', 'S', 'O', 'N', 'D'],\n  abbreviated: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n  wide: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\n};\nvar dayValues = {\n  narrow: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],\n  short: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],\n  abbreviated: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n  wide: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\n};\nvar dayPeriodValues = {\n  narrow: {\n    am: 'a',\n    pm: 'p',\n    midnight: 'mi',\n    noon: 'n',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  },\n  abbreviated: {\n    am: 'AM',\n    pm: 'PM',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  },\n  wide: {\n    am: 'a.m.',\n    pm: 'p.m.',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  }\n};\nvar formattingDayPeriodValues = {\n  narrow: {\n    am: 'a',\n    pm: 'p',\n    midnight: 'mi',\n    noon: 'n',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  },\n  abbreviated: {\n    am: 'AM',\n    pm: 'PM',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  },\n  wide: {\n    am: 'a.m.',\n    pm: 'p.m.',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  }\n};\nvar ordinalNumber = function ordinalNumber(dirtyNumber, _options) {\n  var number = Number(dirtyNumber);\n  var rem100 = number % 100;\n  if (rem100 > 20 || rem100 < 10) {\n    switch (rem100 % 10) {\n      case 1:\n        return number + 'st';\n      case 2:\n        return number + 'nd';\n      case 3:\n        return number + 'rd';\n    }\n  }\n  return number + 'th';\n};\nvar localize = {\n  ordinalNumber: ordinalNumber,\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: 'wide'\n  }),\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: 'wide',\n    argumentCallback: function argumentCallback(quarter) {\n      return quarter - 1;\n    }\n  }),\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: 'wide'\n  }),\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: 'wide'\n  }),\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: 'wide',\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: 'wide'\n  })\n};\nfunction buildMatchFn(args) {\n  return function (string) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var width = options.width;\n    var matchPattern = width && args.matchPatterns[width] || args.matchPatterns[args.defaultMatchWidth];\n    var matchResult = string.match(matchPattern);\n    if (!matchResult) {\n      return null;\n    }\n    var matchedString = matchResult[0];\n    var parsePatterns = width && args.parsePatterns[width] || args.parsePatterns[args.defaultParseWidth];\n    var key = Array.isArray(parsePatterns) ? findIndex(parsePatterns, function (pattern) {\n      return pattern.test(matchedString);\n    }) : findKey(parsePatterns, function (pattern) {\n      return pattern.test(matchedString);\n    });\n    var value;\n    value = args.valueCallback ? args.valueCallback(key) : key;\n    value = options.valueCallback ? options.valueCallback(value) : value;\n    var rest = string.slice(matchedString.length);\n    return {\n      value: value,\n      rest: rest\n    };\n  };\n}\nfunction findKey(object, predicate) {\n  for (var key in object) {\n    if (object.hasOwnProperty(key) && predicate(object[key])) {\n      return key;\n    }\n  }\n  return undefined;\n}\nfunction findIndex(array, predicate) {\n  for (var key = 0; key < array.length; key++) {\n    if (predicate(array[key])) {\n      return key;\n    }\n  }\n  return undefined;\n}\nfunction buildMatchPatternFn(args) {\n  return function (string) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var matchResult = string.match(args.matchPattern);\n    if (!matchResult) return null;\n    var matchedString = matchResult[0];\n    var parseResult = string.match(args.parsePattern);\n    if (!parseResult) return null;\n    var value = args.valueCallback ? args.valueCallback(parseResult[0]) : parseResult[0];\n    value = options.valueCallback ? options.valueCallback(value) : value;\n    var rest = string.slice(matchedString.length);\n    return {\n      value: value,\n      rest: rest\n    };\n  };\n}\nvar matchOrdinalNumberPattern = /^(\\d+)(th|st|nd|rd)?/i;\nvar parseOrdinalNumberPattern = /\\d+/i;\nvar matchEraPatterns = {\n  narrow: /^(b|a)/i,\n  abbreviated: /^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,\n  wide: /^(before christ|before common era|anno domini|common era)/i\n};\nvar parseEraPatterns = {\n  any: [/^b/i, /^(a|c)/i]\n};\nvar matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^q[1234]/i,\n  wide: /^[1234](th|st|nd|rd)? quarter/i\n};\nvar parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i]\n};\nvar matchMonthPatterns = {\n  narrow: /^[jfmasond]/i,\n  abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,\n  wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i\n};\nvar parseMonthPatterns = {\n  narrow: [/^j/i, /^f/i, /^m/i, /^a/i, /^m/i, /^j/i, /^j/i, /^a/i, /^s/i, /^o/i, /^n/i, /^d/i],\n  any: [/^ja/i, /^f/i, /^mar/i, /^ap/i, /^may/i, /^jun/i, /^jul/i, /^au/i, /^s/i, /^o/i, /^n/i, /^d/i]\n};\nvar matchDayPatterns = {\n  narrow: /^[smtwf]/i,\n  short: /^(su|mo|tu|we|th|fr|sa)/i,\n  abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,\n  wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i\n};\nvar parseDayPatterns = {\n  narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],\n  any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i]\n};\nvar matchDayPeriodPatterns = {\n  narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,\n  any: /^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i\n};\nvar parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^mi/i,\n    noon: /^no/i,\n    morning: /morning/i,\n    afternoon: /afternoon/i,\n    evening: /evening/i,\n    night: /night/i\n  }\n};\nvar match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: function valueCallback(value) {\n      return parseInt(value, 10);\n    }\n  }),\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: 'any'\n  }),\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: 'any',\n    valueCallback: function valueCallback(index) {\n      return index + 1;\n    }\n  }),\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: 'any'\n  }),\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: 'any'\n  }),\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: 'any',\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: 'any'\n  })\n};\nvar locale = {\n  code: 'en-US',\n  formatDistance: formatDistance,\n  formatLong: formatLong,\n  formatRelative: formatRelative,\n  localize: localize,\n  match: match,\n  options: {\n    weekStartsOn: 0,\n    firstWeekContainsDate: 1\n  }\n};\nfunction subMilliseconds(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var amount = toInteger(dirtyAmount);\n  return addMilliseconds(dirtyDate, -amount);\n}\nvar MILLISECONDS_IN_DAY = 86400000;\nfunction getUTCDayOfYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var timestamp = date.getTime();\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n  var startOfYearTimestamp = date.getTime();\n  var difference = timestamp - startOfYearTimestamp;\n  return Math.floor(difference / MILLISECONDS_IN_DAY) + 1;\n}\nfunction startOfUTCISOWeek(dirtyDate) {\n  requiredArgs(1, arguments);\n  var weekStartsOn = 1;\n  var date = toDate(dirtyDate);\n  var day = date.getUTCDay();\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setUTCDate(date.getUTCDate() - diff);\n  date.setUTCHours(0, 0, 0, 0);\n  return date;\n}\nfunction getUTCISOWeekYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var year = date.getUTCFullYear();\n  var fourthOfJanuaryOfNextYear = new Date(0);\n  fourthOfJanuaryOfNextYear.setUTCFullYear(year + 1, 0, 4);\n  fourthOfJanuaryOfNextYear.setUTCHours(0, 0, 0, 0);\n  var startOfNextYear = startOfUTCISOWeek(fourthOfJanuaryOfNextYear);\n  var fourthOfJanuaryOfThisYear = new Date(0);\n  fourthOfJanuaryOfThisYear.setUTCFullYear(year, 0, 4);\n  fourthOfJanuaryOfThisYear.setUTCHours(0, 0, 0, 0);\n  var startOfThisYear = startOfUTCISOWeek(fourthOfJanuaryOfThisYear);\n  if (date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}\nfunction startOfUTCISOWeekYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var year = getUTCISOWeekYear(dirtyDate);\n  var fourthOfJanuary = new Date(0);\n  fourthOfJanuary.setUTCFullYear(year, 0, 4);\n  fourthOfJanuary.setUTCHours(0, 0, 0, 0);\n  var date = startOfUTCISOWeek(fourthOfJanuary);\n  return date;\n}\nvar MILLISECONDS_IN_WEEK = 604800000;\nfunction getUTCISOWeek(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var diff = startOfUTCISOWeek(date).getTime() - startOfUTCISOWeekYear(date).getTime();\n  return Math.round(diff / MILLISECONDS_IN_WEEK) + 1;\n}\nfunction startOfUTCWeek(dirtyDate, dirtyOptions) {\n  requiredArgs(1, arguments);\n  var options = dirtyOptions || {};\n  var locale = options.locale;\n  var localeWeekStartsOn = locale && locale.options && locale.options.weekStartsOn;\n  var defaultWeekStartsOn = localeWeekStartsOn == null ? 0 : toInteger(localeWeekStartsOn);\n  var weekStartsOn = options.weekStartsOn == null ? defaultWeekStartsOn : toInteger(options.weekStartsOn);\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n  var date = toDate(dirtyDate);\n  var day = date.getUTCDay();\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setUTCDate(date.getUTCDate() - diff);\n  date.setUTCHours(0, 0, 0, 0);\n  return date;\n}\nfunction getUTCWeekYear(dirtyDate, dirtyOptions) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var year = date.getUTCFullYear();\n  var options = dirtyOptions || {};\n  var locale = options.locale;\n  var localeFirstWeekContainsDate = locale && locale.options && locale.options.firstWeekContainsDate;\n  var defaultFirstWeekContainsDate = localeFirstWeekContainsDate == null ? 1 : toInteger(localeFirstWeekContainsDate);\n  var firstWeekContainsDate = options.firstWeekContainsDate == null ? defaultFirstWeekContainsDate : toInteger(options.firstWeekContainsDate);\n  if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {\n    throw new RangeError('firstWeekContainsDate must be between 1 and 7 inclusively');\n  }\n  var firstWeekOfNextYear = new Date(0);\n  firstWeekOfNextYear.setUTCFullYear(year + 1, 0, firstWeekContainsDate);\n  firstWeekOfNextYear.setUTCHours(0, 0, 0, 0);\n  var startOfNextYear = startOfUTCWeek(firstWeekOfNextYear, dirtyOptions);\n  var firstWeekOfThisYear = new Date(0);\n  firstWeekOfThisYear.setUTCFullYear(year, 0, firstWeekContainsDate);\n  firstWeekOfThisYear.setUTCHours(0, 0, 0, 0);\n  var startOfThisYear = startOfUTCWeek(firstWeekOfThisYear, dirtyOptions);\n  if (date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}\nfunction startOfUTCWeekYear(dirtyDate, dirtyOptions) {\n  requiredArgs(1, arguments);\n  var options = dirtyOptions || {};\n  var locale = options.locale;\n  var localeFirstWeekContainsDate = locale && locale.options && locale.options.firstWeekContainsDate;\n  var defaultFirstWeekContainsDate = localeFirstWeekContainsDate == null ? 1 : toInteger(localeFirstWeekContainsDate);\n  var firstWeekContainsDate = options.firstWeekContainsDate == null ? defaultFirstWeekContainsDate : toInteger(options.firstWeekContainsDate);\n  var year = getUTCWeekYear(dirtyDate, dirtyOptions);\n  var firstWeek = new Date(0);\n  firstWeek.setUTCFullYear(year, 0, firstWeekContainsDate);\n  firstWeek.setUTCHours(0, 0, 0, 0);\n  var date = startOfUTCWeek(firstWeek, dirtyOptions);\n  return date;\n}\nvar MILLISECONDS_IN_WEEK$1 = 604800000;\nfunction getUTCWeek(dirtyDate, options) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var diff = startOfUTCWeek(date, options).getTime() - startOfUTCWeekYear(date, options).getTime();\n  return Math.round(diff / MILLISECONDS_IN_WEEK$1) + 1;\n}\nfunction addLeadingZeros(number, targetLength) {\n  var sign = number < 0 ? '-' : '';\n  var output = Math.abs(number).toString();\n  while (output.length < targetLength) {\n    output = '0' + output;\n  }\n  return sign + output;\n}\nvar formatters = {\n  y: function y(date, token) {\n    var signedYear = date.getUTCFullYear();\n    var year = signedYear > 0 ? signedYear : 1 - signedYear;\n    return addLeadingZeros(token === 'yy' ? year % 100 : year, token.length);\n  },\n  M: function M(date, token) {\n    var month = date.getUTCMonth();\n    return token === 'M' ? String(month + 1) : addLeadingZeros(month + 1, 2);\n  },\n  d: function d(date, token) {\n    return addLeadingZeros(date.getUTCDate(), token.length);\n  },\n  a: function a(date, token) {\n    var dayPeriodEnumValue = date.getUTCHours() / 12 >= 1 ? 'pm' : 'am';\n    switch (token) {\n      case 'a':\n      case 'aa':\n        return dayPeriodEnumValue.toUpperCase();\n      case 'aaa':\n        return dayPeriodEnumValue;\n      case 'aaaaa':\n        return dayPeriodEnumValue[0];\n      case 'aaaa':\n      default:\n        return dayPeriodEnumValue === 'am' ? 'a.m.' : 'p.m.';\n    }\n  },\n  h: function h(date, token) {\n    return addLeadingZeros(date.getUTCHours() % 12 || 12, token.length);\n  },\n  H: function H(date, token) {\n    return addLeadingZeros(date.getUTCHours(), token.length);\n  },\n  m: function m(date, token) {\n    return addLeadingZeros(date.getUTCMinutes(), token.length);\n  },\n  s: function s(date, token) {\n    return addLeadingZeros(date.getUTCSeconds(), token.length);\n  },\n  S: function S(date, token) {\n    var numberOfDigits = token.length;\n    var milliseconds = date.getUTCMilliseconds();\n    var fractionalSeconds = Math.floor(milliseconds * Math.pow(10, numberOfDigits - 3));\n    return addLeadingZeros(fractionalSeconds, token.length);\n  }\n};\nvar dayPeriodEnum = {\n  am: 'am',\n  pm: 'pm',\n  midnight: 'midnight',\n  noon: 'noon',\n  morning: 'morning',\n  afternoon: 'afternoon',\n  evening: 'evening',\n  night: 'night'\n};\nvar formatters$1 = {\n  G: function G(date, token, localize) {\n    var era = date.getUTCFullYear() > 0 ? 1 : 0;\n    switch (token) {\n      case 'G':\n      case 'GG':\n      case 'GGG':\n        return localize.era(era, {\n          width: 'abbreviated'\n        });\n      case 'GGGGG':\n        return localize.era(era, {\n          width: 'narrow'\n        });\n      case 'GGGG':\n      default:\n        return localize.era(era, {\n          width: 'wide'\n        });\n    }\n  },\n  y: function y(date, token, localize) {\n    if (token === 'yo') {\n      var signedYear = date.getUTCFullYear();\n      var year = signedYear > 0 ? signedYear : 1 - signedYear;\n      return localize.ordinalNumber(year, {\n        unit: 'year'\n      });\n    }\n    return formatters.y(date, token);\n  },\n  Y: function Y(date, token, localize, options) {\n    var signedWeekYear = getUTCWeekYear(date, options);\n    var weekYear = signedWeekYear > 0 ? signedWeekYear : 1 - signedWeekYear;\n    if (token === 'YY') {\n      var twoDigitYear = weekYear % 100;\n      return addLeadingZeros(twoDigitYear, 2);\n    }\n    if (token === 'Yo') {\n      return localize.ordinalNumber(weekYear, {\n        unit: 'year'\n      });\n    }\n    return addLeadingZeros(weekYear, token.length);\n  },\n  R: function R(date, token) {\n    var isoWeekYear = getUTCISOWeekYear(date);\n    return addLeadingZeros(isoWeekYear, token.length);\n  },\n  u: function u(date, token) {\n    var year = date.getUTCFullYear();\n    return addLeadingZeros(year, token.length);\n  },\n  Q: function Q(date, token, localize) {\n    var quarter = Math.ceil((date.getUTCMonth() + 1) / 3);\n    switch (token) {\n      case 'Q':\n        return String(quarter);\n      case 'QQ':\n        return addLeadingZeros(quarter, 2);\n      case 'Qo':\n        return localize.ordinalNumber(quarter, {\n          unit: 'quarter'\n        });\n      case 'QQQ':\n        return localize.quarter(quarter, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      case 'QQQQQ':\n        return localize.quarter(quarter, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      case 'QQQQ':\n      default:\n        return localize.quarter(quarter, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  q: function q(date, token, localize) {\n    var quarter = Math.ceil((date.getUTCMonth() + 1) / 3);\n    switch (token) {\n      case 'q':\n        return String(quarter);\n      case 'qq':\n        return addLeadingZeros(quarter, 2);\n      case 'qo':\n        return localize.ordinalNumber(quarter, {\n          unit: 'quarter'\n        });\n      case 'qqq':\n        return localize.quarter(quarter, {\n          width: 'abbreviated',\n          context: 'standalone'\n        });\n      case 'qqqqq':\n        return localize.quarter(quarter, {\n          width: 'narrow',\n          context: 'standalone'\n        });\n      case 'qqqq':\n      default:\n        return localize.quarter(quarter, {\n          width: 'wide',\n          context: 'standalone'\n        });\n    }\n  },\n  M: function M(date, token, localize) {\n    var month = date.getUTCMonth();\n    switch (token) {\n      case 'M':\n      case 'MM':\n        return formatters.M(date, token);\n      case 'Mo':\n        return localize.ordinalNumber(month + 1, {\n          unit: 'month'\n        });\n      case 'MMM':\n        return localize.month(month, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      case 'MMMMM':\n        return localize.month(month, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      case 'MMMM':\n      default:\n        return localize.month(month, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  L: function L(date, token, localize) {\n    var month = date.getUTCMonth();\n    switch (token) {\n      case 'L':\n        return String(month + 1);\n      case 'LL':\n        return addLeadingZeros(month + 1, 2);\n      case 'Lo':\n        return localize.ordinalNumber(month + 1, {\n          unit: 'month'\n        });\n      case 'LLL':\n        return localize.month(month, {\n          width: 'abbreviated',\n          context: 'standalone'\n        });\n      case 'LLLLL':\n        return localize.month(month, {\n          width: 'narrow',\n          context: 'standalone'\n        });\n      case 'LLLL':\n      default:\n        return localize.month(month, {\n          width: 'wide',\n          context: 'standalone'\n        });\n    }\n  },\n  w: function w(date, token, localize, options) {\n    var week = getUTCWeek(date, options);\n    if (token === 'wo') {\n      return localize.ordinalNumber(week, {\n        unit: 'week'\n      });\n    }\n    return addLeadingZeros(week, token.length);\n  },\n  I: function I(date, token, localize) {\n    var isoWeek = getUTCISOWeek(date);\n    if (token === 'Io') {\n      return localize.ordinalNumber(isoWeek, {\n        unit: 'week'\n      });\n    }\n    return addLeadingZeros(isoWeek, token.length);\n  },\n  d: function d(date, token, localize) {\n    if (token === 'do') {\n      return localize.ordinalNumber(date.getUTCDate(), {\n        unit: 'date'\n      });\n    }\n    return formatters.d(date, token);\n  },\n  D: function D(date, token, localize) {\n    var dayOfYear = getUTCDayOfYear(date);\n    if (token === 'Do') {\n      return localize.ordinalNumber(dayOfYear, {\n        unit: 'dayOfYear'\n      });\n    }\n    return addLeadingZeros(dayOfYear, token.length);\n  },\n  E: function E(date, token, localize) {\n    var dayOfWeek = date.getUTCDay();\n    switch (token) {\n      case 'E':\n      case 'EE':\n      case 'EEE':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      case 'EEEEE':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      case 'EEEEEE':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'formatting'\n        });\n      case 'EEEE':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  e: function e(date, token, localize, options) {\n    var dayOfWeek = date.getUTCDay();\n    var localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n    switch (token) {\n      case 'e':\n        return String(localDayOfWeek);\n      case 'ee':\n        return addLeadingZeros(localDayOfWeek, 2);\n      case 'eo':\n        return localize.ordinalNumber(localDayOfWeek, {\n          unit: 'day'\n        });\n      case 'eee':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      case 'eeeee':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      case 'eeeeee':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'formatting'\n        });\n      case 'eeee':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  c: function c(date, token, localize, options) {\n    var dayOfWeek = date.getUTCDay();\n    var localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n    switch (token) {\n      case 'c':\n        return String(localDayOfWeek);\n      case 'cc':\n        return addLeadingZeros(localDayOfWeek, token.length);\n      case 'co':\n        return localize.ordinalNumber(localDayOfWeek, {\n          unit: 'day'\n        });\n      case 'ccc':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'standalone'\n        });\n      case 'ccccc':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'standalone'\n        });\n      case 'cccccc':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'standalone'\n        });\n      case 'cccc':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'standalone'\n        });\n    }\n  },\n  i: function i(date, token, localize) {\n    var dayOfWeek = date.getUTCDay();\n    var isoDayOfWeek = dayOfWeek === 0 ? 7 : dayOfWeek;\n    switch (token) {\n      case 'i':\n        return String(isoDayOfWeek);\n      case 'ii':\n        return addLeadingZeros(isoDayOfWeek, token.length);\n      case 'io':\n        return localize.ordinalNumber(isoDayOfWeek, {\n          unit: 'day'\n        });\n      case 'iii':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      case 'iiiii':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      case 'iiiiii':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'formatting'\n        });\n      case 'iiii':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  a: function a(date, token, localize) {\n    var hours = date.getUTCHours();\n    var dayPeriodEnumValue = hours / 12 >= 1 ? 'pm' : 'am';\n    switch (token) {\n      case 'a':\n      case 'aa':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      case 'aaa':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        }).toLowerCase();\n      case 'aaaaa':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      case 'aaaa':\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  b: function b(date, token, localize) {\n    var hours = date.getUTCHours();\n    var dayPeriodEnumValue;\n    if (hours === 12) {\n      dayPeriodEnumValue = dayPeriodEnum.noon;\n    } else if (hours === 0) {\n      dayPeriodEnumValue = dayPeriodEnum.midnight;\n    } else {\n      dayPeriodEnumValue = hours / 12 >= 1 ? 'pm' : 'am';\n    }\n    switch (token) {\n      case 'b':\n      case 'bb':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      case 'bbb':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        }).toLowerCase();\n      case 'bbbbb':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      case 'bbbb':\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  B: function B(date, token, localize) {\n    var hours = date.getUTCHours();\n    var dayPeriodEnumValue;\n    if (hours >= 17) {\n      dayPeriodEnumValue = dayPeriodEnum.evening;\n    } else if (hours >= 12) {\n      dayPeriodEnumValue = dayPeriodEnum.afternoon;\n    } else if (hours >= 4) {\n      dayPeriodEnumValue = dayPeriodEnum.morning;\n    } else {\n      dayPeriodEnumValue = dayPeriodEnum.night;\n    }\n    switch (token) {\n      case 'B':\n      case 'BB':\n      case 'BBB':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      case 'BBBBB':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      case 'BBBB':\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  h: function h(date, token, localize) {\n    if (token === 'ho') {\n      var hours = date.getUTCHours() % 12;\n      if (hours === 0) hours = 12;\n      return localize.ordinalNumber(hours, {\n        unit: 'hour'\n      });\n    }\n    return formatters.h(date, token);\n  },\n  H: function H(date, token, localize) {\n    if (token === 'Ho') {\n      return localize.ordinalNumber(date.getUTCHours(), {\n        unit: 'hour'\n      });\n    }\n    return formatters.H(date, token);\n  },\n  K: function K(date, token, localize) {\n    var hours = date.getUTCHours() % 12;\n    if (token === 'Ko') {\n      return localize.ordinalNumber(hours, {\n        unit: 'hour'\n      });\n    }\n    return addLeadingZeros(hours, token.length);\n  },\n  k: function k(date, token, localize) {\n    var hours = date.getUTCHours();\n    if (hours === 0) hours = 24;\n    if (token === 'ko') {\n      return localize.ordinalNumber(hours, {\n        unit: 'hour'\n      });\n    }\n    return addLeadingZeros(hours, token.length);\n  },\n  m: function m(date, token, localize) {\n    if (token === 'mo') {\n      return localize.ordinalNumber(date.getUTCMinutes(), {\n        unit: 'minute'\n      });\n    }\n    return formatters.m(date, token);\n  },\n  s: function s(date, token, localize) {\n    if (token === 'so') {\n      return localize.ordinalNumber(date.getUTCSeconds(), {\n        unit: 'second'\n      });\n    }\n    return formatters.s(date, token);\n  },\n  S: function S(date, token) {\n    return formatters.S(date, token);\n  },\n  X: function X(date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n    if (timezoneOffset === 0) {\n      return 'Z';\n    }\n    switch (token) {\n      case 'X':\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n      case 'XXXX':\n      case 'XX':\n        return formatTimezone(timezoneOffset);\n      case 'XXXXX':\n      case 'XXX':\n      default:\n        return formatTimezone(timezoneOffset, ':');\n    }\n  },\n  x: function x(date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n    switch (token) {\n      case 'x':\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n      case 'xxxx':\n      case 'xx':\n        return formatTimezone(timezoneOffset);\n      case 'xxxxx':\n      case 'xxx':\n      default:\n        return formatTimezone(timezoneOffset, ':');\n    }\n  },\n  O: function O(date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n    switch (token) {\n      case 'O':\n      case 'OO':\n      case 'OOO':\n        return 'GMT' + formatTimezoneShort(timezoneOffset, ':');\n      case 'OOOO':\n      default:\n        return 'GMT' + formatTimezone(timezoneOffset, ':');\n    }\n  },\n  z: function z(date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n    switch (token) {\n      case 'z':\n      case 'zz':\n      case 'zzz':\n        return 'GMT' + formatTimezoneShort(timezoneOffset, ':');\n      case 'zzzz':\n      default:\n        return 'GMT' + formatTimezone(timezoneOffset, ':');\n    }\n  },\n  t: function t(date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timestamp = Math.floor(originalDate.getTime() / 1000);\n    return addLeadingZeros(timestamp, token.length);\n  },\n  T: function T(date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timestamp = originalDate.getTime();\n    return addLeadingZeros(timestamp, token.length);\n  }\n};\nfunction formatTimezoneShort(offset, dirtyDelimiter) {\n  var sign = offset > 0 ? '-' : '+';\n  var absOffset = Math.abs(offset);\n  var hours = Math.floor(absOffset / 60);\n  var minutes = absOffset % 60;\n  if (minutes === 0) {\n    return sign + String(hours);\n  }\n  var delimiter = dirtyDelimiter || '';\n  return sign + String(hours) + delimiter + addLeadingZeros(minutes, 2);\n}\nfunction formatTimezoneWithOptionalMinutes(offset, dirtyDelimiter) {\n  if (offset % 60 === 0) {\n    var sign = offset > 0 ? '-' : '+';\n    return sign + addLeadingZeros(Math.abs(offset) / 60, 2);\n  }\n  return formatTimezone(offset, dirtyDelimiter);\n}\nfunction formatTimezone(offset, dirtyDelimiter) {\n  var delimiter = dirtyDelimiter || '';\n  var sign = offset > 0 ? '-' : '+';\n  var absOffset = Math.abs(offset);\n  var hours = addLeadingZeros(Math.floor(absOffset / 60), 2);\n  var minutes = addLeadingZeros(absOffset % 60, 2);\n  return sign + hours + delimiter + minutes;\n}\nfunction dateLongFormatter(pattern, formatLong) {\n  switch (pattern) {\n    case 'P':\n      return formatLong.date({\n        width: 'short'\n      });\n    case 'PP':\n      return formatLong.date({\n        width: 'medium'\n      });\n    case 'PPP':\n      return formatLong.date({\n        width: 'long'\n      });\n    case 'PPPP':\n    default:\n      return formatLong.date({\n        width: 'full'\n      });\n  }\n}\nfunction timeLongFormatter(pattern, formatLong) {\n  switch (pattern) {\n    case 'p':\n      return formatLong.time({\n        width: 'short'\n      });\n    case 'pp':\n      return formatLong.time({\n        width: 'medium'\n      });\n    case 'ppp':\n      return formatLong.time({\n        width: 'long'\n      });\n    case 'pppp':\n    default:\n      return formatLong.time({\n        width: 'full'\n      });\n  }\n}\nfunction dateTimeLongFormatter(pattern, formatLong) {\n  var matchResult = pattern.match(/(P+)(p+)?/) || [];\n  var datePattern = matchResult[1];\n  var timePattern = matchResult[2];\n  if (!timePattern) {\n    return dateLongFormatter(pattern, formatLong);\n  }\n  var dateTimeFormat;\n  switch (datePattern) {\n    case 'P':\n      dateTimeFormat = formatLong.dateTime({\n        width: 'short'\n      });\n      break;\n    case 'PP':\n      dateTimeFormat = formatLong.dateTime({\n        width: 'medium'\n      });\n      break;\n    case 'PPP':\n      dateTimeFormat = formatLong.dateTime({\n        width: 'long'\n      });\n      break;\n    case 'PPPP':\n    default:\n      dateTimeFormat = formatLong.dateTime({\n        width: 'full'\n      });\n      break;\n  }\n  return dateTimeFormat.replace('{{date}}', dateLongFormatter(datePattern, formatLong)).replace('{{time}}', timeLongFormatter(timePattern, formatLong));\n}\nvar longFormatters = {\n  p: timeLongFormatter,\n  P: dateTimeLongFormatter\n};\nvar protectedDayOfYearTokens = ['D', 'DD'];\nvar protectedWeekYearTokens = ['YY', 'YYYY'];\nfunction isProtectedDayOfYearToken(token) {\n  return protectedDayOfYearTokens.indexOf(token) !== -1;\n}\nfunction isProtectedWeekYearToken(token) {\n  return protectedWeekYearTokens.indexOf(token) !== -1;\n}\nfunction throwProtectedError(token, format, input) {\n  if (token === 'YYYY') {\n    throw new RangeError(\"Use `yyyy` instead of `YYYY` (in `\".concat(format, \"`) for formatting years to the input `\").concat(input, \"`; see: https://git.io/fxCyr\"));\n  } else if (token === 'YY') {\n    throw new RangeError(\"Use `yy` instead of `YY` (in `\".concat(format, \"`) for formatting years to the input `\").concat(input, \"`; see: https://git.io/fxCyr\"));\n  } else if (token === 'D') {\n    throw new RangeError(\"Use `d` instead of `D` (in `\".concat(format, \"`) for formatting days of the month to the input `\").concat(input, \"`; see: https://git.io/fxCyr\"));\n  } else if (token === 'DD') {\n    throw new RangeError(\"Use `dd` instead of `DD` (in `\".concat(format, \"`) for formatting days of the month to the input `\").concat(input, \"`; see: https://git.io/fxCyr\"));\n  }\n}\nvar formattingTokensRegExp = /[yYQqMLwIdDecihHKkms]o|(\\w)\\1*|''|'(''|[^'])+('|$)|./g;\nvar longFormattingTokensRegExp = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;\nvar escapedStringRegExp = /^'([^]*?)'?$/;\nvar doubleQuoteRegExp = /''/g;\nvar unescapedLatinCharacterRegExp = /[a-zA-Z]/;\nfunction format(dirtyDate, dirtyFormatStr, dirtyOptions) {\n  requiredArgs(2, arguments);\n  var formatStr = String(dirtyFormatStr);\n  var options = dirtyOptions || {};\n  var locale$1 = options.locale || locale;\n  var localeFirstWeekContainsDate = locale$1.options && locale$1.options.firstWeekContainsDate;\n  var defaultFirstWeekContainsDate = localeFirstWeekContainsDate == null ? 1 : toInteger(localeFirstWeekContainsDate);\n  var firstWeekContainsDate = options.firstWeekContainsDate == null ? defaultFirstWeekContainsDate : toInteger(options.firstWeekContainsDate);\n  if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {\n    throw new RangeError('firstWeekContainsDate must be between 1 and 7 inclusively');\n  }\n  var localeWeekStartsOn = locale$1.options && locale$1.options.weekStartsOn;\n  var defaultWeekStartsOn = localeWeekStartsOn == null ? 0 : toInteger(localeWeekStartsOn);\n  var weekStartsOn = options.weekStartsOn == null ? defaultWeekStartsOn : toInteger(options.weekStartsOn);\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n  if (!locale$1.localize) {\n    throw new RangeError('locale must contain localize property');\n  }\n  if (!locale$1.formatLong) {\n    throw new RangeError('locale must contain formatLong property');\n  }\n  var originalDate = toDate(dirtyDate);\n  if (!isValid(originalDate)) {\n    throw new RangeError('Invalid time value');\n  }\n  var timezoneOffset = getTimezoneOffsetInMilliseconds(originalDate);\n  var utcDate = subMilliseconds(originalDate, timezoneOffset);\n  var formatterOptions = {\n    firstWeekContainsDate: firstWeekContainsDate,\n    weekStartsOn: weekStartsOn,\n    locale: locale$1,\n    _originalDate: originalDate\n  };\n  var result = formatStr.match(longFormattingTokensRegExp).map(function (substring) {\n    var firstCharacter = substring[0];\n    if (firstCharacter === 'p' || firstCharacter === 'P') {\n      var longFormatter = longFormatters[firstCharacter];\n      return longFormatter(substring, locale$1.formatLong, formatterOptions);\n    }\n    return substring;\n  }).join('').match(formattingTokensRegExp).map(function (substring) {\n    if (substring === \"''\") {\n      return \"'\";\n    }\n    var firstCharacter = substring[0];\n    if (firstCharacter === \"'\") {\n      return cleanEscapedString(substring);\n    }\n    var formatter = formatters$1[firstCharacter];\n    if (formatter) {\n      if (!options.useAdditionalWeekYearTokens && isProtectedWeekYearToken(substring)) {\n        throwProtectedError(substring, dirtyFormatStr, dirtyDate);\n      }\n      if (!options.useAdditionalDayOfYearTokens && isProtectedDayOfYearToken(substring)) {\n        throwProtectedError(substring, dirtyFormatStr, dirtyDate);\n      }\n      return formatter(utcDate, substring, locale$1.localize, formatterOptions);\n    }\n    if (firstCharacter.match(unescapedLatinCharacterRegExp)) {\n      throw new RangeError('Format string contains an unescaped latin alphabet character `' + firstCharacter + '`');\n    }\n    return substring;\n  }).join('');\n  return result;\n}\nfunction cleanEscapedString(input) {\n  return input.match(escapedStringRegExp)[1].replace(doubleQuoteRegExp, \"'\");\n}\nfunction assign(target, dirtyObject) {\n  if (target == null) {\n    throw new TypeError('assign requires that input parameter not be null or undefined');\n  }\n  dirtyObject = dirtyObject || {};\n  for (var property in dirtyObject) {\n    if (Object.prototype.hasOwnProperty.call(dirtyObject, property)) {\n      target[property] = dirtyObject[property];\n    }\n  }\n  return target;\n}\nfunction cloneObject(dirtyObject) {\n  return assign({}, dirtyObject);\n}\nvar MINUTES_IN_DAY = 1440;\nvar MINUTES_IN_ALMOST_TWO_DAYS = 2520;\nvar MINUTES_IN_MONTH = 43200;\nvar MINUTES_IN_TWO_MONTHS = 86400;\nfunction formatDistance$1(dirtyDate, dirtyBaseDate) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  requiredArgs(2, arguments);\n  var locale$1 = options.locale || locale;\n  if (!locale$1.formatDistance) {\n    throw new RangeError('locale must contain formatDistance property');\n  }\n  var comparison = compareAsc(dirtyDate, dirtyBaseDate);\n  if (isNaN(comparison)) {\n    throw new RangeError('Invalid time value');\n  }\n  var localizeOptions = cloneObject(options);\n  localizeOptions.addSuffix = Boolean(options.addSuffix);\n  localizeOptions.comparison = comparison;\n  var dateLeft;\n  var dateRight;\n  if (comparison > 0) {\n    dateLeft = toDate(dirtyBaseDate);\n    dateRight = toDate(dirtyDate);\n  } else {\n    dateLeft = toDate(dirtyDate);\n    dateRight = toDate(dirtyBaseDate);\n  }\n  var seconds = differenceInSeconds(dateRight, dateLeft);\n  var offsetInSeconds = (getTimezoneOffsetInMilliseconds(dateRight) - getTimezoneOffsetInMilliseconds(dateLeft)) / 1000;\n  var minutes = Math.round((seconds - offsetInSeconds) / 60);\n  var months;\n  if (minutes < 2) {\n    if (options.includeSeconds) {\n      if (seconds < 5) {\n        return locale$1.formatDistance('lessThanXSeconds', 5, localizeOptions);\n      } else if (seconds < 10) {\n        return locale$1.formatDistance('lessThanXSeconds', 10, localizeOptions);\n      } else if (seconds < 20) {\n        return locale$1.formatDistance('lessThanXSeconds', 20, localizeOptions);\n      } else if (seconds < 40) {\n        return locale$1.formatDistance('halfAMinute', null, localizeOptions);\n      } else if (seconds < 60) {\n        return locale$1.formatDistance('lessThanXMinutes', 1, localizeOptions);\n      } else {\n        return locale$1.formatDistance('xMinutes', 1, localizeOptions);\n      }\n    } else {\n      if (minutes === 0) {\n        return locale$1.formatDistance('lessThanXMinutes', 1, localizeOptions);\n      } else {\n        return locale$1.formatDistance('xMinutes', minutes, localizeOptions);\n      }\n    }\n  } else if (minutes < 45) {\n    return locale$1.formatDistance('xMinutes', minutes, localizeOptions);\n  } else if (minutes < 90) {\n    return locale$1.formatDistance('aboutXHours', 1, localizeOptions);\n  } else if (minutes < MINUTES_IN_DAY) {\n    var hours = Math.round(minutes / 60);\n    return locale$1.formatDistance('aboutXHours', hours, localizeOptions);\n  } else if (minutes < MINUTES_IN_ALMOST_TWO_DAYS) {\n    return locale$1.formatDistance('xDays', 1, localizeOptions);\n  } else if (minutes < MINUTES_IN_MONTH) {\n    var days = Math.round(minutes / MINUTES_IN_DAY);\n    return locale$1.formatDistance('xDays', days, localizeOptions);\n  } else if (minutes < MINUTES_IN_TWO_MONTHS) {\n    months = Math.round(minutes / MINUTES_IN_MONTH);\n    return locale$1.formatDistance('aboutXMonths', months, localizeOptions);\n  }\n  months = differenceInMonths(dateRight, dateLeft);\n  if (months < 12) {\n    var nearestMonth = Math.round(minutes / MINUTES_IN_MONTH);\n    return locale$1.formatDistance('xMonths', nearestMonth, localizeOptions);\n  } else {\n    var monthsSinceStartOfYear = months % 12;\n    var years = Math.floor(months / 12);\n    if (monthsSinceStartOfYear < 3) {\n      return locale$1.formatDistance('aboutXYears', years, localizeOptions);\n    } else if (monthsSinceStartOfYear < 9) {\n      return locale$1.formatDistance('overXYears', years, localizeOptions);\n    } else {\n      return locale$1.formatDistance('almostXYears', years + 1, localizeOptions);\n    }\n  }\n}\nfunction formatDistanceToNow(dirtyDate, dirtyOptions) {\n  requiredArgs(1, arguments);\n  return formatDistance$1(dirtyDate, Date.now(), dirtyOptions);\n}\nvar EditEvents = function EditEvents() {\n  var _data$eventDetails, _data$eventDetails2, _data$eventDetails3, _data$eventDetails4, _data$eventDetails5, _data$eventDetails6, _data$eventDetails7, _data$eventDetails8, _data$eventDetails9;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var history = useHistory();\n  var _useParams = useParams(),\n    EventId = _useParams.id;\n  var tenantId = Digit.ULBService.getCurrentTenantId();\n  var _Digit$Hooks$events$u = Digit.Hooks.events.useInbox(tenantId, {}, {\n      eventTypes: \"EVENTSONGROUND\",\n      ids: EventId\n    }, {\n      select: function select(data) {\n        var _data$events;\n        return data === null || data === void 0 ? void 0 : (_data$events = data.events) === null || _data$events === void 0 ? void 0 : _data$events[0];\n      }\n    }),\n    isLoading = _Digit$Hooks$events$u.isLoading,\n    data = _Digit$Hooks$events$u.data;\n  var _Digit$Hooks$useSessi = Digit.Hooks.useSessionStorage(\"EMPLOYEE_EVENT_MUTATION_HAPPENED\", false),\n    setMutationHappened = _Digit$Hooks$useSessi[1];\n  var _Digit$Hooks$useSessi2 = Digit.Hooks.useSessionStorage(\"EMPLOYEE_EVENT_ERROR_DATA\", false),\n    clearError = _Digit$Hooks$useSessi2[2];\n  var _Digit$Hooks$useSessi3 = Digit.Hooks.useSessionStorage(\"EMPLOYEE_EVENT_MUTATION_SUCCESS_DATA\", false),\n    clearSuccessData = _Digit$Hooks$useSessi3[2];\n  useEffect(function () {\n    setMutationHappened(false);\n    clearSuccessData();\n    clearError();\n  }, []);\n  var onSubmit = function onSubmit(formData) {\n    var _formData$tenantId, _formData$eventCatego;\n    var fromDate = formData.fromDate,\n      toDate = formData.toDate,\n      fromTime = formData.fromTime,\n      toTime = formData.toTime,\n      address = formData.address,\n      organizer = formData.organizer,\n      fees = formData.fees,\n      geoLocation = formData.geoLocation;\n    var details = {\n      events: [_extends({}, data, {\n        source: \"WEBAPP\",\n        status: \"ACTIVE\",\n        eventType: \"EVENTSONGROUND\",\n        tenantId: formData === null || formData === void 0 ? void 0 : (_formData$tenantId = formData.tenantId) === null || _formData$tenantId === void 0 ? void 0 : _formData$tenantId.code,\n        description: formData === null || formData === void 0 ? void 0 : formData.description,\n        name: formData === null || formData === void 0 ? void 0 : formData.name,\n        eventcategory: formData === null || formData === void 0 ? void 0 : (_formData$eventCatego = formData.eventCategory) === null || _formData$eventCatego === void 0 ? void 0 : _formData$eventCatego.code,\n        eventDetails: _extends({}, data === null || data === void 0 ? void 0 : data.eventDetails, {\n          fromDate: new Date(fromDate + \" \" + fromTime).getTime(),\n          toDate: new Date(toDate + \" \" + toTime).getTime(),\n          fromTime: fromTime,\n          toTime: toTime,\n          address: address,\n          organizer: organizer,\n          fees: fees,\n          latitude: geoLocation === null || geoLocation === void 0 ? void 0 : geoLocation.latitude,\n          longitude: geoLocation === null || geoLocation === void 0 ? void 0 : geoLocation.longitude\n        })\n      })]\n    };\n    history.push(\"/digit-ui/employee/engagement/event/response?update=true\", details);\n  };\n  if (isLoading) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n  var defaultValues = {\n    defaultTenantId: data === null || data === void 0 ? void 0 : data.tenantId,\n    name: data === null || data === void 0 ? void 0 : data.name,\n    fromDate: format(new Date(data === null || data === void 0 ? void 0 : (_data$eventDetails = data.eventDetails) === null || _data$eventDetails === void 0 ? void 0 : _data$eventDetails.fromDate), 'yyyy-MM-dd'),\n    toDate: format(new Date(data === null || data === void 0 ? void 0 : (_data$eventDetails2 = data.eventDetails) === null || _data$eventDetails2 === void 0 ? void 0 : _data$eventDetails2.toDate), 'yyyy-MM-dd'),\n    organizer: data === null || data === void 0 ? void 0 : (_data$eventDetails3 = data.eventDetails) === null || _data$eventDetails3 === void 0 ? void 0 : _data$eventDetails3.organizer,\n    fees: data === null || data === void 0 ? void 0 : (_data$eventDetails4 = data.eventDetails) === null || _data$eventDetails4 === void 0 ? void 0 : _data$eventDetails4.fees,\n    description: data === null || data === void 0 ? void 0 : data.description,\n    address: data === null || data === void 0 ? void 0 : (_data$eventDetails5 = data.eventDetails) === null || _data$eventDetails5 === void 0 ? void 0 : _data$eventDetails5.address,\n    category: data === null || data === void 0 ? void 0 : data.eventCategory,\n    fromTime: format(new Date(data === null || data === void 0 ? void 0 : (_data$eventDetails6 = data.eventDetails) === null || _data$eventDetails6 === void 0 ? void 0 : _data$eventDetails6.fromDate), 'HH:mm'),\n    toTime: format(new Date(data === null || data === void 0 ? void 0 : (_data$eventDetails7 = data.eventDetails) === null || _data$eventDetails7 === void 0 ? void 0 : _data$eventDetails7.toDate), 'HH:mm'),\n    geoLocation: {\n      latitude: data === null || data === void 0 ? void 0 : (_data$eventDetails8 = data.eventDetails) === null || _data$eventDetails8 === void 0 ? void 0 : _data$eventDetails8.latitude,\n      longitude: data === null || data === void 0 ? void 0 : (_data$eventDetails9 = data.eventDetails) === null || _data$eventDetails9 === void 0 ? void 0 : _data$eventDetails9.longitude\n    }\n  };\n  return /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(Header, null, t(\"ES_TITLE_EDIT_EVENTS\")), /*#__PURE__*/React.createElement(FormComposer, {\n    defaultValues: defaultValues,\n    config: config,\n    onSubmit: onSubmit,\n    label: t(\"EVENTS_SAVE_CHANGES\")\n  }));\n};\nvar BannerPicker = function BannerPicker(props) {\n  var _props$data, _props$data$events, _props$data$events$;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  return /*#__PURE__*/React.createElement(Banner, {\n    message: t(props.message),\n    applicationNumber: props === null || props === void 0 ? void 0 : (_props$data = props.data) === null || _props$data === void 0 ? void 0 : (_props$data$events = _props$data.events) === null || _props$data$events === void 0 ? void 0 : (_props$data$events$ = _props$data$events[0]) === null || _props$data$events$ === void 0 ? void 0 : _props$data$events$.name,\n    info: t(\"ENGAGEMENT_EVENT_NAME\"),\n    successful: props.isSuccess\n  });\n};\nvar Response = function Response(props) {\n  var _mutation$data, _mutation$data$events, _successData$events, _event$eventDetails, _event$eventDetails2, _event$eventDetails3, _event$eventDetails4;\n  var queryClient = useQueryClient();\n  var _useTranslation2 = useTranslation(),\n    t = _useTranslation2.t;\n  var searchParams = Digit.Hooks.useQueryParams();\n  var tenantId = Digit.ULBService.getCurrentTenantId();\n  var mutation = Digit.Hooks.events.useCreateEvent();\n  var updateEventMutation = Digit.Hooks.events.useUpdateEvent();\n  var _useState = useState(false);\n  var state = props.location.state;\n  var _Digit$Hooks$useSessi = Digit.Hooks.useSessionStorage(\"EMPLOYEE_EVENT_MUTATION_HAPPENED\", false),\n    mutationHappened = _Digit$Hooks$useSessi[0],\n    setMutationHappened = _Digit$Hooks$useSessi[1];\n  var _Digit$Hooks$useSessi2 = Digit.Hooks.useSessionStorage(\"EMPLOYEE_EVENT_MUTATION_SUCCESS_DATA\", false),\n    successData = _Digit$Hooks$useSessi2[0],\n    setsuccessData = _Digit$Hooks$useSessi2[1];\n  var _Digit$Hooks$useSessi3 = Digit.Hooks.useSessionStorage(\"EMPLOYEE_EVENT_ERROR_DATA\", false),\n    setErrorInfo = _Digit$Hooks$useSessi3[1];\n  var onError = function onError(error, variables) {\n    var _error$response, _error$response$data, _error$response$data$;\n    setErrorInfo((error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : (_error$response$data$ = _error$response$data.Errors[0]) === null || _error$response$data$ === void 0 ? void 0 : _error$response$data$.code) || 'ERROR');\n    setMutationHappened(true);\n  };\n  useEffect(function () {\n    if (mutation.data) setsuccessData(mutation.data);\n  }, [mutation.data]);\n  useEffect(function () {\n    if (updateEventMutation.data) setsuccessData(updateEventMutation.data);\n  }, [updateEventMutation.data]);\n  useEffect(function () {\n    var onSuccess = function onSuccess() {\n      setMutationHappened(true);\n      queryClient.clear();\n    };\n    if (!mutationHappened) {\n      if (Boolean(searchParams === null || searchParams === void 0 ? void 0 : searchParams.delete) || Boolean(searchParams === null || searchParams === void 0 ? void 0 : searchParams.update)) {\n        updateEventMutation.mutate(state, {\n          onError: onError,\n          onSuccess: onSuccess\n        });\n        return;\n      }\n      mutation.mutate(state, {\n        onError: onError,\n        onSuccess: onSuccess\n      });\n      return;\n    }\n    return function () {\n      queryClient.clear();\n    };\n  }, []);\n  if (searchParams !== null && searchParams !== void 0 && searchParams.delete || searchParams !== null && searchParams !== void 0 && searchParams.update) {\n    if (updateEventMutation.isLoading || updateEventMutation.isIdle && !mutationHappened) {\n      return /*#__PURE__*/React.createElement(Loader, null);\n    }\n    return /*#__PURE__*/React.createElement(Card, null, /*#__PURE__*/React.createElement(BannerPicker, {\n      t: t,\n      message: searchParams !== null && searchParams !== void 0 && searchParams.update ? updateEventMutation.isSuccess || successData ? 'ENGAGEMENT_EVENT_UPDATED' : \"ENGAGEMENT_EVENT_UPDATED_FAILED\" : updateEventMutation.isSuccess || successData ? 'ENGAGEMENT_EVENT_DELETED' : 'ENGAGEMENT_EVENT_DELETED_FAILED',\n      data: updateEventMutation.data || successData,\n      isSuccess: (updateEventMutation === null || updateEventMutation === void 0 ? void 0 : updateEventMutation.isSuccess) || successData,\n      isLoading: updateEventMutation.isIdle && !mutationHappened || updateEventMutation.isLoading\n    }), /*#__PURE__*/React.createElement(CardText, null, searchParams !== null && searchParams !== void 0 && searchParams.update ? updateEventMutation.isSuccess || successData ? t('ENGAGEMENT_EVENT_UPDATED') : t(\"ENGAGEMENT_EVENT_UPDATED_FAILED\") : updateEventMutation.isSuccess || successData ? t('ENGAGEMENT_EVENT_DELETED') : t('ENGAGEMENT_EVENT_DELETED_FAILED')), /*#__PURE__*/React.createElement(ActionBar, null, /*#__PURE__*/React.createElement(Link, {\n      to: \"/digit-ui/employee\"\n    }, /*#__PURE__*/React.createElement(SubmitBar, {\n      label: t(\"CORE_COMMON_GO_TO_HOME\")\n    }))));\n  }\n  if (mutation.isLoading || mutation.isIdle && !mutationHappened) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n  var event = (mutation === null || mutation === void 0 ? void 0 : (_mutation$data = mutation.data) === null || _mutation$data === void 0 ? void 0 : (_mutation$data$events = _mutation$data.events) === null || _mutation$data$events === void 0 ? void 0 : _mutation$data$events[0]) || (successData === null || successData === void 0 ? void 0 : (_successData$events = successData.events) === null || _successData$events === void 0 ? void 0 : _successData$events[0]) || {};\n  return /*#__PURE__*/React.createElement(Card, null, /*#__PURE__*/React.createElement(BannerPicker, {\n    t: t,\n    message: mutation.isSuccess || successData ? \"ENGAGEMENT_EVENT_CREATED_MESSAGE\" : \"ENGAGEMENT_EVENT_FAILED_MESSAGES\",\n    data: mutation.data || successData,\n    isSuccess: mutation.isSuccess || successData,\n    isLoading: mutation.isIdle && !mutationHappened || mutation.isLoading\n  }), /*#__PURE__*/React.createElement(CardText, null, mutation.isSuccess || successData ? t(\"ENGAGEMENT_EVENT_CREATED_MESSAGES\", {\n    eventName: event === null || event === void 0 ? void 0 : event.name,\n    fromDate: Digit.DateUtils.ConvertTimestampToDate(event === null || event === void 0 ? void 0 : (_event$eventDetails = event.eventDetails) === null || _event$eventDetails === void 0 ? void 0 : _event$eventDetails.fromDate),\n    toDate: Digit.DateUtils.ConvertTimestampToDate(event === null || event === void 0 ? void 0 : (_event$eventDetails2 = event.eventDetails) === null || _event$eventDetails2 === void 0 ? void 0 : _event$eventDetails2.toDate),\n    fromTime: mutation.isSuccess ? format(new Date(event === null || event === void 0 ? void 0 : (_event$eventDetails3 = event.eventDetails) === null || _event$eventDetails3 === void 0 ? void 0 : _event$eventDetails3.fromDate), 'HH:mm') : null,\n    toTime: mutation.isSuccess ? format(new Date(event === null || event === void 0 ? void 0 : (_event$eventDetails4 = event.eventDetails) === null || _event$eventDetails4 === void 0 ? void 0 : _event$eventDetails4.toDate), 'HH:mm') : null\n  }) : null), /*#__PURE__*/React.createElement(ActionBar, null, /*#__PURE__*/React.createElement(Link, {\n    to: \"/digit-ui/employee\"\n  }, /*#__PURE__*/React.createElement(SubmitBar, {\n    label: t(\"CORE_COMMON_GO_TO_HOME\")\n  }))));\n};\nvar ApplicationTable = function ApplicationTable(_ref) {\n  var t = _ref.t,\n    data = _ref.data,\n    columns = _ref.columns,\n    globalSearch = _ref.globalSearch,\n    onSearch = _ref.onSearch,\n    getCellProps = _ref.getCellProps,\n    pageSizeLimit = _ref.pageSizeLimit,\n    totalRecords = _ref.totalRecords,\n    currentPage = _ref.currentPage,\n    onNextPage = _ref.onNextPage,\n    onPrevPage = _ref.onPrevPage,\n    onPageSizeChange = _ref.onPageSizeChange;\n  return /*#__PURE__*/React.createElement(Table, {\n    t: t,\n    data: data,\n    columns: columns,\n    onSearch: onSearch,\n    globalSearch: globalSearch,\n    manualGlobalFilter: true,\n    manualPagination: true,\n    pageSizeLimit: pageSizeLimit,\n    getCellProps: getCellProps,\n    totalRecords: totalRecords,\n    currentPage: currentPage,\n    onNextPage: onNextPage,\n    onPrevPage: onPrevPage,\n    onPageSizeChange: onPageSizeChange\n  });\n};\nvar DropdownUlb = function DropdownUlb(_ref) {\n  var ulb = _ref.ulb,\n    onAssignmentChange = _ref.onAssignmentChange,\n    value = _ref.value,\n    t = _ref.t;\n  return /*#__PURE__*/React.createElement(Dropdown, {\n    option: ulb,\n    optionKey: \"code\",\n    selected: value,\n    select: onAssignmentChange,\n    t: t\n  });\n};\nvar Search = function Search(_ref) {\n  var onSearch = _ref.onSearch,\n    searchParams = _ref.searchParams,\n    searchFields = _ref.searchFields,\n    type = _ref.type,\n    onClose = _ref.onClose,\n    isInboxPage = _ref.isInboxPage,\n    t = _ref.t;\n  var _useForm = useForm({\n      defaultValues: searchParams\n    }),\n    handleSubmit = _useForm.handleSubmit,\n    formState = _useForm.formState,\n    reset = _useForm.reset,\n    control = _useForm.control;\n  var mobileView = innerWidth <= 640;\n  var ulb = Digit.SessionStorage.get(\"ENGAGEMENT_TENANTS\");\n  var tenantId = Digit.ULBService.getCurrentTenantId();\n  var userInfo = Digit.UserService.getUser().info;\n  var userUlbs = ulb.filter(function (ulb) {\n    var _userInfo$roles;\n    return userInfo === null || userInfo === void 0 ? void 0 : (_userInfo$roles = userInfo.roles) === null || _userInfo$roles === void 0 ? void 0 : _userInfo$roles.some(function (role) {\n      return (role === null || role === void 0 ? void 0 : role.tenantId) === (ulb === null || ulb === void 0 ? void 0 : ulb.code);\n    });\n  }).sort(alphabeticalSortFunctionForTenantsBasedOnName);\n  var getFields = function getFields(input) {\n    switch (input.type) {\n      case \"ulb\":\n        return /*#__PURE__*/React.createElement(Controller, {\n          rules: {\n            required: true\n          },\n          render: function render(props) {\n            return /*#__PURE__*/React.createElement(DropdownUlb, {\n              onAssignmentChange: props.onChange,\n              value: props.value,\n              ulb: userUlbs,\n              t: t\n            });\n          },\n          name: input.name,\n          control: control,\n          defaultValue: null\n        });\n      default:\n        return /*#__PURE__*/React.createElement(Controller, {\n          render: function render(props) {\n            return /*#__PURE__*/React.createElement(TextInput, {\n              onChange: props.onChange,\n              value: props.value\n            });\n          },\n          name: input.name,\n          control: control,\n          defaultValue: null\n        });\n    }\n  };\n  var onSubmitInput = function onSubmitInput(data) {\n    onSearch(data);\n    if (type === \"mobile\") {\n      onClose();\n    }\n  };\n  var clearSearch = function clearSearch() {\n    reset({\n      ulb: null,\n      eventName: ''\n    });\n    onSearch({\n      ulb: null,\n      eventName: ''\n    });\n  };\n  var clearAll = function clearAll(mobileView) {\n    var mobileViewStyles = mobileView ? {\n      margin: 0\n    } : {};\n    return /*#__PURE__*/React.createElement(LinkLabel, {\n      style: _extends({\n        display: \"inline\"\n      }, mobileViewStyles),\n      onClick: clearSearch\n    }, t(\"ES_COMMON_CLEAR_SEARCH\"));\n  };\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit(onSubmitInput)\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-container\",\n    style: {\n      width: \"auto\",\n      marginLeft: isInboxPage ? \"24px\" : \"revert\"\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-complaint-container\"\n  }, (type === \"mobile\" || mobileView) && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"complaint-header\"\n  }, /*#__PURE__*/React.createElement(\"h2\", null, t(\"ES_COMMON_SEARCH_BY\")), /*#__PURE__*/React.createElement(\"span\", {\n    onClick: onClose\n  }, /*#__PURE__*/React.createElement(CloseSvg, null))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"complaint-input-container for-pt \" + (!isInboxPage ? \"for-search\" : \"\"),\n    style: {\n      width: \"100%\"\n    }\n  }, searchFields === null || searchFields === void 0 ? void 0 : searchFields.map(function (input, index) {\n    var _formState$dirtyField, _formState$errors, _formState$errors$inp;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: input.name,\n      className: \"input-fields\"\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"mobile-input\"\n    }, /*#__PURE__*/React.createElement(Label, null, t(input.label) + (\" \" + (input.isMendatory ? \"*\" : \"\"))), getFields(input)), formState !== null && formState !== void 0 && (_formState$dirtyField = formState.dirtyFields) !== null && _formState$dirtyField !== void 0 && _formState$dirtyField[input.name] ? /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        fontWeight: \"700\",\n        color: \"rgba(212, 53, 28)\",\n        paddingLeft: \"8px\",\n        marginTop: \"-20px\",\n        fontSize: \"12px\"\n      },\n      className: \"inbox-search-form-error\"\n    }, formState === null || formState === void 0 ? void 0 : (_formState$errors = formState.errors) === null || _formState$errors === void 0 ? void 0 : (_formState$errors$inp = _formState$errors[input.name]) === null || _formState$errors$inp === void 0 ? void 0 : _formState$errors$inp.message) : null);\n  }), type === \"desktop\" && !mobileView && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      maxWidth: \"unset\",\n      marginLeft: \"unset\",\n      marginTop: \"55px\"\n    },\n    className: \"search-submit-wrapper\"\n  }, /*#__PURE__*/React.createElement(SubmitBar, {\n    className: \"submit-bar-search\",\n    label: t(\"ES_COMMON_SEARCH\"),\n    submit: true\n  }), /*#__PURE__*/React.createElement(\"div\", null, clearAll()))))), (type === \"mobile\" || mobileView) && /*#__PURE__*/React.createElement(ActionBar, {\n    className: \"clear-search-container\"\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"clear-search\",\n    style: {\n      flex: 1\n    }\n  }, clearAll(mobileView)), /*#__PURE__*/React.createElement(SubmitBar, {\n    disabled: !!Object.keys(formState.errors).length,\n    label: t(\"ES_COMMON_SEARCH\"),\n    style: {\n      flex: 1\n    },\n    submit: true\n  })));\n};\nvar EventLink = function EventLink(_ref) {\n  var _ref$title = _ref.title,\n    title = _ref$title === void 0 ? \"EVENTS_EVENTS_HEADER\" : _ref$title,\n    links = _ref.links,\n    _ref$icon = _ref.icon,\n    icon = _ref$icon === void 0 ? 'calender' : _ref$icon;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var GetLogo = function GetLogo() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header\",\n      style: {\n        justifyContent: \"flex-start\"\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"logo\",\n      style: {\n        backgroundColor: \"#fff\"\n      }\n    }, icon === \"calender\" ? /*#__PURE__*/React.createElement(EventCalendar, null) : icon === \"survey\" ? 'surveyIcon' : /*#__PURE__*/React.createElement(DocumentIcon, null)), \" \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text\"\n    }, t(title)));\n  };\n  return /*#__PURE__*/React.createElement(Card, {\n    className: \"employeeCard filter inboxLinks\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"complaint-links-container\"\n  }, GetLogo(), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"body\"\n  }, links.map(function (_ref2, index) {\n    var link = _ref2.link,\n      text = _ref2.text,\n      _ref2$hyperlink = _ref2.hyperlink,\n      hyperlink = _ref2$hyperlink === void 0 ? false : _ref2$hyperlink;\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: \"link\",\n      key: index\n    }, hyperlink ? /*#__PURE__*/React.createElement(\"a\", {\n      href: link\n    }, text) : /*#__PURE__*/React.createElement(Link, {\n      to: link\n    }, text));\n  }))));\n};\nvar StatusCount = function StatusCount(_ref) {\n  var _searchParams$eventSt, _searchParams$eventSt2;\n  var status = _ref.status,\n    onAssignmentChange = _ref.onAssignmentChange,\n    searchParams = _ref.searchParams;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  return /*#__PURE__*/React.createElement(CheckBox, {\n    onChange: function onChange(e) {\n      return onAssignmentChange(e, status);\n    },\n    checked: (searchParams === null || searchParams === void 0 ? void 0 : (_searchParams$eventSt = searchParams.eventStatus) === null || _searchParams$eventSt === void 0 ? void 0 : (_searchParams$eventSt2 = _searchParams$eventSt.filter(function (event) {\n      return event === status;\n    })) === null || _searchParams$eventSt2 === void 0 ? void 0 : _searchParams$eventSt2.length) > 0 ? true : false,\n    label: t(status),\n    pageType: 'employee'\n  });\n};\nvar statuses = [\"ACTIVE\", \"INACTIVE\"];\nvar Status = function Status(_ref) {\n  var onAssignmentChange = _ref.onAssignmentChange,\n    searchParams = _ref.searchParams;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"status-container\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filter-label\"\n  }, t(\"ES_INBOX_STATUS\")), statuses === null || statuses === void 0 ? void 0 : statuses.map(function (status, key) {\n    return /*#__PURE__*/React.createElement(StatusCount, {\n      key: key,\n      status: status,\n      onAssignmentChange: onAssignmentChange,\n      searchParams: searchParams\n    });\n  }));\n};\nvar Filter = function Filter(_ref) {\n  var _data$mseva;\n  var _ref$type = _ref.type,\n    type = _ref$type === void 0 ? \"desktop\" : _ref$type,\n    onClose = _ref.onClose,\n    onFilterChange = _ref.onFilterChange,\n    searchParams = _ref.searchParams;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var _useState = useState(function () {\n      return _extends({}, searchParams);\n    }),\n    localSearchParams = _useState[0],\n    setLocalSearchParams = _useState[1];\n  var tenantId = Digit.ULBService.getCurrentTenantId();\n  var state = tenantId === null || tenantId === void 0 ? void 0 : tenantId.split('.')[0];\n  var _Digit$Hooks$useCommo = Digit.Hooks.useCommonMDMS(state, \"mseva\", [\"EventCategories\"]),\n    isLoading = _Digit$Hooks$useCommo.isLoading,\n    data = _Digit$Hooks$useCommo.data;\n  var clearAll = function clearAll() {\n    setLocalSearchParams({\n      eventCategory: null,\n      eventStatus: [],\n      range: {\n        startDate: null,\n        endDate: new Date(\"\"),\n        title: \"\"\n      }\n    });\n    onFilterChange({\n      eventCategory: null,\n      eventStatus: [],\n      range: {\n        startDate: null,\n        endDate: new Date(\"\"),\n        title: \"\"\n      }\n    });\n    onClose === null || onClose === void 0 ? void 0 : onClose();\n  };\n  var applyLocalFilters = function applyLocalFilters() {\n    onFilterChange(localSearchParams);\n    onClose === null || onClose === void 0 ? void 0 : onClose();\n  };\n  var handleChange = function handleChange(data) {\n    setLocalSearchParams(_extends({}, localSearchParams, data));\n  };\n  var onStatusChange = function onStatusChange(e, type) {\n    var _localSearchParams$ev;\n    if (e.target.checked) handleChange({\n      eventStatus: [].concat((localSearchParams === null || localSearchParams === void 0 ? void 0 : localSearchParams.eventStatus) || [], [type])\n    });else handleChange({\n      eventStatus: localSearchParams === null || localSearchParams === void 0 ? void 0 : (_localSearchParams$ev = localSearchParams.eventStatus) === null || _localSearchParams$ev === void 0 ? void 0 : _localSearchParams$ev.filter(function (status) {\n        return status !== type;\n      })\n    });\n  };\n  if (isLoading) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filter\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filter-card\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"heading\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filter-label\"\n  }, t(\"ES_COMMON_FILTER_BY\"), \":\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"clearAll\",\n    onClick: clearAll\n  }, t(\"ES_COMMON_CLEAR_ALL\")), type === \"desktop\" && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"clear-search\",\n    onClick: clearAll\n  }, /*#__PURE__*/React.createElement(RefreshIcon, null)), type === \"mobile\" && /*#__PURE__*/React.createElement(\"span\", {\n    onClick: onClose\n  }, /*#__PURE__*/React.createElement(CloseSvg, null))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filter-label\"\n  }, \"\" + t(\"EVENTS_CATEGORY_LABEL\")), /*#__PURE__*/React.createElement(Dropdown, {\n    option: data === null || data === void 0 ? void 0 : (_data$mseva = data.mseva) === null || _data$mseva === void 0 ? void 0 : _data$mseva.EventCategories,\n    optionKey: \"code\",\n    t: t,\n    selected: localSearchParams === null || localSearchParams === void 0 ? void 0 : localSearchParams.eventCategory,\n    select: function select(val) {\n      return handleChange({\n        eventCategory: val\n      });\n    }\n  }), /*#__PURE__*/React.createElement(DateRange, {\n    t: t,\n    values: localSearchParams === null || localSearchParams === void 0 ? void 0 : localSearchParams.range,\n    onFilterChange: handleChange,\n    labelClass: \"filter-label\"\n  }), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Status, {\n    onAssignmentChange: onStatusChange,\n    searchParams: localSearchParams\n  })), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(SubmitBar, {\n    style: {\n      width: '100%'\n    },\n    onSubmit: function onSubmit() {\n      return applyLocalFilters();\n    },\n    label: t(\"ES_COMMON_APPLY\")\n  }))));\n};\nvar GetCell = function GetCell(value) {\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: \"\"\n  }, value);\n};\nvar GetStatusCell = function GetStatusCell(value) {\n  return value === \"Active\" ? /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sla-cell-success\"\n  }, value) : /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sla-cell-error\"\n  }, value);\n};\nvar DesktopInbox = function DesktopInbox(_ref) {\n  var isLoading = _ref.isLoading,\n    data = _ref.data,\n    t = _ref.t,\n    onSearch = _ref.onSearch,\n    parentRoute = _ref.parentRoute,\n    title = _ref.title,\n    iconName = _ref.iconName,\n    links = _ref.links,\n    globalSearch = _ref.globalSearch,\n    searchFields = _ref.searchFields,\n    searchParams = _ref.searchParams,\n    onFilterChange = _ref.onFilterChange,\n    pageSizeLimit = _ref.pageSizeLimit,\n    totalRecords = _ref.totalRecords,\n    currentPage = _ref.currentPage,\n    onNextPage = _ref.onNextPage,\n    onPrevPage = _ref.onPrevPage,\n    onPageSizeChange = _ref.onPageSizeChange;\n  var columns = React.useMemo(function () {\n    return [{\n      Header: t(\"EVENTS_EVENT_NAME_LABEL\"),\n      accessor: \"name\",\n      Cell: function Cell(_ref2) {\n        var row = _ref2.row;\n        return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"span\", {\n          className: \"link\"\n        }, /*#__PURE__*/React.createElement(Link, {\n          to: parentRoute + \"/event/inbox/event-details/\" + row.original.id\n        }, row.original[\"name\"])));\n      }\n    }, {\n      Header: t(\"EVENTS_EVENT_CATEGORY_LABEL\"),\n      accessor: function accessor(row) {\n        return GetCell(row !== null && row !== void 0 && row.eventCategory ? t(\"MSEVA_EVENTCATEGORIES_\" + (row === null || row === void 0 ? void 0 : row.eventCategory)) : \"\");\n      }\n    }, {\n      Header: t(\"EVENTS_START_DATE_LABEL\"),\n      accessor: function accessor(row) {\n        var _row$eventDetails, _row$eventDetails2;\n        return row !== null && row !== void 0 && (_row$eventDetails = row.eventDetails) !== null && _row$eventDetails !== void 0 && _row$eventDetails.fromDate ? GetCell(format(new Date(row === null || row === void 0 ? void 0 : (_row$eventDetails2 = row.eventDetails) === null || _row$eventDetails2 === void 0 ? void 0 : _row$eventDetails2.fromDate), 'dd/MM/yyyy')) : \"\";\n      }\n    }, {\n      Header: t(\"EVENTS_END_DATE_LABEL\"),\n      accessor: function accessor(row) {\n        var _row$eventDetails3, _row$eventDetails4;\n        return row !== null && row !== void 0 && (_row$eventDetails3 = row.eventDetails) !== null && _row$eventDetails3 !== void 0 && _row$eventDetails3.toDate ? GetCell(format(new Date(row === null || row === void 0 ? void 0 : (_row$eventDetails4 = row.eventDetails) === null || _row$eventDetails4 === void 0 ? void 0 : _row$eventDetails4.toDate), \"dd/MM/yyyy\")) : \"\";\n      }\n    }, {\n      Header: t(\"EVENTS_POSTEDBY_LABEL\"),\n      accessor: function accessor(row) {\n        var _row$user;\n        return GetCell((row === null || row === void 0 ? void 0 : (_row$user = row.user) === null || _row$user === void 0 ? void 0 : _row$user.name) || \"\");\n      }\n    }, {\n      Header: t(\"EVENTS_STATUS_LABEL\"),\n      accessor: function accessor(row) {\n        return GetStatusCell(t(row === null || row === void 0 ? void 0 : row.status));\n      }\n    }];\n  });\n  var result;\n  if (isLoading) {\n    result = /*#__PURE__*/React.createElement(Loader, null);\n  } else if ((data === null || data === void 0 ? void 0 : data.length) > 0) {\n    result = /*#__PURE__*/React.createElement(ApplicationTable, {\n      t: t,\n      data: data,\n      columns: columns,\n      globalSearch: globalSearch,\n      onSearch: searchParams,\n      pageSizeLimit: pageSizeLimit,\n      totalRecords: totalRecords,\n      currentPage: currentPage,\n      onNextPage: onNextPage,\n      onPrevPage: onPrevPage,\n      onPageSizeChange: onPageSizeChange,\n      getCellProps: function getCellProps(cellInfo) {\n        return {\n          style: {\n            minWidth: cellInfo.column.Header === t(\"ES_INBOX_APPLICATION_NO\") ? \"240px\" : \"\",\n            padding: \"20px 18px\",\n            fontSize: \"16px\"\n          }\n        };\n      }\n    });\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"inbox-container\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filters-container\"\n  }, /*#__PURE__*/React.createElement(EventLink, {\n    title: title,\n    icon: iconName,\n    links: links\n  }), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Filter, {\n    onFilterChange: onFilterChange,\n    searchParams: searchParams\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      flex: 1\n    }\n  }, /*#__PURE__*/React.createElement(Search, {\n    t: t,\n    onSearch: onSearch,\n    type: \"desktop\",\n    searchFields: searchFields,\n    isInboxPage: true,\n    searchParams: searchParams\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"result\",\n    style: {\n      marginLeft: \"24px\",\n      flex: 1\n    }\n  }, result)));\n};\nvar ApplicationCard = function ApplicationCard(_ref) {\n  var searchFields = _ref.searchFields,\n    searchParams = _ref.searchParams,\n    onFilterChange = _ref.onFilterChange,\n    onSearch = _ref.onSearch,\n    t = _ref.t,\n    data = _ref.data,\n    serviceRequestIdKey = _ref.serviceRequestIdKey;\n  var _useState = useState(\"\"),\n    type = _useState[0],\n    setType = _useState[1];\n  var _useState2 = useState(false),\n    popup = _useState2[0],\n    setPopup = _useState2[1];\n  var _useState3 = useState(searchParams),\n    params = _useState3[0],\n    setParams = _useState3[1];\n  var tenantId = Digit.ULBService.getCurrentTenantId();\n  var history = useHistory();\n  useEffect(function () {\n    if (type) setPopup(true);\n  }, [type]);\n  var handlePopupClose = function handlePopupClose() {\n    setPopup(false);\n    setParams(searchParams);\n  };\n  var result;\n  if ((data === null || data === void 0 ? void 0 : data.length) === 0) {\n    result = /*#__PURE__*/React.createElement(Card, {\n      style: {\n        marginTop: 20\n      }\n    }, t(\"ES_NO_EVENTS\").split(\"\\\\n\").map(function (text, index) {\n      return /*#__PURE__*/React.createElement(\"p\", {\n        key: index,\n        style: {\n          textAlign: \"center\"\n        }\n      }, text);\n    }));\n  } else if (data && (data === null || data === void 0 ? void 0 : data.length) > 0) {\n    result = /*#__PURE__*/React.createElement(DetailsCard, {\n      data: data,\n      linkPrefix: '/digit-ui/employee/engagement/event/inbox/event-details/',\n      serviceRequestIdKey: serviceRequestIdKey\n    });\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"searchBox\"\n  }, onSearch && /*#__PURE__*/React.createElement(SearchAction, {\n    text: \"SEARCH\",\n    handleActionClick: function handleActionClick() {\n      setType(\"SEARCH\");\n      setPopup(true);\n    }\n  }), /*#__PURE__*/React.createElement(FilterAction, {\n    text: \"FILTER\",\n    handleActionClick: function handleActionClick() {\n      setType(\"FILTER\");\n      setPopup(true);\n    }\n  })), result, popup && /*#__PURE__*/React.createElement(PopUp, null, type === \"FILTER\" && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"popup-module\"\n  }, /*#__PURE__*/React.createElement(Filter, {\n    onFilterChange: onFilterChange,\n    onClose: handlePopupClose,\n    onSearch: onSearch,\n    type: \"mobile\",\n    searchParams: params\n  })), type === \"SEARCH\" && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"popup-module\"\n  }, /*#__PURE__*/React.createElement(Search, {\n    t: t,\n    type: \"mobile\",\n    onClose: handlePopupClose,\n    onSearch: onSearch,\n    searchParams: searchParams,\n    searchFields: searchFields\n  }))));\n};\nvar GetStatusCell$1 = function GetStatusCell(value) {\n  return value === \"Active\" ? /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sla-cell-success\"\n  }, value) : /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sla-cell-error\"\n  }, value);\n};\nvar MobileInbox = function MobileInbox(_ref) {\n  var data = _ref.data,\n    t = _ref.t,\n    title = _ref.title,\n    iconName = _ref.iconName,\n    links = _ref.links,\n    searchFields = _ref.searchFields,\n    searchParams = _ref.searchParams,\n    onFilterChange = _ref.onFilterChange,\n    onSearch = _ref.onSearch,\n    isLoading = _ref.isLoading;\n  var getData = function getData() {\n    return data === null || data === void 0 ? void 0 : data.filter(function (event) {\n      var _searchParams$eventSt, _searchParams$eventSt2, _event$name, _searchParams$eventNa, _searchParams$ulb, _searchParams$ulb2, _searchParams$eventCa, _searchParams$range, _event$eventDetails, _searchParams$range2, _searchParams$range3, _event$eventDetails2, _searchParams$range4;\n      return ((searchParams === null || searchParams === void 0 ? void 0 : (_searchParams$eventSt = searchParams.eventStatus) === null || _searchParams$eventSt === void 0 ? void 0 : _searchParams$eventSt.length) > 0 ? searchParams === null || searchParams === void 0 ? void 0 : (_searchParams$eventSt2 = searchParams.eventStatus) === null || _searchParams$eventSt2 === void 0 ? void 0 : _searchParams$eventSt2.includes(event.status) : true) && (searchParams !== null && searchParams !== void 0 && searchParams.eventName ? (_event$name = event.name) === null || _event$name === void 0 ? void 0 : _event$name.toUpperCase().startsWith(searchParams === null || searchParams === void 0 ? void 0 : (_searchParams$eventNa = searchParams.eventName) === null || _searchParams$eventNa === void 0 ? void 0 : _searchParams$eventNa.toUpperCase()) : true) && (searchParams !== null && searchParams !== void 0 && (_searchParams$ulb = searchParams.ulb) !== null && _searchParams$ulb !== void 0 && _searchParams$ulb.code ? event.tenantId === (searchParams === null || searchParams === void 0 ? void 0 : (_searchParams$ulb2 = searchParams.ulb) === null || _searchParams$ulb2 === void 0 ? void 0 : _searchParams$ulb2.code) : true) && (searchParams !== null && searchParams !== void 0 && searchParams.eventCategory ? event.eventCategory === (searchParams === null || searchParams === void 0 ? void 0 : (_searchParams$eventCa = searchParams.eventCategory) === null || _searchParams$eventCa === void 0 ? void 0 : _searchParams$eventCa.code) : true) && (isValid(searchParams === null || searchParams === void 0 ? void 0 : (_searchParams$range = searchParams.range) === null || _searchParams$range === void 0 ? void 0 : _searchParams$range.startDate) ? ((_event$eventDetails = event.eventDetails) === null || _event$eventDetails === void 0 ? void 0 : _event$eventDetails.fromDate) >= new Date(searchParams === null || searchParams === void 0 ? void 0 : (_searchParams$range2 = searchParams.range) === null || _searchParams$range2 === void 0 ? void 0 : _searchParams$range2.startDate).getTime() : true) && (isValid(searchParams === null || searchParams === void 0 ? void 0 : (_searchParams$range3 = searchParams.range) === null || _searchParams$range3 === void 0 ? void 0 : _searchParams$range3.endDate) ? ((_event$eventDetails2 = event.eventDetails) === null || _event$eventDetails2 === void 0 ? void 0 : _event$eventDetails2.toDate) <= new Date(searchParams === null || searchParams === void 0 ? void 0 : (_searchParams$range4 = searchParams.range) === null || _searchParams$range4 === void 0 ? void 0 : _searchParams$range4.endDate).getTime() : true);\n    }).map(function (event) {\n      var _event$eventDetails3, _event$eventDetails4, _event$user, _ref2;\n      return _ref2 = {}, _ref2[\"applicationNo\"] = event === null || event === void 0 ? void 0 : event.id, _ref2[t(\"EVENTS_EVENT_NAME_LABEL\")] = event === null || event === void 0 ? void 0 : event.name, _ref2[t(\"EVENTS_EVENT_CATEGORY_LABEL\")] = t(\"MSEVA_EVENTCATEGORIES_\" + (event === null || event === void 0 ? void 0 : event.eventCategory)), _ref2[t(\"EVENTS_START_DATE_LABEL\")] = format(new Date(event === null || event === void 0 ? void 0 : (_event$eventDetails3 = event.eventDetails) === null || _event$eventDetails3 === void 0 ? void 0 : _event$eventDetails3.fromDate), 'dd/MM/yyyy'), _ref2[t(\"EVENTS_END_DATE_LABEL\")] = format(new Date(event === null || event === void 0 ? void 0 : (_event$eventDetails4 = event.eventDetails) === null || _event$eventDetails4 === void 0 ? void 0 : _event$eventDetails4.toDate), 'dd/MM/yyyy'), _ref2[t(\"EVENTS_POSTEDBY_LABEL\")] = event === null || event === void 0 ? void 0 : (_event$user = event.user) === null || _event$user === void 0 ? void 0 : _event$user.name, _ref2[t(\"EVENTS_STATUS_LABEL\")] = GetStatusCell$1(t(event === null || event === void 0 ? void 0 : event.status)), _ref2;\n    });\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: 0\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"inbox-container\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filters-container\"\n  }, /*#__PURE__*/React.createElement(EventLink, {\n    title: title,\n    icon: iconName,\n    links: links\n  }), /*#__PURE__*/React.createElement(ApplicationCard, {\n    t: t,\n    data: getData(),\n    onFilterChange: onFilterChange,\n    isLoading: isLoading,\n    onSearch: onSearch,\n    searchParams: searchParams,\n    searchFields: searchFields,\n    serviceRequestIdKey: \"applicationNo\"\n  }))));\n};\nvar Inbox = function Inbox(_ref) {\n  var _searchParams$ulb, _React$createElement;\n  var tenants = _ref.tenants,\n    parentRoute = _ref.parentRoute;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  Digit.SessionStorage.set(\"ENGAGEMENT_TENANTS\", tenants);\n  var tenantId = Digit.ULBService.getCurrentTenantId();\n  var _useState = useState(10),\n    pageSize = _useState[0],\n    setPageSize = _useState[1];\n  var _useState2 = useState(0),\n    pageOffset = _useState2[0],\n    setPageOffset = _useState2[1];\n  var _useState3 = useState({\n      eventStatus: [],\n      range: {\n        startDate: null,\n        endDate: new Date(\"\"),\n        title: \"\"\n      },\n      ulb: tenants === null || tenants === void 0 ? void 0 : tenants.find(function (tenant) {\n        return (tenant === null || tenant === void 0 ? void 0 : tenant.code) === tenantId;\n      })\n    }),\n    searchParams = _useState3[0],\n    setSearchParams = _useState3[1];\n  var isMobile = window.Digit.Utils.browser.isMobile();\n  var getSearchFields = function getSearchFields() {\n    return [{\n      label: t(\"EVENTS_ULB_LABEL\"),\n      name: \"ulb\",\n      type: \"ulb\"\n    }, {\n      label: t(\"EVENTS_NAME_LABEL\"),\n      name: \"eventName\"\n    }];\n  };\n  var links = [{\n    text: t(\"ES_TITLE_NEW_EVENTS\"),\n    link: \"/digit-ui/employee/engagement/event/inbox/new-event\"\n  }];\n  var _Digit$Hooks$events$u = Digit.Hooks.events.useInbox(searchParams === null || searchParams === void 0 ? void 0 : (_searchParams$ulb = searchParams.ulb) === null || _searchParams$ulb === void 0 ? void 0 : _searchParams$ulb.code, {}, {\n      eventTypes: \"EVENTSONGROUND\",\n      limit: pageSize,\n      offset: pageOffset\n    }, {\n      select: function select(data) {\n        return {\n          events: data === null || data === void 0 ? void 0 : data.events,\n          totalCount: data === null || data === void 0 ? void 0 : data.totalCount\n        };\n      }\n    }),\n    data = _Digit$Hooks$events$u.data,\n    isLoading = _Digit$Hooks$events$u.isLoading;\n  var onSearch = function onSearch(params) {\n    var updatedParams = _extends({}, params);\n    if (!(params !== null && params !== void 0 && params.ulb)) {\n      updatedParams = _extends({}, params, {\n        ulb: {\n          code: tenantId\n        }\n      });\n    }\n    setSearchParams(_extends({}, searchParams, updatedParams));\n  };\n  var handleFilterChange = function handleFilterChange(data) {\n    setSearchParams(_extends({}, searchParams, data));\n  };\n  var globalSearch = function globalSearch(rows, columnIds) {\n    return rows === null || rows === void 0 ? void 0 : rows.filter(function (row) {\n      var _searchParams$eventSt, _searchParams$eventSt2, _row$original, _row$original2, _row$original2$name, _searchParams$ulb2, _searchParams$ulb3, _searchParams$eventCa, _searchParams$range, _row$original$eventDe, _searchParams$range2, _searchParams$range3, _row$original$eventDe2, _searchParams$range4;\n      return ((searchParams === null || searchParams === void 0 ? void 0 : (_searchParams$eventSt = searchParams.eventStatus) === null || _searchParams$eventSt === void 0 ? void 0 : _searchParams$eventSt.length) > 0 ? searchParams === null || searchParams === void 0 ? void 0 : (_searchParams$eventSt2 = searchParams.eventStatus) === null || _searchParams$eventSt2 === void 0 ? void 0 : _searchParams$eventSt2.includes((_row$original = row.original) === null || _row$original === void 0 ? void 0 : _row$original.status) : true) && (searchParams !== null && searchParams !== void 0 && searchParams.eventName ? (_row$original2 = row.original) === null || _row$original2 === void 0 ? void 0 : (_row$original2$name = _row$original2.name) === null || _row$original2$name === void 0 ? void 0 : _row$original2$name.toUpperCase().startsWith(searchParams === null || searchParams === void 0 ? void 0 : searchParams.eventName.toUpperCase()) : true) && (searchParams !== null && searchParams !== void 0 && (_searchParams$ulb2 = searchParams.ulb) !== null && _searchParams$ulb2 !== void 0 && _searchParams$ulb2.code ? row.original.tenantId === (searchParams === null || searchParams === void 0 ? void 0 : (_searchParams$ulb3 = searchParams.ulb) === null || _searchParams$ulb3 === void 0 ? void 0 : _searchParams$ulb3.code) : true) && (searchParams !== null && searchParams !== void 0 && searchParams.eventCategory ? row.original.eventCategory === (searchParams === null || searchParams === void 0 ? void 0 : (_searchParams$eventCa = searchParams.eventCategory) === null || _searchParams$eventCa === void 0 ? void 0 : _searchParams$eventCa.code) : true) && (isValid(searchParams === null || searchParams === void 0 ? void 0 : (_searchParams$range = searchParams.range) === null || _searchParams$range === void 0 ? void 0 : _searchParams$range.startDate) ? ((_row$original$eventDe = row.original.eventDetails) === null || _row$original$eventDe === void 0 ? void 0 : _row$original$eventDe.fromDate) >= new Date(searchParams === null || searchParams === void 0 ? void 0 : (_searchParams$range2 = searchParams.range) === null || _searchParams$range2 === void 0 ? void 0 : _searchParams$range2.startDate).getTime() : true) && (isValid(searchParams === null || searchParams === void 0 ? void 0 : (_searchParams$range3 = searchParams.range) === null || _searchParams$range3 === void 0 ? void 0 : _searchParams$range3.endDate) ? ((_row$original$eventDe2 = row.original.eventDetails) === null || _row$original$eventDe2 === void 0 ? void 0 : _row$original$eventDe2.toDate) <= new Date(searchParams === null || searchParams === void 0 ? void 0 : (_searchParams$range4 = searchParams.range) === null || _searchParams$range4 === void 0 ? void 0 : _searchParams$range4.endDate).getTime() : true);\n    });\n  };\n  var fetchNextPage = useCallback(function () {\n    setPageOffset(function (prevPageOffSet) {\n      return parseInt(prevPageOffSet) + parseInt(pageSize);\n    });\n  }, [pageSize]);\n  var fetchPrevPage = useCallback(function () {\n    setPageOffset(function (prevPageOffSet) {\n      return parseInt(prevPageOffSet) - parseInt(pageSize);\n    });\n  }, [pageSize]);\n  var handlePageSizeChange = function handlePageSizeChange(e) {\n    setPageSize(function (prevPageSize) {\n      return e.target.value;\n    });\n  };\n  if (isMobile) {\n    return /*#__PURE__*/React.createElement(MobileInbox, {\n      data: data === null || data === void 0 ? void 0 : data.events,\n      searchParams: searchParams,\n      searchFields: getSearchFields(),\n      t: t,\n      onFilterChange: handleFilterChange,\n      onSearch: onSearch,\n      isLoading: isLoading,\n      title: \"EVENTS_EVENTS_HEADER\",\n      iconName: \"calender\",\n      links: links\n    });\n  }\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Header, null, t(\"EVENTS_EVENTS_HEADER\"), Number(data === null || data === void 0 ? void 0 : data.totalCount) ? /*#__PURE__*/React.createElement(\"p\", {\n    className: \"inbox-count\"\n  }, Number(data === null || data === void 0 ? void 0 : data.totalCount)) : null), /*#__PURE__*/React.createElement(DesktopInbox, (_React$createElement = {\n    t: t,\n    data: data === null || data === void 0 ? void 0 : data.events,\n    links: links,\n    parentRoute: parentRoute,\n    searchParams: searchParams,\n    onSearch: onSearch,\n    globalSearch: globalSearch,\n    searchFields: getSearchFields(),\n    onFilterChange: handleFilterChange,\n    pageSizeLimit: pageSize,\n    totalRecords: data === null || data === void 0 ? void 0 : data.totalCount,\n    title: \"EVENTS_EVENTS_HEADER\",\n    iconName: \"calender\"\n  }, _React$createElement[\"links\"] = links, _React$createElement.currentPage = parseInt(pageOffset / pageSize), _React$createElement.onNextPage = fetchNextPage, _React$createElement.onPrevPage = fetchPrevPage, _React$createElement.onPageSizeChange = handlePageSizeChange, _React$createElement)));\n};\nvar ApplicationTable$1 = function ApplicationTable(_ref) {\n  var t = _ref.t,\n    data = _ref.data,\n    columns = _ref.columns,\n    globalSearch = _ref.globalSearch,\n    onSearch = _ref.onSearch,\n    getCellProps = _ref.getCellProps,\n    pageSizeLimit = _ref.pageSizeLimit,\n    totalRecords = _ref.totalRecords,\n    currentPage = _ref.currentPage,\n    onNextPage = _ref.onNextPage,\n    onPrevPage = _ref.onPrevPage,\n    onPageSizeChange = _ref.onPageSizeChange;\n  return /*#__PURE__*/React.createElement(Table, {\n    t: t,\n    data: data,\n    columns: columns,\n    onSearch: onSearch,\n    globalSearch: globalSearch,\n    manualGlobalFilter: true,\n    manualPagination: true,\n    pageSizeLimit: pageSizeLimit,\n    getCellProps: getCellProps,\n    totalRecords: totalRecords,\n    currentPage: currentPage,\n    onNextPage: onNextPage,\n    onPrevPage: onPrevPage,\n    onPageSizeChange: onPageSizeChange\n  });\n};\nvar DropdownUlb$1 = function DropdownUlb(_ref) {\n  var ulb = _ref.ulb,\n    onAssignmentChange = _ref.onAssignmentChange,\n    value = _ref.value,\n    t = _ref.t;\n  return /*#__PURE__*/React.createElement(Dropdown, {\n    option: ulb,\n    optionKey: \"code\",\n    selected: value,\n    select: onAssignmentChange,\n    t: t\n  });\n};\nvar Search$1 = function Search(_ref) {\n  var onSearch = _ref.onSearch,\n    searchParams = _ref.searchParams,\n    searchFields = _ref.searchFields,\n    type = _ref.type,\n    onClose = _ref.onClose,\n    isInboxPage = _ref.isInboxPage,\n    t = _ref.t;\n  var _useForm = useForm({\n      defaultValues: searchParams\n    }),\n    handleSubmit = _useForm.handleSubmit,\n    formState = _useForm.formState,\n    reset = _useForm.reset,\n    control = _useForm.control;\n  var mobileView = innerWidth <= 640;\n  var ulbs = Digit.SessionStorage.get(\"ENGAGEMENT_TENANTS\");\n  var userInfo = Digit.UserService.getUser().info;\n  var userUlbs = ulbs.filter(function (ulb) {\n    var _userInfo$roles;\n    return userInfo === null || userInfo === void 0 ? void 0 : (_userInfo$roles = userInfo.roles) === null || _userInfo$roles === void 0 ? void 0 : _userInfo$roles.some(function (role) {\n      return (role === null || role === void 0 ? void 0 : role.tenantId) === (ulb === null || ulb === void 0 ? void 0 : ulb.code);\n    });\n  }).sort(alphabeticalSortFunctionForTenantsBasedOnName);\n  var getFields = function getFields(input) {\n    switch (input.type) {\n      case \"ulb\":\n        return /*#__PURE__*/React.createElement(Controller, {\n          rules: {\n            required: true\n          },\n          render: function render(props) {\n            return /*#__PURE__*/React.createElement(DropdownUlb$1, {\n              onAssignmentChange: props.onChange,\n              value: props.value,\n              ulb: userUlbs,\n              t: t\n            });\n          },\n          name: input.name,\n          control: control,\n          defaultValue: null\n        });\n      case \"range\":\n        return /*#__PURE__*/React.createElement(Controller, {\n          render: function render(_ref2) {\n            var value = _ref2.value,\n              onChange = _ref2.onChange;\n            return /*#__PURE__*/React.createElement(DateRange, {\n              t: t,\n              values: value,\n              onFilterChange: function onFilterChange(value) {\n                return onChange(value.range);\n              },\n              labelClass: \"filter-label\"\n            });\n          },\n          name: input.name,\n          control: control,\n          defaultValue: null\n        });\n      default:\n        return /*#__PURE__*/React.createElement(Controller, {\n          render: function render(props) {\n            return /*#__PURE__*/React.createElement(TextInput, {\n              onChange: props.onChange,\n              value: props.value\n            });\n          },\n          name: input.name,\n          control: control,\n          defaultValue: null\n        });\n    }\n  };\n  var onSubmitInput = function onSubmitInput(data) {\n    onSearch(data);\n    if (type === \"mobile\") {\n      onClose();\n    }\n  };\n  var clearSearch = function clearSearch() {\n    reset({\n      ulb: null,\n      name: ''\n    });\n    onSearch({\n      ulb: null,\n      name: ''\n    });\n  };\n  var clearAll = function clearAll(mobileView) {\n    var mobileViewStyles = mobileView ? {\n      margin: 0\n    } : {};\n    return /*#__PURE__*/React.createElement(LinkLabel, {\n      style: _extends({\n        display: \"inline\"\n      }, mobileViewStyles),\n      onClick: clearSearch\n    }, t(\"ES_COMMON_CLEAR_SEARCH\"));\n  };\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit(onSubmitInput)\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-container\",\n    style: {\n      width: \"auto\",\n      marginLeft: isInboxPage ? \"24px\" : \"revert\"\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-complaint-container\"\n  }, (type === \"mobile\" || mobileView) && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"complaint-header\"\n  }, /*#__PURE__*/React.createElement(\"h2\", null, t(\"ES_COMMON_SEARCH_BY\")), /*#__PURE__*/React.createElement(\"span\", {\n    onClick: onClose\n  }, /*#__PURE__*/React.createElement(CloseSvg, null))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"complaint-input-container for-pt \" + (!isInboxPage ? \"for-search\" : \"\"),\n    style: {\n      width: \"100%\"\n    }\n  }, searchFields === null || searchFields === void 0 ? void 0 : searchFields.map(function (input, index) {\n    var _formState$dirtyField, _formState$errors, _formState$errors$inp;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: input.name,\n      className: \"input-fields\"\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"mobile-input\"\n    }, /*#__PURE__*/React.createElement(Label, null, t(input.label) + (\" \" + (input.isMendatory ? \"*\" : \"\"))), getFields(input)), formState !== null && formState !== void 0 && (_formState$dirtyField = formState.dirtyFields) !== null && _formState$dirtyField !== void 0 && _formState$dirtyField[input.name] ? /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        fontWeight: \"700\",\n        color: \"rgba(212, 53, 28)\",\n        paddingLeft: \"8px\",\n        marginTop: \"-20px\",\n        fontSize: \"12px\"\n      },\n      className: \"inbox-search-form-error\"\n    }, formState === null || formState === void 0 ? void 0 : (_formState$errors = formState.errors) === null || _formState$errors === void 0 ? void 0 : (_formState$errors$inp = _formState$errors[input.name]) === null || _formState$errors$inp === void 0 ? void 0 : _formState$errors$inp.message) : null);\n  }), type === \"desktop\" && !mobileView && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      maxWidth: \"unset\",\n      marginLeft: \"unset\",\n      marginTop: \"55px\"\n    },\n    className: \"search-submit-wrapper\"\n  }, /*#__PURE__*/React.createElement(SubmitBar, {\n    className: \"submit-bar-search\",\n    label: t(\"ES_COMMON_SEARCH\"),\n    submit: true\n  }), /*#__PURE__*/React.createElement(\"div\", null, clearAll()))))), (type === \"mobile\" || mobileView) && /*#__PURE__*/React.createElement(ActionBar, {\n    className: \"clear-search-container\"\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"clear-search\",\n    style: {\n      flex: 1\n    }\n  }, clearAll(mobileView)), /*#__PURE__*/React.createElement(SubmitBar, {\n    disabled: !!Object.keys(formState.errors).length,\n    label: t(\"ES_COMMON_SEARCH\"),\n    style: {\n      flex: 1\n    },\n    submit: true\n  })));\n};\nvar EventLink$1 = function EventLink(_ref) {\n  var _ref$title = _ref.title,\n    title = _ref$title === void 0 ? \"CS_HEADER_PUBLIC_BRDCST\" : _ref$title,\n    links = _ref.links;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var GetLogo = function GetLogo() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header\",\n      style: {\n        justifyContent: \"flex-start\"\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"logo\",\n      style: {\n        backgroundColor: \"#fff\"\n      }\n    }, /*#__PURE__*/React.createElement(PMBIcon, null)), \" \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text\"\n    }, t(title)));\n  };\n  return /*#__PURE__*/React.createElement(Card, {\n    className: \"employeeCard filter inboxLinks\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"complaint-links-container\"\n  }, GetLogo(), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"body\"\n  }, links.map(function (_ref2, index) {\n    var link = _ref2.link,\n      text = _ref2.text,\n      _ref2$hyperlink = _ref2.hyperlink,\n      hyperlink = _ref2$hyperlink === void 0 ? false : _ref2$hyperlink;\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: \"link\",\n      key: index\n    }, hyperlink ? /*#__PURE__*/React.createElement(\"a\", {\n      href: link\n    }, text) : /*#__PURE__*/React.createElement(Link, {\n      to: link\n    }, text));\n  }))));\n};\nvar StatusCount$1 = function StatusCount(_ref) {\n  var _searchParams$eventSt, _searchParams$eventSt2;\n  var status = _ref.status,\n    onAssignmentChange = _ref.onAssignmentChange,\n    searchParams = _ref.searchParams;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  return /*#__PURE__*/React.createElement(CheckBox, {\n    onChange: function onChange(e) {\n      return onAssignmentChange(e, status);\n    },\n    checked: (searchParams === null || searchParams === void 0 ? void 0 : (_searchParams$eventSt = searchParams.eventStatus) === null || _searchParams$eventSt === void 0 ? void 0 : (_searchParams$eventSt2 = _searchParams$eventSt.filter(function (event) {\n      return event === status;\n    })) === null || _searchParams$eventSt2 === void 0 ? void 0 : _searchParams$eventSt2.length) > 0 ? true : false,\n    label: t(status),\n    pageType: 'employee'\n  });\n};\nvar statuses$1 = [\"ACTIVE\", \"INACTIVE\"];\nvar Status$1 = function Status(_ref) {\n  var onAssignmentChange = _ref.onAssignmentChange,\n    searchParams = _ref.searchParams;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"status-container\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filter-label\"\n  }, t(\"ES_INBOX_STATUS\")), statuses$1 === null || statuses$1 === void 0 ? void 0 : statuses$1.map(function (status, key) {\n    return /*#__PURE__*/React.createElement(StatusCount$1, {\n      key: key,\n      status: status,\n      onAssignmentChange: onAssignmentChange,\n      searchParams: searchParams\n    });\n  }));\n};\nvar Filter$1 = function Filter(_ref) {\n  var _ref$type = _ref.type,\n    type = _ref$type === void 0 ? \"desktop\" : _ref$type,\n    onClose = _ref.onClose,\n    onFilterChange = _ref.onFilterChange,\n    searchParams = _ref.searchParams;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var _useState = useState(function () {\n      return _extends({}, searchParams);\n    }),\n    localSearchParams = _useState[0],\n    setLocalSearchParams = _useState[1];\n  var tenantId = Digit.ULBService.getCurrentTenantId();\n  var state = tenantId === null || tenantId === void 0 ? void 0 : tenantId.split('.')[0];\n  var _Digit$Hooks$useCommo = Digit.Hooks.useCommonMDMS(state, \"mseva\", [\"EventCategories\"]),\n    isLoading = _Digit$Hooks$useCommo.isLoading;\n  var clearAll = function clearAll() {\n    setLocalSearchParams({\n      eventCategory: null,\n      eventStatus: [],\n      range: {\n        startDate: null,\n        endDate: new Date(\"\"),\n        title: \"\"\n      }\n    });\n    onFilterChange({\n      eventCategory: null,\n      eventStatus: [],\n      range: {\n        startDate: null,\n        endDate: new Date(\"\"),\n        title: \"\"\n      }\n    });\n    onClose === null || onClose === void 0 ? void 0 : onClose();\n  };\n  var applyLocalFilters = function applyLocalFilters() {\n    onFilterChange(localSearchParams);\n    onClose === null || onClose === void 0 ? void 0 : onClose();\n  };\n  var handleChange = useCallback(function (data) {\n    setLocalSearchParams(function (prevLocalSearchParams) {\n      return _extends({}, prevLocalSearchParams, data);\n    });\n  }, []);\n  var onStatusChange = function onStatusChange(e, type) {\n    var _localSearchParams$ev;\n    if (e.target.checked) handleChange({\n      eventStatus: [].concat((localSearchParams === null || localSearchParams === void 0 ? void 0 : localSearchParams.eventStatus) || [], [type])\n    });else handleChange({\n      eventStatus: localSearchParams === null || localSearchParams === void 0 ? void 0 : (_localSearchParams$ev = localSearchParams.eventStatus) === null || _localSearchParams$ev === void 0 ? void 0 : _localSearchParams$ev.filter(function (status) {\n        return status !== type;\n      })\n    });\n  };\n  if (isLoading) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filter\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filter-card\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"heading\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filter-label\"\n  }, t(\"ES_COMMON_FILTER_BY\"), \":\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"clearAll\",\n    onClick: clearAll\n  }, t(\"ES_COMMON_CLEAR_ALL\")), type === \"desktop\" && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"clear-search\",\n    onClick: clearAll\n  }, /*#__PURE__*/React.createElement(RefreshIcon, null)), type === \"mobile\" && /*#__PURE__*/React.createElement(\"span\", {\n    onClick: onClose\n  }, /*#__PURE__*/React.createElement(CloseSvg, null))), /*#__PURE__*/React.createElement(DateRange, {\n    t: t,\n    values: localSearchParams === null || localSearchParams === void 0 ? void 0 : localSearchParams.range,\n    onFilterChange: handleChange,\n    labelClass: \"filter-label\"\n  }), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Status$1, {\n    onAssignmentChange: onStatusChange,\n    searchParams: localSearchParams\n  })), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(SubmitBar, {\n    style: {\n      width: '100%'\n    },\n    onSubmit: function onSubmit() {\n      return applyLocalFilters();\n    },\n    label: t(\"ES_COMMON_APPLY\")\n  }))));\n};\nvar GetCell$1 = function GetCell(value) {\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: \"\"\n  }, value);\n};\nvar GetStatusCell$2 = function GetStatusCell(value) {\n  return value === \"Active\" ? /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sla-cell-success\"\n  }, value) : /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sla-cell-error\"\n  }, value);\n};\nvar DesktopInbox$1 = function DesktopInbox(_ref) {\n  var isLoading = _ref.isLoading,\n    data = _ref.data,\n    t = _ref.t,\n    onSearch = _ref.onSearch,\n    parentRoute = _ref.parentRoute,\n    title = _ref.title,\n    iconName = _ref.iconName,\n    links = _ref.links,\n    globalSearch = _ref.globalSearch,\n    searchFields = _ref.searchFields,\n    searchParams = _ref.searchParams,\n    onFilterChange = _ref.onFilterChange,\n    pageSizeLimit = _ref.pageSizeLimit,\n    totalRecords = _ref.totalRecords,\n    currentPage = _ref.currentPage,\n    onNextPage = _ref.onNextPage,\n    onPrevPage = _ref.onPrevPage,\n    onPageSizeChange = _ref.onPageSizeChange;\n  var columns = React.useMemo(function () {\n    return [{\n      Header: t(\"EVENTS_MESSAGE_LABEL\"),\n      accessor: \"name\",\n      Cell: function Cell(_ref2) {\n        var row = _ref2.row;\n        return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"span\", {\n          className: \"link\"\n        }, /*#__PURE__*/React.createElement(Link, {\n          to: parentRoute + \"/messages/inbox/details/\" + row.original.id\n        }, row.original[\"name\"])));\n      }\n    }, {\n      Header: t(\"EVENTS_POSTING_DATE_LABEL\"),\n      accessor: function accessor(row) {\n        var _row$auditDetails, _row$auditDetails2;\n        return row !== null && row !== void 0 && (_row$auditDetails = row.auditDetails) !== null && _row$auditDetails !== void 0 && _row$auditDetails.createdTime ? GetCell$1(format(new Date(row === null || row === void 0 ? void 0 : (_row$auditDetails2 = row.auditDetails) === null || _row$auditDetails2 === void 0 ? void 0 : _row$auditDetails2.createdTime), 'dd/MM/yyyy')) : \"\";\n      }\n    }, {\n      Header: t(\"EVENTS_START_DATE_LABEL\"),\n      accessor: function accessor(row) {\n        var _row$eventDetails, _row$eventDetails2;\n        return row !== null && row !== void 0 && (_row$eventDetails = row.eventDetails) !== null && _row$eventDetails !== void 0 && _row$eventDetails.fromDate ? GetCell$1(format(new Date(row === null || row === void 0 ? void 0 : (_row$eventDetails2 = row.eventDetails) === null || _row$eventDetails2 === void 0 ? void 0 : _row$eventDetails2.fromDate), 'dd/MM/yyyy')) : \"\";\n      }\n    }, {\n      Header: t(\"EVENTS_END_DATE_LABEL\"),\n      accessor: function accessor(row) {\n        var _row$eventDetails3, _row$eventDetails4;\n        return row !== null && row !== void 0 && (_row$eventDetails3 = row.eventDetails) !== null && _row$eventDetails3 !== void 0 && _row$eventDetails3.toDate ? GetCell$1(format(new Date(row === null || row === void 0 ? void 0 : (_row$eventDetails4 = row.eventDetails) === null || _row$eventDetails4 === void 0 ? void 0 : _row$eventDetails4.toDate), \"dd/MM/yyyy\")) : \"\";\n      }\n    }, {\n      Header: t(\"EVENTS_POSTEDBY_LABEL\"),\n      accessor: function accessor(row) {\n        var _row$user;\n        return GetCell$1((row === null || row === void 0 ? void 0 : (_row$user = row.user) === null || _row$user === void 0 ? void 0 : _row$user.name) || \"\");\n      }\n    }, {\n      Header: t(\"EVENTS_STATUS_LABEL\"),\n      accessor: function accessor(row) {\n        return GetStatusCell$2(t(row === null || row === void 0 ? void 0 : row.status));\n      }\n    }];\n  });\n  var result;\n  if (isLoading) {\n    result = /*#__PURE__*/React.createElement(Loader, null);\n  } else if ((data === null || data === void 0 ? void 0 : data.length) > 0) {\n    result = /*#__PURE__*/React.createElement(ApplicationTable$1, {\n      t: t,\n      data: data,\n      columns: columns,\n      globalSearch: globalSearch,\n      onSearch: searchParams,\n      pageSizeLimit: pageSizeLimit,\n      totalRecords: totalRecords,\n      currentPage: currentPage,\n      onNextPage: onNextPage,\n      onPrevPage: onPrevPage,\n      onPageSizeChange: onPageSizeChange,\n      getCellProps: function getCellProps(cellInfo) {\n        return {\n          style: {\n            minWidth: cellInfo.column.Header === t(\"ES_INBOX_APPLICATION_NO\") ? \"240px\" : \"\",\n            padding: \"20px 18px\",\n            fontSize: \"16px\"\n          }\n        };\n      }\n    });\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"inbox-container\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filters-container\"\n  }, /*#__PURE__*/React.createElement(EventLink$1, {\n    title: title,\n    icon: iconName,\n    links: links\n  }), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Filter$1, {\n    onFilterChange: onFilterChange,\n    searchParams: searchParams\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      flex: 1\n    }\n  }, /*#__PURE__*/React.createElement(Search$1, {\n    t: t,\n    onSearch: onSearch,\n    type: \"desktop\",\n    searchFields: searchFields,\n    isInboxPage: true,\n    searchParams: searchParams\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"result\",\n    style: {\n      marginLeft: \"24px\",\n      flex: 1\n    }\n  }, result)));\n};\nvar ApplicationCard$1 = function ApplicationCard(_ref) {\n  var searchFields = _ref.searchFields,\n    searchParams = _ref.searchParams,\n    onFilterChange = _ref.onFilterChange,\n    onSearch = _ref.onSearch,\n    t = _ref.t,\n    data = _ref.data,\n    responseData = _ref.responseData;\n  var _useState = useState(\"\"),\n    type = _useState[0],\n    setType = _useState[1];\n  var _useState2 = useState(false),\n    popup = _useState2[0],\n    setPopup = _useState2[1];\n  var _useState3 = useState(searchParams),\n    params = _useState3[0],\n    setParams = _useState3[1];\n  var tenantId = Digit.ULBService.getCurrentTenantId();\n  var history = useHistory();\n  useEffect(function () {\n    if (type) setPopup(true);\n  }, [type]);\n  var handlePopupClose = function handlePopupClose() {\n    setPopup(false);\n    setParams(searchParams);\n  };\n  var redirectToDetailsPage = function redirectToDetailsPage(data) {\n    var details = responseData === null || responseData === void 0 ? void 0 : responseData.find(function (item) {\n      var _item$user;\n      return areEqual(item === null || item === void 0 ? void 0 : (_item$user = item.user) === null || _item$user === void 0 ? void 0 : _item$user.name, data[\"Posted By\"]) && areEqual(item.name, data[\"Title\"]);\n    });\n    if (details) {\n      history.push(\"/digit-ui/employee/engagement/messages/inbox/details/\" + (details === null || details === void 0 ? void 0 : details.id));\n    }\n  };\n  var result;\n  if ((data === null || data === void 0 ? void 0 : data.length) === 0) {\n    result = /*#__PURE__*/React.createElement(Card, {\n      style: {\n        marginTop: 20\n      }\n    }, t(\"ES_NO_PUBLIC_MESSAGES\").split(\"\\\\n\").map(function (text, index) {\n      return /*#__PURE__*/React.createElement(\"p\", {\n        key: index,\n        style: {\n          textAlign: \"center\"\n        }\n      }, text);\n    }));\n  } else if (data && (data === null || data === void 0 ? void 0 : data.length) > 0) {\n    result = /*#__PURE__*/React.createElement(DetailsCard, {\n      data: data,\n      handleSelect: function handleSelect() {},\n      handleDetailCardClick: redirectToDetailsPage\n    });\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"searchBox\"\n  }, onSearch && /*#__PURE__*/React.createElement(SearchAction, {\n    text: \"SEARCH\",\n    handleActionClick: function handleActionClick() {\n      setType(\"SEARCH\");\n      setPopup(true);\n    }\n  }), /*#__PURE__*/React.createElement(FilterAction, {\n    text: \"FILTER\",\n    handleActionClick: function handleActionClick() {\n      setType(\"FILTER\");\n      setPopup(true);\n    }\n  })), result, popup && /*#__PURE__*/React.createElement(PopUp, null, type === \"FILTER\" && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"popup-module\"\n  }, /*#__PURE__*/React.createElement(Filter$1, {\n    onFilterChange: onFilterChange,\n    onClose: handlePopupClose,\n    onSearch: onSearch,\n    type: \"mobile\",\n    searchParams: params\n  })), type === \"SEARCH\" && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"popup-module\"\n  }, /*#__PURE__*/React.createElement(Search$1, {\n    t: t,\n    type: \"mobile\",\n    onClose: handlePopupClose,\n    onSearch: onSearch,\n    searchParams: searchParams,\n    searchFields: searchFields\n  }))));\n};\nvar GetStatusCell$3 = function GetStatusCell(value) {\n  return value === \"Active\" ? /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sla-cell-success\"\n  }, value) : /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sla-cell-error\"\n  }, value);\n};\nvar MobileInbox$1 = function MobileInbox(_ref) {\n  var data = _ref.data,\n    t = _ref.t,\n    title = _ref.title,\n    iconName = _ref.iconName,\n    links = _ref.links,\n    searchFields = _ref.searchFields,\n    searchParams = _ref.searchParams,\n    onFilterChange = _ref.onFilterChange,\n    onSearch = _ref.onSearch,\n    isLoading = _ref.isLoading;\n  var getData = function getData() {\n    return data === null || data === void 0 ? void 0 : data.filter(function (event) {\n      var _searchParams$eventSt, _searchParams$eventSt2, _event$name, _searchParams$eventNa, _searchParams$ulb, _searchParams$ulb2, _searchParams$eventCa, _searchParams$range, _event$eventDetails, _searchParams$range2, _searchParams$range3, _event$eventDetails2, _searchParams$range4;\n      return ((searchParams === null || searchParams === void 0 ? void 0 : (_searchParams$eventSt = searchParams.eventStatus) === null || _searchParams$eventSt === void 0 ? void 0 : _searchParams$eventSt.length) > 0 ? searchParams === null || searchParams === void 0 ? void 0 : (_searchParams$eventSt2 = searchParams.eventStatus) === null || _searchParams$eventSt2 === void 0 ? void 0 : _searchParams$eventSt2.includes(event.status) : true) && (searchParams !== null && searchParams !== void 0 && searchParams.eventName ? (_event$name = event.name) === null || _event$name === void 0 ? void 0 : _event$name.toUpperCase().startsWith(searchParams === null || searchParams === void 0 ? void 0 : (_searchParams$eventNa = searchParams.eventName) === null || _searchParams$eventNa === void 0 ? void 0 : _searchParams$eventNa.toUpperCase()) : true) && (searchParams !== null && searchParams !== void 0 && (_searchParams$ulb = searchParams.ulb) !== null && _searchParams$ulb !== void 0 && _searchParams$ulb.code ? event.tenantId === (searchParams === null || searchParams === void 0 ? void 0 : (_searchParams$ulb2 = searchParams.ulb) === null || _searchParams$ulb2 === void 0 ? void 0 : _searchParams$ulb2.code) : true) && (searchParams !== null && searchParams !== void 0 && searchParams.eventCategory ? event.eventCategory === (searchParams === null || searchParams === void 0 ? void 0 : (_searchParams$eventCa = searchParams.eventCategory) === null || _searchParams$eventCa === void 0 ? void 0 : _searchParams$eventCa.code) : true) && (isValid(searchParams === null || searchParams === void 0 ? void 0 : (_searchParams$range = searchParams.range) === null || _searchParams$range === void 0 ? void 0 : _searchParams$range.startDate) ? ((_event$eventDetails = event.eventDetails) === null || _event$eventDetails === void 0 ? void 0 : _event$eventDetails.fromDate) >= new Date(searchParams === null || searchParams === void 0 ? void 0 : (_searchParams$range2 = searchParams.range) === null || _searchParams$range2 === void 0 ? void 0 : _searchParams$range2.startDate).getTime() : true) && (isValid(searchParams === null || searchParams === void 0 ? void 0 : (_searchParams$range3 = searchParams.range) === null || _searchParams$range3 === void 0 ? void 0 : _searchParams$range3.endDate) ? ((_event$eventDetails2 = event.eventDetails) === null || _event$eventDetails2 === void 0 ? void 0 : _event$eventDetails2.toDate) <= new Date(searchParams === null || searchParams === void 0 ? void 0 : (_searchParams$range4 = searchParams.range) === null || _searchParams$range4 === void 0 ? void 0 : _searchParams$range4.endDate).getTime() : true);\n    }).map(function (event) {\n      var _event$auditDetails, _event$eventDetails3, _event$eventDetails4, _event$user, _ref2;\n      return _ref2 = {}, _ref2[t(\"PUBLIC_BRDCST_TITLE_LABEL\")] = event === null || event === void 0 ? void 0 : event.name, _ref2[t(\"EVENTS_POSTING_DATE_LABEL\")] = format(new Date(event === null || event === void 0 ? void 0 : (_event$auditDetails = event.auditDetails) === null || _event$auditDetails === void 0 ? void 0 : _event$auditDetails.createdTime), 'dd/MM/yyyy'), _ref2[t(\"EVENTS_START_DATE_LABEL\")] = format(new Date(event === null || event === void 0 ? void 0 : (_event$eventDetails3 = event.eventDetails) === null || _event$eventDetails3 === void 0 ? void 0 : _event$eventDetails3.fromDate), 'dd/MM/yyyy'), _ref2[t(\"EVENTS_END_DATE_LABEL\")] = format(new Date(event === null || event === void 0 ? void 0 : (_event$eventDetails4 = event.eventDetails) === null || _event$eventDetails4 === void 0 ? void 0 : _event$eventDetails4.toDate), 'dd/MM/yyyy'), _ref2[t(\"EVENTS_POSTEDBY_LABEL\")] = event === null || event === void 0 ? void 0 : (_event$user = event.user) === null || _event$user === void 0 ? void 0 : _event$user.name, _ref2[t(\"EVENTS_STATUS_LABEL\")] = GetStatusCell$3(t(event === null || event === void 0 ? void 0 : event.status)), _ref2;\n    });\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: 0\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"inbox-container\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filters-container\"\n  }, /*#__PURE__*/React.createElement(EventLink$1, {\n    title: title,\n    icon: iconName,\n    links: links\n  }), /*#__PURE__*/React.createElement(ApplicationCard$1, {\n    t: t,\n    data: getData(),\n    onFilterChange: onFilterChange,\n    isLoading: isLoading,\n    onSearch: onSearch,\n    searchParams: searchParams,\n    searchFields: searchFields,\n    responseData: data\n  }))));\n};\nvar Inbox$1 = function Inbox(_ref) {\n  var _searchParams$ulb, _React$createElement;\n  var tenants = _ref.tenants,\n    parentRoute = _ref.parentRoute;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  Digit.SessionStorage.set(\"ENGAGEMENT_TENANTS\", tenants);\n  var tenantId = Digit.ULBService.getCurrentTenantId();\n  var _useState = useState(10),\n    pageSize = _useState[0],\n    setPageSize = _useState[1];\n  var _useState2 = useState(0),\n    pageOffset = _useState2[0],\n    setPageOffset = _useState2[1];\n  var _useState3 = useState({\n      eventStatus: [],\n      name: '',\n      range: {\n        startDate: null,\n        endDate: new Date(\"\"),\n        title: \"\"\n      },\n      ulb: tenants === null || tenants === void 0 ? void 0 : tenants.find(function (tenant) {\n        return (tenant === null || tenant === void 0 ? void 0 : tenant.code) === tenantId;\n      })\n    }),\n    searchParams = _useState3[0],\n    setSearchParams = _useState3[1];\n  var isMobile = window.Digit.Utils.browser.isMobile();\n  var _Digit$Hooks$events$u = Digit.Hooks.events.useInbox(searchParams === null || searchParams === void 0 ? void 0 : (_searchParams$ulb = searchParams.ulb) === null || _searchParams$ulb === void 0 ? void 0 : _searchParams$ulb.code, {}, {\n      status: \"ACTIVE,INACTIVE\",\n      eventTypes: \"BROADCAST\",\n      limit: pageSize,\n      offset: pageOffset\n    }, {\n      select: function select(data) {\n        return {\n          events: data === null || data === void 0 ? void 0 : data.events,\n          totalCount: data === null || data === void 0 ? void 0 : data.totalCount\n        };\n      }\n    }),\n    data = _Digit$Hooks$events$u.data,\n    isLoading = _Digit$Hooks$events$u.isLoading;\n  var onSearch = function onSearch(params) {\n    var updatedParams = _extends({}, params);\n    if (!(params !== null && params !== void 0 && params.ulb)) {\n      updatedParams = _extends({}, params, {\n        ulb: {\n          code: tenantId\n        }\n      });\n    }\n    setSearchParams(function (prevParams) {\n      return _extends({}, prevParams, updatedParams);\n    });\n  };\n  var handleFilterChange = function handleFilterChange(data) {\n    setSearchParams(function (prevParams) {\n      return _extends({}, prevParams, data);\n    });\n  };\n  var globalSearch = function globalSearch(rows, columnIds) {\n    return rows === null || rows === void 0 ? void 0 : rows.filter(function (row) {\n      var _searchParams$eventSt, _searchParams$eventSt2, _row$original, _row$original2, _row$original2$name, _searchParams$ulb2, _searchParams$ulb3, _searchParams$eventCa, _searchParams$range, _row$original$eventDe, _searchParams$range2, _searchParams$range3, _row$original$eventDe2, _searchParams$range4;\n      return ((searchParams === null || searchParams === void 0 ? void 0 : (_searchParams$eventSt = searchParams.eventStatus) === null || _searchParams$eventSt === void 0 ? void 0 : _searchParams$eventSt.length) > 0 ? searchParams === null || searchParams === void 0 ? void 0 : (_searchParams$eventSt2 = searchParams.eventStatus) === null || _searchParams$eventSt2 === void 0 ? void 0 : _searchParams$eventSt2.includes((_row$original = row.original) === null || _row$original === void 0 ? void 0 : _row$original.status) : true) && (searchParams !== null && searchParams !== void 0 && searchParams.name ? (_row$original2 = row.original) === null || _row$original2 === void 0 ? void 0 : (_row$original2$name = _row$original2.name) === null || _row$original2$name === void 0 ? void 0 : _row$original2$name.toUpperCase().startsWith(searchParams === null || searchParams === void 0 ? void 0 : searchParams.name.toUpperCase()) : true) && (searchParams !== null && searchParams !== void 0 && (_searchParams$ulb2 = searchParams.ulb) !== null && _searchParams$ulb2 !== void 0 && _searchParams$ulb2.code ? row.original.tenantId === (searchParams === null || searchParams === void 0 ? void 0 : (_searchParams$ulb3 = searchParams.ulb) === null || _searchParams$ulb3 === void 0 ? void 0 : _searchParams$ulb3.code) : true) && (searchParams !== null && searchParams !== void 0 && searchParams.eventCategory ? row.original.eventCategory === (searchParams === null || searchParams === void 0 ? void 0 : (_searchParams$eventCa = searchParams.eventCategory) === null || _searchParams$eventCa === void 0 ? void 0 : _searchParams$eventCa.code) : true) && (isValid(searchParams === null || searchParams === void 0 ? void 0 : (_searchParams$range = searchParams.range) === null || _searchParams$range === void 0 ? void 0 : _searchParams$range.startDate) ? ((_row$original$eventDe = row.original.eventDetails) === null || _row$original$eventDe === void 0 ? void 0 : _row$original$eventDe.fromDate) >= new Date(searchParams === null || searchParams === void 0 ? void 0 : (_searchParams$range2 = searchParams.range) === null || _searchParams$range2 === void 0 ? void 0 : _searchParams$range2.startDate).getTime() : true) && (isValid(searchParams === null || searchParams === void 0 ? void 0 : (_searchParams$range3 = searchParams.range) === null || _searchParams$range3 === void 0 ? void 0 : _searchParams$range3.endDate) ? ((_row$original$eventDe2 = row.original.eventDetails) === null || _row$original$eventDe2 === void 0 ? void 0 : _row$original$eventDe2.toDate) <= new Date(searchParams === null || searchParams === void 0 ? void 0 : (_searchParams$range4 = searchParams.range) === null || _searchParams$range4 === void 0 ? void 0 : _searchParams$range4.endDate).getTime() : true);\n    });\n  };\n  var getSearchFields = function getSearchFields() {\n    return [{\n      label: t(\"EVENTS_ULB_LABEL\"),\n      name: \"ulb\",\n      type: \"ulb\"\n    }, {\n      label: t(\"EVENTS_MESSAGE_LABEL\"),\n      name: \"name\"\n    }];\n  };\n  var links = [{\n    text: t(\"NEW_PUBLIC_MESSAGE_BUTTON_LABEL\"),\n    link: \"/digit-ui/employee/engagement/messages/inbox/create\"\n  }];\n  var fetchNextPage = useCallback(function () {\n    setPageOffset(function (prevPageOffSet) {\n      return parseInt(prevPageOffSet) + parseInt(pageSize);\n    });\n  }, [pageSize]);\n  var fetchPrevPage = useCallback(function () {\n    setPageOffset(function (prevPageOffSet) {\n      return parseInt(prevPageOffSet) - parseInt(pageSize);\n    });\n  }, [pageSize]);\n  var handlePageSizeChange = function handlePageSizeChange(e) {\n    setPageSize(function (prevPageSize) {\n      return e.target.value;\n    });\n  };\n  if (isMobile) {\n    return /*#__PURE__*/React.createElement(MobileInbox$1, {\n      data: data === null || data === void 0 ? void 0 : data.events,\n      searchParams: searchParams,\n      searchFields: getSearchFields(),\n      t: t,\n      onFilterChange: handleFilterChange,\n      onSearch: onSearch,\n      isLoading: isLoading,\n      title: \"EVENTS_PUBLIC_MESSAGE_NOTICE_HEADER\",\n      iconName: \"calender\",\n      links: links\n    });\n  }\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Header, null, t(\"EVENTS_PUBLIC_MESSAGE_NOTICE_HEADER\"), Number(data === null || data === void 0 ? void 0 : data.length) ? /*#__PURE__*/React.createElement(\"p\", {\n    className: \"inbox-count\"\n  }, Number(data === null || data === void 0 ? void 0 : data.length)) : null), /*#__PURE__*/React.createElement(DesktopInbox$1, (_React$createElement = {\n    t: t,\n    data: data === null || data === void 0 ? void 0 : data.events,\n    links: links,\n    parentRoute: parentRoute,\n    searchParams: searchParams,\n    onSearch: onSearch,\n    globalSearch: globalSearch,\n    searchFields: getSearchFields(),\n    onFilterChange: handleFilterChange,\n    pageSizeLimit: pageSize,\n    totalRecords: data === null || data === void 0 ? void 0 : data.totalCount,\n    currentPage: parseInt(pageOffset / pageSize),\n    onNextPage: fetchNextPage,\n    onPrevPage: fetchPrevPage,\n    onPageSizeChange: handlePageSizeChange,\n    title: \"EVENTS_PUBLIC_MESSAGE_NOTICE_HEADER\"\n  }, _React$createElement[\"links\"] = links, _React$createElement.isLoading = isLoading, _React$createElement)));\n};\nvar config$1 = [{\n  head: \"\",\n  body: [{\n    type: \"form\",\n    withoutLabel: true,\n    component: \"MessageForm\",\n    nextStep: \"\",\n    route: \"\",\n    key: \"messageData\"\n  }]\n}];\nvar NewEvents$1 = function NewEvents() {\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var history = useHistory();\n  var _Digit$Hooks$useSessi = Digit.Hooks.useSessionStorage(\"EMPLOYEE_MSG_MUTATION_HAPPENED\", false),\n    setMutationHappened = _Digit$Hooks$useSessi[1];\n  var _Digit$Hooks$useSessi2 = Digit.Hooks.useSessionStorage(\"EMPLOYEE_MSG_ERROR_DATA\", false),\n    clearError = _Digit$Hooks$useSessi2[2];\n  var _Digit$Hooks$useSessi3 = Digit.Hooks.useSessionStorage(\"EMPLOYEE_MSG_MUTATION_SUCCESS_DATA\", false),\n    clearSuccessData = _Digit$Hooks$useSessi3[2];\n  useEffect(function () {\n    setMutationHappened(false);\n    clearSuccessData();\n    clearError();\n  }, []);\n  var onSubmit = function onSubmit(data) {\n    var _data$tenantId, _convertDateToMaximum, _convertDateToMaximum2;\n    var fromDate = data.fromDate,\n      toDate = data.toDate,\n      description = data.description,\n      name = data.name,\n      documents = data.documents;\n    var details = {\n      events: [{\n        recepient: null,\n        source: \"WEBAPP\",\n        eventType: \"BROADCAST\",\n        tenantId: data === null || data === void 0 ? void 0 : (_data$tenantId = data.tenantId) === null || _data$tenantId === void 0 ? void 0 : _data$tenantId.code,\n        description: description,\n        name: name,\n        eventDetails: {\n          documents: documents,\n          fromDate: (_convertDateToMaximum = convertDateToMaximumPossibleValue(new Date(\"\" + fromDate))) === null || _convertDateToMaximum === void 0 ? void 0 : _convertDateToMaximum.getTime(),\n          toDate: (_convertDateToMaximum2 = convertDateToMaximumPossibleValue(new Date(\"\" + toDate))) === null || _convertDateToMaximum2 === void 0 ? void 0 : _convertDateToMaximum2.getTime()\n        }\n      }]\n    };\n    history.push(\"/digit-ui/employee/engagement/messages/response\", details);\n  };\n  return /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(Header, null, t(\"ADD_NEW_PUBLIC_MESSAGE\")), /*#__PURE__*/React.createElement(FormComposer, {\n    config: config$1,\n    onSubmit: onSubmit,\n    label: t(\"ACTION_ADD_NEW_MESSAGE\")\n  }));\n};\nvar BannerPicker$1 = function BannerPicker(props) {\n  var _props$data, _props$data$events, _props$data$events$;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  return /*#__PURE__*/React.createElement(Banner, {\n    message: t(props.message),\n    applicationNumber: props === null || props === void 0 ? void 0 : (_props$data = props.data) === null || _props$data === void 0 ? void 0 : (_props$data$events = _props$data.events) === null || _props$data$events === void 0 ? void 0 : (_props$data$events$ = _props$data$events[0]) === null || _props$data$events$ === void 0 ? void 0 : _props$data$events$.name,\n    successful: props.isSuccess\n  });\n};\nvar Response$1 = function Response(props) {\n  var queryClient = useQueryClient();\n  var _useTranslation2 = useTranslation(),\n    t = _useTranslation2.t;\n  var searchParams = Digit.Hooks.useQueryParams();\n  var tenantId = Digit.ULBService.getCurrentTenantId();\n  var mutation = Digit.Hooks.events.useCreateEvent();\n  var updateEventMutation = Digit.Hooks.events.useUpdateEvent();\n  var state = props.location.state;\n  var _Digit$Hooks$useSessi = Digit.Hooks.useSessionStorage(\"EMPLOYEE_MSG_MUTATION_HAPPENED\", false),\n    mutationHappened = _Digit$Hooks$useSessi[0],\n    setMutationHappened = _Digit$Hooks$useSessi[1];\n  var _Digit$Hooks$useSessi2 = Digit.Hooks.useSessionStorage(\"EMPLOYEE_MSG_MUTATION_SUCCESS_DATA\", false),\n    successData = _Digit$Hooks$useSessi2[0],\n    setsuccessData = _Digit$Hooks$useSessi2[1];\n  var _Digit$Hooks$useSessi3 = Digit.Hooks.useSessionStorage(\"EMPLOYEE_MSG_ERROR_DATA\", false),\n    setErrorInfo = _Digit$Hooks$useSessi3[1];\n  useEffect(function () {\n    if (updateEventMutation.data) setsuccessData(updateEventMutation.data);\n  }, [updateEventMutation.data]);\n  useEffect(function () {\n    if (mutation.data) setsuccessData(mutation.data);\n  }, [mutation.data]);\n  var onError = function onError(error, variables) {\n    var _error$response, _error$response$data, _error$response$data$;\n    setErrorInfo((error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : (_error$response$data$ = _error$response$data.Errors[0]) === null || _error$response$data$ === void 0 ? void 0 : _error$response$data$.code) || 'ERROR');\n    setMutationHappened(true);\n  };\n  useEffect(function () {\n    var onSuccess = function onSuccess() {\n      setMutationHappened(true);\n      queryClient.clear();\n    };\n    if (!mutationHappened) {\n      if (Boolean(searchParams === null || searchParams === void 0 ? void 0 : searchParams.delete) || Boolean(searchParams === null || searchParams === void 0 ? void 0 : searchParams.update)) {\n        updateEventMutation.mutate(state, {\n          onError: onError,\n          onSuccess: onSuccess\n        });\n        return;\n      }\n      mutation.mutate(state, {\n        onError: onError,\n        onSuccess: onSuccess\n      });\n    }\n  }, []);\n  if (searchParams !== null && searchParams !== void 0 && searchParams.delete || searchParams !== null && searchParams !== void 0 && searchParams.update) {\n    if (updateEventMutation.isLoading || updateEventMutation.isIdle && !mutationHappened) {\n      return /*#__PURE__*/React.createElement(Loader, null);\n    }\n    return /*#__PURE__*/React.createElement(Card, null, /*#__PURE__*/React.createElement(BannerPicker$1, {\n      t: t,\n      message: searchParams !== null && searchParams !== void 0 && searchParams.update ? updateEventMutation.isSuccess || successData ? 'ENGAGEMENT_PUBLIC_BRDCST_UPDATED' : 'ENG_PUBLIC_BRDCST_UPDATION_FAILED' : updateEventMutation.isSuccess || successData ? 'ENGAGEMENT_PUBLIC_BRDCST_DELETED' : 'ENGAGEMENT_PUBLIC_BRDCST_DELETION_FAILED',\n      data: updateEventMutation.data || successData,\n      isSuccess: (updateEventMutation === null || updateEventMutation === void 0 ? void 0 : updateEventMutation.isSuccess) || successData,\n      isLoading: updateEventMutation.isIdle && !mutationHappened || updateEventMutation.isLoading\n    }), /*#__PURE__*/React.createElement(CardText, null, searchParams !== null && searchParams !== void 0 && searchParams.update ? t(\"ENGAGEMENT_PUBLIC_BRDCST_MESSAGES\") : t(\"ENGAGEMENT_PUBLIC_BRDCST_MESSAGES\")), /*#__PURE__*/React.createElement(ActionBar, null, /*#__PURE__*/React.createElement(Link, {\n      to: \"/digit-ui/employee\"\n    }, /*#__PURE__*/React.createElement(SubmitBar, {\n      label: t(\"CORE_COMMON_GO_TO_HOME\")\n    }))));\n  }\n  if (mutation.isLoading || mutation.isIdle && !mutationHappened) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n  return /*#__PURE__*/React.createElement(Card, null, /*#__PURE__*/React.createElement(BannerPicker$1, {\n    t: t,\n    message: mutation.isSuccess || successData ? \"ENGAGEMENT_BROADCAST_MESSAGE_CREATED\" : \"ENGAGEMENT_BROADCAST_MESSAGE_FAILED\",\n    data: mutation.data || successData,\n    isSuccess: mutation.isSuccess || successData,\n    isLoading: mutation.isIdle && !mutationHappened || mutation.isLoading\n  }), /*#__PURE__*/React.createElement(ActionBar, null, /*#__PURE__*/React.createElement(Link, {\n    to: \"/digit-ui/employee\"\n  }, /*#__PURE__*/React.createElement(SubmitBar, {\n    label: t(\"CORE_COMMON_GO_TO_HOME\")\n  }))));\n};\nvar EditMessage = function EditMessage() {\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var history = useHistory();\n  var _useParams = useParams(),\n    MessageId = _useParams.id;\n  var tenantId = Digit.ULBService.getCurrentTenantId();\n  var _Digit$Hooks$events$u = Digit.Hooks.events.useInbox(tenantId, {}, {\n      eventTypes: \"BROADCAST\",\n      ids: MessageId\n    }, {\n      select: function select(data) {\n        var _data$events;\n        return data === null || data === void 0 ? void 0 : (_data$events = data.events) === null || _data$events === void 0 ? void 0 : _data$events[0];\n      }\n    }),\n    isLoading = _Digit$Hooks$events$u.isLoading,\n    data = _Digit$Hooks$events$u.data;\n  var _Digit$Hooks$useSessi = Digit.Hooks.useSessionStorage(\"EMPLOYEE_MSG_MUTATION_HAPPENED\", false),\n    setMutationHappened = _Digit$Hooks$useSessi[1];\n  var _Digit$Hooks$useSessi2 = Digit.Hooks.useSessionStorage(\"EMPLOYEE_MSG_ERROR_DATA\", false),\n    clearError = _Digit$Hooks$useSessi2[2];\n  var _Digit$Hooks$useSessi3 = Digit.Hooks.useSessionStorage(\"EMPLOYEE_MSG_MUTATION_SUCCESS_DATA\", false),\n    clearSuccessData = _Digit$Hooks$useSessi3[2];\n  useEffect(function () {\n    setMutationHappened(false);\n    clearSuccessData();\n    clearError();\n  }, []);\n  var onSubmit = function onSubmit(formData) {\n    var _formData$tenantId;\n    var fromDate = formData.fromDate,\n      toDate = formData.toDate,\n      description = formData.description,\n      name = formData.name,\n      documents = formData.documents;\n    var finalDocuments = isNestedArray(documents) ? reduceDocsArray(documents) : documents;\n    var details = {\n      events: [_extends({}, data, {\n        source: \"WEBAPP\",\n        status: \"ACTIVE\",\n        eventType: \"BROADCAST\",\n        tenantId: formData === null || formData === void 0 ? void 0 : (_formData$tenantId = formData.tenantId) === null || _formData$tenantId === void 0 ? void 0 : _formData$tenantId.code,\n        description: description,\n        name: name,\n        eventDetails: {\n          documents: finalDocuments,\n          fromDate: handleTodaysDate(\"\" + fromDate),\n          toDate: handleTodaysDate(\"\" + toDate)\n        }\n      })]\n    };\n    history.push(\"/digit-ui/employee/engagement/messages/response?update=true\", details);\n  };\n  var defaultValues = useMemo(function () {\n    var _data$eventDetails, _data$eventDetails2, _data$eventDetails3;\n    var documents = data === null || data === void 0 ? void 0 : (_data$eventDetails = data.eventDetails) === null || _data$eventDetails === void 0 ? void 0 : _data$eventDetails.documents;\n    return {\n      name: data === null || data === void 0 ? void 0 : data.name,\n      description: data === null || data === void 0 ? void 0 : data.description,\n      documents: documents === null || documents === void 0 ? void 0 : documents.map(function (e) {\n        return [e.fileName, {\n          file: {\n            name: e.fileName,\n            type: e.documentType\n          },\n          fileStoreId: {\n            fileStoreId: e.fileStoreId,\n            tenantId: tenantId\n          }\n        }];\n      }),\n      fromDate: data ? format(new Date(data === null || data === void 0 ? void 0 : (_data$eventDetails2 = data.eventDetails) === null || _data$eventDetails2 === void 0 ? void 0 : _data$eventDetails2.fromDate), 'yyyy-MM-dd') : null,\n      toDate: data ? format(new Date(data === null || data === void 0 ? void 0 : (_data$eventDetails3 = data.eventDetails) === null || _data$eventDetails3 === void 0 ? void 0 : _data$eventDetails3.toDate), 'yyyy-MM-dd') : null\n    };\n  }, [data]);\n  if (isLoading) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n  return /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(Header, null, t(\"EDIT_NEW_PUBLIC_MESSAGE\")), /*#__PURE__*/React.createElement(FormComposer, {\n    defaultValues: defaultValues,\n    config: config$1,\n    onSubmit: onSubmit,\n    label: t(\"ACTION_EDIT_MESSAGE\")\n  }));\n};\nvar configPTApproverApplication = function configPTApproverApplication(_ref) {\n  var _action$assigneeRoles;\n  var t = _ref.t,\n    action = _ref.action,\n    approvers = _ref.approvers,\n    selectedApprover = _ref.selectedApprover,\n    setSelectedApprover = _ref.setSelectedApprover,\n    selectFile = _ref.selectFile,\n    uploadedFile = _ref.uploadedFile,\n    setUploadedFile = _ref.setUploadedFile,\n    assigneeLabel = _ref.assigneeLabel,\n    businessService = _ref.businessService;\n  return {\n    label: {\n      heading: \"WF_\" + (action === null || action === void 0 ? void 0 : action.action) + \"_APPLICATION\",\n      submit: \"WF_\" + businessService + \"_\" + (action === null || action === void 0 ? void 0 : action.action),\n      cancel: \"ES_PT_COMMON_CANCEL\"\n    },\n    form: [{\n      body: [{\n        label: action.isTerminateState || (action === null || action === void 0 ? void 0 : action.action) === \"SENDBACKTOCITIZEN\" ? null : t(assigneeLabel || \"WF_ROLE_\" + ((_action$assigneeRoles = action.assigneeRoles) === null || _action$assigneeRoles === void 0 ? void 0 : _action$assigneeRoles[0])),\n        type: \"dropdown\",\n        populators: action.isTerminateState || (action === null || action === void 0 ? void 0 : action.action) === \"SENDBACKTOCITIZEN\" ? null : /*#__PURE__*/React.createElement(Dropdown, {\n          option: approvers,\n          autoComplete: \"off\",\n          optionKey: \"name\",\n          id: \"fieldInspector\",\n          select: setSelectedApprover,\n          selected: selectedApprover\n        })\n      }, {\n        label: t(\"ES_PT_ACTION_COMMENTS\"),\n        type: \"textarea\",\n        populators: {\n          name: \"comments\"\n        }\n      }, {\n        label: \"\" + t(\"ES_PT_ATTACH_FILE\") + (action.docUploadRequired ? \" *\" : \"\"),\n        populators: /*#__PURE__*/React.createElement(UploadFile, {\n          id: \"workflow-doc\",\n          onUpload: selectFile,\n          onDelete: function onDelete() {\n            setUploadedFile(null);\n          },\n          showHint: true,\n          hintText: t(\"PT_ATTACH_RESTRICTIONS_SIZE\"),\n          message: uploadedFile ? \"1 \" + t(\"ES_PT_ACTION_FILEUPLOADED\") : t(\"ES_PT_ACTION_NO_FILEUPLOADED\")\n        })\n      }]\n    }]\n  };\n};\nvar configPTAssessProperty = function configPTAssessProperty(_ref) {\n  var t = _ref.t,\n    action = _ref.action,\n    financialYears = _ref.financialYears,\n    selectedFinancialYear = _ref.selectedFinancialYear,\n    setSelectedFinancialYear = _ref.setSelectedFinancialYear;\n  return {\n    label: {\n      heading: \"WF_\" + action.action + \"_APPLICATION\",\n      submit: \"WF_PT.CREATE_\" + action.action,\n      cancel: \"ES_PT_COMMON_CANCEL\"\n    },\n    form: [{\n      body: [{\n        label: t(\"ES_PT_FINANCIAL_YEARS\"),\n        isMandatory: true,\n        type: \"radio\",\n        populators: /*#__PURE__*/React.createElement(RadioButtons, {\n          options: financialYears,\n          optionsKey: \"name\",\n          onSelect: setSelectedFinancialYear,\n          selectedOption: selectedFinancialYear\n        })\n      }]\n    }]\n  };\n};\nvar configTLApproverApplication = function configTLApproverApplication(_ref) {\n  var t = _ref.t,\n    action = _ref.action,\n    approvers = _ref.approvers,\n    selectedApprover = _ref.selectedApprover,\n    setSelectedApprover = _ref.setSelectedApprover,\n    selectFile = _ref.selectFile,\n    uploadedFile = _ref.uploadedFile,\n    setUploadedFile = _ref.setUploadedFile,\n    businessService = _ref.businessService;\n  var checkCondtions = true;\n  if ((action === null || action === void 0 ? void 0 : action.action) == \"SENDBACKTOCITIZEN\" || (action === null || action === void 0 ? void 0 : action.action) == \"APPROVE\") checkCondtions = false;\n  if (action.isTerminateState) checkCondtions = false;\n  return {\n    label: {\n      heading: \"WF_\" + (action === null || action === void 0 ? void 0 : action.action) + \"_APPLICATION\",\n      submit: \"WF_\" + (businessService === null || businessService === void 0 ? void 0 : businessService.toUpperCase()) + \"_\" + (action === null || action === void 0 ? void 0 : action.action),\n      cancel: \"WF_EMPLOYEE_NEWTL_CANCEL\"\n    },\n    form: [{\n      body: [{\n        label: !checkCondtions ? null : t(\"WF_ASSIGNEE_NAME_LABEL\"),\n        placeholder: !checkCondtions ? null : t(\"WF_ASSIGNEE_NAME_PLACEHOLDER\"),\n        type: \"dropdown\",\n        populators: !checkCondtions ? null : /*#__PURE__*/React.createElement(Dropdown, {\n          option: approvers,\n          autoComplete: \"off\",\n          optionKey: \"name\",\n          id: \"fieldInspector\",\n          select: setSelectedApprover,\n          selected: selectedApprover\n        })\n      }, {\n        label: t(\"WF_COMMON_COMMENTS\"),\n        type: \"textarea\",\n        populators: {\n          name: \"comments\"\n        }\n      }, {\n        label: t(\"TL_APPROVAL_CHECKLIST_BUTTON_UP_FILE\"),\n        populators: /*#__PURE__*/React.createElement(UploadFile, {\n          id: \"workflow-doc\",\n          onUpload: selectFile,\n          onDelete: function onDelete() {\n            setUploadedFile(null);\n          },\n          message: uploadedFile ? \"1 \" + t(\"ES_PT_ACTION_FILEUPLOADED\") : t(\"CS_ACTION_NO_FILEUPLOADED\")\n        })\n      }]\n    }]\n  };\n};\nvar configBPAREGApproverApplication = function configBPAREGApproverApplication(_ref) {\n  var t = _ref.t,\n    action = _ref.action,\n    approvers = _ref.approvers,\n    selectedApprover = _ref.selectedApprover,\n    setSelectedApprover = _ref.setSelectedApprover,\n    selectFile = _ref.selectFile,\n    uploadedFile = _ref.uploadedFile,\n    setUploadedFile = _ref.setUploadedFile,\n    businessService = _ref.businessService,\n    error = _ref.error;\n  var checkCondtions = true;\n  if ((action === null || action === void 0 ? void 0 : action.action) == \"SENDBACKTOCITIZEN\") checkCondtions = false;\n  if (action.isTerminateState) checkCondtions = false;\n  return {\n    label: {\n      heading: \"WF_\" + (action === null || action === void 0 ? void 0 : action.action) + \"_APPLICATION\",\n      submit: \"WF_\" + (businessService === null || businessService === void 0 ? void 0 : businessService.toUpperCase()) + \"_\" + (action === null || action === void 0 ? void 0 : action.action),\n      cancel: \"WF_EMPLOYEE_BPAREG_CANCEL\"\n    },\n    form: [{\n      body: [{\n        label: !checkCondtions ? null : t(\"WF_ASSIGNEE_NAME_LABEL\"),\n        placeholder: !checkCondtions ? null : t(\"WF_ASSIGNEE_NAME_PLACEHOLDER\"),\n        type: \"dropdown\",\n        populators: !checkCondtions ? null : /*#__PURE__*/React.createElement(Dropdown, {\n          option: approvers,\n          autoComplete: \"off\",\n          optionKey: \"name\",\n          id: \"fieldInspector\",\n          select: setSelectedApprover,\n          selected: selectedApprover\n        })\n      }, {\n        label: t(\"WF_COMMON_COMMENTS\"),\n        type: \"textarea\",\n        populators: {\n          name: \"comments\"\n        }\n      }, {\n        label: t(\"BPA_APPROVAL_CHECKLIST_BUTTON_UP_FILE\"),\n        populators: /*#__PURE__*/React.createElement(UploadFile, {\n          id: \"workflow-doc\",\n          onUpload: selectFile,\n          onDelete: function onDelete() {\n            setUploadedFile(null);\n          },\n          message: uploadedFile ? \"1 \" + t(\"ES_PT_ACTION_FILEUPLOADED\") : t(\"CS_ACTION_NO_FILEUPLOADED\"),\n          accept: \"image/*, .pdf, .png, .jpeg, .jpg\",\n          iserror: error\n        })\n      }]\n    }]\n  };\n};\nvar configBPAApproverApplication = function configBPAApproverApplication(_ref) {\n  var _action$assigneeRoles;\n  var t = _ref.t,\n    action = _ref.action,\n    approvers = _ref.approvers,\n    selectedApprover = _ref.selectedApprover,\n    setSelectedApprover = _ref.setSelectedApprover,\n    selectFile = _ref.selectFile,\n    uploadedFile = _ref.uploadedFile,\n    setUploadedFile = _ref.setUploadedFile,\n    assigneeLabel = _ref.assigneeLabel,\n    businessService = _ref.businessService,\n    error = _ref.error;\n  var isRejectOrRevocate = false;\n  if ((action === null || action === void 0 ? void 0 : action.action) == \"REVOCATE\" || (action === null || action === void 0 ? void 0 : action.action) == \"REJECT\" || action.action == \"SKIP_PAYMENT\" || (action === null || action === void 0 ? void 0 : action.action) == \"SEND_BACK_TO_CITIZEN\" || (action === null || action === void 0 ? void 0 : action.action) == \"APPROVE\") {\n    isRejectOrRevocate = true;\n  }\n  var isCommentRequired = false;\n  if ((action === null || action === void 0 ? void 0 : action.action) == \"REVOCATE\" || (action === null || action === void 0 ? void 0 : action.action) == \"REJECT\") {\n    isCommentRequired = true;\n  }\n  return {\n    label: {\n      heading: \"WF_\" + (action === null || action === void 0 ? void 0 : action.action) + \"_APPLICATION\",\n      submit: \"WF_\" + businessService + \"_\" + (action === null || action === void 0 ? void 0 : action.action),\n      cancel: \"BPA_CITIZEN_CANCEL_BUTTON\"\n    },\n    form: [{\n      body: [{\n        label: action.isTerminateState || isRejectOrRevocate ? null : t(assigneeLabel || \"WF_ROLE_\" + ((_action$assigneeRoles = action.assigneeRoles) === null || _action$assigneeRoles === void 0 ? void 0 : _action$assigneeRoles[0])),\n        type: \"dropdown\",\n        populators: action.isTerminateState || isRejectOrRevocate ? null : /*#__PURE__*/React.createElement(Dropdown, {\n          option: approvers,\n          autoComplete: \"off\",\n          optionKey: \"name\",\n          id: \"fieldInspector\",\n          select: setSelectedApprover,\n          selected: selectedApprover\n        })\n      }, {\n        label: t(\"WF_COMMON_COMMENTS\"),\n        type: \"textarea\",\n        isMandatory: isCommentRequired,\n        populators: {\n          name: \"comments\"\n        }\n      }, {\n        label: \"\" + t(\"WF_APPROVAL_UPLOAD_HEAD\"),\n        populators: /*#__PURE__*/React.createElement(UploadFile, {\n          id: \"workflow-doc\",\n          onUpload: selectFile,\n          onDelete: function onDelete() {\n            setUploadedFile(null);\n          },\n          message: uploadedFile ? \"1 \" + t(\"ES_PT_ACTION_FILEUPLOADED\") : t(\"CS_ACTION_NO_FILEUPLOADED\"),\n          accept: \"image/*, .pdf, .png, .jpeg, .jpg\",\n          iserror: error\n        })\n      }]\n    }]\n  };\n};\nvar configNOCApproverApplication = function configNOCApproverApplication(_ref) {\n  var _action$assigneeRoles;\n  var t = _ref.t,\n    action = _ref.action,\n    approvers = _ref.approvers,\n    selectedApprover = _ref.selectedApprover,\n    setSelectedApprover = _ref.setSelectedApprover,\n    selectFile = _ref.selectFile,\n    uploadedFile = _ref.uploadedFile,\n    setUploadedFile = _ref.setUploadedFile,\n    assigneeLabel = _ref.assigneeLabel,\n    businessService = _ref.businessService,\n    error = _ref.error;\n  var isCommentRequired = false;\n  if ((action === null || action === void 0 ? void 0 : action.action) == \"REVOCATE\" || (action === null || action === void 0 ? void 0 : action.action) == \"REJECT\") {\n    isCommentRequired = true;\n  }\n  var isRejectOrRevocate = false;\n  if ((action === null || action === void 0 ? void 0 : action.action) == \"APPROVE\" || (action === null || action === void 0 ? void 0 : action.action) == \"REJECT\" || action.action == \"AUTO_APPROVE\" || action.action == \"AUTO_REJECT\") {\n    isRejectOrRevocate = true;\n  }\n  return {\n    label: {\n      heading: \"WF_\" + (action === null || action === void 0 ? void 0 : action.action) + \"_APPLICATION\",\n      submit: \"WF_\" + businessService + \"_\" + (action === null || action === void 0 ? void 0 : action.action),\n      cancel: \"CORE_LOGOUTPOPUP_CANCEL\"\n    },\n    form: [{\n      body: [{\n        label: action.isTerminateState || isRejectOrRevocate ? null : t(assigneeLabel || \"WF_ROLE_\" + ((_action$assigneeRoles = action.assigneeRoles) === null || _action$assigneeRoles === void 0 ? void 0 : _action$assigneeRoles[0])),\n        type: \"dropdown\",\n        populators: action.isTerminateState || isRejectOrRevocate ? null : /*#__PURE__*/React.createElement(Dropdown, {\n          option: approvers,\n          autoComplete: \"off\",\n          optionKey: \"name\",\n          id: \"fieldInspector\",\n          select: setSelectedApprover,\n          selected: selectedApprover\n        })\n      }, {\n        label: t(\"WF_COMMON_COMMENTS\"),\n        type: \"textarea\",\n        isMandatory: isCommentRequired,\n        populators: {\n          name: \"comments\"\n        }\n      }, {\n        label: \"\" + t(\"WF_APPROVAL_UPLOAD_HEAD\"),\n        populators: /*#__PURE__*/React.createElement(UploadFile, {\n          id: \"workflow-doc\",\n          onUpload: selectFile,\n          onDelete: function onDelete() {\n            setUploadedFile(null);\n          },\n          showHint: true,\n          message: uploadedFile ? \"1 \" + t(\"ES_PT_ACTION_FILEUPLOADED\") : t(\"CS_ACTION_NO_FILEUPLOADED\"),\n          accept: \"image/*, .pdf, .png, .jpeg, .jpg\",\n          iserror: error\n        })\n      }]\n    }]\n  };\n};\nvar Heading = function Heading(props) {\n  return /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"heading-m\"\n  }, props.label);\n};\nvar Close = function Close() {\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"#FFFFFF\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0V0z\",\n    fill: \"none\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z\"\n  }));\n};\nvar CloseBtn = function CloseBtn(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"icon-bg-secondary\",\n    onClick: props.onClick\n  }, /*#__PURE__*/React.createElement(Close, null));\n};\nvar ActionModal = function ActionModal(_ref) {\n  var _action$assigneeRoles, _action$assigneeRoles2;\n  var t = _ref.t,\n    action = _ref.action,\n    tenantId = _ref.tenantId,\n    closeModal = _ref.closeModal,\n    submitAction = _ref.submitAction,\n    applicationData = _ref.applicationData,\n    businessService = _ref.businessService,\n    moduleCode = _ref.moduleCode;\n  var _Digit$Hooks$useEmplo = Digit.Hooks.useEmployeeSearch(tenantId, {\n      roles: action === null || action === void 0 ? void 0 : (_action$assigneeRoles = action.assigneeRoles) === null || _action$assigneeRoles === void 0 ? void 0 : (_action$assigneeRoles2 = _action$assigneeRoles.map) === null || _action$assigneeRoles2 === void 0 ? void 0 : _action$assigneeRoles2.call(_action$assigneeRoles, function (e) {\n        return {\n          code: e\n        };\n      }),\n      isActive: true\n    }, {\n      enabled: !(action !== null && action !== void 0 && action.isTerminateState)\n    }),\n    approverData = _Digit$Hooks$useEmplo.data,\n    PTALoading = _Digit$Hooks$useEmplo.isLoading;\n  var _Digit$Hooks$pt$useMD = Digit.Hooks.pt.useMDMS(tenantId, businessService, \"FINANCIAL_YEARLS\", {}, {\n      details: {\n        tenantId: Digit.ULBService.getStateId(),\n        moduleDetails: [{\n          moduleName: \"egf-master\",\n          masterDetails: [{\n            name: \"FinancialYear\",\n            filter: \"[?(@.module == 'PT')]\"\n          }]\n        }]\n      }\n    }),\n    financialYearsLoading = _Digit$Hooks$pt$useMD.isLoading,\n    financialYearsData = _Digit$Hooks$pt$useMD.data;\n  var _useState = useState({}),\n    config = _useState[0],\n    setConfig = _useState[1];\n  var _useState2 = useState({}),\n    defaultValues = _useState2[0];\n  var _useState3 = useState([]),\n    approvers = _useState3[0],\n    setApprovers = _useState3[1];\n  var _useState4 = useState(null),\n    selectedApprover = _useState4[0],\n    setSelectedApprover = _useState4[1];\n  var _useState5 = useState(null),\n    file = _useState5[0],\n    setFile = _useState5[1];\n  var _useState6 = useState(null),\n    uploadedFile = _useState6[0],\n    setUploadedFile = _useState6[1];\n  var _useState7 = useState(null),\n    setError = _useState7[1];\n  var _useState8 = useState([]),\n    financialYears = _useState8[0],\n    setFinancialYears = _useState8[1];\n  var _useState9 = useState(null),\n    selectedFinancialYear = _useState9[0],\n    setSelectedFinancialYear = _useState9[1];\n  var _useState10 = useState(false);\n  useEffect(function () {\n    if (financialYearsData && financialYearsData[\"egf-master\"]) {\n      var _financialYearsData$e;\n      setFinancialYears((_financialYearsData$e = financialYearsData[\"egf-master\"]) === null || _financialYearsData$e === void 0 ? void 0 : _financialYearsData$e[\"FinancialYear\"]);\n    }\n  }, [financialYearsData]);\n  useEffect(function () {\n    var _approverData$Employe;\n    setApprovers(approverData === null || approverData === void 0 ? void 0 : (_approverData$Employe = approverData.Employees) === null || _approverData$Employe === void 0 ? void 0 : _approverData$Employe.map(function (employee) {\n      var _employee$user;\n      return {\n        uuid: employee === null || employee === void 0 ? void 0 : employee.uuid,\n        name: employee === null || employee === void 0 ? void 0 : (_employee$user = employee.user) === null || _employee$user === void 0 ? void 0 : _employee$user.name\n      };\n    }));\n  }, [approverData]);\n  function selectFile(e) {\n    setFile(e.target.files[0]);\n  }\n  useEffect(function () {\n    (function () {\n      try {\n        setError(null);\n        var _temp4 = function () {\n          if (file) {\n            var _temp5 = function () {\n              if (file.size >= 5242880) {\n                setError(t(\"CS_MAXIMUM_UPLOAD_SIZE_EXCEEDED\"));\n              } else {\n                var _temp6 = _catch(function () {\n                  return Promise.resolve(Digit.UploadServices.Filestorage(\"PT\", file, Digit.ULBService.getStateId())).then(function (response) {\n                    var _response$data, _response$data$files;\n                    if ((response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : (_response$data$files = _response$data.files) === null || _response$data$files === void 0 ? void 0 : _response$data$files.length) > 0) {\n                      var _response$data2, _response$data2$files;\n                      setUploadedFile(response === null || response === void 0 ? void 0 : (_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : (_response$data2$files = _response$data2.files[0]) === null || _response$data2$files === void 0 ? void 0 : _response$data2$files.fileStoreId);\n                    } else {\n                      setError(t(\"CS_FILE_UPLOAD_ERROR\"));\n                    }\n                  });\n                }, function () {\n                  setError(t(\"CS_FILE_UPLOAD_ERROR\"));\n                });\n                if (_temp6 && _temp6.then) return _temp6.then(function () {});\n              }\n            }();\n            if (_temp5 && _temp5.then) return _temp5.then(function () {});\n          }\n        }();\n        return _temp4 && _temp4.then ? _temp4.then(function () {}) : void 0;\n      } catch (e) {\n        Promise.reject(e);\n      }\n    })();\n  }, [file]);\n  function submit(data) {\n    if (!(action !== null && action !== void 0 && action.showFinancialYearsModal)) {\n      var workflow = {\n        action: action === null || action === void 0 ? void 0 : action.action,\n        comments: data === null || data === void 0 ? void 0 : data.comments,\n        businessService: businessService,\n        moduleName: moduleCode\n      };\n      workflow[\"assignes\"] = action !== null && action !== void 0 && action.isTerminateState || !selectedApprover ? [] : [selectedApprover];\n      if (uploadedFile) workflow[\"documents\"] = [{\n        documentType: (action === null || action === void 0 ? void 0 : action.action) + \" DOC\",\n        fileName: file === null || file === void 0 ? void 0 : file.name,\n        fileStoreId: uploadedFile\n      }];\n      submitAction({\n        Property: _extends({}, applicationData, {\n          workflow: workflow\n        })\n      });\n    } else {\n      submitAction({\n        customFunctionToExecute: action === null || action === void 0 ? void 0 : action.customFunctionToExecute,\n        Assessment: {\n          financialYear: selectedFinancialYear === null || selectedFinancialYear === void 0 ? void 0 : selectedFinancialYear.name,\n          propertyId: applicationData === null || applicationData === void 0 ? void 0 : applicationData.propertyId,\n          tenantId: tenantId,\n          source: applicationData === null || applicationData === void 0 ? void 0 : applicationData.source,\n          channel: applicationData === null || applicationData === void 0 ? void 0 : applicationData.channel,\n          assessmentDate: Date.now()\n        }\n      });\n    }\n  }\n  useEffect(function () {\n    if (action) {\n      if (action !== null && action !== void 0 && action.showFinancialYearsModal) {\n        setConfig(configPTAssessProperty({\n          t: t,\n          action: action,\n          financialYears: financialYears,\n          selectedFinancialYear: selectedFinancialYear,\n          setSelectedFinancialYear: setSelectedFinancialYear\n        }));\n      } else {\n        setConfig(configPTApproverApplication({\n          t: t,\n          action: action,\n          approvers: approvers,\n          selectedApprover: selectedApprover,\n          setSelectedApprover: setSelectedApprover,\n          selectFile: selectFile,\n          uploadedFile: uploadedFile,\n          setUploadedFile: setUploadedFile,\n          businessService: businessService\n        }));\n      }\n    }\n  }, [action, approvers, financialYears, selectedFinancialYear, uploadedFile]);\n  return action && config.form ? /*#__PURE__*/React.createElement(Modal, {\n    headerBarMain: /*#__PURE__*/React.createElement(Heading, {\n      label: t(config.label.heading)\n    }),\n    headerBarEnd: /*#__PURE__*/React.createElement(CloseBtn, {\n      onClick: closeModal\n    }),\n    actionCancelLabel: t(config.label.cancel),\n    actionCancelOnSubmit: closeModal,\n    actionSaveLabel: t(config.label.submit),\n    actionSaveOnSubmit: function actionSaveOnSubmit() {},\n    isDisabled: !action.showFinancialYearsModal ? PTALoading || (action === null || action === void 0 ? void 0 : action.docUploadRequired) && !uploadedFile : !selectedFinancialYear,\n    formId: \"modal-action\"\n  }, financialYearsLoading ? /*#__PURE__*/React.createElement(Loader, null) : /*#__PURE__*/React.createElement(FormComposer, {\n    config: config.form,\n    noBoxShadow: true,\n    inline: true,\n    childrenAtTheBottom: true,\n    onSubmit: submit,\n    defaultValues: defaultValues,\n    formId: \"modal-action\"\n  })) : /*#__PURE__*/React.createElement(Loader, null);\n};\nvar Heading$1 = function Heading(props) {\n  return /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"heading-m\"\n  }, props.label);\n};\nvar Close$1 = function Close() {\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"#FFFFFF\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0V0z\",\n    fill: \"none\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z\"\n  }));\n};\nvar CloseBtn$1 = function CloseBtn(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"icon-bg-secondary\",\n    onClick: props.onClick\n  }, /*#__PURE__*/React.createElement(Close$1, null));\n};\nvar ActionModal$1 = function ActionModal(_ref) {\n  var _action$assigneeRoles, _action$assigneeRoles2;\n  var t = _ref.t,\n    action = _ref.action,\n    tenantId = _ref.tenantId,\n    closeModal = _ref.closeModal,\n    submitAction = _ref.submitAction,\n    applicationData = _ref.applicationData,\n    businessService = _ref.businessService;\n  var _Digit$Hooks$useEmplo = Digit.Hooks.useEmployeeSearch(tenantId, {\n      roles: action === null || action === void 0 ? void 0 : (_action$assigneeRoles = action.assigneeRoles) === null || _action$assigneeRoles === void 0 ? void 0 : (_action$assigneeRoles2 = _action$assigneeRoles.map) === null || _action$assigneeRoles2 === void 0 ? void 0 : _action$assigneeRoles2.call(_action$assigneeRoles, function (e) {\n        return {\n          code: e\n        };\n      }),\n      isActive: true\n    }, {\n      enabled: !(action !== null && action !== void 0 && action.isTerminateState)\n    }),\n    approverData = _Digit$Hooks$useEmplo.data;\n  var _Digit$Hooks$pt$useMD = Digit.Hooks.pt.useMDMS(tenantId, businessService, \"FINANCIAL_YEARLS\", {}, {\n      details: {\n        tenantId: Digit.ULBService.getStateId(),\n        moduleDetails: [{\n          moduleName: \"egf-master\",\n          masterDetails: [{\n            name: \"FinancialYear\",\n            filter: \"[?(@.module == 'TL')]\"\n          }]\n        }]\n      }\n    }),\n    financialYearsLoading = _Digit$Hooks$pt$useMD.isLoading,\n    financialYearsData = _Digit$Hooks$pt$useMD.data;\n  var _useState = useState({}),\n    config = _useState[0],\n    setConfig = _useState[1];\n  var _useState2 = useState({}),\n    defaultValues = _useState2[0];\n  var _useState3 = useState([]),\n    approvers = _useState3[0],\n    setApprovers = _useState3[1];\n  var _useState4 = useState({}),\n    selectedApprover = _useState4[0],\n    setSelectedApprover = _useState4[1];\n  var _useState5 = useState(null),\n    file = _useState5[0],\n    setFile = _useState5[1];\n  var _useState6 = useState(null),\n    uploadedFile = _useState6[0],\n    setUploadedFile = _useState6[1];\n  var _useState7 = useState(null),\n    setError = _useState7[1];\n  var _useState8 = useState([]),\n    financialYears = _useState8[0],\n    setFinancialYears = _useState8[1];\n  var _useState9 = useState(null),\n    selectedFinancialYear = _useState9[0];\n  useEffect(function () {\n    if (financialYearsData && financialYearsData[\"egf-master\"]) {\n      var _financialYearsData$e;\n      setFinancialYears((_financialYearsData$e = financialYearsData[\"egf-master\"]) === null || _financialYearsData$e === void 0 ? void 0 : _financialYearsData$e[\"FinancialYear\"]);\n    }\n  }, [financialYearsData]);\n  useEffect(function () {\n    var _approverData$Employe;\n    setApprovers(approverData === null || approverData === void 0 ? void 0 : (_approverData$Employe = approverData.Employees) === null || _approverData$Employe === void 0 ? void 0 : _approverData$Employe.map(function (employee) {\n      var _employee$user;\n      return {\n        uuid: employee === null || employee === void 0 ? void 0 : employee.uuid,\n        name: employee === null || employee === void 0 ? void 0 : (_employee$user = employee.user) === null || _employee$user === void 0 ? void 0 : _employee$user.name\n      };\n    }));\n  }, [approverData]);\n  function selectFile(e) {\n    setFile(e.target.files[0]);\n  }\n  useEffect(function () {\n    (function () {\n      try {\n        setError(null);\n        var _temp4 = function () {\n          if (file) {\n            var _temp5 = function () {\n              if (file.size >= 5242880) {\n                setError(t(\"CS_MAXIMUM_UPLOAD_SIZE_EXCEEDED\"));\n              } else {\n                var _temp6 = _catch(function () {\n                  return Promise.resolve(Digit.UploadServices.Filestorage(\"PT\", file, Digit.ULBService.getStateId())).then(function (response) {\n                    var _response$data, _response$data$files;\n                    if ((response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : (_response$data$files = _response$data.files) === null || _response$data$files === void 0 ? void 0 : _response$data$files.length) > 0) {\n                      var _response$data2, _response$data2$files;\n                      setUploadedFile(response === null || response === void 0 ? void 0 : (_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : (_response$data2$files = _response$data2.files[0]) === null || _response$data2$files === void 0 ? void 0 : _response$data2$files.fileStoreId);\n                    } else {\n                      setError(t(\"CS_FILE_UPLOAD_ERROR\"));\n                    }\n                  });\n                }, function () {\n                  setError(t(\"CS_FILE_UPLOAD_ERROR\"));\n                });\n                if (_temp6 && _temp6.then) return _temp6.then(function () {});\n              }\n            }();\n            if (_temp5 && _temp5.then) return _temp5.then(function () {});\n          }\n        }();\n        return _temp4 && _temp4.then ? _temp4.then(function () {}) : void 0;\n      } catch (e) {\n        Promise.reject(e);\n      }\n    })();\n  }, [file]);\n  function submit(data) {\n    applicationData = _extends({}, applicationData, {\n      action: action === null || action === void 0 ? void 0 : action.action,\n      comment: data === null || data === void 0 ? void 0 : data.comments,\n      assignee: !(selectedApprover !== null && selectedApprover !== void 0 && selectedApprover.uuid) ? null : [selectedApprover === null || selectedApprover === void 0 ? void 0 : selectedApprover.uuid],\n      wfDocuments: uploadedFile ? [{\n        documentType: (action === null || action === void 0 ? void 0 : action.action) + \" DOC\",\n        fileName: file === null || file === void 0 ? void 0 : file.name,\n        fileStoreId: uploadedFile\n      }] : null\n    });\n    submitAction({\n      Licenses: [applicationData]\n    });\n  }\n  useEffect(function () {\n    if (action) {\n      setConfig(configTLApproverApplication({\n        t: t,\n        action: action,\n        approvers: approvers,\n        selectedApprover: selectedApprover,\n        setSelectedApprover: setSelectedApprover,\n        selectFile: selectFile,\n        uploadedFile: uploadedFile,\n        setUploadedFile: setUploadedFile,\n        businessService: businessService\n      }));\n    }\n  }, [action, approvers, financialYears, selectedFinancialYear, uploadedFile]);\n  return action && config.form ? /*#__PURE__*/React.createElement(Modal, {\n    headerBarMain: /*#__PURE__*/React.createElement(Heading$1, {\n      label: t(config.label.heading)\n    }),\n    headerBarEnd: /*#__PURE__*/React.createElement(CloseBtn$1, {\n      onClick: closeModal\n    }),\n    actionCancelLabel: t(config.label.cancel),\n    actionCancelOnSubmit: closeModal,\n    actionSaveLabel: t(config.label.submit),\n    actionSaveOnSubmit: function actionSaveOnSubmit() {},\n    formId: \"modal-action\"\n  }, financialYearsLoading ? /*#__PURE__*/React.createElement(Loader, null) : /*#__PURE__*/React.createElement(FormComposer, {\n    config: config.form,\n    noBoxShadow: true,\n    inline: true,\n    childrenAtTheBottom: true,\n    onSubmit: submit,\n    defaultValues: defaultValues,\n    formId: \"modal-action\"\n  })) : /*#__PURE__*/React.createElement(Loader, null);\n};\nvar Heading$2 = function Heading(props) {\n  return /*#__PURE__*/React.createElement(\"h1\", {\n    style: {\n      marginLeft: \"22px\"\n    },\n    className: \"heading-m BPAheading-m\"\n  }, props.label);\n};\nvar Close$2 = function Close() {\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"#FFFFFF\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0V0z\",\n    fill: \"none\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z\"\n  }));\n};\nvar CloseBtn$2 = function CloseBtn(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"icon-bg-secondary\",\n    onClick: props.onClick\n  }, /*#__PURE__*/React.createElement(Close$2, null));\n};\nvar ActionModal$2 = function ActionModal(_ref) {\n  var _action$assigneeRoles, _action$assigneeRoles2;\n  var t = _ref.t,\n    action = _ref.action,\n    tenantId = _ref.tenantId,\n    closeModal = _ref.closeModal,\n    submitAction = _ref.submitAction,\n    applicationData = _ref.applicationData,\n    businessService = _ref.businessService;\n  var _Digit$Hooks$useEmplo = Digit.Hooks.useEmployeeSearch(tenantId, {\n      roles: action === null || action === void 0 ? void 0 : (_action$assigneeRoles = action.assigneeRoles) === null || _action$assigneeRoles === void 0 ? void 0 : (_action$assigneeRoles2 = _action$assigneeRoles.map) === null || _action$assigneeRoles2 === void 0 ? void 0 : _action$assigneeRoles2.call(_action$assigneeRoles, function (e) {\n        return {\n          code: e\n        };\n      }),\n      isActive: true\n    }, {\n      enabled: !(action !== null && action !== void 0 && action.isTerminateState)\n    }),\n    approverData = _Digit$Hooks$useEmplo.data,\n    PTALoading = _Digit$Hooks$useEmplo.isLoading;\n  var _useState = useState({}),\n    config = _useState[0],\n    setConfig = _useState[1];\n  var _useState2 = useState({}),\n    defaultValues = _useState2[0];\n  var _useState3 = useState([]),\n    approvers = _useState3[0],\n    setApprovers = _useState3[1];\n  var _useState4 = useState({}),\n    selectedApprover = _useState4[0],\n    setSelectedApprover = _useState4[1];\n  var _useState5 = useState(null),\n    file = _useState5[0],\n    setFile = _useState5[1];\n  var _useState6 = useState(null),\n    uploadedFile = _useState6[0],\n    setUploadedFile = _useState6[1];\n  var _useState7 = useState(null),\n    error = _useState7[0],\n    setError = _useState7[1];\n  var mobileView = Digit.Utils.browser.isMobile() ? true : false;\n  useEffect(function () {\n    var _approverData$Employe;\n    setApprovers(approverData === null || approverData === void 0 ? void 0 : (_approverData$Employe = approverData.Employees) === null || _approverData$Employe === void 0 ? void 0 : _approverData$Employe.map(function (employee) {\n      var _employee$user;\n      return {\n        uuid: employee === null || employee === void 0 ? void 0 : employee.uuid,\n        name: employee === null || employee === void 0 ? void 0 : (_employee$user = employee.user) === null || _employee$user === void 0 ? void 0 : _employee$user.name\n      };\n    }));\n  }, [approverData]);\n  function selectFile(e) {\n    setFile(e.target.files[0]);\n  }\n  useEffect(function () {\n    (function () {\n      try {\n        setError(null);\n        var _temp5 = function () {\n          if (file) {\n            var allowedFileTypesRegex = /(.*?)(jpg|jpeg|png|image|pdf)$/i;\n            var _temp6 = function () {\n              if (file.size >= 5242880) {\n                setError(t(\"CS_MAXIMUM_UPLOAD_SIZE_EXCEEDED\"));\n              } else {\n                var _temp7 = function () {\n                  if (file !== null && file !== void 0 && file.type && !allowedFileTypesRegex.test(file === null || file === void 0 ? void 0 : file.type)) {\n                    setError(t(\"NOT_SUPPORTED_FILE_TYPE\"));\n                  } else {\n                    var _temp8 = _catch(function () {\n                      return Promise.resolve(Digit.UploadServices.Filestorage(\"OBPS\", file, Digit.ULBService.getStateId() || (tenantId === null || tenantId === void 0 ? void 0 : tenantId.split(\".\")[0]))).then(function (response) {\n                        var _response$data, _response$data$files;\n                        if ((response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : (_response$data$files = _response$data.files) === null || _response$data$files === void 0 ? void 0 : _response$data$files.length) > 0) {\n                          var _response$data2, _response$data2$files;\n                          setUploadedFile(response === null || response === void 0 ? void 0 : (_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : (_response$data2$files = _response$data2.files[0]) === null || _response$data2$files === void 0 ? void 0 : _response$data2$files.fileStoreId);\n                        } else {\n                          setError(t(\"CS_FILE_UPLOAD_ERROR\"));\n                        }\n                      });\n                    }, function () {\n                      setError(t(\"CS_FILE_UPLOAD_ERROR\"));\n                    });\n                    if (_temp8 && _temp8.then) return _temp8.then(function () {});\n                  }\n                }();\n                if (_temp7 && _temp7.then) return _temp7.then(function () {});\n              }\n            }();\n            if (_temp6 && _temp6.then) return _temp6.then(function () {});\n          }\n        }();\n        return _temp5 && _temp5.then ? _temp5.then(function () {}) : void 0;\n      } catch (e) {\n        Promise.reject(e);\n      }\n    })();\n  }, [file]);\n  function submit(data) {\n    applicationData = _extends({}, applicationData, {\n      action: action === null || action === void 0 ? void 0 : action.action,\n      comment: data === null || data === void 0 ? void 0 : data.comments,\n      assignee: !(selectedApprover !== null && selectedApprover !== void 0 && selectedApprover.uuid) ? null : [selectedApprover === null || selectedApprover === void 0 ? void 0 : selectedApprover.uuid],\n      wfDocuments: uploadedFile ? [{\n        documentType: (action === null || action === void 0 ? void 0 : action.action) + \" DOC\",\n        fileName: file === null || file === void 0 ? void 0 : file.name,\n        fileStoreId: uploadedFile\n      }] : null\n    });\n    submitAction({\n      Licenses: [applicationData]\n    }, false, {\n      isStakeholder: true,\n      bpa: false\n    });\n  }\n  useEffect(function () {\n    if (action) {\n      setConfig(configBPAREGApproverApplication({\n        t: t,\n        action: action,\n        approvers: approvers,\n        selectedApprover: selectedApprover,\n        setSelectedApprover: setSelectedApprover,\n        selectFile: selectFile,\n        uploadedFile: uploadedFile,\n        setUploadedFile: setUploadedFile,\n        businessService: businessService,\n        error: error\n      }));\n    }\n  }, [action, approvers, uploadedFile, error]);\n  return action && config.form ? /*#__PURE__*/React.createElement(Modal, {\n    headerBarMain: /*#__PURE__*/React.createElement(Heading$2, {\n      label: t(config.label.heading)\n    }),\n    headerBarEnd: /*#__PURE__*/React.createElement(CloseBtn$2, {\n      onClick: closeModal\n    }),\n    actionCancelLabel: t(config.label.cancel),\n    actionCancelOnSubmit: closeModal,\n    actionSaveLabel: t(config.label.submit),\n    actionSaveOnSubmit: function actionSaveOnSubmit() {},\n    formId: \"modal-action\",\n    isOBPSFlow: true,\n    popupStyles: mobileView ? {\n      width: \"720px\"\n    } : {},\n    style: !mobileView ? {\n      height: \"45px\",\n      width: \"107px\",\n      paddingLeft: \"0px\",\n      paddingRight: \"0px\"\n    } : {\n      height: \"45px\",\n      width: \"44%\"\n    },\n    popupModuleMianStyles: mobileView ? {\n      paddingLeft: \"5px\"\n    } : {}\n  }, PTALoading ? /*#__PURE__*/React.createElement(Loader, null) : /*#__PURE__*/React.createElement(FormComposer, {\n    config: config.form,\n    cardStyle: {\n      marginLeft: \"0px\",\n      marginRight: \"0px\",\n      marginTop: \"-25px\"\n    },\n    className: \"BPAemployeeCard\",\n    noBoxShadow: true,\n    inline: true,\n    childrenAtTheBottom: true,\n    onSubmit: submit,\n    defaultValues: defaultValues,\n    formId: \"modal-action\"\n  })) : /*#__PURE__*/React.createElement(Loader, null);\n};\nvar Heading$3 = function Heading(props) {\n  return /*#__PURE__*/React.createElement(\"h1\", {\n    style: {\n      marginLeft: \"22px\"\n    },\n    className: \"heading-m BPAheading-m\"\n  }, props.label);\n};\nvar Close$3 = function Close() {\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"#FFFFFF\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0V0z\",\n    fill: \"none\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z\"\n  }));\n};\nvar CloseBtn$3 = function CloseBtn(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"icon-bg-secondary\",\n    onClick: props.onClick\n  }, /*#__PURE__*/React.createElement(Close$3, null));\n};\nvar ActionModal$3 = function ActionModal(_ref) {\n  var _applicationData, _applicationData$land, _applicationData$land2, _applicationData2, _applicationData2$lan, _applicationData2$lan2, _workflowDetails$data, _workflowDetails$data2, _workflowDetails$data3, _workflowDetails$data4, _workflowDetails$data5, _workflowDetails$data6;\n  var t = _ref.t,\n    action = _ref.action,\n    tenantId = _ref.tenantId,\n    closeModal = _ref.closeModal,\n    submitAction = _ref.submitAction,\n    applicationDetails = _ref.applicationDetails,\n    applicationData = _ref.applicationData,\n    businessService = _ref.businessService,\n    workflowDetails = _ref.workflowDetails;\n  var mutation1 = Digit.Hooks.obps.useObpsAPI((_applicationData = applicationData) !== null && _applicationData !== void 0 && (_applicationData$land = _applicationData.landInfo) !== null && _applicationData$land !== void 0 && (_applicationData$land2 = _applicationData$land.address) !== null && _applicationData$land2 !== void 0 && _applicationData$land2.city ? (_applicationData2 = applicationData) === null || _applicationData2 === void 0 ? void 0 : (_applicationData2$lan = _applicationData2.landInfo) === null || _applicationData2$lan === void 0 ? void 0 : (_applicationData2$lan2 = _applicationData2$lan.address) === null || _applicationData2$lan2 === void 0 ? void 0 : _applicationData2$lan2.city : tenantId, false);\n  var _Digit$Hooks$useEmplo = Digit.Hooks.useEmployeeSearch(tenantId, {\n      roles: workflowDetails === null || workflowDetails === void 0 ? void 0 : (_workflowDetails$data = workflowDetails.data) === null || _workflowDetails$data === void 0 ? void 0 : (_workflowDetails$data2 = _workflowDetails$data.initialActionState) === null || _workflowDetails$data2 === void 0 ? void 0 : (_workflowDetails$data3 = _workflowDetails$data2.nextActions) === null || _workflowDetails$data3 === void 0 ? void 0 : (_workflowDetails$data4 = _workflowDetails$data3.filter(function (ele) {\n        return (ele === null || ele === void 0 ? void 0 : ele.action) == (action === null || action === void 0 ? void 0 : action.action);\n      })) === null || _workflowDetails$data4 === void 0 ? void 0 : (_workflowDetails$data5 = _workflowDetails$data4[0]) === null || _workflowDetails$data5 === void 0 ? void 0 : (_workflowDetails$data6 = _workflowDetails$data5.assigneeRoles) === null || _workflowDetails$data6 === void 0 ? void 0 : _workflowDetails$data6.map(function (role) {\n        return {\n          code: role\n        };\n      }),\n      isActive: true\n    }, {\n      enabled: !(action !== null && action !== void 0 && action.isTerminateState)\n    }),\n    approverData = _Digit$Hooks$useEmplo.data,\n    PTALoading = _Digit$Hooks$useEmplo.isLoading;\n  var queryClient = useQueryClient();\n  var _useState = useState({}),\n    config = _useState[0],\n    setConfig = _useState[1];\n  var _useState2 = useState({}),\n    defaultValues = _useState2[0];\n  var _useState3 = useState([]),\n    approvers = _useState3[0],\n    setApprovers = _useState3[1];\n  var _useState4 = useState({}),\n    selectedApprover = _useState4[0],\n    setSelectedApprover = _useState4[1];\n  var _useState5 = useState(null),\n    file = _useState5[0],\n    setFile = _useState5[1];\n  var _useState6 = useState(null),\n    uploadedFile = _useState6[0],\n    setUploadedFile = _useState6[1];\n  var _useState7 = useState(null),\n    error = _useState7[0],\n    setError = _useState7[1];\n  var _useState8 = useState(null),\n    selectedFinancialYear = _useState8[0];\n  var mobileView = Digit.Utils.browser.isMobile() ? true : false;\n  useEffect(function () {\n    var _approverData$Employe;\n    setApprovers(approverData === null || approverData === void 0 ? void 0 : (_approverData$Employe = approverData.Employees) === null || _approverData$Employe === void 0 ? void 0 : _approverData$Employe.map(function (employee) {\n      var _employee$user;\n      return {\n        uuid: employee === null || employee === void 0 ? void 0 : employee.uuid,\n        name: employee === null || employee === void 0 ? void 0 : (_employee$user = employee.user) === null || _employee$user === void 0 ? void 0 : _employee$user.name\n      };\n    }));\n  }, [approverData]);\n  function selectFile(e) {\n    setFile(e.target.files[0]);\n  }\n  useEffect(function () {\n    (function () {\n      try {\n        setError(null);\n        var _temp5 = function () {\n          if (file) {\n            var allowedFileTypesRegex = /(.*?)(jpg|jpeg|png|image|pdf)$/i;\n            var _temp6 = function () {\n              if (file.size >= 5242880) {\n                setError(t(\"CS_MAXIMUM_UPLOAD_SIZE_EXCEEDED\"));\n              } else {\n                var _temp7 = function () {\n                  if (file !== null && file !== void 0 && file.type && !allowedFileTypesRegex.test(file === null || file === void 0 ? void 0 : file.type)) {\n                    setError(t(\"NOT_SUPPORTED_FILE_TYPE\"));\n                  } else {\n                    var _temp8 = _catch(function () {\n                      return Promise.resolve(Digit.UploadServices.Filestorage(\"OBPS\", file, Digit.ULBService.getStateId() || (tenantId === null || tenantId === void 0 ? void 0 : tenantId.split(\".\")[0]))).then(function (response) {\n                        var _response$data, _response$data$files;\n                        if ((response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : (_response$data$files = _response$data.files) === null || _response$data$files === void 0 ? void 0 : _response$data$files.length) > 0) {\n                          var _response$data2, _response$data2$files;\n                          setUploadedFile(response === null || response === void 0 ? void 0 : (_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : (_response$data2$files = _response$data2.files[0]) === null || _response$data2$files === void 0 ? void 0 : _response$data2$files.fileStoreId);\n                        } else {\n                          setError(t(\"CS_FILE_UPLOAD_ERROR\"));\n                        }\n                      });\n                    }, function () {\n                      setError(t(\"CS_FILE_UPLOAD_ERROR\"));\n                    });\n                    if (_temp8 && _temp8.then) return _temp8.then(function () {});\n                  }\n                }();\n                if (_temp7 && _temp7.then) return _temp7.then(function () {});\n              }\n            }();\n            if (_temp6 && _temp6.then) return _temp6.then(function () {});\n          }\n        }();\n        return _temp5 && _temp5.then ? _temp5.then(function () {}) : void 0;\n      } catch (e) {\n        Promise.reject(e);\n      }\n    })();\n  }, [file]);\n  var getInspectionDocs = function getInspectionDocs(docs) {\n    var refinedDocs = [];\n    docs && docs.map(function (doc, ind) {\n      refinedDocs.push({\n        \"documentType\": (doc.documentType + \"_\" + doc.documentType.split(\"_\")[1]).replaceAll(\"_\", \".\"),\n        \"fileStoreId\": doc.fileStoreId,\n        \"fileStore\": doc.fileStoreId,\n        \"fileName\": \"\",\n        \"dropDownValues\": {\n          \"value\": (doc.documentType + \"_\" + doc.documentType.split(\"_\")[1]).replaceAll(\"_\", \".\")\n        }\n      });\n    });\n    return refinedDocs;\n  };\n  var getQuestion = function getQuestion(data) {\n    var refinedQues = [];\n    var i;\n    for (i = 0; i < (data === null || data === void 0 ? void 0 : data.questionLength); i++) {\n      var _data;\n      refinedQues.push({\n        \"remarks\": data[\"Remarks_\" + i],\n        \"question\": data === null || data === void 0 ? void 0 : data.questionList[i].question,\n        \"value\": data === null || data === void 0 ? void 0 : (_data = data[\"question_\" + i]) === null || _data === void 0 ? void 0 : _data.code\n      });\n    }\n    return refinedQues;\n  };\n  var getfeildInspection = function getfeildInspection(data) {\n    var _data$additionalDetai, _data$additionalDetai2;\n    var formdata = [],\n      inspectionOb = [];\n    if ((data === null || data === void 0 ? void 0 : (_data$additionalDetai = data.additionalDetails) === null || _data$additionalDetai === void 0 ? void 0 : (_data$additionalDetai2 = _data$additionalDetai.fieldinspection_pending) === null || _data$additionalDetai2 === void 0 ? void 0 : _data$additionalDetai2.length) > 0) {\n      var _data$additionalDetai3;\n      inspectionOb = data === null || data === void 0 ? void 0 : (_data$additionalDetai3 = data.additionalDetails) === null || _data$additionalDetai3 === void 0 ? void 0 : _data$additionalDetai3.fieldinspection_pending;\n    }\n    if (data.status == \"FIELDINSPECTION_INPROGRESS\") {\n      var _formdata;\n      formdata = JSON.parse(sessionStorage.getItem(\"INSPECTION_DATA\"));\n      ((_formdata = formdata) === null || _formdata === void 0 ? void 0 : _formdata.length) > 0 && formdata.map(function (ob, ind) {\n        inspectionOb.push({\n          docs: getInspectionDocs(ob.Documents),\n          date: ob.InspectionDate,\n          questions: getQuestion(ob),\n          time: ob === null || ob === void 0 ? void 0 : ob.InspectionTime\n        });\n      });\n      inspectionOb = inspectionOb.filter(function (ob) {\n        return ob.docs && ob.docs.length > 0;\n      });\n    } else {\n      sessionStorage.removeItem(\"INSPECTION_DATA\");\n    }\n    var fieldinspection_pending = [].concat(inspectionOb);\n    return fieldinspection_pending;\n  };\n  var getDocuments = function getDocuments(applicationData) {\n    var documentsformdata = JSON.parse(sessionStorage.getItem(\"BPA_DOCUMENTS\"));\n    var documentList = [];\n    documentsformdata.map(function (doc) {\n      var _doc$uploadedDocument, _doc$uploadedDocument2, _doc$uploadedDocument3, _doc$uploadedDocument4, _doc$uploadedDocument5, _doc$newUploadedDocs;\n      if ((doc === null || doc === void 0 ? void 0 : (_doc$uploadedDocument = doc.uploadedDocuments) === null || _doc$uploadedDocument === void 0 ? void 0 : (_doc$uploadedDocument2 = _doc$uploadedDocument[0]) === null || _doc$uploadedDocument2 === void 0 ? void 0 : (_doc$uploadedDocument3 = _doc$uploadedDocument2.values) === null || _doc$uploadedDocument3 === void 0 ? void 0 : _doc$uploadedDocument3.length) > 0) documentList = [].concat(documentList, doc === null || doc === void 0 ? void 0 : (_doc$uploadedDocument4 = doc.uploadedDocuments) === null || _doc$uploadedDocument4 === void 0 ? void 0 : (_doc$uploadedDocument5 = _doc$uploadedDocument4[0]) === null || _doc$uploadedDocument5 === void 0 ? void 0 : _doc$uploadedDocument5.values);\n      if ((doc === null || doc === void 0 ? void 0 : (_doc$newUploadedDocs = doc.newUploadedDocs) === null || _doc$newUploadedDocs === void 0 ? void 0 : _doc$newUploadedDocs.length) > 0) documentList = [].concat(documentList, doc === null || doc === void 0 ? void 0 : doc.newUploadedDocs);\n    });\n    return documentList;\n  };\n  var getPendingApprovals = function getPendingApprovals() {\n    var _result;\n    var approvals = Digit.SessionStorage.get(\"OBPS_APPROVAL_CHECKS\");\n    var newApprovals = Digit.SessionStorage.get(\"OBPS_NEW_APPROVALS\");\n    var result = approvals === null || approvals === void 0 ? void 0 : approvals.reduce(function (acc, approval) {\n      return approval !== null && approval !== void 0 && approval.checked ? acc.push(approval === null || approval === void 0 ? void 0 : approval.label) && acc : acc;\n    }, []);\n    result = (_result = result) === null || _result === void 0 ? void 0 : _result.concat(newApprovals !== null ? newApprovals.filter(function (ob) {\n      return ob.label !== \"\";\n    }).map(function (approval) {\n      return approval === null || approval === void 0 ? void 0 : approval.label;\n    }) : []);\n    return result;\n  };\n  function submit(data) {\n    var _applicationData3, _data$comments, _data$comments2, _applicationDetails$n;\n    applicationData = _extends({}, applicationData, {\n      documents: getDocuments(),\n      additionalDetails: _extends({}, (_applicationData3 = applicationData) === null || _applicationData3 === void 0 ? void 0 : _applicationData3.additionalDetails, {\n        fieldinspection_pending: getfeildInspection(applicationData),\n        pendingapproval: getPendingApprovals()\n      }),\n      workflow: {\n        action: action === null || action === void 0 ? void 0 : action.action,\n        comment: (data === null || data === void 0 ? void 0 : (_data$comments = data.comments) === null || _data$comments === void 0 ? void 0 : _data$comments.length) > 0 ? data === null || data === void 0 ? void 0 : data.comments : null,\n        comments: (data === null || data === void 0 ? void 0 : (_data$comments2 = data.comments) === null || _data$comments2 === void 0 ? void 0 : _data$comments2.length) > 0 ? data === null || data === void 0 ? void 0 : data.comments : null,\n        assignee: !(selectedApprover !== null && selectedApprover !== void 0 && selectedApprover.uuid) ? null : [selectedApprover === null || selectedApprover === void 0 ? void 0 : selectedApprover.uuid],\n        assignes: !(selectedApprover !== null && selectedApprover !== void 0 && selectedApprover.uuid) ? null : [selectedApprover === null || selectedApprover === void 0 ? void 0 : selectedApprover.uuid],\n        varificationDocuments: uploadedFile ? [{\n          documentType: (action === null || action === void 0 ? void 0 : action.action) + \" DOC\",\n          fileName: file === null || file === void 0 ? void 0 : file.name,\n          fileStoreId: uploadedFile\n        }] : null\n      },\n      action: action === null || action === void 0 ? void 0 : action.action,\n      comment: data === null || data === void 0 ? void 0 : data.comments,\n      assignee: !(selectedApprover !== null && selectedApprover !== void 0 && selectedApprover.uuid) ? null : [selectedApprover === null || selectedApprover === void 0 ? void 0 : selectedApprover.uuid],\n      wfDocuments: uploadedFile ? [{\n        documentType: (action === null || action === void 0 ? void 0 : action.action) + \" DOC\",\n        fileName: file === null || file === void 0 ? void 0 : file.name,\n        fileStoreId: uploadedFile\n      }] : null\n    });\n    var nocDetails = applicationDetails === null || applicationDetails === void 0 ? void 0 : (_applicationDetails$n = applicationDetails.nocData) === null || _applicationDetails$n === void 0 ? void 0 : _applicationDetails$n.map(function (noc) {\n      var uploadedDocuments = Digit.SessionStorage.get(noc === null || noc === void 0 ? void 0 : noc.nocType) || [];\n      return {\n        Noc: _extends({}, noc, {\n          documents: [].concat(noc !== null && noc !== void 0 && noc.documents ? noc === null || noc === void 0 ? void 0 : noc.documents : [], uploadedDocuments ? uploadedDocuments : [])\n        })\n      };\n    });\n    var nocData = [];\n    if (nocDetails) {\n      nocDetails.map(function (noc) {\n        var _noc$Noc, _noc$Noc$applicationS, _noc$Noc2, _noc$Noc2$application, _noc$Noc3, _noc$Noc3$application, _noc$Noc4, _noc$Noc4$application, _noc$Noc5, _noc$Noc5$application;\n        if ((noc === null || noc === void 0 ? void 0 : (_noc$Noc = noc.Noc) === null || _noc$Noc === void 0 ? void 0 : (_noc$Noc$applicationS = _noc$Noc.applicationStatus) === null || _noc$Noc$applicationS === void 0 ? void 0 : _noc$Noc$applicationS.toUpperCase()) != \"APPROVED\" && (noc === null || noc === void 0 ? void 0 : (_noc$Noc2 = noc.Noc) === null || _noc$Noc2 === void 0 ? void 0 : (_noc$Noc2$application = _noc$Noc2.applicationStatus) === null || _noc$Noc2$application === void 0 ? void 0 : _noc$Noc2$application.toUpperCase()) != \"AUTO_APPROVED\" && (noc === null || noc === void 0 ? void 0 : (_noc$Noc3 = noc.Noc) === null || _noc$Noc3 === void 0 ? void 0 : (_noc$Noc3$application = _noc$Noc3.applicationStatus) === null || _noc$Noc3$application === void 0 ? void 0 : _noc$Noc3$application.toUpperCase()) != \"REJECTED\" && (noc === null || noc === void 0 ? void 0 : (_noc$Noc4 = noc.Noc) === null || _noc$Noc4 === void 0 ? void 0 : (_noc$Noc4$application = _noc$Noc4.applicationStatus) === null || _noc$Noc4$application === void 0 ? void 0 : _noc$Noc4$application.toUpperCase()) != \"AUTO_REJECTED\" && (noc === null || noc === void 0 ? void 0 : (_noc$Noc5 = noc.Noc) === null || _noc$Noc5 === void 0 ? void 0 : (_noc$Noc5$application = _noc$Noc5.applicationStatus) === null || _noc$Noc5$application === void 0 ? void 0 : _noc$Noc5$application.toUpperCase()) != \"VOIDED\") {\n          nocData.push(noc);\n        }\n      });\n    }\n    submitAction({\n      BPA: applicationData\n    }, (nocData === null || nocData === void 0 ? void 0 : nocData.length) > 0 ? nocData : false, {\n      isStakeholder: false,\n      bpa: true\n    });\n  }\n  useEffect(function () {\n    if (action) {\n      setConfig(configBPAApproverApplication({\n        t: t,\n        action: action,\n        approvers: approvers,\n        selectedApprover: selectedApprover,\n        setSelectedApprover: setSelectedApprover,\n        selectFile: selectFile,\n        uploadedFile: uploadedFile,\n        setUploadedFile: setUploadedFile,\n        businessService: businessService,\n        assigneeLabel: \"WF_ASSIGNEE_NAME_LABEL\",\n        error: error\n      }));\n    }\n  }, [action, approvers, selectedFinancialYear, uploadedFile, error]);\n  return action && config.form ? /*#__PURE__*/React.createElement(Modal, {\n    headerBarMain: /*#__PURE__*/React.createElement(Heading$3, {\n      label: t(config.label.heading)\n    }),\n    headerBarEnd: /*#__PURE__*/React.createElement(CloseBtn$3, {\n      onClick: closeModal\n    }),\n    actionCancelLabel: t(config.label.cancel),\n    actionCancelOnSubmit: closeModal,\n    actionSaveLabel: t(config.label.submit),\n    actionSaveOnSubmit: function actionSaveOnSubmit() {},\n    formId: \"modal-action\",\n    isOBPSFlow: true,\n    popupStyles: mobileView ? {\n      width: \"720px\"\n    } : {},\n    style: !mobileView ? {\n      minHeight: \"45px\",\n      height: \"auto\",\n      width: \"107px\",\n      paddingLeft: \"0px\",\n      paddingRight: \"0px\"\n    } : {\n      minHeight: \"45px\",\n      height: \"auto\",\n      width: \"44%\"\n    },\n    popupModuleMianStyles: mobileView ? {\n      paddingLeft: \"5px\"\n    } : {}\n  }, PTALoading ? /*#__PURE__*/React.createElement(Loader, null) : /*#__PURE__*/React.createElement(FormComposer, {\n    config: config.form,\n    cardStyle: {\n      marginLeft: \"0px\",\n      marginRight: \"0px\",\n      marginTop: \"-25px\"\n    },\n    className: \"BPAemployeeCard\",\n    noBoxShadow: true,\n    inline: true,\n    childrenAtTheBottom: true,\n    onSubmit: submit,\n    defaultValues: defaultValues,\n    formId: \"modal-action\"\n  })) : /*#__PURE__*/React.createElement(Loader, null);\n};\nvar Heading$4 = function Heading(props) {\n  return /*#__PURE__*/React.createElement(\"h1\", {\n    style: {\n      marginLeft: \"22px\"\n    },\n    className: \"heading-m BPAheading-m\"\n  }, props.label);\n};\nvar Close$4 = function Close() {\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"#FFFFFF\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0V0z\",\n    fill: \"none\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z\"\n  }));\n};\nvar CloseBtn$4 = function CloseBtn(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"icon-bg-secondary\",\n    onClick: props.onClick\n  }, /*#__PURE__*/React.createElement(Close$4, null));\n};\nvar ActionModal$4 = function ActionModal(_ref) {\n  var _action$assigneeRoles, _action$assigneeRoles2;\n  var t = _ref.t,\n    action = _ref.action,\n    tenantId = _ref.tenantId,\n    closeModal = _ref.closeModal,\n    submitAction = _ref.submitAction,\n    applicationData = _ref.applicationData,\n    businessService = _ref.businessService;\n  var _Digit$Hooks$useEmplo = Digit.Hooks.useEmployeeSearch(tenantId, {\n      roles: action === null || action === void 0 ? void 0 : (_action$assigneeRoles = action.assigneeRoles) === null || _action$assigneeRoles === void 0 ? void 0 : (_action$assigneeRoles2 = _action$assigneeRoles.map) === null || _action$assigneeRoles2 === void 0 ? void 0 : _action$assigneeRoles2.call(_action$assigneeRoles, function (e) {\n        return {\n          code: e\n        };\n      }),\n      isActive: true\n    }, {\n      enabled: !(action !== null && action !== void 0 && action.isTerminateState)\n    }),\n    approverData = _Digit$Hooks$useEmplo.data,\n    PTALoading = _Digit$Hooks$useEmplo.isLoading;\n  var queryClient = useQueryClient();\n  var _useState = useState({}),\n    config = _useState[0],\n    setConfig = _useState[1];\n  var _useState2 = useState({}),\n    defaultValues = _useState2[0];\n  var _useState3 = useState([]),\n    approvers = _useState3[0],\n    setApprovers = _useState3[1];\n  var _useState4 = useState({}),\n    selectedApprover = _useState4[0],\n    setSelectedApprover = _useState4[1];\n  var _useState5 = useState(null),\n    file = _useState5[0],\n    setFile = _useState5[1];\n  var _useState6 = useState(null),\n    uploadedFile = _useState6[0],\n    setUploadedFile = _useState6[1];\n  var _useState7 = useState(null),\n    error = _useState7[0],\n    setError = _useState7[1];\n  var mobileView = Digit.Utils.browser.isMobile() ? true : false;\n  var history = useHistory();\n  useEffect(function () {\n    var _approverData$Employe;\n    setApprovers(approverData === null || approverData === void 0 ? void 0 : (_approverData$Employe = approverData.Employees) === null || _approverData$Employe === void 0 ? void 0 : _approverData$Employe.map(function (employee) {\n      var _employee$user;\n      return {\n        uuid: employee === null || employee === void 0 ? void 0 : employee.uuid,\n        name: employee === null || employee === void 0 ? void 0 : (_employee$user = employee.user) === null || _employee$user === void 0 ? void 0 : _employee$user.name\n      };\n    }));\n  }, [approverData]);\n  function selectFile(e) {\n    setFile(e.target.files[0]);\n  }\n  useEffect(function () {\n    (function () {\n      try {\n        setError(null);\n        var _temp5 = function () {\n          if (file) {\n            var allowedFileTypesRegex = /(.*?)(jpg|jpeg|png|image|pdf)$/i;\n            var _temp6 = function () {\n              if (file.size >= 5242880) {\n                setError(t(\"CS_MAXIMUM_UPLOAD_SIZE_EXCEEDED\"));\n              } else {\n                var _temp7 = function () {\n                  if (file !== null && file !== void 0 && file.type && !allowedFileTypesRegex.test(file === null || file === void 0 ? void 0 : file.type)) {\n                    setError(t(\"NOT_SUPPORTED_FILE_TYPE\"));\n                  } else {\n                    var _temp8 = _catch(function () {\n                      return Promise.resolve(Digit.UploadServices.Filestorage(\"NOC\", file, Digit.ULBService.getStateId() || (tenantId === null || tenantId === void 0 ? void 0 : tenantId.split(\".\")[0]))).then(function (response) {\n                        var _response$data, _response$data$files;\n                        if ((response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : (_response$data$files = _response$data.files) === null || _response$data$files === void 0 ? void 0 : _response$data$files.length) > 0) {\n                          var _response$data2, _response$data2$files;\n                          setUploadedFile(response === null || response === void 0 ? void 0 : (_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : (_response$data2$files = _response$data2.files[0]) === null || _response$data2$files === void 0 ? void 0 : _response$data2$files.fileStoreId);\n                        } else {\n                          setError(t(\"CS_FILE_UPLOAD_ERROR\"));\n                        }\n                      });\n                    }, function () {\n                      setError(t(\"CS_FILE_UPLOAD_ERROR\"));\n                    });\n                    if (_temp8 && _temp8.then) return _temp8.then(function () {});\n                  }\n                }();\n                if (_temp7 && _temp7.then) return _temp7.then(function () {});\n              }\n            }();\n            if (_temp6 && _temp6.then) return _temp6.then(function () {});\n          }\n        }();\n        return _temp5 && _temp5.then ? _temp5.then(function () {}) : void 0;\n      } catch (e) {\n        Promise.reject(e);\n      }\n    })();\n  }, [file]);\n  function submit(data) {\n    var _applicationData, _applicationData$docu, _applicationData2;\n    var enteredDocs = JSON.parse(sessionStorage.getItem(\"NewNOCDocs\"));\n    var newDocs = ((_applicationData = applicationData) === null || _applicationData === void 0 ? void 0 : (_applicationData$docu = _applicationData.documents) === null || _applicationData$docu === void 0 ? void 0 : _applicationData$docu.length) > 0 ? [].concat((_applicationData2 = applicationData) === null || _applicationData2 === void 0 ? void 0 : _applicationData2.documents) : [];\n    enteredDocs.map(function (d, index) {\n      newDocs.push(d);\n    });\n    applicationData = _extends({}, applicationData, {\n      workflow: {\n        action: action === null || action === void 0 ? void 0 : action.action,\n        comment: data !== null && data !== void 0 && data.comments ? data === null || data === void 0 ? void 0 : data.comments : null,\n        assignee: !(selectedApprover !== null && selectedApprover !== void 0 && selectedApprover.uuid) ? null : [selectedApprover === null || selectedApprover === void 0 ? void 0 : selectedApprover.uuid],\n        documents: uploadedFile ? [{\n          documentType: (action === null || action === void 0 ? void 0 : action.action) + \" DOC\",\n          fileName: file === null || file === void 0 ? void 0 : file.name,\n          fileStoreId: uploadedFile\n        }] : null\n      },\n      documents: newDocs\n    });\n    submitAction({\n      Noc: applicationData\n    }, false, {\n      isNoc: true\n    });\n  }\n  useEffect(function () {\n    if (action) {\n      setConfig(configNOCApproverApplication({\n        t: t,\n        action: action,\n        approvers: approvers,\n        selectedApprover: selectedApprover,\n        setSelectedApprover: setSelectedApprover,\n        selectFile: selectFile,\n        uploadedFile: uploadedFile,\n        setUploadedFile: setUploadedFile,\n        businessService: businessService,\n        assigneeLabel: \"WF_ASSIGNEE_NAME_LABEL\",\n        error: error\n      }));\n    }\n  }, [action, approvers, uploadedFile, error]);\n  return action && config.form ? /*#__PURE__*/React.createElement(Modal, {\n    headerBarMain: /*#__PURE__*/React.createElement(Heading$4, {\n      label: t(config.label.heading)\n    }),\n    headerBarEnd: /*#__PURE__*/React.createElement(CloseBtn$4, {\n      onClick: closeModal\n    }),\n    actionCancelLabel: t(config.label.cancel),\n    actionCancelOnSubmit: closeModal,\n    actionSaveLabel: t(config.label.submit),\n    actionSaveOnSubmit: function actionSaveOnSubmit() {},\n    formId: \"modal-action\",\n    isOBPSFlow: true,\n    popupStyles: mobileView ? {\n      width: \"720px\"\n    } : {},\n    style: !mobileView ? {\n      height: \"45px\",\n      width: \"107px\",\n      paddingLeft: \"0px\",\n      paddingRight: \"0px\"\n    } : {\n      height: \"45px\",\n      width: \"44%\"\n    },\n    popupModuleMianStyles: mobileView ? {\n      paddingLeft: \"5px\"\n    } : {}\n  }, PTALoading ? /*#__PURE__*/React.createElement(Loader, null) : /*#__PURE__*/React.createElement(FormComposer, {\n    config: config.form,\n    cardStyle: {\n      marginLeft: \"0px\",\n      marginRight: \"0px\",\n      marginTop: \"-25px\"\n    },\n    className: \"BPAemployeeCard\",\n    noBoxShadow: true,\n    inline: true,\n    childrenAtTheBottom: true,\n    onSubmit: submit,\n    defaultValues: defaultValues,\n    formId: \"modal-action\"\n  })) : /*#__PURE__*/React.createElement(Loader, null);\n};\nvar ActionModal$5 = function ActionModal$5(props) {\n  if (props !== null && props !== void 0 && props.businessService.includes(\"PT\")) {\n    return /*#__PURE__*/React.createElement(ActionModal, props);\n  }\n  if (props !== null && props !== void 0 && props.businessService.includes(\"NewTL\") || props !== null && props !== void 0 && props.businessService.includes(\"TL\") || props !== null && props !== void 0 && props.businessService.includes(\"EDITRENEWAL\") || props !== null && props !== void 0 && props.businessService.includes(\"DIRECTRENEWAL\")) {\n    return /*#__PURE__*/React.createElement(ActionModal$1, props);\n  }\n  if (props !== null && props !== void 0 && props.moduleCode.includes(\"BPAREG\")) {\n    return /*#__PURE__*/React.createElement(ActionModal$2, props);\n  }\n  if (props !== null && props !== void 0 && props.moduleCode.includes(\"BPA\")) {\n    return /*#__PURE__*/React.createElement(ActionModal$3, props);\n  }\n  if (props !== null && props !== void 0 && props.moduleCode.includes(\"NOC\")) {\n    return /*#__PURE__*/React.createElement(ActionModal$4, props);\n  }\n};\nfunction DocumentsPreview(_ref) {\n  var documents = _ref.documents,\n    _ref$svgStyles = _ref.svgStyles,\n    svgStyles = _ref$svgStyles === void 0 ? {} : _ref$svgStyles,\n    _ref$isSendBackFlow = _ref.isSendBackFlow,\n    isSendBackFlow = _ref$isSendBackFlow === void 0 ? false : _ref$isSendBackFlow,\n    _ref$isHrLine = _ref.isHrLine,\n    isHrLine = _ref$isHrLine === void 0 ? false : _ref$isHrLine,\n    titleStyles = _ref.titleStyles;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var isStakeholderApplication = window.location.href.includes(\"stakeholder\");\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: \"19px\"\n    }\n  }, !isStakeholderApplication && (documents === null || documents === void 0 ? void 0 : documents.map(function (document, index) {\n    var _document$values;\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      key: index\n    }, document !== null && document !== void 0 && document.title ? /*#__PURE__*/React.createElement(CardSubHeader, {\n      style: titleStyles ? titleStyles : {\n        marginTop: \"32px\",\n        marginBottom: \"8px\",\n        color: \"#505A5F\",\n        fontSize: \"24px\"\n      }\n    }, t(document === null || document === void 0 ? void 0 : document.title)) : null, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\"\n      }\n    }, document !== null && document !== void 0 && document.values && (document === null || document === void 0 ? void 0 : document.values.length) > 0 ? document === null || document === void 0 ? void 0 : (_document$values = document.values) === null || _document$values === void 0 ? void 0 : _document$values.map(function (value, index) {\n      var _ref2, _value$documentType;\n      return /*#__PURE__*/React.createElement(\"a\", {\n        target: \"_\",\n        href: value === null || value === void 0 ? void 0 : value.url,\n        style: (_ref2 = {\n          minWidth: \"80px\",\n          marginRight: \"10px\",\n          maxWidth: \"100px\",\n          height: \"auto\"\n        }, _ref2[\"minWidth\"] = \"100px\", _ref2),\n        key: index\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"center\"\n        }\n      }, /*#__PURE__*/React.createElement(PDFSvg, null)), /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          marginTop: \"8px\",\n          fontWeight: \"bold\",\n          textAlign: \"center\",\n          color: \"#505A5F\"\n        }\n      }, t(value === null || value === void 0 ? void 0 : value.title)), isSendBackFlow ? value !== null && value !== void 0 && (_value$documentType = value.documentType) !== null && _value$documentType !== void 0 && _value$documentType.includes(\"NOC\") ? /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          textAlign: \"center\"\n        }\n      }, t(value === null || value === void 0 ? void 0 : value.documentType.split(\".\")[1])) : /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          textAlign: \"center\"\n        }\n      }, t(value === null || value === void 0 ? void 0 : value.documentType)) : \"\");\n    }) : !window.location.href.includes(\"citizen\") && /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"p\", null, t(\"BPA_NO_DOCUMENTS_UPLOADED_LABEL\")))), isHrLine && (documents === null || documents === void 0 ? void 0 : documents.length) != index + 1 ? /*#__PURE__*/React.createElement(\"hr\", {\n      style: {\n        color: \"#D6D5D4\",\n        backgroundColor: \"#D6D5D4\",\n        height: \"2px\",\n        marginTop: \"20px\",\n        marginBottom: \"20px\"\n      }\n    }) : null);\n  })), isStakeholderApplication && (documents === null || documents === void 0 ? void 0 : documents.map(function (document, index) {\n    var _document$values2;\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      key: index\n    }, document !== null && document !== void 0 && document.title ? /*#__PURE__*/React.createElement(CardSubHeader, {\n      style: {\n        marginTop: \"32px\",\n        marginBottom: \"8px\",\n        color: \"#505A5F\",\n        fontSize: \"24px\"\n      }\n    }, t(document === null || document === void 0 ? void 0 : document.title)) : null, /*#__PURE__*/React.createElement(\"div\", null, document !== null && document !== void 0 && document.values && (document === null || document === void 0 ? void 0 : document.values.length) > 0 ? document === null || document === void 0 ? void 0 : (_document$values2 = document.values) === null || _document$values2 === void 0 ? void 0 : _document$values2.map(function (value, index) {\n      var _ref3;\n      return /*#__PURE__*/React.createElement(\"a\", {\n        target: \"_\",\n        href: value === null || value === void 0 ? void 0 : value.url,\n        style: {\n          minWidth: svgStyles !== null && svgStyles !== void 0 && svgStyles.minWidth ? svgStyles === null || svgStyles === void 0 ? void 0 : svgStyles.minWidth : \"160px\",\n          marginRight: \"20px\"\n        },\n        key: index\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          maxWidth: \"940px\",\n          padding: \"8px\",\n          borderRadius: \"4px\",\n          border: \"1px solid #D6D5D4\",\n          background: \"#FAFAFA\"\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          marginTop: \"8px\",\n          fontWeight: \"bold\",\n          marginBottom: \"10px\"\n        }\n      }, t(value === null || value === void 0 ? void 0 : value.title)), value !== null && value !== void 0 && value.docInfo ? /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          fontSize: \"12px\",\n          color: \"#505A5F\",\n          fontWeight: 400,\n          lineHeight: \"15px\",\n          marginBottom: \"10px\"\n        }\n      }, \"\" + t(value === null || value === void 0 ? void 0 : value.docInfo)) : null, /*#__PURE__*/React.createElement(PDFSvg, null), /*#__PURE__*/React.createElement(\"p\", {\n        style: (_ref3 = {\n          marginTop: \"8px\",\n          fontSize: \"16px\",\n          lineHeight: \"19px\",\n          color: \"#505A5F\",\n          fontWeight: \"400\",\n          textAlign: \"center\"\n        }, _ref3[\"color\"] = \"#505A5F\", _ref3)\n      }, \"\" + t(value === null || value === void 0 ? void 0 : value.title))));\n    }) : !window.location.href.includes(\"citizen\") && /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"p\", null, t(\"BPA_NO_DOCUMENTS_UPLOADED_LABEL\")))));\n  })));\n}\nvar BPADocuments = function BPADocuments(_ref) {\n  var _bpaActionsDetails$da, _formData$documents;\n  var t = _ref.t,\n    formData = _ref.formData,\n    applicationData = _ref.applicationData,\n    docs = _ref.docs,\n    bpaActionsDetails = _ref.bpaActionsDetails;\n  var applicationStatus = (applicationData === null || applicationData === void 0 ? void 0 : applicationData.status) || \"\";\n  var actions = (bpaActionsDetails === null || bpaActionsDetails === void 0 ? void 0 : (_bpaActionsDetails$da = bpaActionsDetails.data) === null || _bpaActionsDetails$da === void 0 ? void 0 : _bpaActionsDetails$da.nextActions) || [];\n  var stateId = Digit.ULBService.getStateId();\n  var _useState = useState((formData === null || formData === void 0 ? void 0 : (_formData$documents = formData.documents) === null || _formData$documents === void 0 ? void 0 : _formData$documents.documents) || []),\n    documents = _useState[0],\n    setDocuments = _useState[1];\n  var _useState2 = useState(null),\n    error = _useState2[0],\n    setError = _useState2[1];\n  var _useState3 = useState([]),\n    bpaTaxDocuments = _useState3[0],\n    setBpaTaxDocuments = _useState3[1];\n  var _useState4 = useState(true),\n    setEnableSubmit = _useState4[1];\n  var _useState5 = useState(false),\n    checkRequiredFields = _useState5[0],\n    setCheckRequiredFields = _useState5[1];\n  var _useState6 = useState(false),\n    checkEnablingDocs = _useState6[0],\n    setCheckEnablingDocs = _useState6[1];\n  var _Digit$Hooks$obps$use = Digit.Hooks.obps.useMDMS(stateId, \"BPA\", [\"DocTypeMapping\"]),\n    bpaDocsLoading = _Digit$Hooks$obps$use.isLoading,\n    bpaDocs = _Digit$Hooks$obps$use.data;\n  var _Digit$Hooks$obps$use2 = Digit.Hooks.obps.useMDMS(stateId, \"common-masters\", [\"DocumentType\"]),\n    commonDocsLoading = _Digit$Hooks$obps$use2.isLoading,\n    commonDocs = _Digit$Hooks$obps$use2.data;\n  useEffect(function () {\n    var _bpaDocs$BPA, _filtredBpaDocs, _filtredBpaDocs$, _filtredBpaDocs$$docT;\n    var filtredBpaDocs = [];\n    if (bpaDocs !== null && bpaDocs !== void 0 && (_bpaDocs$BPA = bpaDocs.BPA) !== null && _bpaDocs$BPA !== void 0 && _bpaDocs$BPA.DocTypeMapping) {\n      var _bpaDocs$BPA2, _bpaDocs$BPA2$DocType;\n      filtredBpaDocs = bpaDocs === null || bpaDocs === void 0 ? void 0 : (_bpaDocs$BPA2 = bpaDocs.BPA) === null || _bpaDocs$BPA2 === void 0 ? void 0 : (_bpaDocs$BPA2$DocType = _bpaDocs$BPA2.DocTypeMapping) === null || _bpaDocs$BPA2$DocType === void 0 ? void 0 : _bpaDocs$BPA2$DocType.filter(function (data) {\n        var _applicationData$addi, _applicationData$addi2;\n        return data.WFState == (applicationData === null || applicationData === void 0 ? void 0 : applicationData.status) ? applicationData === null || applicationData === void 0 ? void 0 : applicationData.status : data.RiskType == (applicationData === null || applicationData === void 0 ? void 0 : applicationData.riskType) && data.ServiceType == (applicationData === null || applicationData === void 0 ? void 0 : (_applicationData$addi = applicationData.additionalDetails) === null || _applicationData$addi === void 0 ? void 0 : _applicationData$addi.serviceType) && data.applicationType == (applicationData === null || applicationData === void 0 ? void 0 : (_applicationData$addi2 = applicationData.additionalDetails) === null || _applicationData$addi2 === void 0 ? void 0 : _applicationData$addi2.applicationType);\n      });\n    }\n    var documentsList = [];\n    (_filtredBpaDocs = filtredBpaDocs) === null || _filtredBpaDocs === void 0 ? void 0 : (_filtredBpaDocs$ = _filtredBpaDocs[0]) === null || _filtredBpaDocs$ === void 0 ? void 0 : (_filtredBpaDocs$$docT = _filtredBpaDocs$.docTypes) === null || _filtredBpaDocs$$docT === void 0 ? void 0 : _filtredBpaDocs$$docT.forEach(function (doc) {\n      var _commonDocs$commonMa, _commonDocs$commonMa$, _docs$, _docs$$values;\n      var code = doc.code;\n      doc.dropdownData = [];\n      doc.uploadedDocuments = [];\n      commonDocs === null || commonDocs === void 0 ? void 0 : (_commonDocs$commonMa = commonDocs[\"common-masters\"]) === null || _commonDocs$commonMa === void 0 ? void 0 : (_commonDocs$commonMa$ = _commonDocs$commonMa.DocumentType) === null || _commonDocs$commonMa$ === void 0 ? void 0 : _commonDocs$commonMa$.forEach(function (value) {\n        var values = value.code.slice(0, code.length);\n        if (code === values) {\n          doc.hasDropdown = true;\n          value.i18nKey = value.code;\n          doc.dropdownData.push(value);\n        }\n      });\n      doc.uploadedDocuments[0] = {};\n      doc.uploadedDocuments[0].values = [];\n      docs === null || docs === void 0 ? void 0 : (_docs$ = docs[0]) === null || _docs$ === void 0 ? void 0 : (_docs$$values = _docs$.values) === null || _docs$$values === void 0 ? void 0 : _docs$$values.map(function (upDocs) {\n        var _upDocs$documentType, _upDocs$documentType2;\n        if (code === (upDocs === null || upDocs === void 0 ? void 0 : (_upDocs$documentType = upDocs.documentType) === null || _upDocs$documentType === void 0 ? void 0 : _upDocs$documentType.split('.')[0]) + \".\" + (upDocs === null || upDocs === void 0 ? void 0 : (_upDocs$documentType2 = upDocs.documentType) === null || _upDocs$documentType2 === void 0 ? void 0 : _upDocs$documentType2.split('.')[1])) {\n          doc.uploadedDocuments[0].values.push(upDocs);\n        }\n      });\n      documentsList.push(doc);\n    });\n    sessionStorage.setItem(\"BPA_DOCUMENTS\", JSON.stringify(documentsList));\n    setBpaTaxDocuments(documentsList);\n  }, [!bpaDocsLoading, !commonDocsLoading]);\n  useEffect(function () {\n    var count = 0;\n    bpaTaxDocuments.map(function (doc) {\n      var isRequired = false;\n      documents.map(function (data) {\n        if (doc.required && doc.code == data.documentType.split('.')[0] + \".\" + data.documentType.split('.')[1]) {\n          isRequired = true;\n        }\n      });\n      if (!isRequired && doc.required) {\n        count = count + 1;\n      }\n    });\n    if ((count == \"0\" || count == 0) && documents.length > 0) setEnableSubmit(false);else setEnableSubmit(true);\n  }, [documents, checkRequiredFields]);\n  useEffect(function () {\n    if (applicationStatus === \"DOC_VERIFICATION_INPROGRESS\" && (actions === null || actions === void 0 ? void 0 : actions.length) > 0) setCheckEnablingDocs(true);else setCheckEnablingDocs(false);\n  }, [applicationData, bpaActionsDetails]);\n  return /*#__PURE__*/React.createElement(\"div\", null, bpaTaxDocuments === null || bpaTaxDocuments === void 0 ? void 0 : bpaTaxDocuments.map(function (document, index) {\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(SelectDocument, {\n      key: index,\n      index: index,\n      document: document,\n      t: t,\n      error: error,\n      setError: setError,\n      setDocuments: setDocuments,\n      documents: documents,\n      setCheckRequiredFields: setCheckRequiredFields,\n      applicationStatus: applicationStatus,\n      actions: actions,\n      bpaTaxDocuments: bpaTaxDocuments,\n      checkEnablingDocs: checkEnablingDocs\n    }));\n  }));\n};\nfunction SelectDocument(_ref2) {\n  var _doc$dropdownData, _doc$uploadedDocument;\n  var t = _ref2.t,\n    doc = _ref2.document,\n    setDocuments = _ref2.setDocuments,\n    documents = _ref2.documents,\n    index = _ref2.index,\n    bpaTaxDocuments = _ref2.bpaTaxDocuments,\n    checkEnablingDocs = _ref2.checkEnablingDocs;\n  var filteredDocument = documents === null || documents === void 0 ? void 0 : documents.filter(function (item) {\n    var _item$documentType;\n    return item === null || item === void 0 ? void 0 : (_item$documentType = item.documentType) === null || _item$documentType === void 0 ? void 0 : _item$documentType.includes(doc === null || doc === void 0 ? void 0 : doc.code);\n  })[0];\n  var tenantId = Digit.ULBService.getStateId();\n  var _useState7 = useState(filteredDocument ? _extends({}, filteredDocument, {\n      active: true,\n      code: filteredDocument === null || filteredDocument === void 0 ? void 0 : filteredDocument.documentType,\n      i18nKey: filteredDocument === null || filteredDocument === void 0 ? void 0 : filteredDocument.documentType\n    }) : (doc === null || doc === void 0 ? void 0 : (_doc$dropdownData = doc.dropdownData) === null || _doc$dropdownData === void 0 ? void 0 : _doc$dropdownData.length) === 1 ? doc === null || doc === void 0 ? void 0 : doc.dropdownData[0] : {}),\n    selectedDocument = _useState7[0],\n    setSelectedDocument = _useState7[1];\n  var _useState8 = useState(null),\n    file = _useState8[0],\n    setFile = _useState8[1];\n  var _useState9 = useState(function () {\n      return (filteredDocument === null || filteredDocument === void 0 ? void 0 : filteredDocument.fileStoreId) || null;\n    }),\n    uploadedFile = _useState9[0];\n  var _useState10 = useState([]),\n    selectArrayFiles = _useState10[0],\n    SetSelectArrayFiles = _useState10[1];\n  var handleSelectDocument = function handleSelectDocument(value) {\n    return setSelectedDocument(value);\n  };\n  var allowedFileTypes = /(.*?)(jpg|jpeg|png|image|pdf)$/i;\n  function selectfiles(e) {\n    e && setFile(e.file);\n  }\n  useEffect(function () {\n    if (selectedDocument !== null && selectedDocument !== void 0 && selectedDocument.code) {\n      setDocuments(function (prev) {\n        var _documents$find;\n        var filteredDocumentsByDocumentType = prev === null || prev === void 0 ? void 0 : prev.filter(function (item) {\n          return (item === null || item === void 0 ? void 0 : item.documentType) !== (selectedDocument === null || selectedDocument === void 0 ? void 0 : selectedDocument.code);\n        });\n        if ((uploadedFile === null || uploadedFile === void 0 ? void 0 : uploadedFile.length) === 0 || uploadedFile === null) return filteredDocumentsByDocumentType;\n        var filteredDocumentsByFileStoreId = filteredDocumentsByDocumentType === null || filteredDocumentsByDocumentType === void 0 ? void 0 : filteredDocumentsByDocumentType.filter(function (item) {\n          return (item === null || item === void 0 ? void 0 : item.fileStoreId) !== uploadedFile;\n        });\n        return [].concat(filteredDocumentsByFileStoreId, [{\n          documentType: selectedDocument === null || selectedDocument === void 0 ? void 0 : selectedDocument.code,\n          fileStoreId: uploadedFile,\n          documentUid: uploadedFile,\n          fileName: (file === null || file === void 0 ? void 0 : file.name) || \"\",\n          id: documents ? (_documents$find = documents.find(function (x) {\n            return x.documentType === (selectedDocument === null || selectedDocument === void 0 ? void 0 : selectedDocument.code);\n          })) === null || _documents$find === void 0 ? void 0 : _documents$find.id : undefined\n        }]);\n      });\n    }\n  }, [uploadedFile, selectedDocument]);\n  useEffect(function () {\n    try {\n      if (selectArrayFiles.length > 0) {\n        sessionStorage.removeItem(\"BPA_DOCUMENTS\");\n        doc.newUploadedDocs = [];\n        selectArrayFiles.map(function (newDoc) {\n          if (selectedDocument !== null && selectedDocument !== void 0 && selectedDocument.code) {\n            var _newDoc$fileStoreId, _newDoc$fileStoreId2, _newDoc$fileStoreId3;\n            doc.newUploadedDocs.push({\n              documentType: selectedDocument === null || selectedDocument === void 0 ? void 0 : selectedDocument.code,\n              fileStoreId: newDoc === null || newDoc === void 0 ? void 0 : (_newDoc$fileStoreId = newDoc.fileStoreId) === null || _newDoc$fileStoreId === void 0 ? void 0 : _newDoc$fileStoreId.fileStoreId,\n              documentUid: newDoc === null || newDoc === void 0 ? void 0 : (_newDoc$fileStoreId2 = newDoc.fileStoreId) === null || _newDoc$fileStoreId2 === void 0 ? void 0 : _newDoc$fileStoreId2.fileStoreId,\n              tenantId: newDoc === null || newDoc === void 0 ? void 0 : (_newDoc$fileStoreId3 = newDoc.fileStoreId) === null || _newDoc$fileStoreId3 === void 0 ? void 0 : _newDoc$fileStoreId3.tenantId\n            });\n          }\n        });\n        bpaTaxDocuments[index] = doc;\n        sessionStorage.setItem(\"BPA_DOCUMENTS\", JSON.stringify(bpaTaxDocuments));\n      }\n    } catch (e) {\n      Promise.reject(e);\n    }\n  }, [selectArrayFiles, selectedDocument]);\n  useEffect(function () {}, [file]);\n  var getData = function getData(index, state) {\n    var data = Object.fromEntries(state);\n    var newArr = Object.values(data);\n    if (Object.keys(data).length !== 0) SetSelectArrayFiles(newArr);\n    selectfiles(newArr[newArr.length - 1]);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginBottom: \"24px\",\n      maxWidth: \"950px\",\n      minWidth: \"280px\",\n      background: \"#FAFAFA\",\n      borderRadius: \"4px\",\n      border: \"1px solid #D6D5D4\",\n      padding: \"8px\"\n    }\n  }, /*#__PURE__*/React.createElement(CardSubHeader, {\n    style: {\n      marginBottom: \"8px\",\n      paddingBottom: \"9px\",\n      color: \"#0B0C0C\",\n      fontSize: \"16px\",\n      lineHeight: \"19px\"\n    }\n  }, \"\" + t(doc === null || doc === void 0 ? void 0 : doc.code)), (doc === null || doc === void 0 ? void 0 : (_doc$uploadedDocument = doc.uploadedDocuments) === null || _doc$uploadedDocument === void 0 ? void 0 : _doc$uploadedDocument.length) && /*#__PURE__*/React.createElement(DocumentsPreview, {\n    documents: doc === null || doc === void 0 ? void 0 : doc.uploadedDocuments,\n    svgStyles: {\n      width: \"100px\",\n      height: \"100px\",\n      viewBox: \"0 0 25 25\",\n      minWidth: \"100px\"\n    }\n  }), checkEnablingDocs ? /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: \"20px\"\n    }\n  }, /*#__PURE__*/React.createElement(LabelFieldPair, {\n    style: {\n      width: \"100%\"\n    }\n  }, /*#__PURE__*/React.createElement(CardLabel, {\n    style: {\n      marginTop: \"-10px\",\n      width: \"100%\"\n    }\n  }, doc !== null && doc !== void 0 && doc.required ? t(doc === null || doc === void 0 ? void 0 : doc.code) + \"* \" : \"\" + t(doc === null || doc === void 0 ? void 0 : doc.code)), /*#__PURE__*/React.createElement(Dropdown, {\n    className: \"form-field\",\n    t: t,\n    isMandatory: false,\n    option: doc === null || doc === void 0 ? void 0 : doc.dropdownData,\n    selected: selectedDocument,\n    optionKey: \"i18nKey\",\n    select: handleSelectDocument,\n    style: {\n      width: \"100%\"\n    }\n  })), /*#__PURE__*/React.createElement(LabelFieldPair, {\n    style: {\n      width: \"100%\"\n    }\n  }, /*#__PURE__*/React.createElement(CardLabel, {\n    className: \"card-label-smaller\",\n    style: {\n      width: \"100%\"\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\",\n    style: {\n      width: \"100%\"\n    }\n  }, /*#__PURE__*/React.createElement(MultiUploadWrapper, {\n    module: \"BPA\",\n    tenantId: tenantId,\n    getFormState: function getFormState(e) {\n      return getData(index, e);\n    },\n    t: t,\n    allowedFileTypesRegex: allowedFileTypes,\n    allowedMaxSizeInMB: 5,\n    acceptFiles: \"image/*, .pdf, .png, .jpeg, .jpg\"\n  })))) : null);\n}\nvar getDocuments = function getDocuments(fiDocuments) {\n  var returnDocuments = [{\n    title: \"BPA_DOCUMENT_DETAILS_LABEL\",\n    values: fiDocuments === null || fiDocuments === void 0 ? void 0 : fiDocuments.map(function (doc) {\n      var _doc$documentType;\n      return {\n        title: doc === null || doc === void 0 ? void 0 : (_doc$documentType = doc.documentType) === null || _doc$documentType === void 0 ? void 0 : _doc$documentType.replaceAll('.', '_'),\n        documentType: doc === null || doc === void 0 ? void 0 : doc.documentType,\n        documentUid: doc === null || doc === void 0 ? void 0 : doc.documentUid,\n        fileStoreId: doc === null || doc === void 0 ? void 0 : doc.fileStoreId,\n        id: doc === null || doc === void 0 ? void 0 : doc.id,\n        url: doc === null || doc === void 0 ? void 0 : doc.url\n      };\n    })\n  }];\n  return returnDocuments;\n};\nfunction InspectionReport(_ref) {\n  var fiReport = _ref.fiReport,\n    _ref$isCitizen = _ref.isCitizen,\n    isCitizen = _ref$isCitizen === void 0 ? false : _ref$isCitizen;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: \"10px\"\n    }\n  }, isCitizen ? /*#__PURE__*/React.createElement(CardHeader, {\n    style: {\n      fontSize: \"24px\"\n    }\n  }, \"\" + t(\"BPA_FI_REPORT\")) : /*#__PURE__*/React.createElement(CardSectionHeader, {\n    style: {\n      fontSize: \"24px\"\n    }\n  }, \"\" + t(\"BPA_FI_REPORT\")), fiReport.map(function (fiData, index) {\n    var _fiData$date, _fiData$date2, _fiData$date3, _fiData$questions, _fiData$questions2;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        background: \"#FAFAFA\",\n        border: \"1px solid #D6D5D4\",\n        padding: \"8px\",\n        borderRadius: \"4px\",\n        maxWidth: \"950px\",\n        minWidth: \"280px\",\n        marginBottom: \"24px\"\n      }\n    }, /*#__PURE__*/React.createElement(StatusTable, null, /*#__PURE__*/React.createElement(CardSectionHeader, {\n      style: {\n        fontSize: \"20px\"\n      }\n    }, (fiReport === null || fiReport === void 0 ? void 0 : fiReport.length) == 1 ? \"\" + t(\"BPA_FI_REPORT\") : t(\"BPA_FI_REPORT\") + \" - \" + (index + 1)), /*#__PURE__*/React.createElement(Row, {\n      className: \"border-none\",\n      label: \"\" + t(\"BPA_FI_DATE_LABEL\"),\n      text: fiData !== null && fiData !== void 0 && fiData.date ? fiData.date.includes(\"-\") ? ((_fiData$date = fiData.date) === null || _fiData$date === void 0 ? void 0 : _fiData$date.split(\"-\")[2]) + \"/\" + ((_fiData$date2 = fiData.date) === null || _fiData$date2 === void 0 ? void 0 : _fiData$date2.split(\"-\")[1]) + \"/\" + ((_fiData$date3 = fiData.date) === null || _fiData$date3 === void 0 ? void 0 : _fiData$date3.split(\"-\")[0]) : fiData === null || fiData === void 0 ? void 0 : fiData.date : \"NA\"\n    }), /*#__PURE__*/React.createElement(Row, {\n      className: \"border-none\",\n      label: \"\" + t(\"BPA_FI_TIME_LABEL\"),\n      text: fiData !== null && fiData !== void 0 && fiData.time ? fiData === null || fiData === void 0 ? void 0 : fiData.time : \"NA\"\n    }), (fiData === null || fiData === void 0 ? void 0 : (_fiData$questions = fiData.questions) === null || _fiData$questions === void 0 ? void 0 : _fiData$questions.length) && (fiData === null || fiData === void 0 ? void 0 : (_fiData$questions2 = fiData.questions) === null || _fiData$questions2 === void 0 ? void 0 : _fiData$questions2.map(function (qstn) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          background: \"white\",\n          border: \"1px solid #D6D5D4\",\n          padding: \"8px\",\n          borderRadius: \"4px\",\n          marginTop: \"10px\"\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        className: \"border-none\",\n        label: \"\" + t(\"\" + qstn.question),\n        text: qstn !== null && qstn !== void 0 && qstn.value ? qstn === null || qstn === void 0 ? void 0 : qstn.value : \"NA\"\n      }), /*#__PURE__*/React.createElement(Row, {\n        className: \"border-none\",\n        label: \"\" + t(\"BPA_ENTER_REMARKS\"),\n        text: qstn.remarks ? qstn.remarks : \"NA\"\n      }));\n    })), /*#__PURE__*/React.createElement(DocumentsPreview, {\n      documents: getDocuments(fiData === null || fiData === void 0 ? void 0 : fiData.docs),\n      svgStyles: {\n        width: \"100px\",\n        height: \"100px\",\n        viewBox: \"0 0 25 25\",\n        minWidth: \"100px\"\n      }\n    })));\n  })));\n}\nfunction SelectDocument$1(_ref) {\n  var t = _ref.t,\n    doc = _ref.document,\n    setNocDocuments = _ref.setNocDocuments,\n    setError = _ref.setError,\n    nocDocuments = _ref.nocDocuments;\n  var filteredDocument = nocDocuments === null || nocDocuments === void 0 ? void 0 : nocDocuments.filter(function (item) {\n    var _item$documentType;\n    return item === null || item === void 0 ? void 0 : (_item$documentType = item.documentType) === null || _item$documentType === void 0 ? void 0 : _item$documentType.includes(doc === null || doc === void 0 ? void 0 : doc.code);\n  })[0];\n  var tenantId = Digit.ULBService.getStateId();\n  var _useState = useState();\n  var _useState2 = useState(null),\n    file = _useState2[0],\n    setFile = _useState2[1];\n  var _useState3 = useState(function () {\n      return (filteredDocument === null || filteredDocument === void 0 ? void 0 : filteredDocument.fileStoreId) || null;\n    }),\n    uploadedFile = _useState3[0],\n    setUploadedFile = _useState3[1];\n  var allowedFileTypes = /(.*?)(jpg|jpeg|png|image|pdf)$/i;\n  function selectfile(e) {\n    e && setFile(e.file);\n  }\n  useEffect(function () {\n    var _doc$dropdownData, _doc$dropdownData$;\n    if (doc !== null && doc !== void 0 && (_doc$dropdownData = doc.dropdownData) !== null && _doc$dropdownData !== void 0 && (_doc$dropdownData$ = _doc$dropdownData[0]) !== null && _doc$dropdownData$ !== void 0 && _doc$dropdownData$.code) {\n      setNocDocuments(function (prev) {\n        var _doc$dropdownData3;\n        var filteredDocumentsByDocumentType = prev === null || prev === void 0 ? void 0 : prev.filter(function (item) {\n          var _doc$dropdownData2, _doc$dropdownData2$;\n          return (item === null || item === void 0 ? void 0 : item.documentType) !== (doc === null || doc === void 0 ? void 0 : (_doc$dropdownData2 = doc.dropdownData) === null || _doc$dropdownData2 === void 0 ? void 0 : (_doc$dropdownData2$ = _doc$dropdownData2[0]) === null || _doc$dropdownData2$ === void 0 ? void 0 : _doc$dropdownData2$.code);\n        });\n        if ((uploadedFile === null || uploadedFile === void 0 ? void 0 : uploadedFile.length) === 0 || uploadedFile === null) {\n          return filteredDocumentsByDocumentType;\n        }\n        var filteredDocumentsByFileStoreId = filteredDocumentsByDocumentType === null || filteredDocumentsByDocumentType === void 0 ? void 0 : filteredDocumentsByDocumentType.filter(function (item) {\n          return (item === null || item === void 0 ? void 0 : item.fileStoreId) !== uploadedFile;\n        });\n        return [].concat(filteredDocumentsByFileStoreId, [{\n          documentType: doc === null || doc === void 0 ? void 0 : (_doc$dropdownData3 = doc.dropdownData) === null || _doc$dropdownData3 === void 0 ? void 0 : _doc$dropdownData3[0].code,\n          fileStoreId: uploadedFile,\n          documentUid: uploadedFile,\n          fileName: (file === null || file === void 0 ? void 0 : file.name) || \"\"\n        }]);\n      });\n    }\n  }, [uploadedFile]);\n  useEffect(function () {\n    (function () {\n      try {\n        setError(null);\n        var _temp5 = function () {\n          if (file) {\n            var allowedFileTypesRegex = /(.*?)(jpg|jpeg|png|image|pdf)$/i;\n            var _temp6 = function () {\n              if (file.size >= 5242880) {\n                setError(t(\"CS_MAXIMUM_UPLOAD_SIZE_EXCEEDED\"));\n              } else {\n                var _temp7 = function () {\n                  if (file !== null && file !== void 0 && file.type && !allowedFileTypesRegex.test(file === null || file === void 0 ? void 0 : file.type)) {\n                    setError(t(\"NOT_SUPPORTED_FILE_TYPE\"));\n                  } else {\n                    var _temp8 = _catch(function () {\n                      setUploadedFile(null);\n                      return Promise.resolve(Digit.UploadServices.Filestorage(\"PT\", file, Digit.ULBService.getStateId())).then(function (response) {\n                        var _response$data, _response$data$files;\n                        if ((response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : (_response$data$files = _response$data.files) === null || _response$data$files === void 0 ? void 0 : _response$data$files.length) > 0) {\n                          var _response$data2, _response$data2$files;\n                          setUploadedFile(response === null || response === void 0 ? void 0 : (_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : (_response$data2$files = _response$data2.files[0]) === null || _response$data2$files === void 0 ? void 0 : _response$data2$files.fileStoreId);\n                        } else {\n                          setError(t(\"CS_FILE_UPLOAD_ERROR\"));\n                        }\n                      });\n                    }, function () {\n                      setError(t(\"CS_FILE_UPLOAD_ERROR\"));\n                    });\n                    if (_temp8 && _temp8.then) return _temp8.then(function () {});\n                  }\n                }();\n                if (_temp7 && _temp7.then) return _temp7.then(function () {});\n              }\n            }();\n            if (_temp6 && _temp6.then) return _temp6.then(function () {});\n          }\n        }();\n        return _temp5 && _temp5.then ? _temp5.then(function () {}) : void 0;\n      } catch (e) {\n        Promise.reject(e);\n      }\n    })();\n  }, [file]);\n  var getData = function getData(state) {\n    var data = Object.fromEntries(state);\n    var newArr = Object.values(data);\n    selectfile(newArr[newArr.length - 1]);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {}\n  }, /*#__PURE__*/React.createElement(LabelFieldPair, {\n    style: {\n      width: \"98%\",\n      marginRight: \"10px\"\n    }\n  }, /*#__PURE__*/React.createElement(CardLabel, {\n    style: {\n      width: \"100%\"\n    }\n  }, doc !== null && doc !== void 0 && doc.required ? t(\"TL_BUTTON_UPLOAD FILE\") + \"*\" : \"\" + t(\"TL_BUTTON_UPLOAD FILE\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\",\n    style: {\n      width: \"100%\"\n    }\n  }, /*#__PURE__*/React.createElement(MultiUploadWrapper, {\n    module: \"NOC\",\n    tenantId: tenantId,\n    getFormState: function getFormState(e) {\n      return getData(e);\n    },\n    t: t,\n    allowedFileTypesRegex: allowedFileTypes,\n    allowedMaxSizeInMB: 5,\n    acceptFiles: \"image/*, .pdf, .png, .jpeg, .jpg\"\n  }))));\n}\nvar NOCDocuments = function NOCDocuments(_ref2) {\n  var _bpaActionsDetails$da;\n  var t = _ref2.t,\n    noc = _ref2.noc,\n    docs = _ref2.docs,\n    isNoc = _ref2.isNoc,\n    applicationData = _ref2.applicationData,\n    NOCdata = _ref2.NOCdata,\n    bpaActionsDetails = _ref2.bpaActionsDetails;\n  var tenantId = Digit.ULBService.getStateId();\n  var stateId = Digit.ULBService.getStateId();\n  var bpaApplicationStatus = (applicationData === null || applicationData === void 0 ? void 0 : applicationData.status) || \"\";\n  var actions = (bpaActionsDetails === null || bpaActionsDetails === void 0 ? void 0 : (_bpaActionsDetails$da = bpaActionsDetails.data) === null || _bpaActionsDetails$da === void 0 ? void 0 : _bpaActionsDetails$da.nextActions) || [];\n  var _Digit$Hooks$obps$use = Digit.Hooks.obps.useMDMS(stateId, \"NOC\", [\"DocumentTypeMapping\"], {\n      enabled: isNoc\n    }),\n    nocDocs = _Digit$Hooks$obps$use.data;\n  var _Digit$Hooks$obps$use2 = Digit.Hooks.obps.useMDMS(stateId, \"BPA\", [\"DocTypeMapping\"], {\n      enabled: !isNoc\n    }),\n    bpaDocs = _Digit$Hooks$obps$use2.data;\n  var _Digit$Hooks$obps$use3 = Digit.Hooks.obps.useMDMS(stateId, \"common-masters\", [\"DocumentType\"]),\n    commonDocs = _Digit$Hooks$obps$use3.data;\n  var _useState4 = useState([]),\n    commonDocMaping = _useState4[0],\n    setCommonDocMaping = _useState4[1];\n  var _useState5 = useState([]),\n    nocTaxDocuments = _useState5[0],\n    setNocTaxDocuments = _useState5[1];\n  var _useState6 = useState(false),\n    checkEnablingDocs = _useState6[0],\n    setCheckEnablingDocs = _useState6[1];\n  var _Digit$Hooks$useSessi = Digit.Hooks.useSessionStorage(noc === null || noc === void 0 ? void 0 : noc.nocType, []),\n    nocDocuments = _Digit$Hooks$useSessi[0],\n    setNocDocuments = _Digit$Hooks$useSessi[1];\n  var _useState7 = useState(null),\n    error = _useState7[0],\n    setError = _useState7[1];\n  var isEmployee = window.location.href.includes(\"/employee/\");\n  useEffect(function () {\n    var _commonDocs$commonMa;\n    setCommonDocMaping(commonDocs === null || commonDocs === void 0 ? void 0 : (_commonDocs$commonMa = commonDocs[\"common-masters\"]) === null || _commonDocs$commonMa === void 0 ? void 0 : _commonDocs$commonMa.DocumentType);\n  }, [commonDocs]);\n  useEffect(function () {\n    var _filteredData, _filteredData$, _filteredData$$docTyp;\n    var documents = [];\n    var filteredData;\n    if (isNoc) {\n      var _nocDocs$NOC, _nocDocs$NOC$Document;\n      filteredData = nocDocs === null || nocDocs === void 0 ? void 0 : (_nocDocs$NOC = nocDocs.NOC) === null || _nocDocs$NOC === void 0 ? void 0 : (_nocDocs$NOC$Document = _nocDocs$NOC.DocumentTypeMapping) === null || _nocDocs$NOC$Document === void 0 ? void 0 : _nocDocs$NOC$Document.filter(function (data) {\n        return (data === null || data === void 0 ? void 0 : data.applicationType) === (noc === null || noc === void 0 ? void 0 : noc.applicationType) && (data === null || data === void 0 ? void 0 : data.nocType) === (noc === null || noc === void 0 ? void 0 : noc.nocType);\n      });\n    } else {\n      var _bpaDocs$BPA, _bpaDocs$BPA$DocTypeM;\n      filteredData = bpaDocs === null || bpaDocs === void 0 ? void 0 : (_bpaDocs$BPA = bpaDocs.BPA) === null || _bpaDocs$BPA === void 0 ? void 0 : (_bpaDocs$BPA$DocTypeM = _bpaDocs$BPA.DocTypeMapping) === null || _bpaDocs$BPA$DocTypeM === void 0 ? void 0 : _bpaDocs$BPA$DocTypeM.filter(function (data) {\n        var _applicationData$addi, _applicationData$addi2;\n        return data.WFState == (applicationData === null || applicationData === void 0 ? void 0 : applicationData.status) && data.RiskType == (applicationData === null || applicationData === void 0 ? void 0 : applicationData.riskType) && data.ServiceType == (applicationData === null || applicationData === void 0 ? void 0 : (_applicationData$addi = applicationData.additionalDetails) === null || _applicationData$addi === void 0 ? void 0 : _applicationData$addi.serviceType) && data.applicationType == (applicationData === null || applicationData === void 0 ? void 0 : (_applicationData$addi2 = applicationData.additionalDetails) === null || _applicationData$addi2 === void 0 ? void 0 : _applicationData$addi2.applicationType);\n      });\n    }\n    if ((_filteredData = filteredData) !== null && _filteredData !== void 0 && (_filteredData$ = _filteredData[0]) !== null && _filteredData$ !== void 0 && (_filteredData$$docTyp = _filteredData$.docTypes) !== null && _filteredData$$docTyp !== void 0 && _filteredData$$docTyp[0]) {\n      filteredData[0].docTypes[0].nocType = filteredData[0].nocType;\n      filteredData[0].docTypes[0].additionalDetails = {\n        submissionDetails: noc === null || noc === void 0 ? void 0 : noc.additionalDetails,\n        applicationStatus: noc === null || noc === void 0 ? void 0 : noc.applicationStatus,\n        appNumberLink: noc === null || noc === void 0 ? void 0 : noc.applicationNo,\n        nocNo: noc === null || noc === void 0 ? void 0 : noc.nocNo\n      };\n      documents.push(filteredData[0].docTypes[0]);\n    }\n    var documentsList = [];\n    if (documents && documents.length > 0) {\n      documents.map(function (doc) {\n        var code = doc.documentType;\n        doc.dropdownData = [];\n        commonDocMaping === null || commonDocMaping === void 0 ? void 0 : commonDocMaping.forEach(function (value) {\n          var values = value.code.slice(0, code === null || code === void 0 ? void 0 : code.length);\n          if (code === values) {\n            doc.hasDropdown = true;\n            doc.dropdownData.push(value);\n          }\n        });\n        documentsList.push(doc);\n      });\n      setNocTaxDocuments(documentsList);\n    }\n  }, [nocDocs, commonDocMaping]);\n  useEffect(function () {\n    if (bpaApplicationStatus === 'NOC_VERIFICATION_INPROGRESS' && (actions === null || actions === void 0 ? void 0 : actions.length) > 0) setCheckEnablingDocs(true);else setCheckEnablingDocs(false);\n  }, [applicationData, bpaActionsDetails]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      border: \"1px solid #D6D5D4\",\n      padding: \"16px 0px 16px 8px\",\n      background: \"#FAFAFA\",\n      borderRadius: \"5px\",\n      marginBottom: \"24px\",\n      maxWidth: \"950px\"\n    }\n  }, /*#__PURE__*/React.createElement(StatusTable, null, /*#__PURE__*/React.createElement(Row, {\n    label: isEmployee ? \"\" + t(\"BPA_\" + (noc === null || noc === void 0 ? void 0 : noc.nocType) + \"_HEADER\") : t(\"BPA_\" + (noc === null || noc === void 0 ? void 0 : noc.nocType) + \"_HEADER\"),\n    labelStyle: {\n      fontSize: \"20px\",\n      width: \"150%\"\n    }\n  }), NOCdata && NOCdata.map(function (noc, index) {\n    if (noc !== null && noc !== void 0 && noc.value) {\n      if ((noc === null || noc === void 0 ? void 0 : noc.field) == \"STATUS\") {\n        return /*#__PURE__*/React.createElement(Row, {\n          className: \"border-none\",\n          label: isEmployee ? \"\" + t(noc === null || noc === void 0 ? void 0 : noc.title) : t(noc === null || noc === void 0 ? void 0 : noc.title),\n          text: noc !== null && noc !== void 0 && noc.value ? t(noc === null || noc === void 0 ? void 0 : noc.value) : t(\"CS_NA\"),\n          textStyle: (noc === null || noc === void 0 ? void 0 : noc.value) == \"APPROVED\" || (noc === null || noc === void 0 ? void 0 : noc.value) == \"AUTO_APPROVED\" ? {\n            color: \"#00703C\"\n          } : {\n            color: \"#D4351C\"\n          }\n        });\n      } else {\n        return /*#__PURE__*/React.createElement(Row, {\n          className: \"border-none\",\n          label: isEmployee ? \"\" + t(noc === null || noc === void 0 ? void 0 : noc.title) : t(noc === null || noc === void 0 ? void 0 : noc.title),\n          text: noc !== null && noc !== void 0 && noc.value ? t(noc === null || noc === void 0 ? void 0 : noc.value) : t(\"CS_NA\")\n        });\n      }\n    }\n  })), /*#__PURE__*/React.createElement(DocumentsPreview, {\n    documents: docs,\n    svgStyles: {\n      width: \"80px\",\n      height: \"100px\",\n      viewBox: \"0 0 25 25\",\n      minWidth: \"80px\"\n    }\n  }), checkEnablingDocs && (nocTaxDocuments === null || nocTaxDocuments === void 0 ? void 0 : nocTaxDocuments.map(function (document, index) {\n    return /*#__PURE__*/React.createElement(SelectDocument$1, {\n      key: index,\n      document: document,\n      t: t,\n      error: error,\n      setError: setError,\n      setNocDocuments: setNocDocuments,\n      nocDocuments: nocDocuments,\n      checkEnablingDocs: checkEnablingDocs\n    });\n  })));\n};\nvar PermissionCheck = function PermissionCheck(_ref) {\n  var permissions = _ref.permissions,\n    t = _ref.t;\n  var _Digit$Hooks$useSessi = Digit.Hooks.useSessionStorage(\"OBPS_APPROVAL_CHECKS\", permissions === null || permissions === void 0 ? void 0 : permissions.map(function (permission) {\n      return {\n        label: permission,\n        checked: false\n      };\n    })),\n    approvalChecks = _Digit$Hooks$useSessi[0],\n    setApprovalChecks = _Digit$Hooks$useSessi[1];\n  var _Digit$Hooks$useSessi2 = Digit.Hooks.useSessionStorage('OBPS_NEW_APPROVALS', []),\n    newApprovals = _Digit$Hooks$useSessi2[0],\n    setNewApprovals = _Digit$Hooks$useSessi2[1];\n  useEffect(function () {\n    return function () {\n      Digit.SessionStorage.del(\"OBPS_NEW_APPROVALS\");\n      Digit.SessionStorage.del(\"OBPS_APPROVAL_CHECKS\");\n    };\n  }, []);\n  var handleAdd = function handleAdd() {\n    setNewApprovals([].concat(newApprovals, [{\n      label: ''\n    }]));\n  };\n  var handleRemove = function handleRemove(index) {\n    var values = [].concat(newApprovals);\n    values.splice(index, 1);\n    setNewApprovals([].concat(values));\n  };\n  var handleChange = function handleChange(event, index) {\n    setNewApprovals(function () {\n      return newApprovals === null || newApprovals === void 0 ? void 0 : newApprovals.map(function (approval, id) {\n        if (index === id) {\n          var _event$target;\n          return {\n            label: event === null || event === void 0 ? void 0 : (_event$target = event.target) === null || _event$target === void 0 ? void 0 : _event$target.value\n          };\n        }\n        return approval;\n      });\n    });\n  };\n  var handleCheck = function handleCheck(event, label, index) {\n    var isChecked = event.target.checked;\n    setApprovalChecks(function () {\n      return approvalChecks === null || approvalChecks === void 0 ? void 0 : approvalChecks.map(function (approval, id) {\n        if (index === id) {\n          return _extends({}, approval, {\n            checked: isChecked\n          });\n        }\n        return approval;\n      });\n    });\n  };\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(CardSubHeader, {\n    style: {\n      marginBottom: \"16px\",\n      fontSize: \"24px\"\n    }\n  }, t(\"BPA_PERMIT_CONDITIONS\")), approvalChecks === null || approvalChecks === void 0 ? void 0 : approvalChecks.map(function (permission, index) {\n    return /*#__PURE__*/React.createElement(CheckBox, {\n      key: index,\n      styles: {\n        margin: \"20px 0 40px\",\n        maxWidth: \"70%\"\n      },\n      label: permission === null || permission === void 0 ? void 0 : permission.label,\n      checked: permission === null || permission === void 0 ? void 0 : permission.checked,\n      onChange: function onChange(event) {\n        return handleCheck(event, permission === null || permission === void 0 ? void 0 : permission.label, index);\n      },\n      isLabelFirst: true,\n      index: index\n    });\n  }), newApprovals === null || newApprovals === void 0 ? void 0 : newApprovals.map(function (approval, index) {\n    return /*#__PURE__*/React.createElement(\"div\", null, \" \", /*#__PURE__*/React.createElement(TextInput, {\n      key: index,\n      value: approval === null || approval === void 0 ? void 0 : approval.label,\n      onChange: function onChange(event) {\n        return handleChange(event, index);\n      },\n      textInputStyle: {\n        maxWidth: \"830px\",\n        width: \"830px\"\n      },\n      placeholder: \"Enter permit conditions..........\"\n    }), /*#__PURE__*/React.createElement(LinkButton, {\n      label: /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(Close$b, {\n        style: {\n          float: \"right\",\n          position: \"relative\",\n          bottom: \"32px\",\n          marginTop: \"-21px\",\n          marginRight: \"35%\"\n        }\n      }))),\n      style: {},\n      onClick: function onClick(e) {\n        return handleRemove(index);\n      }\n    }));\n  }), /*#__PURE__*/React.createElement(LinkButton, {\n    style: {\n      color: \"#f47738\",\n      maxWidth: \"10%\",\n      marginRight: \"3%\"\n    },\n    label: t(\"BPA_ADD_MORE\"),\n    onClick: handleAdd\n  }));\n};\nfunction PropertyDocuments(_ref) {\n  var documents = _ref.documents,\n    _ref$svgStyles = _ref.svgStyles,\n    svgStyles = _ref$svgStyles === void 0 ? {} : _ref$svgStyles,\n    _ref$isSendBackFlow = _ref.isSendBackFlow,\n    isSendBackFlow = _ref$isSendBackFlow === void 0 ? false : _ref$isSendBackFlow;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var _useState = useState(function () {\n      return [];\n    }),\n    filesArray = _useState[0],\n    setFilesArray = _useState[1];\n  var tenantId = Digit.ULBService.getCurrentTenantId();\n  var _useState2 = useState({}),\n    pdfFiles = _useState2[0],\n    setPdfFiles = _useState2[1];\n  useEffect(function () {\n    var _acc;\n    var acc = [];\n    documents === null || documents === void 0 ? void 0 : documents.forEach(function (element, index, array) {\n      acc = [].concat(acc, element.values ? element.values : []);\n    });\n    setFilesArray((_acc = acc) === null || _acc === void 0 ? void 0 : _acc.map(function (value) {\n      return value === null || value === void 0 ? void 0 : value.fileStoreId;\n    }));\n  }, [documents]);\n  useEffect(function () {\n    if (filesArray !== null && filesArray !== void 0 && filesArray.length) {\n      Digit.UploadServices.Filefetch(filesArray, Digit.ULBService.getStateId()).then(function (res) {\n        setPdfFiles(res === null || res === void 0 ? void 0 : res.data);\n      });\n    }\n  }, [filesArray]);\n  var checkLocation = window.location.href.includes(\"employee/tl\") || window.location.href.includes(\"/obps\");\n  var isStakeholderApplication = window.location.href.includes(\"stakeholder\");\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: \"19px\"\n    }\n  }, !isStakeholderApplication && (documents === null || documents === void 0 ? void 0 : documents.map(function (document, index) {\n    var _document$values;\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      key: index\n    }, document !== null && document !== void 0 && document.title ? /*#__PURE__*/React.createElement(CardSubHeader, {\n      style: checkLocation ? {\n        marginTop: \"32px\",\n        marginBottom: \"18px\",\n        color: \"#0B0C0C, 100%\",\n        fontSize: \"24px\",\n        lineHeight: \"30px\"\n      } : {\n        marginTop: \"32px\",\n        marginBottom: \"8px\",\n        color: \"#505A5F\",\n        fontSize: \"24px\"\n      }\n    }, t(document === null || document === void 0 ? void 0 : document.title)) : null, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\"\n      }\n    }, document !== null && document !== void 0 && document.values && (document === null || document === void 0 ? void 0 : document.values.length) > 0 ? document === null || document === void 0 ? void 0 : (_document$values = document.values) === null || _document$values === void 0 ? void 0 : _document$values.map(function (value, index) {\n      var _pdfFiles$value$fileS, _value$documentType;\n      return /*#__PURE__*/React.createElement(\"a\", {\n        target: \"_\",\n        href: (_pdfFiles$value$fileS = pdfFiles[value.fileStoreId]) === null || _pdfFiles$value$fileS === void 0 ? void 0 : _pdfFiles$value$fileS.split(\",\")[0],\n        style: {\n          minWidth: \"80px\",\n          marginRight: \"10px\",\n          maxWidth: \"100px\",\n          height: \"auto\"\n        },\n        key: index\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"center\"\n        }\n      }, /*#__PURE__*/React.createElement(PDFSvg, null)), /*#__PURE__*/React.createElement(\"p\", {\n        style: checkLocation ? {\n          marginTop: \"8px\",\n          fontWeight: \"bold\",\n          fontSize: \"16px\",\n          lineHeight: \"19px\",\n          color: \"#505A5F\",\n          textAlign: \"center\"\n        } : {\n          marginTop: \"8px\",\n          fontWeight: \"bold\"\n        }\n      }, t(value === null || value === void 0 ? void 0 : value.title)), isSendBackFlow ? value !== null && value !== void 0 && (_value$documentType = value.documentType) !== null && _value$documentType !== void 0 && _value$documentType.includes(\"NOC\") ? /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          textAlign: \"center\"\n        }\n      }, t(value === null || value === void 0 ? void 0 : value.documentType.split(\".\")[1])) : /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          textAlign: \"center\"\n        }\n      }, t(value === null || value === void 0 ? void 0 : value.documentType)) : \"\");\n    }) : !window.location.href.includes(\"citizen\") && /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"p\", null, t(\"BPA_NO_DOCUMENTS_UPLOADED_LABEL\")))));\n  })), isStakeholderApplication && (documents === null || documents === void 0 ? void 0 : documents.map(function (document, index) {\n    var _document$values2;\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      key: index\n    }, document !== null && document !== void 0 && document.title ? /*#__PURE__*/React.createElement(CardSubHeader, {\n      style: {\n        marginTop: \"32px\",\n        marginBottom: \"8px\",\n        color: \"#505A5F\",\n        fontSize: \"24px\"\n      }\n    }, t(document === null || document === void 0 ? void 0 : document.title)) : null, /*#__PURE__*/React.createElement(\"div\", null, document !== null && document !== void 0 && document.values && (document === null || document === void 0 ? void 0 : document.values.length) > 0 ? document === null || document === void 0 ? void 0 : (_document$values2 = document.values) === null || _document$values2 === void 0 ? void 0 : _document$values2.map(function (value, index) {\n      var _pdfFiles$value$fileS2;\n      return /*#__PURE__*/React.createElement(\"a\", {\n        target: \"_\",\n        href: (_pdfFiles$value$fileS2 = pdfFiles[value.fileStoreId]) === null || _pdfFiles$value$fileS2 === void 0 ? void 0 : _pdfFiles$value$fileS2.split(\",\")[0],\n        style: {\n          minWidth: svgStyles !== null && svgStyles !== void 0 && svgStyles.minWidth ? svgStyles === null || svgStyles === void 0 ? void 0 : svgStyles.minWidth : \"160px\",\n          marginRight: \"20px\"\n        },\n        key: index\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          maxWidth: \"940px\",\n          padding: \"8px\",\n          borderRadius: \"4px\",\n          border: \"1px solid #D6D5D4\",\n          background: \"#FAFAFA\"\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          marginTop: \"8px\",\n          fontWeight: \"bold\",\n          marginBottom: \"10px\"\n        }\n      }, t(value === null || value === void 0 ? void 0 : value.title)), value !== null && value !== void 0 && value.docInfo ? /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          fontSize: \"12px\",\n          color: \"#505A5F\",\n          fontWeight: 400,\n          lineHeight: \"15px\",\n          marginBottom: \"10px\"\n        }\n      }, \"\" + t(value === null || value === void 0 ? void 0 : value.docInfo)) : null, /*#__PURE__*/React.createElement(PDFSvg, null), /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          marginTop: \"8px\",\n          fontSize: \"16px\",\n          lineHeight: \"19px\",\n          color: \"#505A5F\",\n          fontWeight: \"400\"\n        }\n      }, \"\" + t(value === null || value === void 0 ? void 0 : value.title))));\n    }) : !window.location.href.includes(\"citizen\") && /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"p\", null, t(\"BPA_NO_DOCUMENTS_UPLOADED_LABEL\")))));\n  })));\n}\nfunction PropertyEstimates(_ref) {\n  var taxHeadEstimatesCalculation = _ref.taxHeadEstimatesCalculation;\n  var taxHeadEstimates = taxHeadEstimatesCalculation.taxHeadEstimates;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: \"40px\"\n    }\n  }, /*#__PURE__*/React.createElement(StatusTable, null, /*#__PURE__*/React.createElement(Row, {\n    label: t(\"ES_PT_TITLE_TAX_HEADS\"),\n    text: t(\"ES_PT_TITLE_AMOUNT\"),\n    className: \"border-none\",\n    textStyle: {\n      fontWeight: \"bold\"\n    }\n  }), /*#__PURE__*/React.createElement(BreakLine, {\n    style: {\n      margin: \"16px 0\",\n      width: \"40%\"\n    }\n  }), taxHeadEstimates === null || taxHeadEstimates === void 0 ? void 0 : taxHeadEstimates.map(function (estimate, index) {\n    return /*#__PURE__*/React.createElement(Row, {\n      key: t(estimate.taxHeadCode),\n      label: t(estimate.taxHeadCode),\n      text: \"\\u20B9 \" + estimate.estimateAmount || \"N/A\",\n      last: index === (taxHeadEstimates === null || taxHeadEstimates === void 0 ? void 0 : taxHeadEstimates.length) - 1,\n      className: \"border-none\",\n      textStyle: {\n        color: \"#505A5F\"\n      },\n      labelStyle: {\n        color: \"#505A5F\"\n      }\n    });\n  }), /*#__PURE__*/React.createElement(BreakLine, {\n    style: {\n      margin: \"16px 0\",\n      width: \"40%\"\n    }\n  }), /*#__PURE__*/React.createElement(Row, {\n    label: t(\"ES_PT_TITLE_TOTAL_DUE_AMOUNT\"),\n    text: \"\\u20B9 \" + (taxHeadEstimatesCalculation === null || taxHeadEstimatesCalculation === void 0 ? void 0 : taxHeadEstimatesCalculation.totalAmount) || \"N/A\",\n    className: \"border-none\",\n    textStyle: {\n      fontSize: \"24px\",\n      fontWeight: \"bold\"\n    }\n  })));\n}\nfunction PropertyFloors(_ref) {\n  var floors = _ref.floors;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, floors.map(function (floor) {\n    var _floor$values;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: t(floor === null || floor === void 0 ? void 0 : floor.title),\n      style: {\n        marginTop: \"19px\"\n      }\n    }, /*#__PURE__*/React.createElement(CardSubHeader, {\n      style: {\n        marginBottom: \"8px\",\n        color: \"#505A5F\",\n        fontSize: \"24px\"\n      }\n    }, t(floor === null || floor === void 0 ? void 0 : floor.title)), floor === null || floor === void 0 ? void 0 : (_floor$values = floor.values) === null || _floor$values === void 0 ? void 0 : _floor$values.map(function (value, index) {\n      var _value$values;\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        key: index\n      }, /*#__PURE__*/React.createElement(CardSectionHeader, {\n        style: {\n          marginBottom: \"16px\",\n          color: \"#505A5F\",\n          fontSize: \"16px\",\n          marginTop: index !== 0 ? \"16px\" : \"revert\"\n        }\n      }, t(value.title)), /*#__PURE__*/React.createElement(StatusTable, {\n        style: {\n          position: \"relative\",\n          padding: \"8px\"\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          border: \"1px solid #D6D5D4\",\n          padding: \"16px\",\n          marginTop: \"8px\",\n          borderRadius: \"4px\",\n          background: \"#FAFAFA\",\n          maxWidth: \"100%\"\n        }\n      }, value === null || value === void 0 ? void 0 : (_value$values = value.values) === null || _value$values === void 0 ? void 0 : _value$values.map(function (value, index) {\n        var _value$values2;\n        if (value.map === true && value.value !== \"N/A\") {\n          return /*#__PURE__*/React.createElement(Row, {\n            key: t(value.title),\n            label: t(value.title),\n            text: /*#__PURE__*/React.createElement(\"img\", {\n              src: t(value.value),\n              alt: \"\"\n            })\n          });\n        }\n        return /*#__PURE__*/React.createElement(Row, {\n          key: t(value.title),\n          label: t(value.title),\n          text: t(value.value) || \"N/A\",\n          last: index === (value === null || value === void 0 ? void 0 : (_value$values2 = value.values) === null || _value$values2 === void 0 ? void 0 : _value$values2.length) - 1,\n          caption: value.caption,\n          className: \"border-none\"\n        });\n      }))));\n    }));\n  }));\n}\nfunction PropertyOwners(_ref) {\n  var owners = _ref.owners;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var checkOwnerLength = (owners === null || owners === void 0 ? void 0 : owners.length) || 1;\n  var cardStyles = {\n    marginTop: \"19px\"\n  };\n  var statusTableStyles = {\n    position: \"relative\",\n    padding: \"8px\"\n  };\n  var rowContainerStyle = {\n    justifyContent: \"space-between\",\n    fontSize: \"16px\",\n    lineHeight: \"19px\",\n    color: \"#0B0C0C\"\n  };\n  if (Number(checkOwnerLength) > 1) {\n    cardStyles = {\n      marginTop: \"19px\",\n      background: \"#FAFAFA\",\n      border: \"1px solid #D6D5D4\",\n      borderRadius: \"4px\",\n      padding: \"8px\",\n      lineHeight: \"19px\",\n      maxWidth: \"600px\",\n      minWidth: \"280px\"\n    };\n  } else if (!(Number(checkOwnerLength) > 1)) {\n    cardStyles = {\n      marginTop: \"19px\",\n      lineHeight: \"19px\",\n      maxWidth: \"600px\",\n      minWidth: \"280px\"\n    };\n    statusTableStyles = {\n      position: \"relative\",\n      marginTop: \"19px\"\n    };\n  }\n  if (window.location.href.includes(\"obps\")) {\n    cardStyles = _extends({}, cardStyles, {\n      maxWidth: \"950px\"\n    });\n    cardStyles = _extends({}, cardStyles, {\n      maxWidth: \"950px\"\n    });\n    rowContainerStyle = {};\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, owners.map(function (owner, index) {\n    var _owner$values;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: t(owner === null || owner === void 0 ? void 0 : owner.title),\n      style: cardStyles\n    }, /*#__PURE__*/React.createElement(CardSubHeader, {\n      style: Number(checkOwnerLength) > 1 ? {\n        marginBottom: \"8px\",\n        paddingBottom: \"9px\",\n        color: \"#0B0C0C\",\n        fontSize: \"16px\",\n        lineHeight: \"19px\"\n      } : {\n        marginBottom: \"8px\",\n        color: \"#505A5F\",\n        fontSize: \"24px\"\n      }\n    }, Number(checkOwnerLength) > 1 ? t(owner === null || owner === void 0 ? void 0 : owner.title) + \" \" + (index + 1) : t(owner === null || owner === void 0 ? void 0 : owner.title)), /*#__PURE__*/React.createElement(React.Fragment, {\n      key: index\n    }, /*#__PURE__*/React.createElement(StatusTable, {\n      style: statusTableStyles\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        maxWidth: \"640px\",\n        top: 0,\n        left: 0,\n        bottom: 0,\n        right: 0,\n        width: \"auto\"\n      }\n    }), owner === null || owner === void 0 ? void 0 : (_owner$values = owner.values) === null || _owner$values === void 0 ? void 0 : _owner$values.map(function (value, index) {\n      var _value$values;\n      if (value.map === true && value.value !== \"N/A\") {\n        return /*#__PURE__*/React.createElement(Row, {\n          key: t(value.title),\n          label: t(value.title),\n          text: /*#__PURE__*/React.createElement(\"img\", {\n            src: t(value.value),\n            alt: \"\"\n          })\n        });\n      }\n      return /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(Row, {\n        key: t(value.title),\n        label: \"\" + t(value.title),\n        text: t(value.value) || \"N/A\",\n        last: index === (value === null || value === void 0 ? void 0 : (_value$values = value.values) === null || _value$values === void 0 ? void 0 : _value$values.length) - 1,\n        caption: value.caption,\n        className: \"border-none\",\n        textStyle: value.textStyle,\n        rowContainerStyle: rowContainerStyle\n      }));\n    }))));\n  }));\n}\nvar ScruntinyDetails = function ScruntinyDetails(_ref) {\n  var _scrutinyDetails$valu, _scrutinyDetails$perm, _scrutinyDetails$scru;\n  var scrutinyDetails = _ref.scrutinyDetails;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var getTextValues = function getTextValues(data) {\n    if (data !== null && data !== void 0 && data.value && data !== null && data !== void 0 && data.isTransLate) return /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        color: \"#00703C\"\n      }\n    }, t(data === null || data === void 0 ? void 0 : data.value));else if (data !== null && data !== void 0 && data.value && data !== null && data !== void 0 && data.isTransLate) return t(data === null || data === void 0 ? void 0 : data.value);else if (data !== null && data !== void 0 && data.value) return data === null || data === void 0 ? void 0 : data.value;else t(\"NA\");\n  };\n  return /*#__PURE__*/React.createElement(Fragment, null, !(scrutinyDetails !== null && scrutinyDetails !== void 0 && scrutinyDetails.isChecklist) && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      background: \"#FAFAFA\",\n      border: \"1px solid #D6D5D4\",\n      padding: \"8px\",\n      borderRadius: \"4px\",\n      maxWidth: \"950px\",\n      minWidth: \"280px\"\n    }\n  }, /*#__PURE__*/React.createElement(StatusTable, null, /*#__PURE__*/React.createElement(\"div\", null, scrutinyDetails === null || scrutinyDetails === void 0 ? void 0 : (_scrutinyDetails$valu = scrutinyDetails.values) === null || _scrutinyDetails$valu === void 0 ? void 0 : _scrutinyDetails$valu.map(function (value, index) {\n    if (value !== null && value !== void 0 && value.isUnit) return /*#__PURE__*/React.createElement(Row, {\n      className: \"border-none\",\n      textStyle: (value === null || value === void 0 ? void 0 : value.value) === \"Paid\" ? {\n        color: \"darkgreen\"\n      } : (value === null || value === void 0 ? void 0 : value.value) === \"Unpaid\" ? {\n        color: \"red\"\n      } : {},\n      key: \"\" + value.title,\n      label: \"\" + t(\"\" + value.title),\n      text: value !== null && value !== void 0 && value.value ? getTextValues(value) + \" \" + t(value === null || value === void 0 ? void 0 : value.isUnit) : t(\"NA\"),\n      labelStyle: value !== null && value !== void 0 && value.isHeader ? {\n        fontSize: \"20px\"\n      } : {}\n    });else if (value !== null && value !== void 0 && value.isHeader && !(value !== null && value !== void 0 && value.isUnit)) return /*#__PURE__*/React.createElement(CardSubHeader, {\n      style: {\n        fontSize: \"20px\",\n        paddingBottom: \"10px\"\n      }\n    }, t(value === null || value === void 0 ? void 0 : value.title));else if (value !== null && value !== void 0 && value.isSubTitle && !(value !== null && value !== void 0 && value.isUnit)) return /*#__PURE__*/React.createElement(CardSubHeader, {\n      style: {\n        fontSize: \"20px\",\n        paddingBottom: \"10px\",\n        margin: \"0px\"\n      }\n    }, t(value === null || value === void 0 ? void 0 : value.title));else return /*#__PURE__*/React.createElement(Row, {\n      className: \"border-none\",\n      textStyle: (value === null || value === void 0 ? void 0 : value.value) === \"Paid\" ? {\n        color: \"darkgreen\"\n      } : (value === null || value === void 0 ? void 0 : value.value) === \"Unpaid\" ? {\n        color: \"red\"\n      } : {},\n      key: \"\" + value.title,\n      label: \"\" + t(\"\" + value.title),\n      text: getTextValues(value),\n      labelStyle: value !== null && value !== void 0 && value.isHeader ? {\n        fontSize: \"20px\"\n      } : {}\n    });\n  }), scrutinyDetails === null || scrutinyDetails === void 0 ? void 0 : (_scrutinyDetails$perm = scrutinyDetails.permit) === null || _scrutinyDetails$perm === void 0 ? void 0 : _scrutinyDetails$perm.map(function (value, ind) {\n    return /*#__PURE__*/React.createElement(CardLabel, {\n      style: {\n        fontWeight: \"400\"\n      }\n    }, value === null || value === void 0 ? void 0 : value.title);\n  })), /*#__PURE__*/React.createElement(\"div\", null, scrutinyDetails === null || scrutinyDetails === void 0 ? void 0 : (_scrutinyDetails$scru = scrutinyDetails.scruntinyDetails) === null || _scrutinyDetails$scru === void 0 ? void 0 : _scrutinyDetails$scru.map(function (report, index) {\n    return /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(Row, {\n      className: \"border-none\",\n      label: \"\" + t(report === null || report === void 0 ? void 0 : report.title),\n      labelStyle: {\n        width: \"150%\"\n      }\n    }), /*#__PURE__*/React.createElement(\"a\", {\n      href: report === null || report === void 0 ? void 0 : report.value\n    }, \" \", /*#__PURE__*/React.createElement(PDFSvg, null), \" \"), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        margin: \"8px 0px\",\n        fontWeight: \"bold\",\n        fontSize: \"16px\",\n        lineHeight: \"19px\",\n        color: \"#505A5F\"\n      }\n    }, t(report === null || report === void 0 ? void 0 : report.text)));\n  })))));\n};\nvar SubOccupancyTable = function SubOccupancyTable(_ref) {\n  var _edcrDetails$values, _edcrDetails$subOccup, _edcrDetails$subOccup2, _edcrDetails$subOccup3, _edcrDetails$subOccup4;\n  var edcrDetails = _ref.edcrDetails,\n    applicationData = _ref.applicationData;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var isMobile = window.Digit.Utils.browser.isMobile();\n  var tableHeader = [{\n    name: \"BPA_TABLE_COL_FLOOR\",\n    id: \"Floor\"\n  }, {\n    name: \"BPA_TABLE_COL_LEVEL\",\n    id: \"Level\"\n  }, {\n    name: \"BPA_TABLE_COL_OCCUPANCY\",\n    id: \"Occupancy\"\n  }, {\n    name: \"BPA_TABLE_COL_BUILDUPAREA\",\n    id: \"BuildupArea\"\n  }, {\n    name: \"BPA_TABLE_COL_FLOORAREA\",\n    id: \"FloorArea\"\n  }, {\n    name: \"BPA_TABLE_COL_CARPETAREA\",\n    id: \"CarpetArea\"\n  }];\n  var accessData = function accessData(plot) {\n    var name = plot;\n    return function (originalRow, rowIndex, columns) {\n      return originalRow[name];\n    };\n  };\n  var tableColumns = useMemo(function () {\n    return tableHeader.map(function (ob) {\n      return {\n        Header: t(\"\" + ob.name),\n        accessor: accessData(ob.id),\n        id: ob.id\n      };\n    });\n  });\n  function getFloorData(block) {\n    var _block$building;\n    var floors = [];\n    block === null || block === void 0 ? void 0 : (_block$building = block.building) === null || _block$building === void 0 ? void 0 : _block$building.floors.map(function (ob) {\n      var _ob$occupancies, _ob$occupancies$, _ob$occupancies2, _ob$occupancies2$, _ob$occupancies3, _ob$occupancies3$, _ob$occupancies4, _ob$occupancies4$;\n      floors.push({\n        Floor: t(\"BPA_FLOOR_NAME_\" + ob.number),\n        Level: ob.number,\n        Occupancy: t(\"\" + ((_ob$occupancies = ob.occupancies) === null || _ob$occupancies === void 0 ? void 0 : (_ob$occupancies$ = _ob$occupancies[0]) === null || _ob$occupancies$ === void 0 ? void 0 : _ob$occupancies$.type)),\n        BuildupArea: (_ob$occupancies2 = ob.occupancies) === null || _ob$occupancies2 === void 0 ? void 0 : (_ob$occupancies2$ = _ob$occupancies2[0]) === null || _ob$occupancies2$ === void 0 ? void 0 : _ob$occupancies2$.builtUpArea,\n        FloorArea: ((_ob$occupancies3 = ob.occupancies) === null || _ob$occupancies3 === void 0 ? void 0 : (_ob$occupancies3$ = _ob$occupancies3[0]) === null || _ob$occupancies3$ === void 0 ? void 0 : _ob$occupancies3$.floorArea) || 0,\n        CarpetArea: ((_ob$occupancies4 = ob.occupancies) === null || _ob$occupancies4 === void 0 ? void 0 : (_ob$occupancies4$ = _ob$occupancies4[0]) === null || _ob$occupancies4$ === void 0 ? void 0 : _ob$occupancies4$.CarpetArea) || 0,\n        key: t(\"BPA_FLOOR_NAME_\" + ob.number)\n      });\n    });\n    return floors;\n  }\n  var stringReplaceAll = function stringReplaceAll(str, searcher, replaceWith) {\n    if (str === void 0) {\n      str = \"\";\n    }\n    if (searcher === void 0) {\n      searcher = \"\";\n    }\n    if (replaceWith === void 0) {\n      replaceWith = \"\";\n    }\n    if (searcher == \"\") return str;\n    while (str.includes(searcher)) {\n      str = str.replace(searcher, replaceWith);\n    }\n    return str;\n  };\n  function getSubOccupancyValues(index) {\n    var _applicationData$land;\n    var values = applicationData === null || applicationData === void 0 ? void 0 : (_applicationData$land = applicationData.landInfo) === null || _applicationData$land === void 0 ? void 0 : _applicationData$land.unit;\n    var returnValue = \"\";\n    if ((values === null || values === void 0 ? void 0 : values.length) > 0) {\n      var _values$index, _values$index$usageCa;\n      var splitArray = (_values$index = values[index]) === null || _values$index === void 0 ? void 0 : (_values$index$usageCa = _values$index.usageCategory) === null || _values$index$usageCa === void 0 ? void 0 : _values$index$usageCa.split(',');\n      if (splitArray !== null && splitArray !== void 0 && splitArray.length) {\n        var returnValueArray = splitArray.map(function (data) {\n          return data ? \"\" + t(\"BPA_SUBOCCUPANCYTYPE_\" + stringReplaceAll(data === null || data === void 0 ? void 0 : data.toUpperCase(), \"-\", \"_\")) : \"NA\";\n        });\n        returnValue = returnValueArray.join(', ');\n      }\n    }\n    return returnValue ? returnValue : \"NA\";\n  }\n  return /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      background: \"#FAFAFA\",\n      border: \"1px solid #D6D5D4\",\n      padding: \"8px\",\n      borderRadius: \"4px\",\n      maxWidth: \"950px\",\n      minWidth: \"280px\"\n    }\n  }, /*#__PURE__*/React.createElement(StatusTable, null, edcrDetails === null || edcrDetails === void 0 ? void 0 : (_edcrDetails$values = edcrDetails.values) === null || _edcrDetails$values === void 0 ? void 0 : _edcrDetails$values.map(function (value, index) {\n    if (value !== null && value !== void 0 && value.isHeader) return /*#__PURE__*/React.createElement(CardSubHeader, {\n      style: {\n        fontSize: \"20px\",\n        paddingBottom: \"10px\"\n      }\n    }, t(value === null || value === void 0 ? void 0 : value.title));else return /*#__PURE__*/React.createElement(Row, {\n      className: \"border-none\",\n      labelStyle: {\n        width: \"100%\",\n        fontSize: \"20px\"\n      },\n      key: \"\" + value.title,\n      label: \"\" + t(\"\" + value.title),\n      text: value !== null && value !== void 0 && value.value ? value === null || value === void 0 ? void 0 : value.value : \"\"\n    });\n  })), edcrDetails === null || edcrDetails === void 0 ? void 0 : (_edcrDetails$subOccup = edcrDetails.subOccupancyTableDetails) === null || _edcrDetails$subOccup === void 0 ? void 0 : (_edcrDetails$subOccup2 = _edcrDetails$subOccup[0]) === null || _edcrDetails$subOccup2 === void 0 ? void 0 : (_edcrDetails$subOccup3 = _edcrDetails$subOccup2.value) === null || _edcrDetails$subOccup3 === void 0 ? void 0 : (_edcrDetails$subOccup4 = _edcrDetails$subOccup3.planDetail) === null || _edcrDetails$subOccup4 === void 0 ? void 0 : _edcrDetails$subOccup4.blocks.map(function (block, index) {\n    var _edcrDetails$subOccup5, _edcrDetails$subOccup6, _edcrDetails$subOccup7, _edcrDetails$subOccup8, _edcrDetails$subOccup9;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      style: (edcrDetails === null || edcrDetails === void 0 ? void 0 : (_edcrDetails$subOccup5 = edcrDetails.subOccupancyTableDetails) === null || _edcrDetails$subOccup5 === void 0 ? void 0 : (_edcrDetails$subOccup6 = _edcrDetails$subOccup5[0]) === null || _edcrDetails$subOccup6 === void 0 ? void 0 : (_edcrDetails$subOccup7 = _edcrDetails$subOccup6.value) === null || _edcrDetails$subOccup7 === void 0 ? void 0 : (_edcrDetails$subOccup8 = _edcrDetails$subOccup7.planDetail) === null || _edcrDetails$subOccup8 === void 0 ? void 0 : (_edcrDetails$subOccup9 = _edcrDetails$subOccup8.blocks) === null || _edcrDetails$subOccup9 === void 0 ? void 0 : _edcrDetails$subOccup9.length) > 0 ? {\n        marginBottom: \"30px\",\n        background: \"#FAFAFA\",\n        border: \"1px solid #D6D5D4\",\n        padding: \"8px\",\n        borderRadius: \"4px\",\n        maxWidth: \"950px\",\n        minWidth: \"280px\"\n      } : {\n        marginBottom: \"30px\"\n      }\n    }, /*#__PURE__*/React.createElement(CardSubHeader, {\n      style: {\n        marginBottom: \"8px\",\n        paddingBottom: \"9px\",\n        color: \"#0B0C0C\",\n        fontSize: \"18px\",\n        lineHeight: \"19px\"\n      }\n    }, t(\"BPA_BLOCK_SUBHEADER\"), \" \", index + 1), /*#__PURE__*/React.createElement(StatusTable, null, /*#__PURE__*/React.createElement(Row, {\n      className: \"border-none\",\n      textStyle: {\n        wordBreak: \"break-word\"\n      },\n      label: \"\" + t(\"BPA_SUB_OCCUPANCY_LABEL\"),\n      text: getSubOccupancyValues(index)\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      style: window.location.href.includes(\"citizen\") || isMobile ? {\n        overflow: \"scroll\"\n      } : {\n        maxWidth: \"950px\",\n        maxHeight: \"280px\"\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      className: \"customTable table-fixed-first-column table-border-style\",\n      t: t,\n      disableSort: false,\n      autoSort: true,\n      manualPagination: false,\n      isPaginationRequired: false,\n      initSortId: \"S N \",\n      data: getFloorData(block),\n      columns: tableColumns,\n      getCellProps: function getCellProps(cellInfo) {\n        return {\n          style: {}\n        };\n      }\n    })));\n  })));\n};\nvar Reason = function Reason(_ref) {\n  var headComment = _ref.headComment,\n    otherComment = _ref.otherComment;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"checkpoint-comments-wrap\"\n  }, /*#__PURE__*/React.createElement(\"h4\", null, headComment), /*#__PURE__*/React.createElement(\"p\", null, otherComment));\n};\nvar TLCaption = function TLCaption(_ref) {\n  var _data$wfComment, _data$thumbnailsToSho, _data$thumbnailsToSho2;\n  var data = _ref.data,\n    OpenImage = _ref.OpenImage;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  return /*#__PURE__*/React.createElement(\"div\", null, data.date && /*#__PURE__*/React.createElement(\"p\", null, data.date), /*#__PURE__*/React.createElement(\"p\", null, data.name), data.mobileNumber && /*#__PURE__*/React.createElement(TelePhone, {\n    mobile: data.mobileNumber\n  }), data.source && /*#__PURE__*/React.createElement(\"p\", null, t(\"ES_APPLICATION_DETAILS_APPLICATION_CHANNEL_\" + data.source.toUpperCase())), data.comment && /*#__PURE__*/React.createElement(Reason, {\n    otherComment: data === null || data === void 0 ? void 0 : data.otherComment,\n    headComment: data === null || data === void 0 ? void 0 : data.comment\n  }), data !== null && data !== void 0 && data.wfComment ? /*#__PURE__*/React.createElement(\"div\", null, data === null || data === void 0 ? void 0 : (_data$wfComment = data.wfComment) === null || _data$wfComment === void 0 ? void 0 : _data$wfComment.map(function (e) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"TLComments\"\n    }, /*#__PURE__*/React.createElement(\"h3\", null, t(\"WF_COMMON_COMMENTS\")), /*#__PURE__*/React.createElement(\"p\", null, e));\n  })) : null, (data === null || data === void 0 ? void 0 : (_data$thumbnailsToSho = data.thumbnailsToShow) === null || _data$thumbnailsToSho === void 0 ? void 0 : (_data$thumbnailsToSho2 = _data$thumbnailsToSho.thumbs) === null || _data$thumbnailsToSho2 === void 0 ? void 0 : _data$thumbnailsToSho2.length) > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"TLComments\"\n  }, /*#__PURE__*/React.createElement(\"h3\", null, t(\"CS_COMMON_ATTACHMENTS\")), /*#__PURE__*/React.createElement(DisplayPhotos, {\n    srcs: data === null || data === void 0 ? void 0 : data.thumbnailsToShow.thumbs,\n    onClick: function onClick(src, index) {\n      OpenImage(src, index, data === null || data === void 0 ? void 0 : data.thumbnailsToShow);\n    }\n  })) : null);\n};\nfunction TLTradeAccessories(_ref) {\n  var units = _ref.units;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, units.map(function (unit, index) {\n    var _unit$values;\n    return /*#__PURE__*/(\n      React.createElement(\"div\", {\n        key: t(unit === null || unit === void 0 ? void 0 : unit.title),\n        style: {\n          marginTop: \"19px\",\n          background: \"#FAFAFA\",\n          border: \"1px solid #D6D5D4\",\n          borderRadius: \"4px\",\n          padding: \"8px\",\n          lineHeight: \"19px\",\n          maxWidth: \"600px\",\n          minWidth: \"280px\"\n        }\n      }, /*#__PURE__*/React.createElement(CardSubHeader, {\n        style: {\n          marginBottom: \"8px\",\n          paddingBottom: \"9px\",\n          color: \"#0B0C0C\",\n          fontSize: \"16px\",\n          lineHeight: \"19px\"\n        }\n      }, t(unit === null || unit === void 0 ? void 0 : unit.title) + \" \" + (index + 1)), /*#__PURE__*/React.createElement(React.Fragment, {\n        key: index\n      }, /*#__PURE__*/React.createElement(StatusTable, {\n        style: {\n          position: \"relative\",\n          marginTop: \"19px\"\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          position: \"absolute\",\n          maxWidth: \"640px\",\n          top: 0,\n          left: 0,\n          bottom: 0,\n          right: 0,\n          width: \"auto\"\n        }\n      }), unit === null || unit === void 0 ? void 0 : (_unit$values = unit.values) === null || _unit$values === void 0 ? void 0 : _unit$values.map(function (value, index) {\n        var _value$values;\n        if (value.map === true && value.value !== \"N/A\") {\n          return /*#__PURE__*/React.createElement(Row, {\n            key: t(value.title),\n            label: t(value.title),\n            text: /*#__PURE__*/React.createElement(\"img\", {\n              src: t(value.value),\n              alt: \"\"\n            })\n          });\n        }\n        return /*#__PURE__*/React.createElement(Row, {\n          key: t(value.title),\n          label: t(value.title) + \":\",\n          text: t(value.value) || \"N/A\",\n          last: index === (value === null || value === void 0 ? void 0 : (_value$values = value.values) === null || _value$values === void 0 ? void 0 : _value$values.length) - 1,\n          caption: value.caption,\n          className: \"border-none\",\n          rowContainerStyle: {\n            justifyContent: \"space-between\",\n            fontSize: \"16px\",\n            lineHeight: \"19px\",\n            color: \"#0B0C0C\"\n          }\n        });\n      }))))\n    );\n  }));\n}\nfunction TLTradeUnits(_ref) {\n  var units = _ref.units;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, units.map(function (unit, index) {\n    var _unit$values;\n    return /*#__PURE__*/(\n      React.createElement(\"div\", {\n        key: t(unit === null || unit === void 0 ? void 0 : unit.title),\n        style: {\n          marginTop: \"19px\",\n          background: \"#FAFAFA\",\n          border: \"1px solid #D6D5D4\",\n          borderRadius: \"4px\",\n          padding: \"8px\",\n          lineHeight: \"19px\",\n          maxWidth: \"600px\",\n          minWidth: \"280px\"\n        }\n      }, /*#__PURE__*/React.createElement(CardSubHeader, {\n        style: {\n          marginBottom: \"9px\",\n          paddingBottom: \"9px\",\n          color: \"#0B0C0C\",\n          fontSize: \"16px\",\n          lineHeight: \"19px\"\n        }\n      }, t(unit === null || unit === void 0 ? void 0 : unit.title) + \" \" + (index + 1)), /*#__PURE__*/React.createElement(React.Fragment, {\n        key: index\n      }, /*#__PURE__*/React.createElement(StatusTable, {\n        style: {\n          position: \"relative\",\n          marginTop: \"19px\"\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          position: \"absolute\",\n          maxWidth: \"640px\",\n          top: 0,\n          left: 0,\n          bottom: 0,\n          right: 0,\n          width: \"auto\"\n        }\n      }), unit === null || unit === void 0 ? void 0 : (_unit$values = unit.values) === null || _unit$values === void 0 ? void 0 : _unit$values.map(function (value, index) {\n        var _value$values;\n        if (value.map === true && value.value !== \"N/A\") {\n          return /*#__PURE__*/React.createElement(Row, {\n            key: t(value.title),\n            label: t(value.title),\n            text: /*#__PURE__*/React.createElement(\"img\", {\n              src: t(value.value),\n              alt: \"\"\n            })\n          });\n        }\n        return /*#__PURE__*/React.createElement(Row, {\n          key: t(value.title),\n          label: t(value.title) + \":\",\n          text: t(value.value) || \"NA\",\n          last: index === (value === null || value === void 0 ? void 0 : (_value$values = value.values) === null || _value$values === void 0 ? void 0 : _value$values.length) - 1,\n          caption: value.caption,\n          className: \"border-none\",\n          rowContainerStyle: {\n            justifyContent: \"space-between\",\n            fontSize: \"16px\",\n            lineHeight: \"19px\",\n            color: \"#0B0C0C\"\n          }\n        });\n      }))))\n    );\n  }));\n}\nfunction ApplicationDetailsContent(_ref) {\n  var _applicationDetails$a, _workflowDetails$data3, _workflowDetails$data4, _workflowDetails$data5, _workflowDetails$data6, _workflowDetails$data7, _workflowDetails$data8, _workflowDetails$data9, _workflowDetails$data10, _workflowDetails$data11, _workflowDetails$data12;\n  var applicationDetails = _ref.applicationDetails,\n    workflowDetails = _ref.workflowDetails,\n    isDataLoading = _ref.isDataLoading,\n    applicationData = _ref.applicationData,\n    timelineStatusPrefix = _ref.timelineStatusPrefix,\n    _ref$showTimeLine = _ref.showTimeLine,\n    showTimeLine = _ref$showTimeLine === void 0 ? true : _ref$showTimeLine,\n    _ref$statusAttribute = _ref.statusAttribute,\n    statusAttribute = _ref$statusAttribute === void 0 ? \"status\" : _ref$statusAttribute,\n    paymentsList = _ref.paymentsList;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  function OpenImage(imageSource, index, thumbnailsToShow) {\n    var _thumbnailsToShow$ful;\n    window.open(thumbnailsToShow === null || thumbnailsToShow === void 0 ? void 0 : (_thumbnailsToShow$ful = thumbnailsToShow.fullImage) === null || _thumbnailsToShow$ful === void 0 ? void 0 : _thumbnailsToShow$ful[0], \"_blank\");\n  }\n  var getTimelineCaptions = function getTimelineCaptions(checkpoint) {\n    if (checkpoint.state === \"OPEN\" || checkpoint.status === \"INITIATED\" && !window.location.href.includes(\"/obps/\")) {\n      var _applicationData$audi;\n      var caption = {\n        date: Digit.DateUtils.ConvertTimestampToDate(applicationData === null || applicationData === void 0 ? void 0 : (_applicationData$audi = applicationData.auditDetails) === null || _applicationData$audi === void 0 ? void 0 : _applicationData$audi.createdTime),\n        source: (applicationData === null || applicationData === void 0 ? void 0 : applicationData.channel) || \"\"\n      };\n      return /*#__PURE__*/React.createElement(TLCaption, {\n        data: caption\n      });\n    } else if (window.location.href.includes(\"/obps/\") || window.location.href.includes(\"/noc/\")) {\n      var _checkpoint$auditDeta, _checkpoint$assignes, _checkpoint$assignes$, _checkpoint$assignes2, _checkpoint$assignes3;\n      var _caption = {\n        date: checkpoint === null || checkpoint === void 0 ? void 0 : (_checkpoint$auditDeta = checkpoint.auditDetails) === null || _checkpoint$auditDeta === void 0 ? void 0 : _checkpoint$auditDeta.lastModified,\n        name: checkpoint === null || checkpoint === void 0 ? void 0 : (_checkpoint$assignes = checkpoint.assignes) === null || _checkpoint$assignes === void 0 ? void 0 : (_checkpoint$assignes$ = _checkpoint$assignes[0]) === null || _checkpoint$assignes$ === void 0 ? void 0 : _checkpoint$assignes$.name,\n        mobileNumber: checkpoint === null || checkpoint === void 0 ? void 0 : (_checkpoint$assignes2 = checkpoint.assignes) === null || _checkpoint$assignes2 === void 0 ? void 0 : (_checkpoint$assignes3 = _checkpoint$assignes2[0]) === null || _checkpoint$assignes3 === void 0 ? void 0 : _checkpoint$assignes3.mobileNumber,\n        comment: t(checkpoint === null || checkpoint === void 0 ? void 0 : checkpoint.comment),\n        wfComment: checkpoint.wfComment,\n        thumbnailsToShow: checkpoint === null || checkpoint === void 0 ? void 0 : checkpoint.thumbnailsToShow\n      };\n      return /*#__PURE__*/React.createElement(TLCaption, {\n        data: _caption,\n        OpenImage: OpenImage\n      });\n    } else {\n      var _Digit$DateUtils, _applicationData$audi2, _checkpoint$assignes4, _checkpoint$assignes5, _checkpoint$assignes6, _checkpoint$assignes7;\n      var _caption2 = {\n        date: (_Digit$DateUtils = Digit.DateUtils) === null || _Digit$DateUtils === void 0 ? void 0 : _Digit$DateUtils.ConvertTimestampToDate(applicationData === null || applicationData === void 0 ? void 0 : (_applicationData$audi2 = applicationData.auditDetails) === null || _applicationData$audi2 === void 0 ? void 0 : _applicationData$audi2.lastModifiedTime),\n        name: checkpoint === null || checkpoint === void 0 ? void 0 : (_checkpoint$assignes4 = checkpoint.assignes) === null || _checkpoint$assignes4 === void 0 ? void 0 : (_checkpoint$assignes5 = _checkpoint$assignes4[0]) === null || _checkpoint$assignes5 === void 0 ? void 0 : _checkpoint$assignes5.name,\n        wfComment: checkpoint === null || checkpoint === void 0 ? void 0 : checkpoint.wfComment,\n        mobileNumber: checkpoint === null || checkpoint === void 0 ? void 0 : (_checkpoint$assignes6 = checkpoint.assignes) === null || _checkpoint$assignes6 === void 0 ? void 0 : (_checkpoint$assignes7 = _checkpoint$assignes6[0]) === null || _checkpoint$assignes7 === void 0 ? void 0 : _checkpoint$assignes7.mobileNumber\n      };\n      return /*#__PURE__*/React.createElement(TLCaption, {\n        data: _caption2\n      });\n    }\n  };\n  var getTranslatedValues = function getTranslatedValues(dataValue, isNotTranslated) {\n    if (dataValue) {\n      return !isNotTranslated ? t(dataValue) : dataValue;\n    } else {\n      return t(\"NA\");\n    }\n  };\n  var checkLocation = window.location.href.includes(\"employee/tl\") || window.location.href.includes(\"employee/obps\") || window.location.href.includes(\"employee/noc\");\n  var isNocLocation = window.location.href.includes(\"employee/noc\");\n  var isBPALocation = window.location.href.includes(\"employee/obps\");\n  var getRowStyles = function getRowStyles() {\n    if (window.location.href.includes(\"employee/obps\") || window.location.href.includes(\"employee/noc\")) {\n      return {\n        justifyContent: \"space-between\",\n        fontSize: \"16px\",\n        lineHeight: \"19px\",\n        color: \"#0B0C0C\"\n      };\n    } else if (checkLocation) {\n      return {\n        justifyContent: \"space-between\",\n        fontSize: \"16px\",\n        lineHeight: \"19px\",\n        color: \"#0B0C0C\"\n      };\n    } else {\n      return {};\n    }\n  };\n  var getTableStyles = function getTableStyles() {\n    if (window.location.href.includes(\"employee/obps\") || window.location.href.includes(\"employee/noc\")) {\n      return {\n        position: \"relative\",\n        marginTop: \"19px\"\n      };\n    } else if (checkLocation) {\n      return {\n        position: \"relative\",\n        marginTop: \"19px\"\n      };\n    } else {\n      return {};\n    }\n  };\n  var getMainDivStyles = function getMainDivStyles() {\n    if (window.location.href.includes(\"employee/obps\") || window.location.href.includes(\"employee/noc\")) {\n      return {\n        lineHeight: \"19px\",\n        maxWidth: \"950px\",\n        minWidth: \"280px\"\n      };\n    } else if (checkLocation) {\n      return {\n        lineHeight: \"19px\",\n        maxWidth: \"600px\",\n        minWidth: \"280px\"\n      };\n    } else {\n      return {};\n    }\n  };\n  var getTextValue = function getTextValue(value) {\n    if (value !== null && value !== void 0 && value.skip) return value.value;else if (value !== null && value !== void 0 && value.isUnit) return value !== null && value !== void 0 && value.value ? getTranslatedValues(value === null || value === void 0 ? void 0 : value.value, value === null || value === void 0 ? void 0 : value.isNotTranslated) + \" \" + t(value === null || value === void 0 ? void 0 : value.isUnit) : t(\"N/A\");else return value !== null && value !== void 0 && value.value ? getTranslatedValues(value === null || value === void 0 ? void 0 : value.value, value === null || value === void 0 ? void 0 : value.isNotTranslated) : t(\"N/A\");\n  };\n  return /*#__PURE__*/React.createElement(Card, {\n    style: {\n      position: \"relative\"\n    },\n    className: \"employeeCard-override\"\n  }, applicationDetails === null || applicationDetails === void 0 ? void 0 : (_applicationDetails$a = applicationDetails.applicationDetails) === null || _applicationDetails$a === void 0 ? void 0 : _applicationDetails$a.map(function (detail, index) {\n    var _detail$values, _detail$additionalDet, _applicationDetails$a2, _applicationDetails$a3, _applicationDetails$a4, _detail$additionalDet2, _applicationDetails$a5, _applicationDetails$a6, _detail$additionalDet3, _detail$additionalDet4, _detail$additionalDet5, _detail$additionalDet6, _detail$additionalDet7, _detail$additionalDet8, _detail$additionalDet9, _detail$additionalDet10, _detail$additionalDet11, _workflowDetails$data, _workflowDetails$data2, _detail$additionalDet12, _detail$additionalDet13, _detail$additionalDet14, _detail$additionalDet15, _detail$additionalDet16, _detail$additionalDet17, _detail$additionalDet18, _detail$additionalDet19, _detail$additionalDet20, _detail$additionalDet21, _detail$additionalDet22, _detail$additionalDet23, _detail$additionalDet24;\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      key: index\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: getMainDivStyles()\n    }, index === 0 && !detail.asSectionHeader ? /*#__PURE__*/React.createElement(CardSubHeader, {\n      style: {\n        marginBottom: \"16px\",\n        fontSize: \"24px\"\n      }\n    }, t(detail.title)) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(CardSectionHeader, {\n      style: index == 0 && checkLocation ? {\n        marginBottom: \"16px\",\n        fontSize: \"24px\"\n      } : {\n        marginBottom: \"16px\",\n        marginTop: \"32px\",\n        fontSize: \"24px\"\n      }\n    }, isNocLocation ? \"\" + t(detail.title) : t(detail.title), detail !== null && detail !== void 0 && detail.Component ? /*#__PURE__*/React.createElement(detail.Component, null) : null)), /*#__PURE__*/React.createElement(StatusTable, {\n      style: getTableStyles()\n    }, (detail === null || detail === void 0 ? void 0 : detail.title) && !(detail !== null && detail !== void 0 && detail.title.includes(\"NOC\")) && (detail === null || detail === void 0 ? void 0 : (_detail$values = detail.values) === null || _detail$values === void 0 ? void 0 : _detail$values.map(function (value, index) {\n      var _detail$values3;\n      if (value.map === true && value.value !== \"N/A\") {\n        return /*#__PURE__*/React.createElement(Row, {\n          key: t(value.title),\n          label: t(value.title),\n          text: /*#__PURE__*/React.createElement(\"img\", {\n            src: t(value.value),\n            alt: \"\"\n          })\n        });\n      }\n      if ((value === null || value === void 0 ? void 0 : value.isLink) == true) {\n        var _detail$values2;\n        return /*#__PURE__*/React.createElement(Row, {\n          key: t(value.title),\n          label: window.location.href.includes(\"tl\") ? /*#__PURE__*/React.createElement(\"div\", {\n            style: {\n              width: \"200%\"\n            }\n          }, /*#__PURE__*/React.createElement(Link, {\n            to: value === null || value === void 0 ? void 0 : value.to\n          }, /*#__PURE__*/React.createElement(\"span\", {\n            className: \"link\",\n            style: {\n              color: \"#F47738\"\n            }\n          }, t(value === null || value === void 0 ? void 0 : value.title)))) : isNocLocation || isBPALocation ? \"\" + t(value.title) : t(value.title),\n          text: /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Link, {\n            to: value === null || value === void 0 ? void 0 : value.to\n          }, /*#__PURE__*/React.createElement(\"span\", {\n            className: \"link\",\n            style: {\n              color: \"#F47738\"\n            }\n          }, value === null || value === void 0 ? void 0 : value.value))),\n          last: index === (detail === null || detail === void 0 ? void 0 : (_detail$values2 = detail.values) === null || _detail$values2 === void 0 ? void 0 : _detail$values2.length) - 1,\n          caption: value.caption,\n          className: \"border-none\",\n          rowContainerStyle: getRowStyles()\n        });\n      }\n      return /*#__PURE__*/React.createElement(Row, {\n        key: t(value.title),\n        label: isNocLocation || isBPALocation ? \"\" + t(value.title) : t(value.title),\n        text: getTextValue(value),\n        last: index === (detail === null || detail === void 0 ? void 0 : (_detail$values3 = detail.values) === null || _detail$values3 === void 0 ? void 0 : _detail$values3.length) - 1,\n        caption: value.caption,\n        className: \"border-none\",\n        rowContainerStyle: getRowStyles()\n      });\n    })))), (detail === null || detail === void 0 ? void 0 : detail.belowComponent) && /*#__PURE__*/React.createElement(detail.belowComponent, null), (detail === null || detail === void 0 ? void 0 : (_detail$additionalDet = detail.additionalDetails) === null || _detail$additionalDet === void 0 ? void 0 : _detail$additionalDet.inspectionReport) && /*#__PURE__*/React.createElement(ScruntinyDetails, {\n      scrutinyDetails: detail === null || detail === void 0 ? void 0 : detail.additionalDetails,\n      paymentsList: paymentsList\n    }), (applicationDetails === null || applicationDetails === void 0 ? void 0 : (_applicationDetails$a2 = applicationDetails.applicationData) === null || _applicationDetails$a2 === void 0 ? void 0 : (_applicationDetails$a3 = _applicationDetails$a2.additionalDetails) === null || _applicationDetails$a3 === void 0 ? void 0 : (_applicationDetails$a4 = _applicationDetails$a3.fieldinspection_pending) === null || _applicationDetails$a4 === void 0 ? void 0 : _applicationDetails$a4.length) > 0 && (detail === null || detail === void 0 ? void 0 : (_detail$additionalDet2 = detail.additionalDetails) === null || _detail$additionalDet2 === void 0 ? void 0 : _detail$additionalDet2.fiReport) && /*#__PURE__*/React.createElement(InspectionReport, {\n      fiReport: applicationDetails === null || applicationDetails === void 0 ? void 0 : (_applicationDetails$a5 = applicationDetails.applicationData) === null || _applicationDetails$a5 === void 0 ? void 0 : (_applicationDetails$a6 = _applicationDetails$a5.additionalDetails) === null || _applicationDetails$a6 === void 0 ? void 0 : _applicationDetails$a6.fieldinspection_pending\n    }), (detail === null || detail === void 0 ? void 0 : (_detail$additionalDet3 = detail.additionalDetails) === null || _detail$additionalDet3 === void 0 ? void 0 : _detail$additionalDet3.floors) && /*#__PURE__*/React.createElement(PropertyFloors, {\n      floors: detail === null || detail === void 0 ? void 0 : (_detail$additionalDet4 = detail.additionalDetails) === null || _detail$additionalDet4 === void 0 ? void 0 : _detail$additionalDet4.floors\n    }), (detail === null || detail === void 0 ? void 0 : (_detail$additionalDet5 = detail.additionalDetails) === null || _detail$additionalDet5 === void 0 ? void 0 : _detail$additionalDet5.owners) && /*#__PURE__*/React.createElement(PropertyOwners, {\n      owners: detail === null || detail === void 0 ? void 0 : (_detail$additionalDet6 = detail.additionalDetails) === null || _detail$additionalDet6 === void 0 ? void 0 : _detail$additionalDet6.owners\n    }), (detail === null || detail === void 0 ? void 0 : (_detail$additionalDet7 = detail.additionalDetails) === null || _detail$additionalDet7 === void 0 ? void 0 : _detail$additionalDet7.units) && /*#__PURE__*/React.createElement(TLTradeUnits, {\n      units: detail === null || detail === void 0 ? void 0 : (_detail$additionalDet8 = detail.additionalDetails) === null || _detail$additionalDet8 === void 0 ? void 0 : _detail$additionalDet8.units\n    }), (detail === null || detail === void 0 ? void 0 : (_detail$additionalDet9 = detail.additionalDetails) === null || _detail$additionalDet9 === void 0 ? void 0 : _detail$additionalDet9.accessories) && /*#__PURE__*/React.createElement(TLTradeAccessories, {\n      units: detail === null || detail === void 0 ? void 0 : (_detail$additionalDet10 = detail.additionalDetails) === null || _detail$additionalDet10 === void 0 ? void 0 : _detail$additionalDet10.accessories\n    }), (detail === null || detail === void 0 ? void 0 : (_detail$additionalDet11 = detail.additionalDetails) === null || _detail$additionalDet11 === void 0 ? void 0 : _detail$additionalDet11.permissions) && (workflowDetails === null || workflowDetails === void 0 ? void 0 : (_workflowDetails$data = workflowDetails.data) === null || _workflowDetails$data === void 0 ? void 0 : (_workflowDetails$data2 = _workflowDetails$data.nextActions) === null || _workflowDetails$data2 === void 0 ? void 0 : _workflowDetails$data2.length) > 0 && /*#__PURE__*/React.createElement(PermissionCheck, {\n      applicationData: applicationDetails === null || applicationDetails === void 0 ? void 0 : applicationDetails.applicationData,\n      t: t,\n      permissions: detail === null || detail === void 0 ? void 0 : (_detail$additionalDet12 = detail.additionalDetails) === null || _detail$additionalDet12 === void 0 ? void 0 : _detail$additionalDet12.permissions\n    }), (detail === null || detail === void 0 ? void 0 : (_detail$additionalDet13 = detail.additionalDetails) === null || _detail$additionalDet13 === void 0 ? void 0 : _detail$additionalDet13.obpsDocuments) && /*#__PURE__*/React.createElement(BPADocuments, {\n      t: t,\n      applicationData: applicationDetails === null || applicationDetails === void 0 ? void 0 : applicationDetails.applicationData,\n      docs: detail.additionalDetails.obpsDocuments,\n      bpaActionsDetails: workflowDetails\n    }), (detail === null || detail === void 0 ? void 0 : (_detail$additionalDet14 = detail.additionalDetails) === null || _detail$additionalDet14 === void 0 ? void 0 : _detail$additionalDet14.noc) && /*#__PURE__*/React.createElement(NOCDocuments, {\n      t: t,\n      isNoc: true,\n      NOCdata: detail.values,\n      applicationData: applicationDetails === null || applicationDetails === void 0 ? void 0 : applicationDetails.applicationData,\n      docs: detail.additionalDetails.noc,\n      noc: (_detail$additionalDet15 = detail.additionalDetails) === null || _detail$additionalDet15 === void 0 ? void 0 : _detail$additionalDet15.data,\n      bpaActionsDetails: workflowDetails\n    }), (detail === null || detail === void 0 ? void 0 : (_detail$additionalDet16 = detail.additionalDetails) === null || _detail$additionalDet16 === void 0 ? void 0 : _detail$additionalDet16.scruntinyDetails) && /*#__PURE__*/React.createElement(ScruntinyDetails, {\n      scrutinyDetails: detail === null || detail === void 0 ? void 0 : detail.additionalDetails\n    }), (detail === null || detail === void 0 ? void 0 : (_detail$additionalDet17 = detail.additionalDetails) === null || _detail$additionalDet17 === void 0 ? void 0 : _detail$additionalDet17.buildingExtractionDetails) && /*#__PURE__*/React.createElement(ScruntinyDetails, {\n      scrutinyDetails: detail === null || detail === void 0 ? void 0 : detail.additionalDetails\n    }), (detail === null || detail === void 0 ? void 0 : (_detail$additionalDet18 = detail.additionalDetails) === null || _detail$additionalDet18 === void 0 ? void 0 : _detail$additionalDet18.subOccupancyTableDetails) && /*#__PURE__*/React.createElement(SubOccupancyTable, {\n      edcrDetails: detail === null || detail === void 0 ? void 0 : detail.additionalDetails,\n      applicationData: applicationDetails === null || applicationDetails === void 0 ? void 0 : applicationDetails.applicationData\n    }), (detail === null || detail === void 0 ? void 0 : (_detail$additionalDet19 = detail.additionalDetails) === null || _detail$additionalDet19 === void 0 ? void 0 : _detail$additionalDet19.documentsWithUrl) && /*#__PURE__*/React.createElement(DocumentsPreview, {\n      documents: detail === null || detail === void 0 ? void 0 : (_detail$additionalDet20 = detail.additionalDetails) === null || _detail$additionalDet20 === void 0 ? void 0 : _detail$additionalDet20.documentsWithUrl\n    }), (detail === null || detail === void 0 ? void 0 : (_detail$additionalDet21 = detail.additionalDetails) === null || _detail$additionalDet21 === void 0 ? void 0 : _detail$additionalDet21.documents) && /*#__PURE__*/React.createElement(PropertyDocuments, {\n      documents: detail === null || detail === void 0 ? void 0 : (_detail$additionalDet22 = detail.additionalDetails) === null || _detail$additionalDet22 === void 0 ? void 0 : _detail$additionalDet22.documents\n    }), (detail === null || detail === void 0 ? void 0 : (_detail$additionalDet23 = detail.additionalDetails) === null || _detail$additionalDet23 === void 0 ? void 0 : _detail$additionalDet23.taxHeadEstimatesCalculation) && /*#__PURE__*/React.createElement(PropertyEstimates, {\n      taxHeadEstimatesCalculation: detail === null || detail === void 0 ? void 0 : (_detail$additionalDet24 = detail.additionalDetails) === null || _detail$additionalDet24 === void 0 ? void 0 : _detail$additionalDet24.taxHeadEstimatesCalculation\n    }));\n  }), showTimeLine && (workflowDetails === null || workflowDetails === void 0 ? void 0 : (_workflowDetails$data3 = workflowDetails.data) === null || _workflowDetails$data3 === void 0 ? void 0 : (_workflowDetails$data4 = _workflowDetails$data3.timeline) === null || _workflowDetails$data4 === void 0 ? void 0 : _workflowDetails$data4.length) > 0 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(BreakLine, null), ((workflowDetails === null || workflowDetails === void 0 ? void 0 : workflowDetails.isLoading) || isDataLoading) && /*#__PURE__*/React.createElement(Loader, null), !(workflowDetails !== null && workflowDetails !== void 0 && workflowDetails.isLoading) && !isDataLoading && /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(CardSectionHeader, {\n    style: {\n      marginBottom: \"16px\",\n      marginTop: \"32px\"\n    }\n  }, t(\"ES_APPLICATION_DETAILS_APPLICATION_TIMELINE\")), workflowDetails !== null && workflowDetails !== void 0 && (_workflowDetails$data5 = workflowDetails.data) !== null && _workflowDetails$data5 !== void 0 && _workflowDetails$data5.timeline && (workflowDetails === null || workflowDetails === void 0 ? void 0 : (_workflowDetails$data6 = workflowDetails.data) === null || _workflowDetails$data6 === void 0 ? void 0 : (_workflowDetails$data7 = _workflowDetails$data6.timeline) === null || _workflowDetails$data7 === void 0 ? void 0 : _workflowDetails$data7.length) === 1 ? /*#__PURE__*/React.createElement(CheckPoint, {\n    isCompleted: true,\n    label: t(\"\" + timelineStatusPrefix + (workflowDetails === null || workflowDetails === void 0 ? void 0 : (_workflowDetails$data8 = workflowDetails.data) === null || _workflowDetails$data8 === void 0 ? void 0 : (_workflowDetails$data9 = _workflowDetails$data8.timeline[0]) === null || _workflowDetails$data9 === void 0 ? void 0 : _workflowDetails$data9.state)),\n    customChild: getTimelineCaptions(workflowDetails === null || workflowDetails === void 0 ? void 0 : (_workflowDetails$data10 = workflowDetails.data) === null || _workflowDetails$data10 === void 0 ? void 0 : _workflowDetails$data10.timeline[0])\n  }) : /*#__PURE__*/React.createElement(ConnectingCheckPoints, null, (workflowDetails === null || workflowDetails === void 0 ? void 0 : (_workflowDetails$data11 = workflowDetails.data) === null || _workflowDetails$data11 === void 0 ? void 0 : _workflowDetails$data11.timeline) && (workflowDetails === null || workflowDetails === void 0 ? void 0 : (_workflowDetails$data12 = workflowDetails.data) === null || _workflowDetails$data12 === void 0 ? void 0 : _workflowDetails$data12.timeline.map(function (checkpoint, index, arr) {\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      key: index\n    }, /*#__PURE__*/React.createElement(CheckPoint, {\n      keyValue: index,\n      isCompleted: index === 0,\n      info: checkpoint.comment,\n      label: t(\"\" + timelineStatusPrefix + ((checkpoint === null || checkpoint === void 0 ? void 0 : checkpoint.performedAction) === \"REOPEN\" ? checkpoint === null || checkpoint === void 0 ? void 0 : checkpoint.performedAction : checkpoint === null || checkpoint === void 0 ? void 0 : checkpoint[statusAttribute])),\n      customChild: getTimelineCaptions(checkpoint)\n    }));\n  }))))));\n}\nfunction ApplicationDetailsToast(_ref) {\n  var _showToast$action, _showToast$error, _showToast$error2, _showToast$error3, _showToast$error4, _showToast$error5, _showToast$error6, _showToast$error7, _showToast$error8, _showToast$action2, _showToast$action3, _showToast$error9, _showToast$error10, _showToast$error11, _showToast$error12, _showToast$error13, _showToast$error14, _showToast$error15, _showToast$error16, _showToast$action4;\n  var t = _ref.t,\n    showToast = _ref.showToast,\n    closeToast = _ref.closeToast,\n    businessService = _ref.businessService;\n  if (businessService !== null && businessService !== void 0 && businessService.includes(\"NewTL\") || businessService !== null && businessService !== void 0 && businessService.includes(\"TL\") || businessService !== null && businessService !== void 0 && businessService.includes(\"EDITRENEWAL\")) {\n    var label = \"\";\n    switch (showToast === null || showToast === void 0 ? void 0 : (_showToast$action = showToast.action) === null || _showToast$action === void 0 ? void 0 : _showToast$action.action) {\n      case \"SENDBACK\":\n        label = (showToast === null || showToast === void 0 ? void 0 : showToast.key) === \"error\" ? showToast === null || showToast === void 0 ? void 0 : (_showToast$error = showToast.error) === null || _showToast$error === void 0 ? void 0 : _showToast$error.message : t(\"TL_SENDBACK_CHECKLIST_MESSAGE_HEAD\");\n        break;\n      case \"FORWARD\":\n        label = (showToast === null || showToast === void 0 ? void 0 : showToast.key) === \"error\" ? showToast === null || showToast === void 0 ? void 0 : (_showToast$error2 = showToast.error) === null || _showToast$error2 === void 0 ? void 0 : _showToast$error2.message : t(\"TL_FORWARD_SUCCESS_MESSAGE_MAIN\");\n        break;\n      case \"APPROVE\":\n        label = (showToast === null || showToast === void 0 ? void 0 : showToast.key) === \"error\" ? showToast === null || showToast === void 0 ? void 0 : (_showToast$error3 = showToast.error) === null || _showToast$error3 === void 0 ? void 0 : _showToast$error3.message : t(\"TL_APPROVAL_CHECKLIST_MESSAGE_HEAD\");\n        break;\n      case \"SENDBACKTOCITIZEN\":\n        label = (showToast === null || showToast === void 0 ? void 0 : showToast.key) === \"error\" ? showToast === null || showToast === void 0 ? void 0 : (_showToast$error4 = showToast.error) === null || _showToast$error4 === void 0 ? void 0 : _showToast$error4.message : t(\"TL_SENDBACK_TOCITIZEN_CHECKLIST_MESSAGE_HEAD\");\n        break;\n      case \"REJECT\":\n        label = (showToast === null || showToast === void 0 ? void 0 : showToast.key) === \"error\" ? showToast === null || showToast === void 0 ? void 0 : (_showToast$error5 = showToast.error) === null || _showToast$error5 === void 0 ? void 0 : _showToast$error5.message : t(\"TL_APPROVAL_REJ_MESSAGE_HEAD\");\n        break;\n      case \"RESUBMIT\":\n        label = (showToast === null || showToast === void 0 ? void 0 : showToast.key) === \"error\" ? showToast === null || showToast === void 0 ? void 0 : (_showToast$error6 = showToast.error) === null || _showToast$error6 === void 0 ? void 0 : _showToast$error6.message : t(\"TL_APPLICATION_RESUBMIT_SUCCESS_MESSAGE_MAIN\");\n        break;\n      case \"CANCEL\":\n        label = (showToast === null || showToast === void 0 ? void 0 : showToast.key) === \"error\" ? showToast === null || showToast === void 0 ? void 0 : (_showToast$error7 = showToast.error) === null || _showToast$error7 === void 0 ? void 0 : _showToast$error7.message : t(\"TL_TL_CANCELLED_MESSAGE_HEAD\");\n        break;\n      default:\n        label = (showToast === null || showToast === void 0 ? void 0 : showToast.key) === \"error\" ? showToast === null || showToast === void 0 ? void 0 : (_showToast$error8 = showToast.error) === null || _showToast$error8 === void 0 ? void 0 : _showToast$error8.message : t(\"ES_\" + businessService + \"_\" + (showToast === null || showToast === void 0 ? void 0 : (_showToast$action2 = showToast.action) === null || _showToast$action2 === void 0 ? void 0 : _showToast$action2.action) + \"_UPDATE_SUCCESS\");\n    }\n    return /*#__PURE__*/React.createElement(React.Fragment, null, showToast && /*#__PURE__*/React.createElement(Toast, {\n      error: showToast.key === \"error\",\n      label: label,\n      onClose: closeToast\n    }));\n  } else if (businessService !== null && businessService !== void 0 && businessService.includes(\"BPA\") || businessService !== null && businessService !== void 0 && businessService.includes(\"BPA_LOW\") || businessService !== null && businessService !== void 0 && businessService.includes(\"BPA_OC\")) {\n    var getMessage = function getMessage(messages) {\n      var _messages;\n      if (messages === void 0) {\n        messages = [];\n      }\n      var returnValue = messages[0];\n      if (((_messages = messages) === null || _messages === void 0 ? void 0 : _messages.length) == 2) returnValue = businessService !== null && businessService !== void 0 && businessService.includes(\"BPA_OC\") ? t(messages[1]) : t(messages[0]);else returnValue = t(messages[0]);\n      return returnValue;\n    };\n    var _label = \"\";\n    switch (showToast === null || showToast === void 0 ? void 0 : (_showToast$action3 = showToast.action) === null || _showToast$action3 === void 0 ? void 0 : _showToast$action3.action) {\n      case \"REVOCATE\":\n        _label = (showToast === null || showToast === void 0 ? void 0 : showToast.key) === \"error\" ? showToast === null || showToast === void 0 ? void 0 : (_showToast$error9 = showToast.error) === null || _showToast$error9 === void 0 ? void 0 : _showToast$error9.message : getMessage([\"BPA_APPROVAL_REVOCATED_MESSAGE_HEAD\", \"BPA_APPROVAL_OC_REVOCATED_MESSAGE_HEAD\"]);\n        break;\n      case \"VERIFY_AND_FORWARD\":\n        _label = (showToast === null || showToast === void 0 ? void 0 : showToast.key) === \"error\" ? showToast === null || showToast === void 0 ? void 0 : (_showToast$error10 = showToast.error) === null || _showToast$error10 === void 0 ? void 0 : _showToast$error10.message : getMessage([\"BPA_FORWARD_SUCCESS_MESSAGE_MAIN\"]);\n        break;\n      case \"SEND_BACK_TO_CITIZEN\":\n        _label = (showToast === null || showToast === void 0 ? void 0 : showToast.key) === \"error\" ? showToast === null || showToast === void 0 ? void 0 : (_showToast$error11 = showToast.error) === null || _showToast$error11 === void 0 ? void 0 : _showToast$error11.message : getMessage([\"BPA_SENDBACK_SUCCESS_MESSAGE_MAIN\"]);\n        break;\n      case \"APPROVE\":\n        _label = (showToast === null || showToast === void 0 ? void 0 : showToast.key) === \"error\" ? showToast === null || showToast === void 0 ? void 0 : (_showToast$error12 = showToast.error) === null || _showToast$error12 === void 0 ? void 0 : _showToast$error12.message : getMessage([\"BPA_APPROVAL_CHECKLIST_MESSAGE_HEAD\"]);\n        break;\n      case \"REJECT\":\n        _label = (showToast === null || showToast === void 0 ? void 0 : showToast.key) === \"error\" ? showToast === null || showToast === void 0 ? void 0 : (_showToast$error13 = showToast.error) === null || _showToast$error13 === void 0 ? void 0 : _showToast$error13.message : getMessage([\"BPA_APPROVAL_REJECTED_MESSAGE_HEAD\", \"BPA_OC_APPROVAL_REJECTED_MESSAGE_HEAD\"]);\n        break;\n      case \"FORWARD\":\n        _label = (showToast === null || showToast === void 0 ? void 0 : showToast.key) === \"error\" ? showToast === null || showToast === void 0 ? void 0 : (_showToast$error14 = showToast.error) === null || _showToast$error14 === void 0 ? void 0 : _showToast$error14.message : getMessage([\"BPA_FORWARD_SUCCESS_MESSAGE_MAIN\"]);\n        break;\n      case \"SEND_BACK_FOR_DOCUMENT_VERIFICATION\":\n      case \"SEND_BACK_FOR_FIELD_INSPECTION\":\n        _label = (showToast === null || showToast === void 0 ? void 0 : showToast.key) === \"error\" ? showToast === null || showToast === void 0 ? void 0 : (_showToast$error15 = showToast.error) === null || _showToast$error15 === void 0 ? void 0 : _showToast$error15.message : getMessage([\"BPA_SENDBACK_SUCCESS_MESSAGE_MAIN\"]);\n        break;\n      default:\n        _label = (showToast === null || showToast === void 0 ? void 0 : showToast.key) === \"error\" ? showToast === null || showToast === void 0 ? void 0 : (_showToast$error16 = showToast.error) === null || _showToast$error16 === void 0 ? void 0 : _showToast$error16.message : t(\"ES_\" + businessService + \"_\" + (showToast === null || showToast === void 0 ? void 0 : (_showToast$action4 = showToast.action) === null || _showToast$action4 === void 0 ? void 0 : _showToast$action4.action) + \"_UPDATE_SUCCESS\");\n    }\n    return /*#__PURE__*/React.createElement(React.Fragment, null, showToast && /*#__PURE__*/React.createElement(Toast, {\n      error: showToast.key === \"error\",\n      label: _label,\n      onClose: closeToast\n    }));\n  } else {\n    var _showToast$error17, _showToast$action5;\n    var _label2 = (showToast === null || showToast === void 0 ? void 0 : showToast.key) === \"error\" ? showToast === null || showToast === void 0 ? void 0 : (_showToast$error17 = showToast.error) === null || _showToast$error17 === void 0 ? void 0 : _showToast$error17.message : \"ES_\" + businessService + \"_\" + (showToast === null || showToast === void 0 ? void 0 : (_showToast$action5 = showToast.action) === null || _showToast$action5 === void 0 ? void 0 : _showToast$action5.action) + \"_UPDATE_SUCCESS\";\n    return /*#__PURE__*/React.createElement(React.Fragment, null, showToast && /*#__PURE__*/React.createElement(Toast, {\n      error: showToast.key === \"error\",\n      label: t(_label2),\n      onClose: closeToast\n    }));\n  }\n}\nfunction ApplicationDetailsActionBar(_ref) {\n  var _user, _user$info, _user$info$roles, _workflowDetails$data, _workflowDetails$data2, _workflowDetails$data3, _actions$, _actions$$redirection, _workflowDetails$data4, _workflowDetails$data5, _actions$2, _actions$3, _actions$4;\n  var workflowDetails = _ref.workflowDetails,\n    displayMenu = _ref.displayMenu,\n    onActionSelect = _ref.onActionSelect,\n    setDisplayMenu = _ref.setDisplayMenu,\n    businessService = _ref.businessService,\n    forcedActionPrefix = _ref.forcedActionPrefix,\n    _ref$ActionBarStyle = _ref.ActionBarStyle,\n    ActionBarStyle = _ref$ActionBarStyle === void 0 ? {} : _ref$ActionBarStyle,\n    _ref$MenuStyle = _ref.MenuStyle,\n    MenuStyle = _ref$MenuStyle === void 0 ? {} : _ref$MenuStyle;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var user = Digit.UserService.getUser();\n  if (window.location.href.includes(\"/obps\") || window.location.href.includes(\"/noc\")) {\n    var userInfos = sessionStorage.getItem(\"Digit.citizen.userRequestObject\");\n    var userInfo = userInfos ? JSON.parse(userInfos) : {};\n    user = userInfo === null || userInfo === void 0 ? void 0 : userInfo.value;\n  }\n  var userRoles = (_user = user) === null || _user === void 0 ? void 0 : (_user$info = _user.info) === null || _user$info === void 0 ? void 0 : (_user$info$roles = _user$info.roles) === null || _user$info$roles === void 0 ? void 0 : _user$info$roles.map(function (e) {\n    return e.code;\n  });\n  var isSingleButton = false;\n  var isMenuBotton = false;\n  var actions = workflowDetails === null || workflowDetails === void 0 ? void 0 : (_workflowDetails$data = workflowDetails.data) === null || _workflowDetails$data === void 0 ? void 0 : (_workflowDetails$data2 = _workflowDetails$data.actionState) === null || _workflowDetails$data2 === void 0 ? void 0 : (_workflowDetails$data3 = _workflowDetails$data2.nextActions) === null || _workflowDetails$data3 === void 0 ? void 0 : _workflowDetails$data3.filter(function (e) {\n    return userRoles.some(function (role) {\n      var _e$roles;\n      return (_e$roles = e.roles) === null || _e$roles === void 0 ? void 0 : _e$roles.includes(role);\n    }) || !e.roles;\n  });\n  if ((window.location.href.includes(\"/obps\") || window.location.href.includes(\"/noc\")) && (actions === null || actions === void 0 ? void 0 : actions.length) == 1 || actions !== null && actions !== void 0 && (_actions$ = actions[0]) !== null && _actions$ !== void 0 && (_actions$$redirection = _actions$.redirectionUrl) !== null && _actions$$redirection !== void 0 && _actions$$redirection.pathname.includes(\"/pt/property-details/\") && (actions === null || actions === void 0 ? void 0 : actions.length) == 1) {\n    isMenuBotton = false;\n    isSingleButton = true;\n  } else if ((actions === null || actions === void 0 ? void 0 : actions.length) > 0) {\n    isMenuBotton = true;\n    isSingleButton = false;\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, !(workflowDetails !== null && workflowDetails !== void 0 && workflowDetails.isLoading) && isMenuBotton && !isSingleButton && /*#__PURE__*/React.createElement(ActionBar, {\n    style: _extends({}, ActionBarStyle)\n  }, displayMenu && workflowDetails !== null && workflowDetails !== void 0 && (_workflowDetails$data4 = workflowDetails.data) !== null && _workflowDetails$data4 !== void 0 && (_workflowDetails$data5 = _workflowDetails$data4.actionState) !== null && _workflowDetails$data5 !== void 0 && _workflowDetails$data5.nextActions ? /*#__PURE__*/React.createElement(Menu, {\n    localeKeyPrefix: forcedActionPrefix || \"WF_EMPLOYEE_\" + (businessService === null || businessService === void 0 ? void 0 : businessService.toUpperCase()),\n    options: actions,\n    optionKey: \"action\",\n    t: t,\n    onSelect: onActionSelect,\n    style: MenuStyle\n  }) : null, /*#__PURE__*/React.createElement(SubmitBar, {\n    label: t(\"WF_TAKE_ACTION\"),\n    onSubmit: function onSubmit() {\n      return setDisplayMenu(!displayMenu);\n    }\n  })), !(workflowDetails !== null && workflowDetails !== void 0 && workflowDetails.isLoading) && !isMenuBotton && isSingleButton && /*#__PURE__*/React.createElement(ActionBar, {\n    style: _extends({}, ActionBarStyle)\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    style: {\n      color: \"#FFFFFF\",\n      fontSize: \"19px\"\n    },\n    className: \"submit-bar\",\n    name: actions === null || actions === void 0 ? void 0 : (_actions$2 = actions[0]) === null || _actions$2 === void 0 ? void 0 : _actions$2.action,\n    value: actions === null || actions === void 0 ? void 0 : (_actions$3 = actions[0]) === null || _actions$3 === void 0 ? void 0 : _actions$3.action,\n    onClick: function onClick(e) {\n      onActionSelect((actions === null || actions === void 0 ? void 0 : actions[0]) || {});\n    }\n  }, t((forcedActionPrefix || \"WF_EMPLOYEE_\" + (businessService === null || businessService === void 0 ? void 0 : businessService.toUpperCase())) + \"_\" + (actions === null || actions === void 0 ? void 0 : (_actions$4 = actions[0]) === null || _actions$4 === void 0 ? void 0 : _actions$4.action)))));\n}\nvar Close$5 = function Close() {\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"#FFFFFF\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0V0z\",\n    fill: \"none\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z\"\n  }));\n};\nvar CloseBtn$5 = function CloseBtn(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"icon-bg-secondary\",\n    onClick: props.onClick\n  }, /*#__PURE__*/React.createElement(Close$5, null));\n};\nfunction ApplicationDetailsWarningPopup(_ref) {\n  var action = _ref.action,\n    closeWarningPopup = _ref.closeWarningPopup;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var isMobile = window.Digit.Utils.browser.isMobile();\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Modal, {\n    headerBarMain: /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"heading-m\"\n    }, t(\"PT_DUES_ARE_PENDING\")),\n    headerBarEnd: /*#__PURE__*/React.createElement(CloseBtn$5, {\n      onClick: function onClick() {\n        closeWarningPopup();\n      }\n    }),\n    hideSubmit: true,\n    isDisabled: false,\n    popupStyles: isMobile ? {} : {\n      width: \"29%\",\n      marginTop: \"auto\"\n    }\n  }, /*#__PURE__*/React.createElement(Card, null, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginBottom: \"30px\"\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", null, t(\"PT_YOU_HAVE\"), \" \\u20B9\", action === null || action === void 0 ? void 0 : action.AmountDueForPay, \" \", t(\"PT_DUE_WARNING_MSG2\"))), /*#__PURE__*/React.createElement(Row, {\n    rowContainerStyle: {\n      display: \"flex\"\n    },\n    labelStyle: {\n      fontSize: \"24px\",\n      fontWeight: \"700\",\n      marginRight: \"10%\"\n    },\n    textStyle: {\n      fontSize: \"24px\",\n      fontWeight: \"700\",\n      marginBottom: \"20px\"\n    },\n    label: \"\" + t(\"PT_AMOUNT_DUE\"),\n    text: \"\\u20B9\" + t(action === null || action === void 0 ? void 0 : action.AmountDueForPay)\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"100%\",\n      display: \"flex\",\n      justifyContent: \"flex-end\"\n    }\n  }, /*#__PURE__*/React.createElement(ButtonSelector, {\n    theme: \"border\",\n    label: t('ES_PT_COMMON_CANCEL'),\n    onSubmit: closeWarningPopup,\n    style: {\n      marginLeft: \"10px\"\n    }\n  }), /*#__PURE__*/React.createElement(ButtonSelector, {\n    label: t('PT_COLLECT'),\n    onSubmit: function onSubmit() {\n      var _action$redirectionUr;\n      return window.location.assign(\"\" + window.location.origin + (action === null || action === void 0 ? void 0 : (_action$redirectionUr = action.redirectionUrl) === null || _action$redirectionUr === void 0 ? void 0 : _action$redirectionUr.pathname));\n    },\n    style: {\n      marginLeft: \"10px\"\n    }\n  })))), \")\");\n}\nvar ApplicationDetails = function ApplicationDetails(props) {\n  var _workflowDetails$data;\n  var tenantId = Digit.ULBService.getCurrentTenantId();\n  var state = Digit.ULBService.getStateId();\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var history = useHistory();\n  var _useParams = useParams(),\n    applicationNumber = _useParams.id;\n  var _useState = useState(false),\n    displayMenu = _useState[0],\n    setDisplayMenu = _useState[1];\n  var _useState2 = useState(null),\n    selectedAction = _useState2[0],\n    setSelectedAction = _useState2[1];\n  var _useState3 = useState(false),\n    showModal = _useState3[0],\n    setShowModal = _useState3[1];\n  var _useState4 = useState(false),\n    isEnableLoader = _useState4[0],\n    setIsEnableLoader = _useState4[1];\n  var _useState5 = useState(false),\n    isWarningPop = _useState5[0],\n    setWarningPopUp = _useState5[1];\n  var applicationDetails = props.applicationDetails,\n    showToast = props.showToast,\n    setShowToast = props.setShowToast,\n    isLoading = props.isLoading,\n    isDataLoading = props.isDataLoading,\n    applicationData = props.applicationData,\n    mutate = props.mutate,\n    nocMutation = props.nocMutation,\n    workflowDetails = props.workflowDetails,\n    businessService = props.businessService,\n    closeToast = props.closeToast,\n    moduleCode = props.moduleCode,\n    timelineStatusPrefix = props.timelineStatusPrefix,\n    forcedActionPrefix = props.forcedActionPrefix,\n    statusAttribute = props.statusAttribute,\n    ActionBarStyle = props.ActionBarStyle,\n    MenuStyle = props.MenuStyle,\n    paymentsList = props.paymentsList,\n    _props$showTimeLine = props.showTimeLine,\n    showTimeLine = _props$showTimeLine === void 0 ? true : _props$showTimeLine;\n  useEffect(function () {\n    if (showToast) {\n      workflowDetails.revalidate();\n    }\n  }, [showToast]);\n  function onActionSelect(action) {\n    if (action) {\n      if (action !== null && action !== void 0 && action.isWarningPopUp) {\n        setWarningPopUp(true);\n      } else if (action !== null && action !== void 0 && action.redirectionUrll) {\n        var _action$redirectionUr;\n        window.location.assign(window.location.origin + \"/digit-ui/employee/payment/collect/\" + (action === null || action === void 0 ? void 0 : (_action$redirectionUr = action.redirectionUrll) === null || _action$redirectionUr === void 0 ? void 0 : _action$redirectionUr.pathname));\n      } else if (!(action !== null && action !== void 0 && action.redirectionUrl)) {\n        setShowModal(true);\n      } else {\n        var _action$redirectionUr2, _action$redirectionUr3;\n        history.push({\n          pathname: (_action$redirectionUr2 = action.redirectionUrl) === null || _action$redirectionUr2 === void 0 ? void 0 : _action$redirectionUr2.pathname,\n          state: _extends({}, (_action$redirectionUr3 = action.redirectionUrl) === null || _action$redirectionUr3 === void 0 ? void 0 : _action$redirectionUr3.state)\n        });\n      }\n    }\n    setSelectedAction(action);\n    setDisplayMenu(false);\n  }\n  var queryClient = useQueryClient();\n  var closeModal = function closeModal() {\n    setSelectedAction(null);\n    setShowModal(false);\n  };\n  var closeWarningPopup = function closeWarningPopup() {\n    setWarningPopUp(false);\n  };\n  var submitAction = function submitAction(data, nocData, isOBPS) {\n    if (nocData === void 0) {\n      nocData = false;\n    }\n    if (isOBPS === void 0) {\n      isOBPS = {};\n    }\n    try {\n      var _temp4 = function _temp4(_result2) {\n        if (_exit2) return _result2;\n        if (mutate) {\n          setIsEnableLoader(true);\n          mutate(data, {\n            onError: function onError(error, variables) {\n              setIsEnableLoader(false);\n              setShowToast({\n                key: \"error\",\n                error: error\n              });\n              setTimeout(closeToast, 5000);\n            },\n            onSuccess: function onSuccess(data, variables) {\n              setIsEnableLoader(false);\n              if (isOBPS !== null && isOBPS !== void 0 && isOBPS.bpa) {\n                data.selectedAction = selectedAction;\n                history.replace(\"/digit-ui/employee/obps/response\", {\n                  data: data\n                });\n              }\n              if (isOBPS !== null && isOBPS !== void 0 && isOBPS.isStakeholder) {\n                data.selectedAction = selectedAction;\n                history.push(\"/digit-ui/employee/obps/stakeholder-response\", {\n                  data: data\n                });\n              }\n              if (isOBPS !== null && isOBPS !== void 0 && isOBPS.isNoc) {\n                history.push(\"/digit-ui/employee/noc/response\", {\n                  data: data\n                });\n              }\n              setShowToast({\n                key: \"success\",\n                action: selectedAction\n              });\n              setTimeout(closeToast, 5000);\n              queryClient.clear();\n              queryClient.refetchQueries(\"APPLICATION_SEARCH\");\n            }\n          });\n        }\n        closeModal();\n      };\n      var _exit2 = false;\n      setIsEnableLoader(true);\n      if (typeof (data === null || data === void 0 ? void 0 : data.customFunctionToExecute) === \"function\") {\n        data === null || data === void 0 ? void 0 : data.customFunctionToExecute(_extends({}, data));\n      }\n      var _temp5 = function () {\n        if (nocData !== false && nocMutation) {\n          var _nocData;\n          var nocPrmomises = (_nocData = nocData) === null || _nocData === void 0 ? void 0 : _nocData.map(function (noc) {\n            return nocMutation === null || nocMutation === void 0 ? void 0 : nocMutation.mutateAsync(noc);\n          });\n          var _temp6 = _catch(function () {\n            setIsEnableLoader(true);\n            return Promise.resolve(Promise.all(nocPrmomises)).then(function (values) {\n              values && values.map(function (ob) {\n                var _ob$Noc, _ob$Noc$;\n                Digit.SessionStorage.del(ob === null || ob === void 0 ? void 0 : (_ob$Noc = ob.Noc) === null || _ob$Noc === void 0 ? void 0 : (_ob$Noc$ = _ob$Noc[0]) === null || _ob$Noc$ === void 0 ? void 0 : _ob$Noc$.nocType);\n              });\n            });\n          }, function (err) {\n            var _err$response, _err$response$data, _err$response$data$Er, _err$response$data$Er2, _err$response2, _err$response2$data, _err$response2$data$E, _err$response2$data$E2, _err$response3, _err$response3$data, _err$response3$data$E, _err$response3$data$E2;\n            setIsEnableLoader(false);\n            var errorValue = err !== null && err !== void 0 && (_err$response = err.response) !== null && _err$response !== void 0 && (_err$response$data = _err$response.data) !== null && _err$response$data !== void 0 && (_err$response$data$Er = _err$response$data.Errors) !== null && _err$response$data$Er !== void 0 && (_err$response$data$Er2 = _err$response$data$Er[0]) !== null && _err$response$data$Er2 !== void 0 && _err$response$data$Er2.code ? t(err === null || err === void 0 ? void 0 : (_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : (_err$response2$data$E = _err$response2$data.Errors) === null || _err$response2$data$E === void 0 ? void 0 : (_err$response2$data$E2 = _err$response2$data$E[0]) === null || _err$response2$data$E2 === void 0 ? void 0 : _err$response2$data$E2.code) : (err === null || err === void 0 ? void 0 : (_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : (_err$response3$data$E = _err$response3$data.Errors) === null || _err$response3$data$E === void 0 ? void 0 : (_err$response3$data$E2 = _err$response3$data$E[0]) === null || _err$response3$data$E2 === void 0 ? void 0 : _err$response3$data$E2.message) || err;\n            closeModal();\n            setShowToast({\n              key: \"error\",\n              error: {\n                message: errorValue\n              }\n            });\n            setTimeout(closeToast, 5000);\n            _exit2 = true;\n          });\n          if (_temp6 && _temp6.then) return _temp6.then(function () {});\n        }\n      }();\n      return Promise.resolve(_temp5 && _temp5.then ? _temp5.then(_temp4) : _temp4(_temp5));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n  if (isLoading || isEnableLoader) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, !isLoading ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ApplicationDetailsContent, {\n    applicationDetails: applicationDetails,\n    workflowDetails: workflowDetails,\n    isDataLoading: isDataLoading,\n    applicationData: applicationData,\n    businessService: businessService,\n    timelineStatusPrefix: timelineStatusPrefix,\n    statusAttribute: statusAttribute,\n    paymentsList: paymentsList,\n    showTimeLine: showTimeLine\n  }), showModal ? /*#__PURE__*/React.createElement(ActionModal$5, {\n    t: t,\n    action: selectedAction,\n    tenantId: tenantId,\n    state: state,\n    id: applicationNumber,\n    applicationDetails: applicationDetails,\n    applicationData: applicationDetails === null || applicationDetails === void 0 ? void 0 : applicationDetails.applicationData,\n    closeModal: closeModal,\n    submitAction: submitAction,\n    actionData: workflowDetails === null || workflowDetails === void 0 ? void 0 : (_workflowDetails$data = workflowDetails.data) === null || _workflowDetails$data === void 0 ? void 0 : _workflowDetails$data.timeline,\n    businessService: businessService,\n    workflowDetails: workflowDetails,\n    moduleCode: moduleCode\n  }) : null, isWarningPop ? /*#__PURE__*/React.createElement(ApplicationDetailsWarningPopup, {\n    action: selectedAction,\n    workflowDetails: workflowDetails,\n    businessService: businessService,\n    isWarningPop: isWarningPop,\n    closeWarningPopup: closeWarningPopup\n  }) : null, /*#__PURE__*/React.createElement(ApplicationDetailsToast, {\n    t: t,\n    showToast: showToast,\n    closeToast: closeToast,\n    businessService: businessService\n  }), /*#__PURE__*/React.createElement(ApplicationDetailsActionBar, {\n    workflowDetails: workflowDetails,\n    displayMenu: displayMenu,\n    onActionSelect: onActionSelect,\n    setDisplayMenu: setDisplayMenu,\n    businessService: businessService,\n    forcedActionPrefix: forcedActionPrefix,\n    ActionBarStyle: ActionBarStyle,\n    MenuStyle: MenuStyle\n  })) : /*#__PURE__*/React.createElement(Loader, null));\n};\nvar Heading$5 = function Heading(_ref) {\n  var t = _ref.t,\n    heading = _ref.heading;\n  return /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"heading-m\"\n  }, \"\" + t(heading));\n};\nvar Close$6 = function Close() {\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"#FFFFFF\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0V0z\",\n    fill: \"none\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z\"\n  }));\n};\nvar CloseBtn$6 = function CloseBtn(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"icon-bg-secondary\",\n    onClick: props.onClick\n  }, /*#__PURE__*/React.createElement(Close$6, null));\n};\nvar ConfirmationQuestion = function ConfirmationQuestion(_ref2) {\n  var t = _ref2.t,\n    title = _ref2.title;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"confirmation_box\"\n  }, /*#__PURE__*/React.createElement(\"span\", null, \" \", t('CONFIRM_DELETE_MSG') + \" \", \" \", /*#__PURE__*/React.createElement(\"b\", null, \" \" + title), \" \"));\n};\nvar Confirmation = function Confirmation(_ref3) {\n  var t = _ref3.t,\n    heading = _ref3.heading,\n    docName = _ref3.docName,\n    closeModal = _ref3.closeModal,\n    actionCancelLabel = _ref3.actionCancelLabel,\n    actionCancelOnSubmit = _ref3.actionCancelOnSubmit,\n    actionSaveLabel = _ref3.actionSaveLabel,\n    actionSaveOnSubmit = _ref3.actionSaveOnSubmit;\n  return /*#__PURE__*/React.createElement(Modal, {\n    headerBarMain: /*#__PURE__*/React.createElement(Heading$5, {\n      t: t,\n      heading: heading\n    }),\n    headerBarEnd: /*#__PURE__*/React.createElement(CloseBtn$6, {\n      onClick: closeModal\n    }),\n    actionCancelLabel: t(actionCancelLabel),\n    actionCancelOnSubmit: actionCancelOnSubmit,\n    actionSaveLabel: t(actionSaveLabel),\n    actionSaveOnSubmit: actionSaveOnSubmit,\n    formId: \"modal-action\"\n  }, /*#__PURE__*/React.createElement(ConfirmationQuestion, {\n    t: t,\n    title: docName\n  }));\n};\nvar _excluded = [\"uploadedFilesData\"];\nvar renderMultipleDocuments = function renderMultipleDocuments(documents) {\n  var isMobile = window.Digit.Utils.browser.isMobile();\n  if (!documents && !documents.length) return null;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: isMobile ? 'column' : 'row',\n      gap: isMobile ? '40px' : '100px'\n    }\n  }, documents.map(function (_ref) {\n    var fileStoreId = _ref.fileStoreId,\n      fileName = _ref.fileName;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"documentDetails_pdf\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: '100px'\n      },\n      onClick: function onClick() {\n        return openUploadedDocument(fileStoreId, fileName);\n      }\n    }, /*#__PURE__*/React.createElement(GenericFileIcon, null), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"cell-text\"\n    }, fileName === null || fileName === void 0 ? void 0 : fileName.split(10))));\n  }));\n};\nvar Actions = ['EDIT', 'DELETE'];\nvar getUlbName = function getUlbName(tenantId) {\n  var _ulbName, _ulbName$, _ulbName2;\n  var ulbName = tenantId === null || tenantId === void 0 ? void 0 : tenantId.split('.')[1];\n  ulbName = \"\" + ((_ulbName = ulbName) === null || _ulbName === void 0 ? void 0 : (_ulbName$ = _ulbName[0]) === null || _ulbName$ === void 0 ? void 0 : _ulbName$.toUpperCase()) + ((_ulbName2 = ulbName) === null || _ulbName2 === void 0 ? void 0 : _ulbName2.slice(1)) + \" \";\n  return ulbName;\n};\nvar DocumentDetails = function DocumentDetails() {\n  var _data$applicationData, _data$applicationData2, _data$applicationData3, _data$applicationData4, _data$applicationData5, _data$applicationData6, _data$applicationData7, _data$applicationData8, _data$applicationData9, _data$applicationData10, _data$applicationData11, _data$applicationData12, _data$applicationData13, _data$applicationData14, _data$applicationData15, _data$applicationData16, _data$applicationData17, _data$applicationData18;\n  var isMobile = window.Digit.Utils.browser.isMobile();\n  var _useParams = useParams(),\n    id = _useParams.id;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var history = useHistory();\n  var _useState = useState(false),\n    showModal = _useState[0],\n    setShowModal = _useState[1];\n  var _useState2 = useState(false),\n    displayMenu = _useState2[0],\n    setDisplayMenu = _useState2[1];\n  var tenantId = Digit.ULBService.getCurrentTenantId();\n  var _Digit$Hooks$events$u = Digit.Hooks.events.useEventDetails(tenantId, {\n      ids: id\n    }, {}),\n    isLoading = _Digit$Hooks$events$u.isLoading,\n    data = _Digit$Hooks$events$u.data;\n  var _Digit$Hooks$useSessi = Digit.Hooks.useSessionStorage(\"EMPLOYEE_MSG_MUTATION_HAPPENED\", false),\n    setMutationHappened = _Digit$Hooks$useSessi[1];\n  var _Digit$Hooks$useSessi2 = Digit.Hooks.useSessionStorage(\"EMPLOYEE_MSG_ERROR_DATA\", false),\n    clearError = _Digit$Hooks$useSessi2[2];\n  var _Digit$Hooks$useSessi3 = Digit.Hooks.useSessionStorage(\"EMPLOYEE_MSG_MUTATION_SUCCESS_DATA\", false),\n    clearSuccessData = _Digit$Hooks$useSessi3[2];\n  useEffect(function () {\n    setMutationHappened(false);\n    clearSuccessData();\n    clearError();\n  }, []);\n  function onActionSelect(action) {\n    if (action === \"EDIT\") {\n      history.push(\"/digit-ui/employee/engagement/messages/inbox/edit/\" + id);\n    }\n    if (action === \"DELETE\") {\n      setShowModal(true);\n    }\n    setDisplayMenu(false);\n  }\n  var handleDelete = function handleDelete() {\n    var finalData = function (_ref2) {\n      var ogData = _objectWithoutPropertiesLoose(_ref2, _excluded);\n      return ogData;\n    }(data === null || data === void 0 ? void 0 : data.applicationData);\n    var details = {\n      events: [_extends({}, finalData, {\n        status: \"CANCELLED\"\n      })]\n    };\n    history.push(\"/digit-ui/employee/engagement/messages/response?delete=true\", details);\n  };\n  function onModalCancel() {\n    setShowModal(false);\n  }\n  if (isLoading) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n  return /*#__PURE__*/React.createElement(\"div\", null, showModal ? /*#__PURE__*/React.createElement(Confirmation, {\n    t: t,\n    heading: 'CONFIRM_DELETE_PUB_BRCST',\n    docName: data === null || data === void 0 ? void 0 : (_data$applicationData = data.applicationData) === null || _data$applicationData === void 0 ? void 0 : _data$applicationData.name,\n    closeModal: function closeModal() {\n      return setShowModal(!showModal);\n    },\n    actionCancelLabel: 'CS_COMMON_CANCEL',\n    actionCancelOnSubmit: onModalCancel,\n    actionSaveLabel: 'ES_COMMON_Y_DEL',\n    actionSaveOnSubmit: handleDelete\n  }) : null, /*#__PURE__*/React.createElement(Header, null, t(\"CS_HEADER_PUBLIC_BRDCST\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"notice_and_circular_main gap-ten\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"documentDetails_wrapper\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"documentDetails_row_items\"\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"documentDetails_title\"\n  }, t(\"EVENTS_ULB_LABEL\") + \":\"), \" \", /*#__PURE__*/React.createElement(\"p\", null, getUlbName(data === null || data === void 0 ? void 0 : data.tenantId)), \" \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"documentDetails_row_items\"\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"documentDetails_title\"\n  }, t(\"PUBLIC_BRDCST_TITLE_LABEL\") + \":\"), \" \", /*#__PURE__*/React.createElement(\"p\", null, data === null || data === void 0 ? void 0 : (_data$applicationData2 = data.applicationData) === null || _data$applicationData2 === void 0 ? void 0 : _data$applicationData2.name), \" \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"documentDetails_row_items\"\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"documentDetails_title\"\n  }, t(\"EVENTS_COMMENTS_LABEL\") + \":\"), \" \", /*#__PURE__*/React.createElement(\"p\", {\n    className: \"documentDetails__description\"\n  }, data !== null && data !== void 0 && (_data$applicationData3 = data.applicationData) !== null && _data$applicationData3 !== void 0 && (_data$applicationData4 = _data$applicationData3.description) !== null && _data$applicationData4 !== void 0 && _data$applicationData4.length ? data === null || data === void 0 ? void 0 : (_data$applicationData5 = data.applicationData) === null || _data$applicationData5 === void 0 ? void 0 : _data$applicationData5.description : 'NA'), \" \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"documentDetails_row_items\"\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"documentDetails_title\"\n  }, t(\"EVENTS_FROM_DATE_LABEL\") + \":\"), \" \", /*#__PURE__*/React.createElement(\"p\", null, data !== null && data !== void 0 && (_data$applicationData6 = data.applicationData) !== null && _data$applicationData6 !== void 0 && (_data$applicationData7 = _data$applicationData6.eventDetails) !== null && _data$applicationData7 !== void 0 && _data$applicationData7.fromDate ? format(new Date(data === null || data === void 0 ? void 0 : (_data$applicationData8 = data.applicationData) === null || _data$applicationData8 === void 0 ? void 0 : (_data$applicationData9 = _data$applicationData8.eventDetails) === null || _data$applicationData9 === void 0 ? void 0 : _data$applicationData9.fromDate), 'dd/MM/yyyy') : null), \" \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"documentDetails_row_items\"\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"documentDetails_title\"\n  }, t(\"EVENTS_TO_DATE_LABEL\") + \":\"), \" \", /*#__PURE__*/React.createElement(\"p\", null, data !== null && data !== void 0 && (_data$applicationData10 = data.applicationData) !== null && _data$applicationData10 !== void 0 && (_data$applicationData11 = _data$applicationData10.eventDetails) !== null && _data$applicationData11 !== void 0 && _data$applicationData11.toDate ? format(new Date(data === null || data === void 0 ? void 0 : (_data$applicationData12 = data.applicationData) === null || _data$applicationData12 === void 0 ? void 0 : (_data$applicationData13 = _data$applicationData12.eventDetails) === null || _data$applicationData13 === void 0 ? void 0 : _data$applicationData13.toDate), 'dd/MM/yyyy') : null), \" \"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"documentDetails_subheader\"\n  }, \"\" + t('CS_COMMON_DOCUMENTS')), data !== null && data !== void 0 && (_data$applicationData14 = data.applicationData) !== null && _data$applicationData14 !== void 0 && (_data$applicationData15 = _data$applicationData14.eventDetails) !== null && _data$applicationData15 !== void 0 && (_data$applicationData16 = _data$applicationData15.documents) !== null && _data$applicationData16 !== void 0 && _data$applicationData16.length ? renderMultipleDocuments(data === null || data === void 0 ? void 0 : (_data$applicationData17 = data.applicationData) === null || _data$applicationData17 === void 0 ? void 0 : (_data$applicationData18 = _data$applicationData17.eventDetails) === null || _data$applicationData18 === void 0 ? void 0 : _data$applicationData18.documents) : \"NA\")), /*#__PURE__*/React.createElement(ActionBar, null, displayMenu ? /*#__PURE__*/React.createElement(Menu, {\n    style: {\n      width: isMobile ? 'full' : '240px'\n    },\n    localeKeyPrefix: \"ES_CE\",\n    options: Actions,\n    t: t,\n    onSelect: onActionSelect\n  }) : null, /*#__PURE__*/React.createElement(SubmitBar, {\n    label: t(\"ES_COMMON_TAKE_ACTION\"),\n    onSubmit: function onSubmit() {\n      return setDisplayMenu(!displayMenu);\n    }\n  })));\n};\nvar Messages = function Messages(_ref) {\n  var _ref$match = _ref.match;\n  _ref$match = _ref$match === void 0 ? {} : _ref$match;\n  var path = _ref$match.path,\n    tenants = _ref.tenants,\n    parentRoute = _ref.parentRoute;\n  return /*#__PURE__*/React.createElement(Switch, null, /*#__PURE__*/React.createElement(PrivateRoute, {\n    path: path + \"/create\",\n    component: function component(props) {\n      return /*#__PURE__*/React.createElement(NewEvents$1, props);\n    }\n  }), /*#__PURE__*/React.createElement(PrivateRoute, {\n    path: path + \"/inbox/create\",\n    component: function component(props) {\n      return /*#__PURE__*/React.createElement(NewEvents$1, props);\n    }\n  }), /*#__PURE__*/React.createElement(PrivateRoute, {\n    path: path + \"/inbox/details/:id\",\n    component: function component(props) {\n      return /*#__PURE__*/React.createElement(DocumentDetails, props);\n    }\n  }), /*#__PURE__*/React.createElement(PrivateRoute, {\n    path: path + \"/inbox/edit/:id\",\n    component: function component(props) {\n      return /*#__PURE__*/React.createElement(EditMessage, props);\n    }\n  }), /*#__PURE__*/React.createElement(PrivateRoute, {\n    path: path + \"/inbox\",\n    component: function component(props) {\n      return /*#__PURE__*/React.createElement(Inbox$1, _extends({}, props, {\n        tenants: tenants,\n        parentRoute: parentRoute\n      }));\n    }\n  }), /*#__PURE__*/React.createElement(PrivateRoute, {\n    path: path + \"/response\",\n    component: function component(props) {\n      return /*#__PURE__*/React.createElement(Response$1, props);\n    }\n  }));\n};\nvar EventForm = function EventForm(_ref) {\n  var _errors$name, _errors$name2, _data$mseva, _data$mseva$EventCate;\n  var formData = _ref.formData,\n    control = _ref.control,\n    errors = _ref.errors;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var tenantId = Digit.ULBService.getCurrentTenantId();\n  var state = tenantId === null || tenantId === void 0 ? void 0 : tenantId.split('.')[0];\n  var ulbs = Digit.SessionStorage.get(\"ENGAGEMENT_TENANTS\");\n  var userInfo = Digit.UserService.getUser().info;\n  var userUlbs = ulbs.filter(function (ulb) {\n    var _userInfo$roles;\n    return userInfo === null || userInfo === void 0 ? void 0 : (_userInfo$roles = userInfo.roles) === null || _userInfo$roles === void 0 ? void 0 : _userInfo$roles.some(function (role) {\n      return (role === null || role === void 0 ? void 0 : role.tenantId) === (ulb === null || ulb === void 0 ? void 0 : ulb.code);\n    });\n  }).sort(alphabeticalSortFunctionForTenantsBasedOnName);\n  var getDefaultUlb = function getDefaultUlb() {\n    if (formData !== null && formData !== void 0 && formData.defaultTenantId) {\n      return ulbs === null || ulbs === void 0 ? void 0 : ulbs.find(function (ulb) {\n        return (ulb === null || ulb === void 0 ? void 0 : ulb.code) === (formData === null || formData === void 0 ? void 0 : formData.defaultTenantId);\n      });\n    }\n    if (tenantId) {\n      return ulbs === null || ulbs === void 0 ? void 0 : ulbs.find(function (ulb) {\n        return (ulb === null || ulb === void 0 ? void 0 : ulb.code) === tenantId;\n      });\n    }\n    return (userUlbs === null || userUlbs === void 0 ? void 0 : userUlbs.length) === 1 ? userUlbs === null || userUlbs === void 0 ? void 0 : userUlbs[0] : null;\n  };\n  var _Digit$Hooks$useCommo = Digit.Hooks.useCommonMDMS(state, \"mseva\", [\"EventCategories\"]),\n    isLoading = _Digit$Hooks$useCommo.isLoading,\n    data = _Digit$Hooks$useCommo.data;\n  var location = useLocation();\n  var isInEditFormMode = useMemo(function () {\n    if (location.pathname.includes('/engagement/event/edit-event')) return true;\n    return false;\n  }, [location.pathname]);\n  if (isLoading) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n  return /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(LabelFieldPair, null, /*#__PURE__*/React.createElement(CardLabel, {\n    className: \"card-label-smaller\"\n  }, t(\"EVENTS_ULB_LABEL\") + \" *\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\"\n  }, /*#__PURE__*/React.createElement(Controller, {\n    control: control,\n    defaultValue: getDefaultUlb(),\n    name: \"tenantId\",\n    rules: {\n      required: true\n    },\n    render: function render(_ref2) {\n      var onChange = _ref2.onChange,\n        value = _ref2.value;\n      return /*#__PURE__*/React.createElement(Dropdown, {\n        option: userUlbs,\n        selected: value,\n        disable: isInEditFormMode ? true : (userUlbs === null || userUlbs === void 0 ? void 0 : userUlbs.length) === 1,\n        optionKey: \"code\",\n        t: t,\n        select: onChange\n      });\n    }\n  }), errors && errors['tenantId'] && /*#__PURE__*/React.createElement(CardLabelError$1, null, t(\"EVENTS_TENANT_ERROR_REQUIRED\")))), /*#__PURE__*/React.createElement(LabelFieldPair, null, /*#__PURE__*/React.createElement(CardLabel, {\n    className: \"card-label-smaller\"\n  }, t(\"EVENTS_NAME_LABEL\") + \" *\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\"\n  }, /*#__PURE__*/React.createElement(Controller, {\n    defaultValue: formData === null || formData === void 0 ? void 0 : formData.name,\n    render: function render(_ref3) {\n      var onChange = _ref3.onChange,\n        ref = _ref3.ref,\n        value = _ref3.value;\n      return /*#__PURE__*/React.createElement(TextInput, {\n        value: value,\n        type: \"text\",\n        name: \"name\",\n        onChange: onChange,\n        inputRef: ref\n      });\n    },\n    name: \"name\",\n    rules: {\n      required: true,\n      maxLength: 66\n    },\n    control: control\n  }), errors && (errors === null || errors === void 0 ? void 0 : errors.name) && (errors === null || errors === void 0 ? void 0 : (_errors$name = errors.name) === null || _errors$name === void 0 ? void 0 : _errors$name.type) === \"required\" && /*#__PURE__*/React.createElement(CardLabelError$1, null, t(\"EVENTS_COMMENTS_ERROR_REQUIRED\")), errors && (errors === null || errors === void 0 ? void 0 : errors.name) && (errors === null || errors === void 0 ? void 0 : (_errors$name2 = errors.name) === null || _errors$name2 === void 0 ? void 0 : _errors$name2.type) === \"maxLength\" && /*#__PURE__*/React.createElement(CardLabelError$1, null, t(\"EVENTS_MAXLENGTH_66_CHARS_REACHED\")))), /*#__PURE__*/React.createElement(LabelFieldPair, null, /*#__PURE__*/React.createElement(CardLabel, {\n    className: \"card-label-smaller\"\n  }, t(\"EVENTS_CATEGORY_LABEL\") + \" *\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\"\n  }, /*#__PURE__*/React.createElement(Controller, {\n    name: \"eventCategory\",\n    control: control,\n    defaultValue: formData !== null && formData !== void 0 && formData.category ? data === null || data === void 0 ? void 0 : (_data$mseva = data.mseva) === null || _data$mseva === void 0 ? void 0 : (_data$mseva$EventCate = _data$mseva.EventCategories.filter(function (category) {\n      return category.code === (formData === null || formData === void 0 ? void 0 : formData.category);\n    })) === null || _data$mseva$EventCate === void 0 ? void 0 : _data$mseva$EventCate[0] : null,\n    rules: {\n      required: true\n    },\n    render: function render(_ref4) {\n      var _data$mseva2;\n      var onChange = _ref4.onChange,\n        ref = _ref4.ref,\n        value = _ref4.value;\n      return /*#__PURE__*/React.createElement(Dropdown, {\n        inputRef: ref,\n        option: data === null || data === void 0 ? void 0 : (_data$mseva2 = data.mseva) === null || _data$mseva2 === void 0 ? void 0 : _data$mseva2.EventCategories,\n        optionKey: \"code\",\n        t: t,\n        select: onChange,\n        selected: value\n      });\n    }\n  }), errors && errors['eventCategory'] && /*#__PURE__*/React.createElement(CardLabelError$1, null, t(\"EVENTS_CATEGORY_ERROR_REQUIRED\")))));\n};\nvar allowedFileTypes = /(.*?)(jpg|jpeg|png|image|pdf|msword|openxmlformats-officedocument)$/i;\nvar MessageForm = function MessageForm(_ref) {\n  var _errors$name, _errors$name2, _data$mseva, _data$mseva$EventCate, _errors$description, _errors$description2, _errors$fromDate, _errors$fromDate2, _errors$toDate, _errors$toDate2;\n  var formData = _ref.formData,\n    control = _ref.control,\n    errors = _ref.errors,\n    setError = _ref.setError;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var tenantId = Digit.ULBService.getCurrentTenantId();\n  var state = tenantId === null || tenantId === void 0 ? void 0 : tenantId.split('.')[0];\n  var ulbs = Digit.SessionStorage.get(\"ENGAGEMENT_TENANTS\");\n  var _Digit$Hooks$useCommo = Digit.Hooks.useCommonMDMS(state, \"mseva\", [\"EventCategories\"]),\n    isLoading = _Digit$Hooks$useCommo.isLoading,\n    data = _Digit$Hooks$useCommo.data;\n  var stateId = Digit.ULBService.getStateId();\n  var userUlbs = ulbs.filter(function (ulb) {\n    return (ulb === null || ulb === void 0 ? void 0 : ulb.code) === tenantId;\n  });\n  var isValidFromDate = function isValidFromDate(date) {\n    var fromDate = convertDateToMaximumPossibleValue(new Date(\"\" + (formData === null || formData === void 0 ? void 0 : formData.fromDate)));\n    var todaysDate = new Date();\n    if (!isValid(fromDate)) return false;\n    if (fromDate.getTime() < todaysDate.getTime()) {\n      setError('fromDate', {\n        type: 'isValidFromDate'\n      }, {\n        shouldFocus: true\n      });\n      return false;\n    }\n    return true;\n  };\n  var isValidToDate = function isValidToDate(date) {\n    var fromDate = convertDateToMaximumPossibleValue(new Date(\"\" + (formData === null || formData === void 0 ? void 0 : formData.fromDate)));\n    var toDate = convertDateToMaximumPossibleValue(new Date(\"\" + (formData === null || formData === void 0 ? void 0 : formData.toDate)));\n    var todaysDate = new Date();\n    if (!isValid(toDate)) return false;\n    if (toDate.getTime() < todaysDate.getTime() || toDate.getTime() < fromDate.getTime()) {\n      setError('toDate', {\n        type: 'isValidToDate'\n      }, {\n        shouldFocus: true\n      });\n      return false;\n    }\n    return true;\n  };\n  if (isLoading) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n  return /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(LabelFieldPair, null, /*#__PURE__*/React.createElement(CardLabel, {\n    className: \"card-label-smaller\"\n  }, t(\"EVENTS_ULB_LABEL\") + \" *\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\"\n  }, /*#__PURE__*/React.createElement(Controller, {\n    control: control,\n    defaultValue: (userUlbs === null || userUlbs === void 0 ? void 0 : userUlbs.length) === 1 ? userUlbs === null || userUlbs === void 0 ? void 0 : userUlbs[0] : null,\n    name: \"tenantId\",\n    rules: {\n      required: true\n    },\n    render: function render(_ref2) {\n      var onChange = _ref2.onChange,\n        value = _ref2.value;\n      return /*#__PURE__*/React.createElement(Dropdown, {\n        option: userUlbs,\n        selected: value,\n        disable: (userUlbs === null || userUlbs === void 0 ? void 0 : userUlbs.length) === 1,\n        optionKey: \"code\",\n        t: t,\n        select: onChange\n      });\n    }\n  }), errors && errors['tenantId'] && /*#__PURE__*/React.createElement(CardLabelError$1, null, t(\"EVENTS_TENANT_ERROR_REQUIRED\")))), /*#__PURE__*/React.createElement(LabelFieldPair, null, /*#__PURE__*/React.createElement(CardLabel, {\n    className: \"card-label-smaller\"\n  }, t(\"PUBLIC_BRDCST_TITLE_LABEL\") + \" *\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\"\n  }, /*#__PURE__*/React.createElement(Controller, {\n    defaultValue: formData === null || formData === void 0 ? void 0 : formData.name,\n    render: function render(_ref3) {\n      var onChange = _ref3.onChange,\n        ref = _ref3.ref,\n        value = _ref3.value;\n      return /*#__PURE__*/React.createElement(TextInput, {\n        value: value,\n        type: \"text\",\n        name: \"name\",\n        onChange: onChange,\n        inputRef: ref\n      });\n    },\n    name: \"name\",\n    rules: {\n      required: true,\n      maxLength: 66\n    },\n    control: control\n  }), errors && (errors === null || errors === void 0 ? void 0 : errors.name) && (errors === null || errors === void 0 ? void 0 : (_errors$name = errors.name) === null || _errors$name === void 0 ? void 0 : _errors$name.type) === \"required\" && /*#__PURE__*/React.createElement(CardLabelError$1, null, t(\"EVENTS_COMMENTS_ERROR_REQUIRED\")), errors && (errors === null || errors === void 0 ? void 0 : errors.name) && (errors === null || errors === void 0 ? void 0 : (_errors$name2 = errors.name) === null || _errors$name2 === void 0 ? void 0 : _errors$name2.type) === \"maxLength\" && /*#__PURE__*/React.createElement(CardLabelError$1, null, t(\"EVENTS_MAXLENGTH_66_CHARS_REACHED\")))), /*#__PURE__*/React.createElement(LabelFieldPair, {\n    style: {\n      marginBottom: \"24px\"\n    }\n  }, /*#__PURE__*/React.createElement(CardLabel, {\n    className: \"card-label-smaller\"\n  }, t(\"EVENTS_COMMENTS_LABEL\") + \" *\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\"\n  }, /*#__PURE__*/React.createElement(Controller, {\n    name: \"description\",\n    control: control,\n    defaultValue: formData !== null && formData !== void 0 && formData.category ? data === null || data === void 0 ? void 0 : (_data$mseva = data.mseva) === null || _data$mseva === void 0 ? void 0 : (_data$mseva$EventCate = _data$mseva.EventCategories.filter(function (category) {\n      return category.code === (formData === null || formData === void 0 ? void 0 : formData.category);\n    })) === null || _data$mseva$EventCate === void 0 ? void 0 : _data$mseva$EventCate[0] : null,\n    rules: {\n      required: true,\n      maxLength: 500\n    },\n    render: function render(_ref4) {\n      var onChange = _ref4.onChange,\n        ref = _ref4.ref,\n        value = _ref4.value;\n      return /*#__PURE__*/React.createElement(TextArea, {\n        inputRef: ref,\n        value: value,\n        name: \"description\",\n        onChange: onChange,\n        hintText: t('PUBLIC_BRDCST_MSG_LENGTH')\n      });\n    }\n  }), errors && (errors === null || errors === void 0 ? void 0 : errors.description) && (errors === null || errors === void 0 ? void 0 : (_errors$description = errors.description) === null || _errors$description === void 0 ? void 0 : _errors$description.type) === \"required\" && /*#__PURE__*/React.createElement(CardLabelError$1, null, t(\"EVENTS_COMMENTS_ERROR_REQUIRED\")), errors && (errors === null || errors === void 0 ? void 0 : errors.description) && (errors === null || errors === void 0 ? void 0 : (_errors$description2 = errors.description) === null || _errors$description2 === void 0 ? void 0 : _errors$description2.type) === \"maxLength\" && /*#__PURE__*/React.createElement(CardLabelError$1, null, t(\"EVENTS_MAXLENGTH_REACHED\")))), /*#__PURE__*/React.createElement(LabelFieldPair, {\n    style: {\n      marginBottom: \"24px\"\n    }\n  }, /*#__PURE__*/React.createElement(CardLabel, {\n    className: \"card-label-smaller\"\n  }, \"\" + t(\"EVENTS_ATTACHMENT_LABEL\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\"\n  }, /*#__PURE__*/React.createElement(Controller, {\n    name: \"documents\",\n    control: control,\n    rules: {\n      required: false\n    },\n    render: function render(_ref5) {\n      var onChange = _ref5.onChange,\n        _ref5$value = _ref5.value,\n        value = _ref5$value === void 0 ? [] : _ref5$value;\n      function getFileStoreData(filesData) {\n        var numberOfFiles = filesData.length;\n        var finalDocumentData = [];\n        if (numberOfFiles > 0) {\n          filesData.forEach(function (value) {\n            var _value$, _value$$fileStoreId, _value$2, _value$2$file;\n            finalDocumentData.push({\n              fileName: value === null || value === void 0 ? void 0 : value[0],\n              fileStoreId: value === null || value === void 0 ? void 0 : (_value$ = value[1]) === null || _value$ === void 0 ? void 0 : (_value$$fileStoreId = _value$.fileStoreId) === null || _value$$fileStoreId === void 0 ? void 0 : _value$$fileStoreId.fileStoreId,\n              documentType: value === null || value === void 0 ? void 0 : (_value$2 = value[1]) === null || _value$2 === void 0 ? void 0 : (_value$2$file = _value$2.file) === null || _value$2$file === void 0 ? void 0 : _value$2$file.type\n            });\n          });\n        }\n        onChange(finalDocumentData);\n      }\n      return /*#__PURE__*/React.createElement(MultiUploadWrapper, {\n        t: t,\n        module: \"engagement\",\n        tenantId: stateId,\n        getFormState: getFileStoreData,\n        showHintBelow: true,\n        setuploadedstate: value,\n        allowedFileTypesRegex: allowedFileTypes,\n        allowedMaxSizeInMB: 5,\n        hintText: t(\"DOCUMENTS_ATTACH_RESTRICTIONS_SIZE\")\n      });\n    }\n  }))), /*#__PURE__*/React.createElement(LabelFieldPair, null, /*#__PURE__*/React.createElement(CardLabel, {\n    className: \"card-label-smaller\"\n  }, t(\"PUBLIC_BRDCST_FROM_DATE_LABEL\") + \" *\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\"\n  }, /*#__PURE__*/React.createElement(Controller, {\n    control: control,\n    name: \"fromDate\",\n    defaultValue: formData === null || formData === void 0 ? void 0 : formData.fromDate,\n    rules: {\n      required: true,\n      validate: {\n        isValidFromDate: isValidFromDate\n      }\n    },\n    render: function render(_ref6) {\n      var onChange = _ref6.onChange,\n        value = _ref6.value;\n      return /*#__PURE__*/React.createElement(TextInput, {\n        type: \"date\",\n        isRequired: true,\n        onChange: onChange,\n        defaultValue: value\n      });\n    }\n  }), errors && (errors === null || errors === void 0 ? void 0 : errors.fromDate) && (errors === null || errors === void 0 ? void 0 : (_errors$fromDate = errors.fromDate) === null || _errors$fromDate === void 0 ? void 0 : _errors$fromDate.type) === \"required\" && /*#__PURE__*/React.createElement(CardLabelError$1, null, t(\"EVENTS_FROM_DATE_ERROR_REQUIRED\")), errors && (errors === null || errors === void 0 ? void 0 : errors.fromDate) && (errors === null || errors === void 0 ? void 0 : (_errors$fromDate2 = errors.fromDate) === null || _errors$fromDate2 === void 0 ? void 0 : _errors$fromDate2.type) === \"isValidFromDate\" && /*#__PURE__*/React.createElement(CardLabelError$1, null, t(\"EVENTS_FROM_DATE_ERROR_INVALID\")))), /*#__PURE__*/React.createElement(LabelFieldPair, null, /*#__PURE__*/React.createElement(CardLabel, {\n    className: \"card-label-smaller\"\n  }, t(\"PUBLIC_BRDCST_TO_DATE_LABEL\") + \" *\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\"\n  }, /*#__PURE__*/React.createElement(Controller, {\n    control: control,\n    name: \"toDate\",\n    defaultValue: formData === null || formData === void 0 ? void 0 : formData.toDate,\n    rules: {\n      required: true,\n      validate: {\n        isValidToDate: isValidToDate\n      }\n    },\n    render: function render(_ref7) {\n      var onChange = _ref7.onChange,\n        value = _ref7.value;\n      return /*#__PURE__*/React.createElement(TextInput, {\n        type: \"date\",\n        isRequired: true,\n        onChange: onChange,\n        defaultValue: value\n      });\n    }\n  }), errors && (errors === null || errors === void 0 ? void 0 : errors.toDate) && (errors === null || errors === void 0 ? void 0 : (_errors$toDate = errors.toDate) === null || _errors$toDate === void 0 ? void 0 : _errors$toDate.type) === \"required\" && /*#__PURE__*/React.createElement(CardLabelError$1, null, t(\"EVENTS_TO_DATE_ERROR_REQUIRED\")), errors && (errors === null || errors === void 0 ? void 0 : errors.toDate) && (errors === null || errors === void 0 ? void 0 : (_errors$toDate2 = errors.toDate) === null || _errors$toDate2 === void 0 ? void 0 : _errors$toDate2.type) === \"isValidToDate\" && /*#__PURE__*/React.createElement(CardLabelError$1, null, t(\"EVENTS_TO_DATE_ERROR_INVALID\")))));\n};\nvar SelectGeolocation = function SelectGeolocation(_ref) {\n  var _formData$geoLocation, _formData$geoLocation2;\n  var onSelect = _ref.onSelect,\n    config = _ref.config,\n    formData = _ref.formData;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var onChange = function onChange(pincode, position) {\n    onSelect(config === null || config === void 0 ? void 0 : config.key, position);\n  };\n  return /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(LabelFieldPair, null, /*#__PURE__*/React.createElement(CardLabel, {\n    className: \"card-label-smaller\"\n  }, \"\" + t(\"EVENTS_GEOLOCATION_LABEL\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\"\n  }, /*#__PURE__*/React.createElement(LocationSearch, {\n    position: {\n      latitude: formData === null || formData === void 0 ? void 0 : (_formData$geoLocation = formData.geoLocation) === null || _formData$geoLocation === void 0 ? void 0 : _formData$geoLocation.latitude,\n      longitude: formData === null || formData === void 0 ? void 0 : (_formData$geoLocation2 = formData.geoLocation) === null || _formData$geoLocation2 === void 0 ? void 0 : _formData$geoLocation2.longitude\n    },\n    onChange: onChange\n  }))));\n};\nvar SelectToDate = function SelectToDate(_ref) {\n  var _errors$toDate, _errors$toDate2;\n  var formData = _ref.formData,\n    control = _ref.control,\n    errors = _ref.errors,\n    setError = _ref.setError;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var isValidDate = function isValidDate(date) {\n    if (!isValid(new Date(formData === null || formData === void 0 ? void 0 : formData.fromDate)) || !isValid(new Date(date))) return false;\n    if (new Date((formData === null || formData === void 0 ? void 0 : formData.fromDate) + \" \" + (formData === null || formData === void 0 ? void 0 : formData.fromTime)) < new Date()) {\n      setError('fromDate', {\n        type: 'isValidFromDate'\n      }, {\n        shouldFocus: true\n      });\n      return false;\n    }\n    if (new Date(date + \" \" + (formData === null || formData === void 0 ? void 0 : formData.toTime)) < new Date()) return false;\n    return new Date((formData === null || formData === void 0 ? void 0 : formData.fromDate) + \" \" + (formData === null || formData === void 0 ? void 0 : formData.fromTime)) <= new Date(date + \" \" + (formData === null || formData === void 0 ? void 0 : formData.toTime));\n  };\n  return /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(LabelFieldPair, null, /*#__PURE__*/React.createElement(CardLabel, {\n    className: \"card-label-smaller\"\n  }, t(\"EVENTS_TO_DATE_LABEL\") + \" *\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\"\n  }, /*#__PURE__*/React.createElement(Controller, {\n    control: control,\n    name: \"toDate\",\n    defaultValue: formData === null || formData === void 0 ? void 0 : formData.toDate,\n    rules: {\n      required: true,\n      validate: {\n        isValidDate: isValidDate\n      }\n    },\n    render: function render(_ref2) {\n      var onChange = _ref2.onChange,\n        value = _ref2.value;\n      return /*#__PURE__*/React.createElement(TextInput, {\n        type: \"date\",\n        isRequired: true,\n        onChange: onChange,\n        defaultValue: value\n      });\n    }\n  }), errors && (errors === null || errors === void 0 ? void 0 : errors.toDate) && (errors === null || errors === void 0 ? void 0 : (_errors$toDate = errors.toDate) === null || _errors$toDate === void 0 ? void 0 : _errors$toDate.type) === \"required\" && /*#__PURE__*/React.createElement(CardLabelError$1, null, t(\"EVENTS_TO_DATE_ERROR_REQUIRED\")), errors && (errors === null || errors === void 0 ? void 0 : errors.toDate) && (errors === null || errors === void 0 ? void 0 : (_errors$toDate2 = errors.toDate) === null || _errors$toDate2 === void 0 ? void 0 : _errors$toDate2.type) === \"isValidDate\" && /*#__PURE__*/React.createElement(CardLabelError$1, null, t(\"EVENTS_TO_DATE_ERROR_INVALID\")))));\n};\nvar _excluded$1 = [\"header\", \"actions\", \"eventNotificationText\", \"timePastAfterEventCreation\", \"timeApproxiamationInUnits\"];\nvar renderSingleViewAndDownloadButton = function renderSingleViewAndDownloadButton(t, documents) {\n  if (!(documents !== null && documents !== void 0 && documents.length)) return null;\n  var _documents$ = documents === null || documents === void 0 ? void 0 : documents[0],\n    fileStoreId = _documents$.fileStoreId,\n    fileName = _documents$.fileName;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"display-flex-gap-2\"\n  }, fileStoreId && fileStoreId.length ? /*#__PURE__*/React.createElement(\"span\", {\n    className: \"link\",\n    onClick: function onClick() {\n      return openUploadedDocument(fileStoreId, fileName);\n    }\n  }, \" \", t(\"CE_DOCUMENT_VIEW_LINK\"), \" \") : null, fileStoreId && fileStoreId.length ? /*#__PURE__*/React.createElement(\"span\", {\n    className: \"link\",\n    onClick: function onClick() {\n      return downloadDocument(fileStoreId);\n    }\n  }, \" \", t(\"CE_DOCUMENT_DOWNLOAD_LINK\"), \" \") : null);\n};\nvar renderMultipleViewAndDownloadButtons = function renderMultipleViewAndDownloadButtons(t, documents) {\n  if (!documents.length) return null;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"broadcastnotifications_actionswrapper-multi\"\n  }, documents.map(function (_ref, index) {\n    var fileName = _ref.fileName,\n      fileStoreId = _ref.fileStoreId;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"display-flex-gap-2\"\n    }, fileName.length ? /*#__PURE__*/React.createElement(\"p\", null, fileName, \" : \") : null, fileStoreId.length ? /*#__PURE__*/React.createElement(\"span\", {\n      className: \"link\",\n      onClick: function onClick() {\n        return openUploadedDocument(fileStoreId, fileName);\n      }\n    }, \" \", t(\"CE_DOCUMENT_VIEW_LINK\"), \" \") : null, fileStoreId.length ? /*#__PURE__*/React.createElement(\"span\", {\n      className: \"link\",\n      onClick: function onClick() {\n        return downloadDocument(fileStoreId);\n      }\n    }, \" \", t(\"CE_DOCUMENT_DOWNLOAD_LINK\"), \" \") : null);\n  }));\n};\nvar BroadcastWhatsNewCard = function BroadcastWhatsNewCard(_ref2) {\n  var header = _ref2.header,\n    actions = _ref2.actions,\n    eventNotificationText = _ref2.eventNotificationText,\n    timePastAfterEventCreation = _ref2.timePastAfterEventCreation,\n    timeApproxiamationInUnits = _ref2.timeApproxiamationInUnits,\n    props = _objectWithoutPropertiesLoose(_ref2, _excluded$1);\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var uploadedDocuments = props.eventDetails.documents;\n  var getTransformedLocale = function getTransformedLocale(label) {\n    if (typeof label === \"number\") return label;\n    return label && label.toUpperCase().replace(/[.:-\\s\\/]/g, \"_\");\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"WhatsNewCard\"\n  }, /*#__PURE__*/React.createElement(\"h2\", null, t(header)), /*#__PURE__*/React.createElement(\"p\", null, eventNotificationText), actions === null || actions === void 0 ? void 0 : actions.map(function (i) {\n    return /*#__PURE__*/React.createElement(\"a\", {\n      href: i === null || i === void 0 ? void 0 : i.actionUrl\n    }, \"\" + t(\"CS_COMMON_\" + getTransformedLocale(i === null || i === void 0 ? void 0 : i.code)));\n  }), (uploadedDocuments === null || uploadedDocuments === void 0 ? void 0 : uploadedDocuments.length) > 1 ? renderMultipleViewAndDownloadButtons(t, uploadedDocuments) : renderSingleViewAndDownloadButton(t, uploadedDocuments), /*#__PURE__*/React.createElement(\"p\", null, timePastAfterEventCreation + (\" \" + t(timeApproxiamationInUnits))));\n};\nvar NotificationsAndWhatsNew = function NotificationsAndWhatsNew(_ref) {\n  var _Digit$UserService, _Digit$UserService$ge;\n  var variant = _ref.variant,\n    parentRoute = _ref.parentRoute;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var location = useLocation();\n  var history = useHistory();\n  var tenantId = Digit.ULBService.getCitizenCurrentTenant();\n  var _Digit$Hooks$useNotif = Digit.Hooks.useNotificationCount({\n      tenantId: tenantId,\n      config: {\n        enabled: !!((_Digit$UserService = Digit.UserService) !== null && _Digit$UserService !== void 0 && (_Digit$UserService$ge = _Digit$UserService.getUser()) !== null && _Digit$UserService$ge !== void 0 && _Digit$UserService$ge.access_token)\n      }\n    }),\n    _Digit$Hooks$useNotif2 = _Digit$Hooks$useNotif.data;\n  _Digit$Hooks$useNotif2 = _Digit$Hooks$useNotif2 === void 0 ? {} : _Digit$Hooks$useNotif2;\n  var preVisitUnseenNotificationCount = _Digit$Hooks$useNotif2.unreadCount,\n    refetch = _Digit$Hooks$useNotif.refetch;\n  var _Digit$Hooks$useClear = Digit.Hooks.useClearNotifications(),\n    mutate = _Digit$Hooks$useClear.mutate,\n    isSuccess = _Digit$Hooks$useClear.isSuccess;\n  useEffect(function () {\n    isSuccess ? refetch() : false;\n  }, [isSuccess]);\n  useEffect(function () {\n    return preVisitUnseenNotificationCount && tenantId ? mutate({\n      tenantId: tenantId\n    }) : null;\n  }, [tenantId, preVisitUnseenNotificationCount]);\n  var _Digit$Hooks$useEvent = Digit.Hooks.useEvents({\n      tenantId: tenantId,\n      variant: variant\n    }),\n    EventsData = _Digit$Hooks$useEvent.data,\n    EventsDataLoading = _Digit$Hooks$useEvent.isLoading;\n  if (EventsDataLoading) return /*#__PURE__*/React.createElement(Loader, null);\n  if ((EventsData === null || EventsData === void 0 ? void 0 : EventsData.length) === 0) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"CitizenEngagementNotificationWrapper\"\n    }, /*#__PURE__*/React.createElement(Header, null, \"\" + t(\"CS_HEADER_NOTIFICATIONS\")), /*#__PURE__*/React.createElement(\"h1\", null, \"Nothing to show\"));\n  }\n  var VariantWiseRender = function VariantWiseRender() {\n    switch (variant) {\n      case \"notifications\":\n        return /*#__PURE__*/React.createElement(Header, null, t(\"CS_HEADER_NOTIFICATIONS\") + \" \" + (preVisitUnseenNotificationCount ? \"(\" + preVisitUnseenNotificationCount + \")\" : \"\"));\n      case \"whats-new\":\n        return /*#__PURE__*/React.createElement(Header, null, t(\"CS_HEADER_WHATSNEW\"));\n      default:\n        return /*#__PURE__*/React.createElement(Redirect$1, {\n          to: {\n            pathname: \"/digit-ui/citizen\",\n            state: {\n              from: location.pathname + location.search\n            }\n          }\n        });\n    }\n  };\n  function onEventCardClick(id) {\n    history.push(parentRoute + \"/events/details/\" + id);\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"CitizenEngagementNotificationWrapper\"\n  }, /*#__PURE__*/React.createElement(VariantWiseRender, null), EventsData !== null && EventsData !== void 0 && EventsData.length ? EventsData.map(function (DataParamsInEvent) {\n    return (DataParamsInEvent === null || DataParamsInEvent === void 0 ? void 0 : DataParamsInEvent.eventType) === \"EVENTSONGROUND\" ? /*#__PURE__*/React.createElement(OnGroundEventCard, _extends({\n      onClick: onEventCardClick\n    }, DataParamsInEvent)) : (DataParamsInEvent === null || DataParamsInEvent === void 0 ? void 0 : DataParamsInEvent.eventType) === \"BROADCAST\" ? /*#__PURE__*/React.createElement(BroadcastWhatsNewCard, DataParamsInEvent) : /*#__PURE__*/React.createElement(WhatsNewCard, DataParamsInEvent);\n  }) : /*#__PURE__*/React.createElement(Card, null, /*#__PURE__*/React.createElement(CardCaption, null, t(\"COMMON_INBOX_NO_DATA\"))));\n};\nvar EventsListOnGround = function EventsListOnGround(_ref) {\n  var _Digit$UserService, _Digit$UserService$ge, _Digit$UserService2, _Digit$UserService2$g;\n  var variant = _ref.variant,\n    parentRoute = _ref.parentRoute;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var location = useLocation();\n  var history = useHistory();\n  var tenantId = Digit.ULBService.getCitizenCurrentTenant();\n  var _Digit$Hooks$useNotif = Digit.Hooks.useNotificationCount({\n    tenantId: tenantId,\n    config: {\n      enabled: !!((_Digit$UserService2 = Digit.UserService) !== null && _Digit$UserService2 !== void 0 && (_Digit$UserService2$g = _Digit$UserService2.getUser()) !== null && _Digit$UserService2$g !== void 0 && _Digit$UserService2$g.access_token)\n    }\n  });\n  var preVisitUnseenEventsCountLoaded = _Digit$Hooks$useNotif.isSuccess;\n  var _Digit$Hooks$useEvent = Digit.Hooks.useEvents({\n      tenantId: tenantId,\n      variant: variant\n    }),\n    EventsData = _Digit$Hooks$useEvent.data,\n    EventsDataLoading = _Digit$Hooks$useEvent.isLoading;\n  if (!((_Digit$UserService = Digit.UserService) !== null && _Digit$UserService !== void 0 && (_Digit$UserService$ge = _Digit$UserService.getUser()) !== null && _Digit$UserService$ge !== void 0 && _Digit$UserService$ge.access_token)) {\n    localStorage.clear();\n    sessionStorage.clear();\n    return /*#__PURE__*/React.createElement(Redirect$1, {\n      to: {\n        pathname: \"/digit-ui/citizen/login\",\n        state: {\n          from: location.pathname + location.search\n        }\n      }\n    });\n  }\n  if (EventsDataLoading || !preVisitUnseenEventsCountLoaded) return /*#__PURE__*/React.createElement(Loader, null);\n  function onEventCardClick(id) {\n    history.push(parentRoute + \"/events/details/\" + id);\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"CitizenEngagementNotificationWrapper\"\n  }, /*#__PURE__*/React.createElement(Header, null, t(\"EVENTS_EVENTS_HEADER\") + \"(\" + (EventsData === null || EventsData === void 0 ? void 0 : EventsData.length) + \")\"), EventsData.length ? EventsData.map(function (DataParamsInEvent) {\n    return /*#__PURE__*/React.createElement(OnGroundEventCard, _extends({\n      onClick: onEventCardClick\n    }, DataParamsInEvent));\n  }) : /*#__PURE__*/React.createElement(Card, null, /*#__PURE__*/React.createElement(CardCaption, null, t(\"COMMON_INBOX_NO_DATA\"))));\n};\nvar Heading$6 = function Heading(props) {\n  return /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"heading-m\"\n  }, props.label);\n};\nvar Close$7 = function Close() {\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"#FFFFFF\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0V0z\",\n    fill: \"none\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z\"\n  }));\n};\nvar CloseBtn$7 = function CloseBtn(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"icon-bg-secondary\",\n    onClick: props.onClick\n  }, /*#__PURE__*/React.createElement(Close$7, null));\n};\nvar EventDetails = function EventDetails() {\n  var _useParams = useParams(),\n    id = _useParams.id;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var history = useHistory();\n  var _useState = useState(false),\n    showModal = _useState[0],\n    setShowModal = _useState[1];\n  var _useState2 = useState(false),\n    displayMenu = _useState2[0],\n    setDisplayMenu = _useState2[1];\n  var tenantId = Digit.ULBService.getCurrentTenantId();\n  var _Digit$Hooks$events$u = Digit.Hooks.events.useEventDetails(tenantId, {\n      ids: id\n    }),\n    isLoading = _Digit$Hooks$events$u.isLoading,\n    data = _Digit$Hooks$events$u.data;\n  var _Digit$Hooks$useSessi = Digit.Hooks.useSessionStorage(\"EMPLOYEE_EVENT_MUTATION_HAPPENED\", false),\n    setMutationHappened = _Digit$Hooks$useSessi[1];\n  var _Digit$Hooks$useSessi2 = Digit.Hooks.useSessionStorage(\"EMPLOYEE_EVENT_ERROR_DATA\", false),\n    clearError = _Digit$Hooks$useSessi2[2];\n  var _Digit$Hooks$useSessi3 = Digit.Hooks.useSessionStorage(\"EMPLOYEE_EVENT_MUTATION_SUCCESS_DATA\", false),\n    clearSuccessData = _Digit$Hooks$useSessi3[2];\n  useEffect(function () {\n    setMutationHappened(false);\n    clearSuccessData();\n    clearError();\n  }, []);\n  function onActionSelect(action) {\n    if (action === \"EDIT\") {\n      history.push(\"/digit-ui/employee/engagement/event/edit-event/\" + id);\n    }\n    if (action === \"DELETE\") {\n      setShowModal(true);\n    }\n    setDisplayMenu(false);\n  }\n  var handleDelete = function handleDelete() {\n    var details = {\n      events: [_extends({}, data === null || data === void 0 ? void 0 : data.applicationData, {\n        status: \"CANCELLED\"\n      })]\n    };\n    history.push(\"/digit-ui/employee/engagement/event/response?delete=true\", details);\n  };\n  return /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(Header, null, t(\"ES_TITLE_APPLICATION_DETAILS\")), /*#__PURE__*/React.createElement(ApplicationDetails, {\n    applicationData: data === null || data === void 0 ? void 0 : data.applicationData,\n    applicationDetails: data,\n    isLoading: isLoading,\n    isDataLoading: isLoading\n  }), /*#__PURE__*/React.createElement(ActionBar, null, displayMenu ? /*#__PURE__*/React.createElement(Menu, {\n    localeKeyPrefix: \"ES_EVENT\",\n    options: ['EDIT', 'DELETE'],\n    t: t,\n    onSelect: onActionSelect\n  }) : null, /*#__PURE__*/React.createElement(SubmitBar, {\n    label: t(\"ES_COMMON_TAKE_ACTION\"),\n    onSubmit: function onSubmit() {\n      return setDisplayMenu(!displayMenu);\n    }\n  })), showModal && /*#__PURE__*/React.createElement(Modal, {\n    headerBarMain: /*#__PURE__*/React.createElement(Heading$6, {\n      label: t('ES_EVENT_DELETE_POPUP_HEADER')\n    }),\n    headerBarEnd: /*#__PURE__*/React.createElement(CloseBtn$7, {\n      onClick: function onClick() {\n        return setShowModal(false);\n      }\n    }),\n    actionCancelLabel: t(\"CS_COMMON_CANCEL\"),\n    actionCancelOnSubmit: function actionCancelOnSubmit() {\n      return setShowModal(false);\n    },\n    actionSaveLabel: t('ES_EVENT_DELETE'),\n    actionSaveOnSubmit: handleDelete\n  }, /*#__PURE__*/React.createElement(Card, {\n    style: {\n      boxShadow: \"none\"\n    }\n  }, /*#__PURE__*/React.createElement(CardText, null, t(\"ES_EVENT_DELETE_TEXT\")))));\n};\nvar Searchbar = function Searchbar(_ref) {\n  var searchValue = _ref.searchValue,\n    _onChange = _ref.onChange,\n    handleKeyPress = _ref.handleKeyPress,\n    handleSearch = _ref.handleSearch,\n    t = _ref.t;\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(TextInput, {\n    className: \"searchInput\",\n    placeholder: t(\"CE_SERACH_DOCUMENTS\"),\n    value: searchValue,\n    onChange: function onChange(ev) {\n      return _onChange(ev.target.value);\n    },\n    signature: true,\n    signatureImg: /*#__PURE__*/React.createElement(SearchIconSvg, {\n      className: \"signature-img\",\n      onClick: function onClick() {\n        return handleSearch();\n      }\n    }),\n    onKeyPress: handleKeyPress\n  }));\n};\nvar useDebounce = function useDebounce(value, delay) {\n  var _useState = useState(value),\n    debouncedValue = _useState[0],\n    setDebouncedValue = _useState[1];\n  useEffect(function () {\n    var handler = setTimeout(function () {\n      setDebouncedValue(value);\n    }, delay);\n    return function () {\n      clearTimeout(handler);\n    };\n  }, [value, delay]);\n  return debouncedValue;\n};\nvar DocumentCard = function DocumentCard(_ref) {\n  var documentTitle = _ref.documentTitle,\n    _ref$documentSize = _ref.documentSize,\n    documentSize = _ref$documentSize === void 0 ? 2.3 : _ref$documentSize,\n    lastModifiedData = _ref.lastModifiedData,\n    description = _ref.description,\n    filestoreId = _ref.filestoreId,\n    documentLink = _ref.documentLink,\n    t = _ref.t;\n  var isMobile = window.Digit.Utils.browser.isMobile();\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"notice_and_circular_main\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"notice_and_circular_image\"\n  }, /*#__PURE__*/React.createElement(GenericFileIcon, {\n    height: \"\" + (isMobile ? 66 : 100),\n    width: \"\" + (isMobile ? 53 : 100)\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"notice_and_circular_content\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"notice_and_circular_heading_mb\"\n  }, /*#__PURE__*/React.createElement(CardHeader, null, documentTitle), documentSize ? /*#__PURE__*/React.createElement(CardCaption, null, getFileSize(documentSize)) : null), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"notice_and_circular_caption\"\n  }, /*#__PURE__*/React.createElement(CardCaption, null, t(\"CE_DCOUMENT_UPLOADED_ON\") + \" \" + (lastModifiedData ? format(new Date(lastModifiedData), \"do MMMM yyyy\") : \"-\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"notice_and_circular_text\"\n  }, /*#__PURE__*/React.createElement(CardText, null, description !== null && description !== void 0 && description.length ? description : \"NA\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"view_download_main\"\n  }, filestoreId && filestoreId.length ? /*#__PURE__*/React.createElement(LinkButton, {\n    label: /*#__PURE__*/React.createElement(\"div\", {\n      className: \"views\",\n      onClick: function onClick() {\n        return openUploadedDocument(filestoreId ? filestoreId : null, documentTitle);\n      }\n    }, /*#__PURE__*/React.createElement(ViewsIcon, null), /*#__PURE__*/React.createElement(\"p\", null, t(\"CE_DOCUMENT_VIEW_LINK\")))\n  }) : null, documentLink && documentLink.length ? /*#__PURE__*/React.createElement(LinkButton, {\n    label: /*#__PURE__*/React.createElement(\"div\", {\n      className: \"views\",\n      onClick: function onClick() {\n        return openDocumentLink(documentLink, documentTitle);\n      }\n    }, /*#__PURE__*/React.createElement(ExternalLinkIcon, null), /*#__PURE__*/React.createElement(\"p\", null, t(\"CE_DOCUMENT_OPEN_LINK\")))\n  }) : null, filestoreId && filestoreId.length ? /*#__PURE__*/React.createElement(LinkButton, {\n    label: /*#__PURE__*/React.createElement(\"div\", {\n      className: \"views download_views_padding\"\n    }, /*#__PURE__*/React.createElement(DownloadImgIcon, null), /*#__PURE__*/React.createElement(\"p\", null, t(\"CE_DOCUMENT_DOWNLOAD_LINK\"))),\n    onClick: function onClick() {\n      return downloadDocument(filestoreId ? filestoreId : null);\n    }\n  }) : null)));\n};\nvar DocumentList = function DocumentList(_ref) {\n  var match = _ref.match;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var _match$params = match.params,\n    category = _match$params.category,\n    count = _match$params.count;\n  var tenantIds = Digit.ULBService.getCitizenCurrentTenant();\n  var _useState = useState(20),\n    pageSize = _useState[0];\n  var _useState2 = useState(0);\n  var _useState3 = useState(),\n    searchValue = _useState3[0],\n    setSearchValue = _useState3[1];\n  var debouncedSearchQuery = useDebounce(searchValue, 700);\n  var _Digit$Hooks$engageme = Digit.Hooks.engagement.useDocSearch({\n      name: debouncedSearchQuery,\n      category: category,\n      tenantIds: tenantIds,\n      limit: pageSize\n    }, {\n      select: function select(data) {\n        var _data$Documents;\n        return data === null || data === void 0 ? void 0 : (_data$Documents = data.Documents) === null || _data$Documents === void 0 ? void 0 : _data$Documents.map(function (_ref2) {\n          var uuid = _ref2.uuid,\n            name = _ref2.name,\n            category = _ref2.category,\n            documentLink = _ref2.documentLink,\n            description = _ref2.description,\n            auditDetails = _ref2.auditDetails,\n            fileSize = _ref2.fileSize,\n            filestoreId = _ref2.filestoreId;\n          return {\n            docId: uuid,\n            name: name,\n            category: category,\n            description: description,\n            documentLink: documentLink,\n            createdTime: auditDetails === null || auditDetails === void 0 ? void 0 : auditDetails.createdTime,\n            fileSize: fileSize,\n            filestoreId: filestoreId\n          };\n        });\n      }\n    }),\n    filteredDocs = _Digit$Hooks$engageme.data,\n    isLoadingDocs = _Digit$Hooks$engageme.isLoading;\n  var handleKeyPress = function handleKeyPress(event) {\n    try {\n      if (event.key === \"Enter\") {\n        if (searchValue.length) {\n          setSearchValue(\"\");\n        }\n      }\n      return Promise.resolve();\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n  var handleSearch = function handleSearch(event) {\n    try {\n      if (searchValue.length) {\n        setSearchValue(\"\");\n      }\n      return Promise.resolve();\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n  return /*#__PURE__*/React.createElement(AppContainer, null, /*#__PURE__*/React.createElement(Header, null, t(\"\" + category) + \" (\" + (count ? count : \"-\") + \")\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"documentContainerPadding\"\n  }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Searchbar, {\n    searchValue: searchValue,\n    handleKeyPress: handleKeyPress,\n    handleSearch: handleSearch,\n    onChange: setSearchValue,\n    t: t\n  })), isLoadingDocs ? /*#__PURE__*/React.createElement(Loader, null) : filteredDocs && filteredDocs.length ? renderDocsList(filteredDocs, t) : /*#__PURE__*/React.createElement(Card, null, /*#__PURE__*/React.createElement(CardCaption, null, t(\"COMMON_INBOX_NO_DATA\")))));\n};\nvar renderDocsList = function renderDocsList(documents, t) {\n  return documents.map(function (_ref3, index) {\n    var name = _ref3.name,\n      createdTime = _ref3.createdTime,\n      description = _ref3.description,\n      documentLink = _ref3.documentLink,\n      fileSize = _ref3.fileSize,\n      filestoreId = _ref3.filestoreId;\n    return /*#__PURE__*/React.createElement(DocumentCard, {\n      key: index,\n      documentTitle: name,\n      documentSize: fileSize,\n      lastModifiedData: createdTime,\n      description: description,\n      documentLink: documentLink,\n      filestoreId: filestoreId,\n      t: t\n    });\n  });\n};\nvar Accordion = function Accordion(_ref) {\n  var t = _ref.t,\n    title = _ref.title,\n    count = _ref.count,\n    _onClick = _ref.onClick,\n    children = _ref.children;\n  var _React$useState = React.useState(false),\n    isOpen = _React$useState[0],\n    setOpen = _React$useState[1];\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"accordion-wrapper\",\n    onClick: function onClick() {\n      return _onClick(title, count);\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"accordion-title \" + (isOpen ? \"open\" : \"\"),\n    onClick: function onClick() {\n      return setOpen(!isOpen);\n    }\n  }, t(title) + \" (\" + count + \")\", /*#__PURE__*/React.createElement(PrevIcon, null)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"accordion-item \" + (!isOpen ? \"collapsed\" : \"\")\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"accordion-content\"\n  }, children)));\n};\nvar DocumentCategories = function DocumentCategories(_ref2) {\n  var _Digit$UserService, _Digit$UserService$ge, _data$documentList, _data$statusCount, _data$statusCount2;\n  var t = _ref2.t;\n  var history = useHistory();\n  var _useState = useState(\"\"),\n    searchValue = _useState[0],\n    setSearchValue = _useState[1];\n  var tenantIds = Digit.ULBService.getCitizenCurrentTenant();\n  var debouncedSearchQuery = useDebounce(searchValue, 700);\n  var _Digit$Hooks$engageme = Digit.Hooks.engagement.useDocSearch({\n      name: debouncedSearchQuery,\n      tenantIds: tenantIds\n    }, {\n      select: function select(data) {\n        var _data$Documents;\n        var mappedDocuments = data === null || data === void 0 ? void 0 : (_data$Documents = data.Documents) === null || _data$Documents === void 0 ? void 0 : _data$Documents.map(function (_ref3) {\n          var uuid = _ref3.uuid,\n            name = _ref3.name,\n            category = _ref3.category,\n            documentLink = _ref3.documentLink,\n            description = _ref3.description,\n            auditDetails = _ref3.auditDetails,\n            fileSize = _ref3.fileSize,\n            filestoreId = _ref3.filestoreId;\n          return {\n            docId: uuid,\n            name: name,\n            category: category,\n            description: description,\n            documentLink: documentLink,\n            createdTime: auditDetails === null || auditDetails === void 0 ? void 0 : auditDetails.createdTime,\n            fileSize: fileSize,\n            filestoreId: filestoreId\n          };\n        });\n        return {\n          documentList: mappedDocuments,\n          statusCount: data === null || data === void 0 ? void 0 : data.statusCount\n        };\n      }\n    }),\n    data = _Digit$Hooks$engageme.data,\n    isLoading = _Digit$Hooks$engageme.isLoading;\n  if (!((_Digit$UserService = Digit.UserService) !== null && _Digit$UserService !== void 0 && (_Digit$UserService$ge = _Digit$UserService.getUser()) !== null && _Digit$UserService$ge !== void 0 && _Digit$UserService$ge.access_token)) {\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: {\n        pathname: \"/digit-ui/citizen/login\",\n        state: {\n          from: location.pathname + location.search\n        }\n      }\n    });\n  }\n  var showDocuments = function showDocuments(category, count) {\n    history.push(\"documents/list/\" + category + \"/\" + count);\n  };\n  var handleKeyPress = function handleKeyPress(event) {\n    if (event.key === \"Enter\") {\n      setSearchValue(\"\");\n    }\n  };\n  var handleSearch = function handleSearch(event) {\n    setSearchValue(\"\");\n  };\n  return /*#__PURE__*/React.createElement(AppContainer, null, /*#__PURE__*/React.createElement(Header, null, t(\"DOCUMENTS_DOCUMENT_HEADER\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Docs_CardWrapper\"\n  }, /*#__PURE__*/React.createElement(Searchbar, {\n    searchValue: searchValue,\n    handleKeyPress: handleKeyPress,\n    handleSearch: handleSearch,\n    onChange: setSearchValue,\n    t: t\n  }), /*#__PURE__*/React.createElement(\"hr\", {\n    style: {\n      color: \"#ccc\"\n    }\n  }), isLoading ? /*#__PURE__*/React.createElement(Loader, null) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"wrapper\"\n  }, searchValue.length && data !== null && data !== void 0 && (_data$documentList = data.documentList) !== null && _data$documentList !== void 0 && _data$documentList.length ? renderDocsList(data.documentList, t) : data !== null && data !== void 0 && data.statusCount && data !== null && data !== void 0 && (_data$statusCount = data.statusCount) !== null && _data$statusCount !== void 0 && _data$statusCount.length ? data === null || data === void 0 ? void 0 : (_data$statusCount2 = data.statusCount) === null || _data$statusCount2 === void 0 ? void 0 : _data$statusCount2.map(function (_ref4, index) {\n    var category = _ref4.category,\n      count = _ref4.count;\n    return /*#__PURE__*/React.createElement(Accordion, {\n      t: t,\n      title: category,\n      count: count,\n      key: index,\n      onClick: showDocuments\n    });\n  }) : /*#__PURE__*/React.createElement(Card, null, /*#__PURE__*/React.createElement(CardCaption, null, t(\"COMMON_INBOX_NO_DATA\"))))));\n};\nvar ViewDocument = function ViewDocument(_ref) {\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var _Digit$Hooks$useQuery = Digit.Hooks.useQueryParams(),\n    uuid = _Digit$Hooks$useQuery.applicationNumber,\n    tenantId = _Digit$Hooks$useQuery.tenantId;\n  var _Digit$Hooks$engageme = Digit.Hooks.engagement.useDocSearch({\n      uuid: uuid,\n      tenantId: tenantId\n    }, {\n      select: function select(data) {\n        var _data$Documents;\n        var mappedDocuments = data === null || data === void 0 ? void 0 : (_data$Documents = data.Documents) === null || _data$Documents === void 0 ? void 0 : _data$Documents.map(function (_ref2) {\n          var uuid = _ref2.uuid,\n            name = _ref2.name,\n            category = _ref2.category,\n            documentLink = _ref2.documentLink,\n            description = _ref2.description,\n            auditDetails = _ref2.auditDetails,\n            fileSize = _ref2.fileSize,\n            filestoreId = _ref2.filestoreId;\n          return {\n            docId: uuid,\n            name: name,\n            category: category,\n            description: description,\n            documentLink: documentLink,\n            createdTime: auditDetails === null || auditDetails === void 0 ? void 0 : auditDetails.createdTime,\n            fileSize: fileSize,\n            filestoreId: filestoreId\n          };\n        });\n        return {\n          documentList: mappedDocuments,\n          statusCount: data === null || data === void 0 ? void 0 : data.statusCount\n        };\n      }\n    }),\n    data = _Digit$Hooks$engageme.data,\n    isLoading = _Digit$Hooks$engageme.isLoading;\n  var _ref3 = data || {},\n    _ref3$documentList = _ref3.documentList,\n    documentList = _ref3$documentList === void 0 ? [] : _ref3$documentList;\n  var _ref4 = (documentList === null || documentList === void 0 ? void 0 : documentList[0]) || {},\n    _ref4$name = _ref4.name,\n    name = _ref4$name === void 0 ? false : _ref4$name,\n    createdTime = _ref4.createdTime,\n    description = _ref4.description,\n    documentLink = _ref4.documentLink,\n    fileSize = _ref4.fileSize,\n    filestoreId = _ref4.filestoreId;\n  return /*#__PURE__*/React.createElement(AppContainer, null, /*#__PURE__*/React.createElement(Header, null, \"\" + t(\"COMMON_VIEW_DOC\")), isLoading && /*#__PURE__*/React.createElement(Loader, null), name && /*#__PURE__*/React.createElement(DocumentCard, {\n    key: 1,\n    documentTitle: name,\n    documentSize: fileSize,\n    lastModifiedData: createdTime,\n    description: description,\n    documentLink: documentLink,\n    filestoreId: filestoreId,\n    t: t\n  }), !name && !isLoading && /*#__PURE__*/React.createElement(Card, null, /*#__PURE__*/React.createElement(CardCaption, null, t(\"COMMON_DOC_DATA_NOT_FOUND\"))));\n};\nvar getMessage = function getMessage(mutation) {\n  var _mutation$data, _mutation$data$Survey, _mutation$data$Survey2;\n  if (mutation.isSuccess) return (_mutation$data = mutation.data) === null || _mutation$data === void 0 ? void 0 : (_mutation$data$Survey = _mutation$data.Surveys) === null || _mutation$data$Survey === void 0 ? void 0 : (_mutation$data$Survey2 = _mutation$data$Survey[0]) === null || _mutation$data$Survey2 === void 0 ? void 0 : _mutation$data$Survey2.uuid;\n  return \"\";\n};\nvar BannerPicker$2 = function BannerPicker(props) {\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  return /*#__PURE__*/React.createElement(Banner, {\n    message: props.mutation.isSuccess ? t(\"SURVEY_RESPONSE_SUBMITED\") : t(\"SURVEY_RESPONSE_FAILED\"),\n    applicationNumber: getMessage(props.mutation),\n    info: props.mutation.isSuccess ? props.surveyTitle : \"\",\n    successful: props.mutation.isSuccess,\n    whichSvg: \"tick\"\n  });\n};\nvar Acknowledgement = function Acknowledgement(props) {\n  var _state$AnswerEntity;\n  var queryClient = useQueryClient();\n  var _useTranslation2 = useTranslation(),\n    t = _useTranslation2.t;\n  var tenantId = Digit.ULBService.getCurrentTenantId();\n  var mutation = Digit.Hooks.survey.useSubmitResponse();\n  var state = props.location.state;\n  var surveyTitlev1 = state === null || state === void 0 ? void 0 : (_state$AnswerEntity = state.AnswerEntity) === null || _state$AnswerEntity === void 0 ? void 0 : _state$AnswerEntity.surveyTitle;\n  useEffect(function () {\n    var onSuccess = function onSuccess() {\n      queryClient.clear();\n    };\n    mutation.mutate(state, {\n      onSuccess: onSuccess\n    });\n  }, []);\n  if (mutation.isLoading && !mutation.isIdle) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n  return /*#__PURE__*/React.createElement(Card, null, /*#__PURE__*/React.createElement(BannerPicker$2, {\n    t: t,\n    mutation: mutation,\n    surveyTitle: surveyTitlev1\n  }), /*#__PURE__*/React.createElement(CardText, null, mutation.isSuccess ? t(\"SURVEY_FORM_RESPONSE_MESSAGE\") : null), /*#__PURE__*/React.createElement(ActionBar, null, /*#__PURE__*/React.createElement(Link, {\n    to: \"/digit-ui/citizen/engagement/surveys/list\"\n  }, /*#__PURE__*/React.createElement(SubmitBar, {\n    label: t(\"CORE_COMMON_GO_TO_HOME\")\n  }))));\n};\nvar CitizenApp = function CitizenApp(_ref) {\n  var path = _ref.path;\n  var location = useLocation();\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var NotificationsOrWhatsNew = Digit.ComponentRegistryService.getComponent(\"NotificationsAndWhatsNew\");\n  var Events = Digit.ComponentRegistryService.getComponent(\"EventsListOnGround\");\n  var EventDetails = Digit.ComponentRegistryService.getComponent(\"EventDetails\");\n  var Documents = Digit.ComponentRegistryService.getComponent(\"DocumentList\");\n  var SurveyList = Digit.ComponentRegistryService.getComponent(\"SurveyList\");\n  var FillSurvey = Digit.ComponentRegistryService.getComponent('FillSurvey');\n  var ShowSurvey = Digit.ComponentRegistryService.getComponent('ShowSurvey');\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(BackButton, null, t(\"CS_COMMON_BACK\")), /*#__PURE__*/React.createElement(Switch, null, /*#__PURE__*/React.createElement(Route, {\n    path: path + \"/notifications\",\n    component: function component() {\n      return /*#__PURE__*/React.createElement(NotificationsOrWhatsNew, {\n        variant: \"notifications\",\n        parentRoute: path\n      });\n    }\n  }), /*#__PURE__*/React.createElement(PrivateRoute, {\n    path: path + \"/whats-new\",\n    component: function component() {\n      return /*#__PURE__*/React.createElement(NotificationsOrWhatsNew, {\n        variant: \"whats-new\",\n        parentRoute: path\n      });\n    }\n  }), /*#__PURE__*/React.createElement(PrivateRoute, {\n    exact: true,\n    path: path + \"/events\",\n    component: function component() {\n      return /*#__PURE__*/React.createElement(Events, {\n        variant: \"events\",\n        parentRoute: path\n      });\n    }\n  }), /*#__PURE__*/React.createElement(PrivateRoute, {\n    path: path + \"/events/details/:id\",\n    component: function component() {\n      return /*#__PURE__*/React.createElement(EventDetails, {\n        parentRoute: path\n      });\n    }\n  }), /*#__PURE__*/React.createElement(PrivateRoute, {\n    path: path + \"/docs\",\n    component: function component() {\n      return /*#__PURE__*/React.createElement(DocumentCategories, {\n        t: t,\n        path: path\n      });\n    }\n  }), /*#__PURE__*/React.createElement(PrivateRoute, {\n    path: path + \"/documents/viewDocument\",\n    component: function component() {\n      return /*#__PURE__*/React.createElement(ViewDocument, {\n        t: t,\n        path: path\n      });\n    }\n  }), /*#__PURE__*/React.createElement(PrivateRoute, {\n    path: path + \"/documents/list/:category/:count\",\n    component: function component(props) {\n      return /*#__PURE__*/React.createElement(Documents, props);\n    }\n  }), /*#__PURE__*/React.createElement(PrivateRoute, {\n    path: path + \"/surveys/list\",\n    component: function component(props) {\n      return /*#__PURE__*/React.createElement(SurveyList, props);\n    }\n  }), /*#__PURE__*/React.createElement(PrivateRoute, {\n    path: path + \"/surveys/fill-survey\",\n    component: function component(props) {\n      return /*#__PURE__*/React.createElement(FillSurvey, props);\n    }\n  }), /*#__PURE__*/React.createElement(PrivateRoute, {\n    path: path + \"/surveys/submit-response\",\n    component: function component(props) {\n      return /*#__PURE__*/React.createElement(Acknowledgement, props);\n    }\n  }), /*#__PURE__*/React.createElement(PrivateRoute, {\n    path: path + \"/surveys/show-survey\",\n    component: function component(props) {\n      return /*#__PURE__*/React.createElement(ShowSurvey, props);\n    }\n  })));\n};\nvar EventDetails$1 = function EventDetails() {\n  var _Digit$UserService, _Digit$UserService$ge, _FilteredEventForThis, _FilteredEventForThis2, _FilteredEventForThis3, _FilteredEventForThis4, _FilteredEventForThis5;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var location = useLocation();\n  var history = useHistory();\n  var _useParams = useParams(),\n    EventId = _useParams.id;\n  var tenantId = Digit.ULBService.getCitizenCurrentTenant();\n  var _Digit$Hooks$useEvent = Digit.Hooks.useEvents({\n      tenantId: tenantId,\n      variant: \"events\"\n    }),\n    EventsData = _Digit$Hooks$useEvent.data,\n    EventsDataLoading = _Digit$Hooks$useEvent.isLoading;\n  if (!((_Digit$UserService = Digit.UserService) !== null && _Digit$UserService !== void 0 && (_Digit$UserService$ge = _Digit$UserService.getUser()) !== null && _Digit$UserService$ge !== void 0 && _Digit$UserService$ge.access_token)) {\n    localStorage.clear();\n    sessionStorage.clear();\n    return /*#__PURE__*/React.createElement(Redirect$1, {\n      to: {\n        pathname: \"/digit-ui/citizen/login\",\n        state: {\n          from: location.pathname + location.search\n        }\n      }\n    });\n  }\n  function onGroundEventCardPropsForEventDetails(DataParamsInEvent) {\n    var eventCategory = DataParamsInEvent.eventCategory,\n      name = DataParamsInEvent.name,\n      onGroundEventDate = DataParamsInEvent.onGroundEventDate,\n      onGroundEventMonth = DataParamsInEvent.onGroundEventMonth,\n      onGroundEventTimeRange = DataParamsInEvent.onGroundEventTimeRange;\n    return {\n      eventCategory: t(eventCategory),\n      showEventCatergory: true,\n      name: name,\n      onGroundEventDate: onGroundEventDate,\n      onGroundEventMonth: onGroundEventMonth,\n      onGroundEventTimeRange: onGroundEventTimeRange\n    };\n  }\n  var FilteredEventForThisPage = useMemo(function () {\n    return !EventsDataLoading ? EventsData === null || EventsData === void 0 ? void 0 : EventsData.filter(function (i) {\n      return i.id === EventId;\n    })[0] : null;\n  }, [EventsDataLoading, EventsData]);\n  if (EventsDataLoading) return /*#__PURE__*/React.createElement(Loader, null);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"CitizenEngagementNotificationWrapper\"\n  }, /*#__PURE__*/React.createElement(Header, null, t(\"ES_TITLE_APPLICATION_DETAILS\")), /*#__PURE__*/React.createElement(OnGroundEventCard, onGroundEventCardPropsForEventDetails(FilteredEventForThisPage)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"OnGroundEventDetailsCard\"\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"cardCaptionBodyS\"\n  }, FilteredEventForThisPage === null || FilteredEventForThisPage === void 0 ? void 0 : FilteredEventForThisPage.description), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"eventAddressAndDirection\"\n  }, /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(MapMarker, null), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"p\", null, FilteredEventForThisPage === null || FilteredEventForThisPage === void 0 ? void 0 : (_FilteredEventForThis = FilteredEventForThisPage.eventDetails) === null || _FilteredEventForThis === void 0 ? void 0 : _FilteredEventForThis.address), FilteredEventForThisPage !== null && FilteredEventForThisPage !== void 0 && (_FilteredEventForThis2 = FilteredEventForThisPage.eventDetails) !== null && _FilteredEventForThis2 !== void 0 && _FilteredEventForThis2.latitude && FilteredEventForThisPage !== null && FilteredEventForThisPage !== void 0 && (_FilteredEventForThis3 = FilteredEventForThisPage.eventDetails) !== null && _FilteredEventForThis3 !== void 0 && _FilteredEventForThis3.longitude ? /*#__PURE__*/React.createElement(\"a\", {\n    className: \"direction\",\n    target: \"_blank\",\n    href: \"https://www.google.com/maps/search/?api=1&query=\" + (FilteredEventForThisPage === null || FilteredEventForThisPage === void 0 ? void 0 : (_FilteredEventForThis4 = FilteredEventForThisPage.eventDetails) === null || _FilteredEventForThis4 === void 0 ? void 0 : _FilteredEventForThis4.latitude) + \"%2C\" + (FilteredEventForThisPage === null || FilteredEventForThisPage === void 0 ? void 0 : (_FilteredEventForThis5 = FilteredEventForThisPage.eventDetails) === null || _FilteredEventForThis5 === void 0 ? void 0 : _FilteredEventForThis5.longitude)\n  }, t(\"CS_COMMON_GET_DIRECTIONS\")) : null))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"eventTimeRange\"\n  }, /*#__PURE__*/React.createElement(Clock, null), /*#__PURE__*/React.createElement(\"p\", null, FilteredEventForThisPage === null || FilteredEventForThisPage === void 0 ? void 0 : FilteredEventForThisPage.onGroundEventTimeRange))));\n};\nvar documentsFormConfig = [{\n  body: [{\n    type: \"form\",\n    key: \"ULB\",\n    component: \"EngagementDocSelectULB\",\n    withoutLabel: true\n  }, {\n    type: \"form\",\n    key: \"documentName\",\n    component: \"EnagementDocName\",\n    withoutLabel: true\n  }, {\n    type: \"form\",\n    key: \"docCategory\",\n    component: \"EngagementDocCategory\",\n    withoutLabel: true\n  }, {\n    type: \"form\",\n    key: \"description\",\n    component: \"EngagementDocDescription\",\n    withoutLabel: true\n  }, {\n    type: \"form\",\n    key: \"document\",\n    component: \"EngagementDocUploadDocument\",\n    withoutLabel: true,\n    inputs: [{\n      name: \"\"\n    }]\n  }]\n}];\nvar Documents = function Documents() {\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var history = useHistory();\n  var _useState = useState(false),\n    canSubmit = _useState[0],\n    setSubmitValve = _useState[1];\n  var onFormValueChange = function onFormValueChange(setValue, formData, formState) {\n    var _formData$ULB;\n    if (formData !== null && formData !== void 0 && formData.documentName && formData !== null && formData !== void 0 && formData.docCategory && (formData !== null && formData !== void 0 && formData.document.filestoreId || formData !== null && formData !== void 0 && formData.document.documentLink) && formData !== null && formData !== void 0 && (_formData$ULB = formData.ULB) !== null && _formData$ULB !== void 0 && _formData$ULB.length) {\n      setSubmitValve(true);\n    } else {\n      setSubmitValve(false);\n    }\n  };\n  var onSubmit = function onSubmit(data) {\n    var _data$docCategory, _data$document, _data$document2, _data$document2$files, _data$document3, _data$document3$files, _data$document4, _data$document4$files;\n    var DocumentEntity = {\n      name: data.documentName,\n      description: data !== null && data !== void 0 && data.description.length ? data.description : \"\",\n      category: (_data$docCategory = data.docCategory) === null || _data$docCategory === void 0 ? void 0 : _data$docCategory.name,\n      documentLink: (_data$document = data.document) === null || _data$document === void 0 ? void 0 : _data$document.documentLink,\n      filestoreId: (_data$document2 = data.document) === null || _data$document2 === void 0 ? void 0 : (_data$document2$files = _data$document2.filestoreId) === null || _data$document2$files === void 0 ? void 0 : _data$document2$files.fileStoreId,\n      fileSize: (_data$document3 = data.document) === null || _data$document3 === void 0 ? void 0 : (_data$document3$files = _data$document3.filestoreId) === null || _data$document3$files === void 0 ? void 0 : _data$document3$files.fileSize,\n      fileType: (_data$document4 = data.document) === null || _data$document4 === void 0 ? void 0 : (_data$document4$files = _data$document4.filestoreId) === null || _data$document4$files === void 0 ? void 0 : _data$document4$files.fileType,\n      tenantIds: data.ULB.map(function (e) {\n        return e.code;\n      })\n    };\n    history.push(\"/digit-ui/employee/engagement/documents/response\", {\n      DocumentEntity: DocumentEntity\n    });\n  };\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Header, null, t(\"ES_ENGAGEMENT_DOCUMENTS\")), /*#__PURE__*/React.createElement(FormComposer, {\n    label: t(\"ES_COMMON_APPLICATION_SUBMIT\"),\n    config: documentsFormConfig,\n    onSubmit: onSubmit,\n    fieldStyle: {},\n    onFormValueChange: onFormValueChange,\n    isDisabled: !canSubmit\n  }));\n};\nvar documentsFormConfig$1 = [{\n  body: [{\n    type: \"form\",\n    key: \"ULB\",\n    component: \"EngagementULBDropdown\",\n    withoutLabel: true\n  }, {\n    type: \"form\",\n    key: \"documentName\",\n    component: \"EnagementDocName\",\n    withoutLabel: true\n  }, {\n    type: \"form\",\n    key: \"docCategory\",\n    component: \"EngagementDocCategory\",\n    withoutLabel: true\n  }, {\n    type: \"form\",\n    key: \"description\",\n    component: \"EngagementDocDescription\",\n    withoutLabel: true\n  }, {\n    type: \"form\",\n    key: \"document\",\n    component: \"EngagementDocUploadDocument\",\n    withoutLabel: true,\n    inputs: [{\n      name: \"\"\n    }]\n  }]\n}];\nvar Documents$1 = function Documents(props) {\n  var _props$location$state6;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var history = useHistory();\n  var _useState = useState(false),\n    canSubmit = _useState[0],\n    setSubmitValve = _useState[1];\n  var onFormValueChange = useCallback(function (setValue, updatedFormData, formState) {\n    if (updatedFormData !== null && updatedFormData !== void 0 && updatedFormData.documentName && updatedFormData !== null && updatedFormData !== void 0 && updatedFormData.docCategory && (updatedFormData !== null && updatedFormData !== void 0 && updatedFormData.document.filestoreId || updatedFormData !== null && updatedFormData !== void 0 && updatedFormData.document.documentLink) && updatedFormData !== null && updatedFormData !== void 0 && updatedFormData.ULB && Object.keys(updatedFormData === null || updatedFormData === void 0 ? void 0 : updatedFormData.ULB).length) {\n      setSubmitValve(true);\n    } else {\n      setSubmitValve(false);\n    }\n  }, []);\n  var update = function update(data) {\n    var _data$document, _data$document$filest, _data$document2, _data$document2$files, _props$location$state, _props$location$state2, _data$document3, _data$document3$files, _data$document4, _data$document4$files, _props$location$state3, _props$location$state4, _props$location, _props$location$state5, _data$docCategory, _data$document5, _data$document5$files, _data$document6, _data$ULB;\n    var fileSize = (_data$document = data.document) !== null && _data$document !== void 0 && (_data$document$filest = _data$document.filestoreId) !== null && _data$document$filest !== void 0 && _data$document$filest.fileSize ? (_data$document2 = data.document) === null || _data$document2 === void 0 ? void 0 : (_data$document2$files = _data$document2.filestoreId) === null || _data$document2$files === void 0 ? void 0 : _data$document2$files.fileSize : (_props$location$state = props.location.state) === null || _props$location$state === void 0 ? void 0 : (_props$location$state2 = _props$location$state.DocumentEntity) === null || _props$location$state2 === void 0 ? void 0 : _props$location$state2.fileSize;\n    var fileType = (_data$document3 = data.document) !== null && _data$document3 !== void 0 && (_data$document3$files = _data$document3.filestoreId) !== null && _data$document3$files !== void 0 && _data$document3$files.fileType ? (_data$document4 = data.document) === null || _data$document4 === void 0 ? void 0 : (_data$document4$files = _data$document4.filestoreId) === null || _data$document4$files === void 0 ? void 0 : _data$document4$files.fileType : (_props$location$state3 = props.location.state) === null || _props$location$state3 === void 0 ? void 0 : (_props$location$state4 = _props$location$state3.DocumentEntity) === null || _props$location$state4 === void 0 ? void 0 : _props$location$state4.fileType;\n    var DocumentEntity = _extends({}, (_props$location = props.location) === null || _props$location === void 0 ? void 0 : (_props$location$state5 = _props$location.state) === null || _props$location$state5 === void 0 ? void 0 : _props$location$state5.DocumentEntity, {\n      name: data.documentName,\n      description: data !== null && data !== void 0 && data.description.length ? data.description : \"\",\n      category: (_data$docCategory = data.docCategory) === null || _data$docCategory === void 0 ? void 0 : _data$docCategory.name,\n      filestoreId: (_data$document5 = data.document) === null || _data$document5 === void 0 ? void 0 : (_data$document5$files = _data$document5.filestoreId) === null || _data$document5$files === void 0 ? void 0 : _data$document5$files.fileStoreId,\n      fileSize: fileSize,\n      fileType: fileType,\n      documentLink: (_data$document6 = data.document) === null || _data$document6 === void 0 ? void 0 : _data$document6.documentLink,\n      tenantId: data === null || data === void 0 ? void 0 : (_data$ULB = data.ULB) === null || _data$ULB === void 0 ? void 0 : _data$ULB.code\n    });\n    delete DocumentEntity.ULB;\n    delete DocumentEntity.docCategory;\n    delete DocumentEntity.documentName;\n    history.push(\"/digit-ui/employee/engagement/documents/update-response\", {\n      DocumentEntity: DocumentEntity\n    });\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, null, t(\"ES_ENGAGEMENT_EDIT_DOC\")), /*#__PURE__*/React.createElement(FormComposer, {\n    label: t(\"ES_COMMON_UPDATE\"),\n    config: documentsFormConfig$1,\n    onSubmit: function onSubmit(data) {\n      update(data);\n    },\n    fieldStyle: {},\n    onFormValueChange: onFormValueChange,\n    defaultValues: (_props$location$state6 = props.location.state) === null || _props$location$state6 === void 0 ? void 0 : _props$location$state6.DocumentEntity,\n    isDisabled: !canSubmit\n  }));\n};\nvar getMessage$1 = function getMessage(mutation) {\n  var _mutation$data, _mutation$data$Docume, _mutation$data$Docume2;\n  if (mutation.isSuccess) return (_mutation$data = mutation.data) === null || _mutation$data === void 0 ? void 0 : (_mutation$data$Docume = _mutation$data.Documents) === null || _mutation$data$Docume === void 0 ? void 0 : (_mutation$data$Docume2 = _mutation$data$Docume[0]) === null || _mutation$data$Docume2 === void 0 ? void 0 : _mutation$data$Docume2.uuid;\n  return \"\";\n};\nvar BannerPicker$3 = function BannerPicker(props) {\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  return /*#__PURE__*/React.createElement(Banner, {\n    message: props.isSuccess ? t(\"ENGAGEMENT_DOC_CREATED\") : t(\"ENGAGEMENT_DOC_FAILURE\"),\n    applicationNumber: getMessage$1(props.mutation),\n    info: props.isSuccess ? t(\"ENGAGEMENT_DOCUMENT_ID\") : \"\",\n    successful: props.isSuccess\n  });\n};\nvar Response$2 = function Response(props) {\n  var queryClient = useQueryClient();\n  var _useTranslation2 = useTranslation(),\n    t = _useTranslation2.t;\n  var tenantId = Digit.ULBService.getCurrentTenantId();\n  var mutation = Digit.Hooks.engagement.useDocCreate();\n  var state = props.location.state;\n  useEffect(function () {\n    var onSuccess = function onSuccess() {\n      queryClient.clear();\n    };\n    mutation.mutate(state, {\n      onSuccess: onSuccess\n    });\n  }, []);\n  if (mutation.isLoading || mutation.isIdle) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Card, null, /*#__PURE__*/React.createElement(BannerPicker$3, {\n    t: t,\n    data: mutation.data,\n    mutation: mutation,\n    isSuccess: mutation.isSuccess,\n    isLoading: mutation.isIdle || mutation.isLoading\n  })), /*#__PURE__*/React.createElement(ActionBar, null, /*#__PURE__*/React.createElement(Link, {\n    to: \"/digit-ui/employee\"\n  }, /*#__PURE__*/React.createElement(SubmitBar, {\n    label: t(\"CORE_COMMON_GO_TO_HOME\")\n  }))));\n};\nvar getMessage$2 = function getMessage(mutation) {\n  var _mutation$data, _mutation$data$Docume, _mutation$data$Docume2;\n  if (mutation.isSuccess) return (_mutation$data = mutation.data) === null || _mutation$data === void 0 ? void 0 : (_mutation$data$Docume = _mutation$data.Documents) === null || _mutation$data$Docume === void 0 ? void 0 : (_mutation$data$Docume2 = _mutation$data$Docume[0]) === null || _mutation$data$Docume2 === void 0 ? void 0 : _mutation$data$Docume2.uuid;\n  return \"\";\n};\nvar BannerPicker$4 = function BannerPicker(props) {\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  return /*#__PURE__*/React.createElement(Banner, {\n    message: props.isSuccess ? t(\"ENGAGEMENT_DOC_UPDATED\") : t(\"ENGAGEMENT_DOC_UPDATE_FAILURE\"),\n    applicationNumber: getMessage$2(props.mutation),\n    info: props.isSuccess ? t(\"ENGAGEMENT_DOCUMENT_ID\") : \"\",\n    successful: props.isSuccess\n  });\n};\nvar Response$3 = function Response(props) {\n  var queryClient = useQueryClient();\n  var _useTranslation2 = useTranslation(),\n    t = _useTranslation2.t;\n  var tenantId = Digit.ULBService.getCurrentTenantId();\n  var mutation = Digit.Hooks.engagement.useDocUpdate();\n  var state = props.location.state;\n  useEffect(function () {\n    var onSuccess = function onSuccess() {\n      queryClient.clear();\n    };\n    mutation.mutate(state, {\n      onSuccess: onSuccess\n    });\n  }, []);\n  if (mutation.isLoading || mutation.isIdle) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Card, null, /*#__PURE__*/React.createElement(BannerPicker$4, {\n    t: t,\n    data: mutation.data,\n    mutation: mutation,\n    isSuccess: mutation.isSuccess,\n    isLoading: mutation.isIdle || mutation.isLoading\n  })), /*#__PURE__*/React.createElement(ActionBar, null, /*#__PURE__*/React.createElement(Link, {\n    to: \"/digit-ui/employee\"\n  }, /*#__PURE__*/React.createElement(SubmitBar, {\n    label: t(\"CORE_COMMON_GO_TO_HOME\")\n  }))));\n};\nvar BannerPicker$5 = function BannerPicker(props) {\n  var _props$mutation;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  return /*#__PURE__*/React.createElement(Banner, {\n    message: props.isSuccess ? t(\"ENGAGEMENT_DOC_DELETED\") : t(\"ENGAGEMENT_DOC_DELETE_FAILURE\"),\n    applicationNumber: (_props$mutation = props.mutation) !== null && _props$mutation !== void 0 && _props$mutation.isSuccess ? props.uuid : '',\n    info: props.isSuccess ? t(\"ENGAGEMENT_DOCUMENT_ID\") : \"\",\n    successful: props.isSuccess\n  });\n};\nvar Response$4 = function Response(props) {\n  var _state$DocumentEntity;\n  var queryClient = useQueryClient();\n  var _useTranslation2 = useTranslation(),\n    t = _useTranslation2.t;\n  var tenantId = Digit.ULBService.getCurrentTenantId();\n  var mutation = Digit.Hooks.engagement.useDocDelete();\n  var state = props.location.state;\n  useEffect(function () {\n    var onSuccess = function onSuccess() {\n      queryClient.clear();\n    };\n    mutation.mutate(state, {\n      onSuccess: onSuccess\n    });\n  }, []);\n  if (mutation.isLoading || mutation.isIdle) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Card, null, /*#__PURE__*/React.createElement(BannerPicker$5, {\n    t: t,\n    data: mutation.data,\n    mutation: mutation,\n    uuid: state === null || state === void 0 ? void 0 : (_state$DocumentEntity = state.DocumentEntity) === null || _state$DocumentEntity === void 0 ? void 0 : _state$DocumentEntity.uuid,\n    isSuccess: mutation.isSuccess,\n    isLoading: mutation.isIdle || mutation.isLoading\n  })), /*#__PURE__*/React.createElement(ActionBar, null, /*#__PURE__*/React.createElement(Link, {\n    to: \"/digit-ui/employee\"\n  }, /*#__PURE__*/React.createElement(SubmitBar, {\n    label: t(\"CORE_COMMON_GO_TO_HOME\")\n  }))));\n};\nvar DocumentNotificationTable = function DocumentNotificationTable(_ref) {\n  var t = _ref.t,\n    data = _ref.data,\n    columns = _ref.columns,\n    globalSearch = _ref.globalSearch,\n    onSearch = _ref.onSearch,\n    getCellProps = _ref.getCellProps,\n    pageSizeLimit = _ref.pageSizeLimit,\n    totalRecords = _ref.totalRecords,\n    currentPage = _ref.currentPage,\n    onNextPage = _ref.onNextPage,\n    onPrevPage = _ref.onPrevPage,\n    onPageSizeChange = _ref.onPageSizeChange,\n    onSort = _ref.onSort,\n    sortParams = _ref.sortParams;\n  return /*#__PURE__*/React.createElement(Table, {\n    t: t,\n    data: data,\n    columns: columns,\n    onSearch: onSearch,\n    globalSearch: globalSearch,\n    manualGlobalFilter: true,\n    manualPagination: true,\n    currentPage: currentPage,\n    onNextPage: onNextPage,\n    onPrevPage: onPrevPage,\n    pageSizeLimit: pageSizeLimit,\n    onPageSizeChange: onPageSizeChange,\n    getCellProps: getCellProps,\n    totalRecords: totalRecords,\n    onSort: onSort,\n    sortParams: sortParams\n  });\n};\nvar Search$2 = function Search(_ref) {\n  var onSearch = _ref.onSearch,\n    searchParams = _ref.searchParams,\n    searchFields = _ref.searchFields,\n    type = _ref.type,\n    onClose = _ref.onClose,\n    isInboxPage = _ref.isInboxPage,\n    t = _ref.t;\n  var _useForm = useForm({\n      defaultValues: searchParams\n    }),\n    handleSubmit = _useForm.handleSubmit,\n    formState = _useForm.formState,\n    reset = _useForm.reset,\n    control = _useForm.control;\n  var mobileView = innerWidth <= 640;\n  var ulbs = Digit.SessionStorage.get(\"ENGAGEMENT_TENANTS\");\n  var tenantId = Digit.ULBService.getCurrentTenantId();\n  var userInfo = Digit.UserService.getUser().info;\n  var userUlbs = ulbs.filter(function (ulb) {\n    var _userInfo$roles;\n    return userInfo === null || userInfo === void 0 ? void 0 : (_userInfo$roles = userInfo.roles) === null || _userInfo$roles === void 0 ? void 0 : _userInfo$roles.some(function (role) {\n      return (role === null || role === void 0 ? void 0 : role.tenantId) === (ulb === null || ulb === void 0 ? void 0 : ulb.code);\n    });\n  }).sort(alphabeticalSortFunctionForTenantsBasedOnName);\n  var selectedTenat = useMemo(function () {\n    var filtered = ulbs.filter(function (item) {\n      return item.code === tenantId;\n    });\n    return filtered;\n  }, [tenantId, ulbs]);\n  var getFields = function getFields(input) {\n    switch (input.type) {\n      case \"ulb\":\n        return /*#__PURE__*/React.createElement(Controller, {\n          rules: {\n            required: true\n          },\n          defaultValue: selectedTenat === null || selectedTenat === void 0 ? void 0 : selectedTenat[0],\n          render: function render(props) {\n            return /*#__PURE__*/React.createElement(Dropdown, {\n              option: userUlbs,\n              optionKey: \"i18nKey\",\n              selected: props.value,\n              select: props.onChange,\n              t: t\n            });\n          },\n          name: input.name,\n          control: control\n        });\n      default:\n        return /*#__PURE__*/React.createElement(Controller, {\n          render: function render(props) {\n            return /*#__PURE__*/React.createElement(TextInput, {\n              onChange: props.onChange,\n              value: props.value\n            });\n          },\n          name: input.name,\n          control: control,\n          defaultValue: null\n        });\n    }\n  };\n  var onSubmitInput = function onSubmitInput(data) {\n    onSearch(data);\n    if (type === \"mobile\") {\n      onClose();\n    }\n  };\n  var clearSearch = function clearSearch() {\n    reset({\n      name: '',\n      ulbs: {\n        code: tenantId.code\n      },\n      postedBy: \"\"\n    });\n    onSearch({\n      name: '',\n      ulbs: {\n        code: tenantId.code\n      },\n      postedBy: \"\"\n    });\n  };\n  var clearAll = function clearAll(mobileView) {\n    var mobileViewStyles = mobileView ? {\n      margin: 0\n    } : {};\n    return /*#__PURE__*/React.createElement(LinkLabel, {\n      style: _extends({\n        display: \"inline\"\n      }, mobileViewStyles),\n      onClick: clearSearch\n    }, t(\"ES_COMMON_CLEAR_SEARCH\"));\n  };\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit(onSubmitInput)\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-container\",\n    style: {\n      width: \"auto\",\n      marginLeft: isInboxPage ? \"24px\" : \"revert\"\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-complaint-container\"\n  }, (type === \"mobile\" || mobileView) && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"complaint-header\"\n  }, /*#__PURE__*/React.createElement(\"h2\", null, t(\"ES_COMMON_SEARCH_BY\")), /*#__PURE__*/React.createElement(\"span\", {\n    onClick: onClose\n  }, /*#__PURE__*/React.createElement(CloseSvg, null))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"complaint-input-container for-pt \" + (!isInboxPage ? \"for-search\" : \"\"),\n    style: {\n      width: \"100%\"\n    }\n  }, searchFields === null || searchFields === void 0 ? void 0 : searchFields.map(function (input, index) {\n    var _formState$dirtyField, _formState$errors, _formState$errors$inp;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: input.name,\n      className: \"input-fields\"\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"mobile-input\"\n    }, /*#__PURE__*/React.createElement(Label, null, t(input.label) + (\" \" + (input.isMendatory ? \"*\" : \"\"))), getFields(input)), formState !== null && formState !== void 0 && (_formState$dirtyField = formState.dirtyFields) !== null && _formState$dirtyField !== void 0 && _formState$dirtyField[input.name] ? /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        fontWeight: \"700\",\n        color: \"rgba(212, 53, 28)\",\n        paddingLeft: \"8px\",\n        marginTop: \"-20px\",\n        fontSize: \"12px\"\n      },\n      className: \"inbox-search-form-error\"\n    }, formState === null || formState === void 0 ? void 0 : (_formState$errors = formState.errors) === null || _formState$errors === void 0 ? void 0 : (_formState$errors$inp = _formState$errors[input.name]) === null || _formState$errors$inp === void 0 ? void 0 : _formState$errors$inp.message) : null);\n  }), type === \"desktop\" && !mobileView && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      maxWidth: \"unset\",\n      marginLeft: \"unset\"\n    },\n    className: \"search-submit-wrapper\"\n  }, /*#__PURE__*/React.createElement(SubmitBar, {\n    className: \"submit-bar-search\",\n    label: t(\"ES_COMMON_SEARCH\"),\n    submit: true\n  })), type === \"desktop\" && !mobileView && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"document-clear-all\"\n  }, clearAll())))), (type === \"mobile\" || mobileView) && /*#__PURE__*/React.createElement(ActionBar, {\n    className: \"clear-search-container\"\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"clear-search\",\n    style: {\n      flex: 1\n    }\n  }, clearAll(mobileView)), /*#__PURE__*/React.createElement(SubmitBar, {\n    disabled: !!Object.keys(formState.errors).length,\n    label: t(\"ES_COMMON_SEARCH\"),\n    style: {\n      flex: 1\n    },\n    submit: true\n  })));\n};\nvar Filter$2 = function Filter(_ref) {\n  var _ref$type = _ref.type,\n    type = _ref$type === void 0 ? \"desktop\" : _ref$type,\n    onClose = _ref.onClose,\n    onFilterChange = _ref.onFilterChange,\n    searchParams = _ref.searchParams;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var _useState = useState(function () {\n      return _extends({}, searchParams);\n    }),\n    localSearchParams = _useState[0],\n    setLocalSearchParams = _useState[1];\n  var tenantId = Digit.ULBService.getCurrentTenantId();\n  var stateId = tenantId === null || tenantId === void 0 ? void 0 : tenantId.split('.')[0];\n  var currrentUlb = Digit.ULBService.getCurrentUlb();\n  var _Digit$Hooks$engageme = Digit.Hooks.engagement.useMDMS(stateId, \"DocumentUploader\", [\"UlbLevelCategories\"], {\n      select: function select(d) {\n        var _d$DocumentUploader, _d$DocumentUploader$U, _d$DocumentUploader$U2;\n        var data = d === null || d === void 0 ? void 0 : (_d$DocumentUploader = d.DocumentUploader) === null || _d$DocumentUploader === void 0 ? void 0 : (_d$DocumentUploader$U = _d$DocumentUploader.UlbLevelCategories) === null || _d$DocumentUploader$U === void 0 ? void 0 : (_d$DocumentUploader$U2 = _d$DocumentUploader$U.filter) === null || _d$DocumentUploader$U2 === void 0 ? void 0 : _d$DocumentUploader$U2.call(_d$DocumentUploader$U, function (e) {\n          return e.ulb === currrentUlb.code;\n        });\n        return data[0].categoryList.map(function (category) {\n          return {\n            category: category\n          };\n        });\n      }\n    }),\n    categoryData = _Digit$Hooks$engageme.data,\n    isLoading = _Digit$Hooks$engageme.isLoading;\n  var clearAll = function clearAll() {\n    setLocalSearchParams({\n      category: null,\n      name: null,\n      postedBy: null\n    });\n    onFilterChange({\n      category: null,\n      name: null,\n      postedBy: null\n    });\n    onClose === null || onClose === void 0 ? void 0 : onClose();\n  };\n  var applyLocalFilters = function applyLocalFilters() {\n    onFilterChange(localSearchParams);\n    onClose === null || onClose === void 0 ? void 0 : onClose();\n  };\n  var handleChange = function handleChange(data) {\n    setLocalSearchParams(_extends({}, localSearchParams, data));\n  };\n  if (isLoading) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filter\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filter-card\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"heading\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filter-label\"\n  }, t(\"ES_COMMON_FILTER_BY\"), \":\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"clearAll\",\n    onClick: clearAll\n  }, t(\"ES_COMMON_CLEAR_ALL\")), type === \"desktop\" && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"clear-search\",\n    onClick: clearAll\n  }, /*#__PURE__*/React.createElement(RefreshIcon, null)), type === \"mobile\" && /*#__PURE__*/React.createElement(\"span\", {\n    onClick: onClose\n  }, /*#__PURE__*/React.createElement(CloseSvg, null))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filter-label\"\n  }, \"\" + t('DOCUMENTS_CATEGORY_CARD_LABEL')), /*#__PURE__*/React.createElement(Dropdown, {\n    option: categoryData,\n    optionKey: \"category\",\n    selected: localSearchParams,\n    select: function select(value) {\n      handleChange(value);\n    },\n    t: t\n  }), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(SubmitBar, {\n    style: {\n      width: '100%'\n    },\n    onSubmit: function onSubmit() {\n      return applyLocalFilters();\n    },\n    label: t(\"ES_COMMON_APPLY\")\n  }))));\n};\nvar getDocumentDetailsPath = function getDocumentDetailsPath(document) {\n  return {\n    pathname: \"inbox/details/\" + document.name,\n    state: {\n      details: document\n    }\n  };\n};\nvar GetCell$2 = function GetCell(value) {\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: \"cell-text styled-cell\"\n  }, value);\n};\nvar getDocumentDetails = function getDocumentDetails(value, link, t) {\n  if (value === void 0) {\n    value = \"\";\n  }\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: \"document-table-docs-columns\"\n  }, /*#__PURE__*/React.createElement(Link, {\n    className: \"link\",\n    to: link\n  }, value.length ? value : t('CE_DOCUMENT_TITLE')));\n};\nvar getDocumentCell = function getDocumentCell(name, link, docLink, t) {\n  if (name === void 0) {\n    name = \"mSeva\";\n  }\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: \"document-table-docs-columns\"\n  }, link !== null && link !== void 0 && link.length ? /*#__PURE__*/React.createElement(\"span\", {\n    className: \"link\",\n    onClick: function onClick() {\n      return openUploadedDocument(link, name);\n    }\n  }, \" \", t('CE_DOCUMENT_VIEW_LINK'), \" \") : null, docLink.length ? /*#__PURE__*/React.createElement(\"span\", {\n    className: \"link\",\n    onClick: function onClick() {\n      return openDocumentLink(docLink, name);\n    }\n  }, \" \", t('CE_DOCUMENT_OPEN_LINK'), \" \") : null);\n};\nvar DocumentDesktopInbox = function DocumentDesktopInbox(_ref) {\n  var isLoading = _ref.isLoading,\n    data = _ref.data,\n    t = _ref.t,\n    onSearch = _ref.onSearch,\n    title = _ref.title,\n    iconName = _ref.iconName,\n    links = _ref.links,\n    onSort = _ref.onSort,\n    sortParams = _ref.sortParams,\n    globalSearch = _ref.globalSearch,\n    searchFields = _ref.searchFields,\n    searchParams = _ref.searchParams,\n    onFilterChange = _ref.onFilterChange,\n    pageSizeLimit = _ref.pageSizeLimit,\n    totalRecords = _ref.totalRecords,\n    currentPage = _ref.currentPage,\n    onNextPage = _ref.onNextPage,\n    onPrevPage = _ref.onPrevPage,\n    onPageSizeChange = _ref.onPageSizeChange;\n  var columns = React.useMemo(function () {\n    return [{\n      Header: t('CE_TABLE_DOCUMENT_NAME'),\n      accessor: function accessor(row) {\n        return getDocumentDetails(row === null || row === void 0 ? void 0 : row.name, getDocumentDetailsPath(row), t);\n      }\n    }, {\n      Header: t('DOCUMENTS_CATEGORY_CARD_LABEL'),\n      accessor: function accessor(row) {\n        return GetCell$2(row !== null && row !== void 0 && row.category ? t(\"\" + (row === null || row === void 0 ? void 0 : row.category)) : \"\");\n      }\n    }, {\n      Header: t('CE_TABLE_DOCUMENT_LINK'),\n      accessor: function accessor(row) {\n        return getDocumentCell(row === null || row === void 0 ? void 0 : row.name, row.filestoreId, row.documentLink || \"\", t);\n      }\n    }, {\n      Header: t('CE_TABLE_DOCUMENT_POSTED_BY'),\n      accessor: function accessor(row) {\n        return GetCell$2(row.postedBy);\n      }\n    }];\n  }, []);\n  var result;\n  if (isLoading) {\n    result = /*#__PURE__*/React.createElement(Loader, null);\n  } else if (!data || (data === null || data === void 0 ? void 0 : data.length) === 0) {\n    result = /*#__PURE__*/React.createElement(Card, {\n      style: {\n        marginTop: 20,\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center'\n      }\n    }, t(\"CE_DOCUMENTS_NOT_FOUND\"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(Link, {\n      className: \"link\",\n      to: \"/digit-ui/employee/engagement/documents/inbox/new-doc\"\n    }, t('NEW_DOCUMENT_TEXT')));\n  } else if ((data === null || data === void 0 ? void 0 : data.length) > 0) {\n    result = /*#__PURE__*/React.createElement(DocumentNotificationTable, {\n      t: t,\n      data: data,\n      columns: columns,\n      onSort: onSort,\n      sortParams: sortParams,\n      globalSearch: globalSearch,\n      onSearch: searchParams,\n      pageSizeLimit: pageSizeLimit,\n      totalRecords: totalRecords,\n      currentPage: currentPage,\n      onNextPage: onNextPage,\n      onPrevPage: onPrevPage,\n      onPageSizeChange: onPageSizeChange,\n      getCellProps: function getCellProps(cellInfo) {\n        return {\n          style: {\n            minWidth: cellInfo.column.Header === t(\"CE_TABLE_DOCUMENT_NAME\") ? \"240px\" : \"\",\n            padding: \"20px 18px\",\n            fontSize: \"16px\"\n          }\n        };\n      }\n    });\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"inbox-container\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filters-container\"\n  }, /*#__PURE__*/React.createElement(EventLink, {\n    title: title,\n    icon: iconName,\n    links: links\n  }), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Filter$2, {\n    onFilterChange: onFilterChange,\n    searchParams: searchParams\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      flex: 1\n    }\n  }, /*#__PURE__*/React.createElement(Search$2, {\n    t: t,\n    onSearch: onSearch,\n    type: \"desktop\",\n    searchFields: searchFields,\n    isInboxPage: true,\n    searchParams: searchParams\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"result\",\n    style: {\n      marginLeft: \"24px\",\n      flex: 1\n    }\n  }, result)));\n};\nvar ApplicationCard$2 = function ApplicationCard(_ref) {\n  var searchFields = _ref.searchFields,\n    searchParams = _ref.searchParams,\n    onFilterChange = _ref.onFilterChange,\n    onSearch = _ref.onSearch,\n    t = _ref.t,\n    data = _ref.data,\n    responseData = _ref.responseData;\n  var _useState = useState(\"\"),\n    type = _useState[0],\n    setType = _useState[1];\n  var _useState2 = useState(false),\n    popup = _useState2[0],\n    setPopup = _useState2[1];\n  var _useState3 = useState(searchParams),\n    params = _useState3[0],\n    setParams = _useState3[1];\n  var tenantId = Digit.ULBService.getCurrentTenantId();\n  var history = useHistory();\n  useEffect(function () {\n    if (type) setPopup(true);\n  }, [type]);\n  var handlePopupClose = function handlePopupClose() {\n    setPopup(false);\n    setParams(searchParams);\n  };\n  var redirectToDetailsPage = function redirectToDetailsPage(data) {\n    var details = responseData === null || responseData === void 0 ? void 0 : responseData.find(function (item) {\n      return areEqual(item.postedBy, data[\"Posted By\"]) && areEqual(item.name, data[\"Document Name\"]);\n    });\n    if (details) {\n      history.push(\"/digit-ui/employee/engagement/documents/inbox/details/\" + (details === null || details === void 0 ? void 0 : details.name), {\n        details: details\n      });\n    }\n  };\n  var result;\n  if ((data === null || data === void 0 ? void 0 : data.length) === 0) {\n    result = /*#__PURE__*/React.createElement(Card, {\n      style: {\n        marginTop: 20,\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center'\n      }\n    }, t(\"CE_DOCUMENTS_NOT_FOUND\"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(Link, {\n      className: \"link\",\n      to: \"/digit-ui/employee/engagement/documents/inbox/new-doc\"\n    }, t('NEW_DOCUMENT_TEXT')));\n  } else if (data && (data === null || data === void 0 ? void 0 : data.length) > 0) {\n    result = /*#__PURE__*/React.createElement(DetailsCard, {\n      data: data,\n      handleSelect: function handleSelect() {},\n      handleDetailCardClick: redirectToDetailsPage\n    });\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"searchBox\"\n  }, onSearch && /*#__PURE__*/React.createElement(SearchAction, {\n    text: \"SEARCH\",\n    handleActionClick: function handleActionClick() {\n      setType(\"SEARCH\");\n      setPopup(true);\n    }\n  }), /*#__PURE__*/React.createElement(FilterAction, {\n    text: \"FILTER\",\n    handleActionClick: function handleActionClick() {\n      setType(\"FILTER\");\n      setPopup(true);\n    }\n  })), result, popup && /*#__PURE__*/React.createElement(PopUp, null, type === \"FILTER\" && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"popup-module\"\n  }, /*#__PURE__*/React.createElement(Filter$2, {\n    onFilterChange: onFilterChange,\n    onClose: handlePopupClose,\n    onSearch: onSearch,\n    type: \"mobile\",\n    searchParams: params\n  })), type === \"SEARCH\" && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"popup-module\"\n  }, /*#__PURE__*/React.createElement(Search$2, {\n    t: t,\n    type: \"mobile\",\n    onClose: handlePopupClose,\n    onSearch: onSearch,\n    searchParams: searchParams,\n    searchFields: searchFields\n  }))));\n};\nvar MobileInbox$2 = function MobileInbox(_ref) {\n  var data = _ref.data,\n    t = _ref.t,\n    title = _ref.title,\n    iconName = _ref.iconName,\n    links = _ref.links,\n    searchFields = _ref.searchFields,\n    searchParams = _ref.searchParams,\n    onFilterChange = _ref.onFilterChange,\n    onSearch = _ref.onSearch,\n    isLoading = _ref.isLoading;\n  var getData = function getData() {\n    return data === null || data === void 0 ? void 0 : data.filter(function (document) {\n      var _searchParams$tenantI, _searchParams$tenantI2, _document$name, _searchParams$name, _document$postedBy, _document$postedBy$tr, _searchParams$postedB, _searchParams$postedB2;\n      return ((searchParams === null || searchParams === void 0 ? void 0 : (_searchParams$tenantI = searchParams.tenantIds) === null || _searchParams$tenantI === void 0 ? void 0 : _searchParams$tenantI.length) > 0 ? searchParams === null || searchParams === void 0 ? void 0 : (_searchParams$tenantI2 = searchParams.tenantIds) === null || _searchParams$tenantI2 === void 0 ? void 0 : _searchParams$tenantI2.includes(document.tenantId) : true) && (searchParams !== null && searchParams !== void 0 && searchParams.name ? (_document$name = document.name) === null || _document$name === void 0 ? void 0 : _document$name.toUpperCase().startsWith(searchParams === null || searchParams === void 0 ? void 0 : (_searchParams$name = searchParams.name) === null || _searchParams$name === void 0 ? void 0 : _searchParams$name.toUpperCase()) : true) && (searchParams !== null && searchParams !== void 0 && searchParams.postedBy ? ((_document$postedBy = document.postedBy) === null || _document$postedBy === void 0 ? void 0 : (_document$postedBy$tr = _document$postedBy.trim()) === null || _document$postedBy$tr === void 0 ? void 0 : _document$postedBy$tr.toLowerCase()) === (searchParams === null || searchParams === void 0 ? void 0 : (_searchParams$postedB = searchParams.postedBy) === null || _searchParams$postedB === void 0 ? void 0 : (_searchParams$postedB2 = _searchParams$postedB.trim()) === null || _searchParams$postedB2 === void 0 ? void 0 : _searchParams$postedB2.toLowerCase()) : true) && (searchParams !== null && searchParams !== void 0 && searchParams.category ? document.category === (searchParams === null || searchParams === void 0 ? void 0 : searchParams.category) : true);\n    }).map(function (document) {\n      var _ref2;\n      return _ref2 = {}, _ref2[t(\"CE_TABLE_DOCUMENT_NAME\")] = document === null || document === void 0 ? void 0 : document.name, _ref2[t(\"DOCUMENTS_CATEGORY_CARD_LABEL\")] = t(\"\" + (document === null || document === void 0 ? void 0 : document.category)), _ref2[t(\"CE_TABLE_DOCUMENT_LINK\")] = /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mobileInbox_attachments\"\n      }, document !== null && document !== void 0 && document.filestoreId ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"link\",\n        onClick: function onClick(ev) {\n          openUploadedDocument(document.filestoreId, document.name);\n        }\n      }, t('CE_DOCUMENT_VIEW_LINK')) : null, document !== null && document !== void 0 && document.documentLink ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"link\",\n        onClick: function onClick(ev) {\n          openDocumentLink(document.documentLink, document.name);\n        }\n      }, t('CE_DOCUMENT_OPEN_LINK')) : null), _ref2[t(\"CE_TABLE_DOCUMENT_POSTED_BY\")] = document === null || document === void 0 ? void 0 : document.postedBy, _ref2;\n    });\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: 0\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"inbox-container\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filters-container\"\n  }, /*#__PURE__*/React.createElement(EventLink, {\n    title: title,\n    icon: iconName,\n    links: links\n  }), /*#__PURE__*/React.createElement(ApplicationCard$2, {\n    t: t,\n    data: getData(),\n    onFilterChange: onFilterChange,\n    isLoading: isLoading,\n    onSearch: onSearch,\n    searchParams: searchParams,\n    searchFields: searchFields,\n    responseData: data\n  }))));\n};\nvar Inbox$2 = function Inbox(_ref) {\n  var _React$createElement;\n  var tenants = _ref.tenants;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  Digit.SessionStorage.set(\"ENGAGEMENT_TENANTS\", tenants);\n  var tenantId = Digit.ULBService.getCurrentTenantId();\n  var _useState = useState({\n      tenantIds: tenantId,\n      offset: 0,\n      limit: 10\n    }),\n    searchParams = _useState[0],\n    setSearchParams = _useState[1];\n  var isMobile = window.Digit.Utils.browser.isMobile();\n  var _Digit$Hooks$engageme = Digit.Hooks.engagement.useDocSearch(searchParams, {\n      select: function select(_ref2) {\n        var Documents = _ref2.Documents,\n          totalCount = _ref2.totalCount;\n        return {\n          documentsList: Documents,\n          totalCount: totalCount\n        };\n      }\n    }),\n    response = _Digit$Hooks$engageme.data,\n    isLoading = _Digit$Hooks$engageme.isLoading;\n  var onSearch = function onSearch(params) {\n    var _params$ulbs, _params$ulbs$code, _params$ulbs2;\n    var tenantIds = params !== null && params !== void 0 && (_params$ulbs = params.ulbs) !== null && _params$ulbs !== void 0 && (_params$ulbs$code = _params$ulbs.code) !== null && _params$ulbs$code !== void 0 && _params$ulbs$code.length ? params === null || params === void 0 ? void 0 : (_params$ulbs2 = params.ulbs) === null || _params$ulbs2 === void 0 ? void 0 : _params$ulbs2.code : tenantId;\n    var name = params.name,\n      postedBy = params.postedBy;\n    setSearchParams(function (prevSearchParams) {\n      return _extends({}, prevSearchParams, {\n        name: name,\n        postedBy: postedBy,\n        tenantIds: tenantIds\n      });\n    });\n  };\n  var handleFilterChange = function handleFilterChange(data) {\n    setSearchParams(function (prevSearchParams) {\n      return _extends({}, prevSearchParams, data);\n    });\n  };\n  var fetchNextPage = useCallback(function () {\n    setSearchParams(function (prevSearchParams) {\n      return _extends({}, prevSearchParams, {\n        offset: parseInt(prevSearchParams === null || prevSearchParams === void 0 ? void 0 : prevSearchParams.offset) + parseInt(prevSearchParams === null || prevSearchParams === void 0 ? void 0 : prevSearchParams.limit)\n      });\n    });\n  }, []);\n  var fetchPrevPage = function fetchPrevPage() {\n    setSearchParams(function (prevSearchParams) {\n      return _extends({}, prevSearchParams, {\n        offset: parseInt(prevSearchParams === null || prevSearchParams === void 0 ? void 0 : prevSearchParams.offset) - parseInt(prevSearchParams === null || prevSearchParams === void 0 ? void 0 : prevSearchParams.limit)\n      });\n    });\n  };\n  var handlePageSizeChange = function handlePageSizeChange(e) {\n    setSearchParams(function (prevSearchParams) {\n      return _extends({}, prevSearchParams, {\n        limit: e.target.value\n      });\n    });\n  };\n  useEffect(function () {\n    setSearchParams(function (prevSearchParams) {\n      return _extends({}, prevSearchParams, {\n        tenantIds: tenantId\n      });\n    });\n  }, [tenantId]);\n  var getSearchFields = function getSearchFields() {\n    return [{\n      label: t('LABEL_FOR_ULB'),\n      name: \"ulbs\",\n      type: \"ulb\"\n    }, {\n      label: t('DOCUMENTS_DOCUMENT_HEADER'),\n      name: \"name\"\n    }, {\n      label: t('CE_TABLE_DOCUMENT_POSTED_BY'),\n      name: \"postedBy\"\n    }];\n  };\n  var links = [{\n    text: t('NEW_DOCUMENT_TEXT'),\n    link: \"/digit-ui/employee/engagement/documents/inbox/new-doc\"\n  }];\n  if (isMobile) {\n    return /*#__PURE__*/React.createElement(MobileInbox$2, {\n      data: response === null || response === void 0 ? void 0 : response.documentsList,\n      searchParams: searchParams,\n      searchFields: getSearchFields(),\n      t: t,\n      onFilterChange: handleFilterChange,\n      onSearch: onSearch,\n      isLoading: isLoading,\n      title: \"DOCUMENTS_DOCUMENT_HEADER\",\n      iconName: \"document\",\n      links: links\n    });\n  }\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Header, null, t(\"DOCUMENTS_DOCUMENT_HEADER\"), Number(response === null || response === void 0 ? void 0 : response.totalCount) ? /*#__PURE__*/React.createElement(\"p\", {\n    className: \"inbox-count\"\n  }, Number(response === null || response === void 0 ? void 0 : response.totalCount)) : null), /*#__PURE__*/React.createElement(DocumentDesktopInbox, (_React$createElement = {\n    t: t,\n    isLoading: isLoading,\n    data: response === null || response === void 0 ? void 0 : response.documentsList,\n    links: links,\n    searchParams: searchParams,\n    onSearch: onSearch,\n    searchFields: getSearchFields(),\n    onFilterChange: handleFilterChange,\n    pageSizeLimit: searchParams === null || searchParams === void 0 ? void 0 : searchParams.limit,\n    totalRecords: response === null || response === void 0 ? void 0 : response.totalCount,\n    title: \"DOCUMENTS_DOCUMENT_HEADER\",\n    iconName: \"document\"\n  }, _React$createElement[\"links\"] = links, _React$createElement.currentPage = parseInt(searchParams.offset / searchParams.limit), _React$createElement.onNextPage = fetchNextPage, _React$createElement.onPrevPage = fetchPrevPage, _React$createElement.onPageSizeChange = handlePageSizeChange, _React$createElement)));\n};\nvar SurveyListCard = function SurveyListCard(_ref) {\n  var header = _ref.header,\n    about = _ref.about,\n    activeTime = _ref.activeTime,\n    postedAt = _ref.postedAt,\n    responseStatus = _ref.responseStatus,\n    hasResponded = _ref.hasResponded,\n    onCardClick = _ref.onCardClick;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"WhatsNewCard\",\n    onClick: onCardClick\n  }, /*#__PURE__*/React.createElement(\"h2\", null, header), /*#__PURE__*/React.createElement(\"p\", null, about), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"surveyListclockDiv\"\n  }, /*#__PURE__*/React.createElement(Clock, null), \" \", /*#__PURE__*/React.createElement(\"span\", null, \"Active till \" + format(new Date(activeTime), \"do MMM HH:mm\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"surveyListstatus\"\n  }, /*#__PURE__*/React.createElement(\"p\", null, formatDistanceToNow(new Date(postedAt), {\n    addSuffix: true\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    className: hasResponded ? 'surveyLisResponded' : 'surveyLisNotResponded'\n  }, t(responseStatus))));\n};\nvar isActive = function isActive(startDate, endDate) {\n  var currentDate = new Date().getTime();\n  if (startDate < currentDate && currentDate <= endDate) {\n    return true;\n  }\n  return false;\n};\nvar SurveyList = function SurveyList() {\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var history = useHistory();\n  var tenantIds = Digit.ULBService.getCitizenCurrentTenant();\n  var _Digit$Hooks$survey$u = Digit.Hooks.survey.useSearch({\n      tenantIds: tenantIds\n    }, {\n      select: function select(_ref) {\n        var Surveys = _ref.Surveys;\n        var allSurveys = Surveys.map(function (survey) {\n          var isSurveyActive = isActive(survey.startDate, survey.endDate);\n          var resStatus = \"\";\n          if (isSurveyActive && survey.hasResponded) resStatus = \"CS_SURVEY_RESPONDED\";else if (isSurveyActive) resStatus = \"CS_SURVEY_YT_TO_RESPOND\";else resStatus = \"CANNOT_RESPOND_MSG\";\n          return _extends({\n            hasResponded: false,\n            responseStatus: resStatus\n          }, survey);\n        });\n        var activeSurveysList = [];\n        var inactiveSurveysList = [];\n        for (var _iterator = _createForOfIteratorHelperLoose(allSurveys), _step; !(_step = _iterator()).done;) {\n          var survey = _step.value;\n          if (survey.status === \"ACTIVE\" && isActive(survey.startDate, survey.endDate)) {\n            activeSurveysList.push(survey);\n          } else {\n            inactiveSurveysList.push(survey);\n          }\n        }\n        return {\n          activeSurveysList: activeSurveysList,\n          inactiveSurveysList: inactiveSurveysList\n        };\n      }\n    }),\n    data = _Digit$Hooks$survey$u.data,\n    isLoadingSurveys = _Digit$Hooks$survey$u.isLoading;\n  var handleCardClick = function handleCardClick(details) {\n    if (!details.hasResponded) {\n      history.push(\"/digit-ui/citizen/engagement/surveys/fill-survey\", details);\n    } else {\n      history.push(\"/digit-ui/citizen/engagement/surveys/show-survey\", details);\n    }\n  };\n  if (isLoadingSurveys) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Header, null, t(\"CS_COMMON_SURVEYS\") + \" (\" + (data === null || data === void 0 ? void 0 : data.activeSurveysList.length) + \")\"), data !== null && data !== void 0 && data.activeSurveysList && data.activeSurveysList.length ? data.activeSurveysList.map(function (data, index) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"surveyListCardMargin\"\n    }, /*#__PURE__*/React.createElement(SurveyListCard, {\n      header: data.title,\n      about: data.description,\n      activeTime: data.endDate,\n      postedAt: data.auditDetails.createdTime,\n      responseStatus: data.responseStatus,\n      hasResponsed: data.status,\n      key: index,\n      onCardClick: function onCardClick() {\n        return handleCardClick(data);\n      }\n    }));\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"centered-message\"\n  }, /*#__PURE__*/React.createElement(\"p\", null, t(\"CS_NO_ACTIVE_SURVEYS\"))), /*#__PURE__*/React.createElement(Header, null, t(\"CS_COMMON_INACTIVE_SURVEYS\") + \" (\" + data.inactiveSurveysList.length + \")\"), data !== null && data !== void 0 && data.inactiveSurveysList && data.inactiveSurveysList.length ? data.inactiveSurveysList.map(function (data, index) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"surveyListCardMargin\"\n    }, /*#__PURE__*/React.createElement(SurveyListCard, {\n      header: data.title,\n      about: data.description,\n      activeTime: data.endDate,\n      postedAt: data.auditDetails.createdTime,\n      responseStatus: data.responseStatus,\n      hasResponsed: data.status,\n      key: index\n    }));\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"centered-message\"\n  }, /*#__PURE__*/React.createElement(\"p\", null, t(\"CS_NO_INACTIVE_SURVEYS\"))));\n};\nvar Actions$1 = ['EDIT_DOCUMENT', 'DELETE'];\nvar getUlbName$1 = function getUlbName(tenantId) {\n  var _ulbName$, _ulbName;\n  var ulbName = tenantId === null || tenantId === void 0 ? void 0 : tenantId.split('.')[1];\n  ulbName = \"\" + ((_ulbName$ = ulbName[0]) === null || _ulbName$ === void 0 ? void 0 : _ulbName$.toUpperCase()) + ((_ulbName = ulbName) === null || _ulbName === void 0 ? void 0 : _ulbName.slice(1)) + \" \";\n  return ulbName;\n};\nvar DocumentDetails$1 = function DocumentDetails(_ref) {\n  var _details$description;\n  var location = _ref.location,\n    history = _ref.history;\n  var isMobile = window.Digit.Utils.browser.isMobile();\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var _location$state = location === null || location === void 0 ? void 0 : location.state,\n    details = _location$state.details;\n  var _React$useState = React.useState(false),\n    displayMenu = _React$useState[0],\n    setDisplayMenu = _React$useState[1];\n  var _useState = useState(false),\n    showModal = _useState[0],\n    setShowModal = _useState[1];\n  var _Digit$Hooks$useTenan = Digit.Hooks.useTenants();\n  var currrentUlb = Digit.ULBService.getCurrentUlb();\n  var stateId = Digit.ULBService.getStateId();\n  var _Digit$Hooks$engageme = Digit.Hooks.engagement.useMDMS(stateId, \"DocumentUploader\", [\"UlbLevelCategories\"], {\n      select: function select(d) {\n        var _d$DocumentUploader, _d$DocumentUploader$U, _d$DocumentUploader$U2;\n        var data = d === null || d === void 0 ? void 0 : (_d$DocumentUploader = d.DocumentUploader) === null || _d$DocumentUploader === void 0 ? void 0 : (_d$DocumentUploader$U = _d$DocumentUploader.UlbLevelCategories) === null || _d$DocumentUploader$U === void 0 ? void 0 : (_d$DocumentUploader$U2 = _d$DocumentUploader$U.filter) === null || _d$DocumentUploader$U2 === void 0 ? void 0 : _d$DocumentUploader$U2.call(_d$DocumentUploader$U, function (e) {\n          return e.ulb === currrentUlb.code;\n        });\n        return data[0].categoryList.map(function (name) {\n          return {\n            name: name\n          };\n        });\n      }\n    }),\n    categoryOptions = _Digit$Hooks$engageme.data;\n  function onActionSelect(action) {\n    setDisplayMenu(false);\n    if (action !== null && action !== void 0 && action.includes('EDIT')) {\n      var _categoryOptions$filt;\n      var DocumentEntity = _extends({\n        tenantIds: details === null || details === void 0 ? void 0 : details.tenantId,\n        documentName: details === null || details === void 0 ? void 0 : details.name,\n        docCategory: categoryOptions === null || categoryOptions === void 0 ? void 0 : (_categoryOptions$filt = categoryOptions.filter(function (item) {\n          return item.name === (details === null || details === void 0 ? void 0 : details.category);\n        })) === null || _categoryOptions$filt === void 0 ? void 0 : _categoryOptions$filt[0],\n        document: {\n          filestoreId: {\n            fileStoreId: details === null || details === void 0 ? void 0 : details.filestoreId\n          },\n          documentLink: details === null || details === void 0 ? void 0 : details.documentLink\n        },\n        ULB: {\n          code: details === null || details === void 0 ? void 0 : details.tenantId\n        }\n      }, details);\n      history.push({\n        pathname: \"/digit-ui/employee/engagement/documents/inbox/update\",\n        state: {\n          DocumentEntity: DocumentEntity\n        }\n      });\n    }\n    if (action !== null && action !== void 0 && action.includes('DELETE')) {\n      setShowModal(true);\n    }\n  }\n  function onModalSubmit() {\n    setShowModal(false);\n    var DocumentEntity = _extends({}, details);\n    history.push({\n      pathname: \"/digit-ui/employee/engagement/documents/delete-response\",\n      state: {\n        DocumentEntity: DocumentEntity\n      }\n    });\n  }\n  function onModalCancel() {\n    setShowModal(false);\n  }\n  return /*#__PURE__*/React.createElement(\"div\", null, showModal ? /*#__PURE__*/React.createElement(Confirmation, {\n    t: t,\n    heading: 'CONFIRM_DELETE_DOC',\n    docName: details === null || details === void 0 ? void 0 : details.name,\n    closeModal: function closeModal() {\n      return setShowModal(!showModal);\n    },\n    actionCancelLabel: 'CS_COMMON_CANCEL',\n    actionCancelOnSubmit: onModalCancel,\n    actionSaveLabel: 'ES_COMMON_Y_DEL',\n    actionSaveOnSubmit: onModalSubmit\n  }) : null, /*#__PURE__*/React.createElement(Header, null, t(\"CE_DOCUMENT_DETAILS\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"notice_and_circular_main gap-ten\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"documentDetails_wrapper\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"documentDetails_row_items\"\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"documentDetails_title\"\n  }, t('ULB') + \":\"), \" \", /*#__PURE__*/React.createElement(\"p\", null, getUlbName$1(details === null || details === void 0 ? void 0 : details.tenantId)), \" \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"documentDetails_row_items\"\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"documentDetails_title\"\n  }, t('DOCUMENT_NAME') + \":\"), \" \", /*#__PURE__*/React.createElement(\"p\", null, details === null || details === void 0 ? void 0 : details.name), \" \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"documentDetails_row_items\"\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"documentDetails_title\"\n  }, t('DOCUMENT_CATEGORY') + \":\"), \" \", /*#__PURE__*/React.createElement(\"p\", null, t(details === null || details === void 0 ? void 0 : details.category)), \" \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"documentDetails_row_items\"\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"documentDetails_title\"\n  }, t('DCOUMENT_DESCRIPTION') + \":\"), \" \", /*#__PURE__*/React.createElement(\"p\", {\n    className: \"documentDetails__description\"\n  }, details !== null && details !== void 0 && (_details$description = details.description) !== null && _details$description !== void 0 && _details$description.length ? details === null || details === void 0 ? void 0 : details.description : 'NA'), \" \"), details !== null && details !== void 0 && details.filestoreId ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"documentDetails_pdf\"\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"documentDetails_subheader\"\n  }, \"\" + t('Document')), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '100px'\n    },\n    onClick: function onClick() {\n      return openUploadedDocument(details === null || details === void 0 ? void 0 : details.filestoreId, details === null || details === void 0 ? void 0 : details.name);\n    }\n  }, /*#__PURE__*/React.createElement(GenericFileIcon, null))) : null)), /*#__PURE__*/React.createElement(ActionBar, null, displayMenu ? /*#__PURE__*/React.createElement(Menu, {\n    style: {\n      width: isMobile ? 'full' : '240px'\n    },\n    localeKeyPrefix: \"ES_CE\",\n    options: Actions$1,\n    t: t,\n    onSelect: onActionSelect\n  }) : null, /*#__PURE__*/React.createElement(SubmitBar, {\n    label: t(\"ES_COMMON_TAKE_ACTION\"),\n    onSubmit: function onSubmit() {\n      return setDisplayMenu(!displayMenu);\n    }\n  })));\n};\nvar FilterFormFieldsComponent = function FilterFormFieldsComponent(_ref) {\n  var statuses = _ref.statuses,\n    controlFilterForm = _ref.controlFilterForm;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  return /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(FilterFormField, null, /*#__PURE__*/React.createElement(Controller, {\n    name: \"status\",\n    control: controlFilterForm,\n    render: function render(_ref2) {\n      var ref = _ref2.ref,\n        onChange = _ref2.onChange,\n        value = _ref2.value;\n      return /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"filter-label\"\n      }, t(\"CS_SURVEY_STATUS\")), /*#__PURE__*/React.createElement(Dropdown, {\n        inputRef: ref,\n        option: statuses,\n        optionKey: \"code\",\n        t: t,\n        select: onChange,\n        selected: value\n      }));\n    }\n  })));\n};\nvar SearchFormFieldsComponents = function SearchFormFieldsComponents(_ref) {\n  var _searchFormState$erro, _searchFormState$erro2, _searchFormState$erro3, _searchFormState$erro4;\n  var registerRef = _ref.registerRef,\n    controlSearchForm = _ref.controlSearchForm,\n    searchFormState = _ref.searchFormState;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var ulbs = Digit.SessionStorage.get(\"ENGAGEMENT_TENANTS\");\n  var tenantId = Digit.ULBService.getCurrentTenantId();\n  var userInfo = Digit.SessionStorage.get(\"citizen.userRequestObject\");\n  var userUlbs = ulbs.filter(function (ulb) {\n    var _userInfo$info, _userInfo$info$roles;\n    return userInfo === null || userInfo === void 0 ? void 0 : (_userInfo$info = userInfo.info) === null || _userInfo$info === void 0 ? void 0 : (_userInfo$info$roles = _userInfo$info.roles) === null || _userInfo$info$roles === void 0 ? void 0 : _userInfo$info$roles.some(function (role) {\n      return (role === null || role === void 0 ? void 0 : role.tenantId) === (ulb === null || ulb === void 0 ? void 0 : ulb.code);\n    });\n  }).sort(alphabeticalSortFunctionForTenantsBasedOnName);\n  var selectedTenat = useMemo(function () {\n    var filtered = ulbs.filter(function (item) {\n      return item.code === tenantId;\n    });\n    return filtered;\n  }, [ulbs]);\n  return /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(SearchField, null, /*#__PURE__*/React.createElement(\"label\", null, t(\"LABEL_FOR_ULB\")), /*#__PURE__*/React.createElement(Controller, {\n    rules: {\n      required: true\n    },\n    defaultValue: selectedTenat === null || selectedTenat === void 0 ? void 0 : selectedTenat[0],\n    render: function render(props) {\n      return /*#__PURE__*/React.createElement(Dropdown, {\n        option: userUlbs,\n        optionKey: \"i18nKey\",\n        selected: props.value,\n        select: function select(e) {\n          return props.onChange(e);\n        },\n        t: t\n      });\n    },\n    name: \"tenantIds\",\n    control: controlSearchForm\n  })), /*#__PURE__*/React.createElement(SearchField, null, /*#__PURE__*/React.createElement(\"label\", null, t(\"CS_SURVEY_NAME\")), /*#__PURE__*/React.createElement(TextInput, {\n    name: \"title\",\n    type: \"text\",\n    inputRef: registerRef({\n      maxLength: {\n        value: 60,\n        message: t(\"EXCEEDS_60_CHAR_LIMIT\")\n      }\n    })\n  }), /*#__PURE__*/React.createElement(CardLabelError$1, null, searchFormState === null || searchFormState === void 0 ? void 0 : (_searchFormState$erro = searchFormState.errors) === null || _searchFormState$erro === void 0 ? void 0 : (_searchFormState$erro2 = _searchFormState$erro[\"title\"]) === null || _searchFormState$erro2 === void 0 ? void 0 : _searchFormState$erro2.message)), /*#__PURE__*/React.createElement(SearchField, null, /*#__PURE__*/React.createElement(\"label\", null, t(\"EVENTS_POSTEDBY_LABEL\")), /*#__PURE__*/React.createElement(TextInput, {\n    name: \"postedBy\",\n    type: \"text\",\n    inputRef: registerRef({\n      maxLength: {\n        value: 30,\n        message: t(\"EXCEEDS_30_CHAR_LIMIT\")\n      }\n    })\n  }), /*#__PURE__*/React.createElement(CardLabelError$1, null, searchFormState === null || searchFormState === void 0 ? void 0 : (_searchFormState$erro3 = searchFormState.errors) === null || _searchFormState$erro3 === void 0 ? void 0 : (_searchFormState$erro4 = _searchFormState$erro3[\"postedBy\"]) === null || _searchFormState$erro4 === void 0 ? void 0 : _searchFormState$erro4.message)));\n};\nvar useInboxTableConfig = function useInboxTableConfig(_ref) {\n  var _formState$tableForm, _formState$tableForm2, _formState$tableForm7, _formState$searchForm;\n  var parentRoute = _ref.parentRoute,\n    onPageSizeChange = _ref.onPageSizeChange,\n    formState = _ref.formState,\n    totalCount = _ref.totalCount,\n    table = _ref.table,\n    dispatch = _ref.dispatch;\n  var GetCell = function GetCell(value) {\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: \"cell-text styled-cell\"\n    }, value);\n  };\n  var GetStatusCell = function GetStatusCell(value) {\n    return (value === null || value === void 0 ? void 0 : value.toLowerCase()) === \"active\" ? /*#__PURE__*/React.createElement(\"span\", {\n      className: \"sla-cell-success\"\n    }, value) : /*#__PURE__*/React.createElement(\"span\", {\n      className: \"sla-cell-error\"\n    }, value);\n  };\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var tableColumnConfig = useMemo(function () {\n    return [{\n      Header: t(\"CS_SURVEY_TITLE\"),\n      accessor: \"uuid\",\n      Cell: function Cell(_ref2) {\n        var row = _ref2.row;\n        return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Link, {\n          to: parentRoute + \"/surveys/inbox/details/\" + row.original[\"uuid\"]\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          className: \"link\"\n        }, row.original[\"title\"])));\n      }\n    }, {\n      Header: t(\"EVENTS_START_DATE_LABEL\"),\n      accessor: \"startDate\",\n      Cell: function Cell(_ref3) {\n        var _row$original, _row$original2;\n        var row = _ref3.row;\n        return (_row$original = row.original) !== null && _row$original !== void 0 && _row$original.startDate ? GetCell(format(new Date((_row$original2 = row.original) === null || _row$original2 === void 0 ? void 0 : _row$original2.startDate), 'dd/MM/yyyy')) : \"\";\n      }\n    }, {\n      Header: t(\"EVENTS_END_DATE_LABEL\"),\n      accessor: \"endDate\",\n      Cell: function Cell(_ref4) {\n        var _row$original3, _row$original4;\n        var row = _ref4.row;\n        return (_row$original3 = row.original) !== null && _row$original3 !== void 0 && _row$original3.endDate ? GetCell(format(new Date((_row$original4 = row.original) === null || _row$original4 === void 0 ? void 0 : _row$original4.endDate), 'dd/MM/yyyy')) : \"\";\n      }\n    }, {\n      Header: t(\"CS_RESPONSE_COUNT\"),\n      accessor: \"answersCount\",\n      Cell: function Cell(_ref5) {\n        var _row$original5, _row$original6;\n        var row = _ref5.row;\n        return (_row$original5 = row.original) !== null && _row$original5 !== void 0 && _row$original5.answersCount ? GetCell(Number((_row$original6 = row.original) === null || _row$original6 === void 0 ? void 0 : _row$original6.answersCount)) : \"-\";\n      }\n    }, {\n      Header: t(\"EVENTS_STATUS_LABEL\"),\n      accessor: \"status\",\n      Cell: function Cell(_ref6) {\n        var _row$original7;\n        var row = _ref6.row;\n        return GetStatusCell((_row$original7 = row.original) === null || _row$original7 === void 0 ? void 0 : _row$original7.status);\n      }\n    }, {\n      Header: t(\"EVENTS_POSTEDBY_LABEL\"),\n      accessor: function accessor(row) {\n        return row.postedBy;\n      }\n    }, {\n      Header: t(\"CS_SURVEY_RESULTS\"),\n      accessor: \"results\",\n      Cell: function Cell(_ref7) {\n        var row = _ref7.row;\n        return /*#__PURE__*/React.createElement(\"div\", {\n          style: {\n            \"display\": \"flex\",\n            \"justifyContent\": \"center\"\n          }\n        }, /*#__PURE__*/React.createElement(Link, {\n          to: parentRoute + \"/surveys/inbox/results/\" + row.original[\"uuid\"]\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          className: \"link\"\n        }, /*#__PURE__*/React.createElement(\"svg\", {\n          width: \"20\",\n          height: \"18\",\n          viewBox: \"0 0 20 18\",\n          fill: \"none\",\n          xmlns: \"http://www.w3.org/2000/svg\"\n        }, /*#__PURE__*/React.createElement(\"path\", {\n          d: \"M5.5 18H0V6H5.5V18ZM12.75 0H7.25V18H12.75V0ZM20 8H14.5V18H20V8Z\",\n          fill: \"#F47738\"\n        })))));\n      }\n    }];\n  });\n  return {\n    getCellProps: function getCellProps(cellInfo) {\n      return {\n        style: {\n          padding: \"20px 18px\",\n          fontSize: \"16px\"\n        }\n      };\n    },\n    disableSort: false,\n    autoSort: false,\n    manualPagination: true,\n    initSortI: \"endDate\",\n    onPageSizeChange: onPageSizeChange,\n    currentPage: ((_formState$tableForm = formState.tableForm) === null || _formState$tableForm === void 0 ? void 0 : _formState$tableForm.offset) / ((_formState$tableForm2 = formState.tableForm) === null || _formState$tableForm2 === void 0 ? void 0 : _formState$tableForm2.limit),\n    onNextPage: function onNextPage() {\n      var _formState$tableForm3, _formState$tableForm4;\n      return dispatch({\n        action: \"mutateTableForm\",\n        data: _extends({}, formState.tableForm, {\n          offset: parseInt((_formState$tableForm3 = formState.tableForm) === null || _formState$tableForm3 === void 0 ? void 0 : _formState$tableForm3.offset) + parseInt((_formState$tableForm4 = formState.tableForm) === null || _formState$tableForm4 === void 0 ? void 0 : _formState$tableForm4.limit)\n        })\n      });\n    },\n    onPrevPage: function onPrevPage() {\n      var _formState$tableForm5, _formState$tableForm6;\n      return dispatch({\n        action: \"mutateTableForm\",\n        data: _extends({}, formState.tableForm, {\n          offset: parseInt((_formState$tableForm5 = formState.tableForm) === null || _formState$tableForm5 === void 0 ? void 0 : _formState$tableForm5.offset) - parseInt((_formState$tableForm6 = formState.tableForm) === null || _formState$tableForm6 === void 0 ? void 0 : _formState$tableForm6.limit)\n        })\n      });\n    },\n    pageSizeLimit: (_formState$tableForm7 = formState.tableForm) === null || _formState$tableForm7 === void 0 ? void 0 : _formState$tableForm7.limit,\n    totalRecords: totalCount,\n    onSearch: formState === null || formState === void 0 ? void 0 : (_formState$searchForm = formState.searchForm) === null || _formState$searchForm === void 0 ? void 0 : _formState$searchForm.message,\n    data: table,\n    columns: tableColumnConfig,\n    noResultsMessage: \"CS_NO_SURVEYS_FOUND\"\n  };\n};\nvar useInboxMobileCardsData = function useInboxMobileCardsData(_ref) {\n  var parentRoute = _ref.parentRoute,\n    table = _ref.table;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var dataForMobileInboxCards = table === null || table === void 0 ? void 0 : table.map(function (_ref2) {\n    var _ref3;\n    var title = _ref2.title,\n      startDate = _ref2.startDate,\n      endDate = _ref2.endDate,\n      answersCount = _ref2.answersCount,\n      status = _ref2.status,\n      postedBy = _ref2.postedBy;\n    return _ref3 = {}, _ref3[t(\"CS_SURVEY_TITLE\")] = title, _ref3[t(\"EVENTS_START_DATE_LABEL\")] = format(new Date(startDate), 'dd/MM/yyyy'), _ref3[t(\"EVENTS_END_DATE_LABEL\")] = format(new Date(endDate), 'dd/MM/yyyy'), _ref3[t(\"CS_RESPONSE_COUNT\")] = answersCount, _ref3[t(\"EVENTS_STATUS_LABEL\")] = status, _ref3[t(\"EVENTS_POSTEDBY_LABEL\")] = postedBy, _ref3;\n  });\n  return {\n    data: dataForMobileInboxCards,\n    linkPrefix: parentRoute + \"/inbox/\",\n    serviceRequestIdKey: t(\"TL_COMMON_TABLE_COL_APP_NO\")\n  };\n};\nvar Inbox$3 = function Inbox(_ref) {\n  var parentRoute = _ref.parentRoute;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var tenantId = Digit.ULBService.getCurrentTenantId();\n  var ulbs = Digit.SessionStorage.get(\"ENGAGEMENT_TENANTS\");\n  var userInfo = Digit.UserService.getUser().info;\n  var userUlbs = ulbs.filter(function (ulb) {\n    var _userInfo$roles;\n    return userInfo === null || userInfo === void 0 ? void 0 : (_userInfo$roles = userInfo.roles) === null || _userInfo$roles === void 0 ? void 0 : _userInfo$roles.some(function (role) {\n      return (role === null || role === void 0 ? void 0 : role.tenantId) === (ulb === null || ulb === void 0 ? void 0 : ulb.code);\n    });\n  });\n  var statuses = [{\n    code: \"ALL\",\n    name: \"\" + t(\"ES_COMMON_ALL\")\n  }, {\n    code: \"ACTIVE\",\n    name: \"\" + t(\"ES_COMMON_ACTIVE\")\n  }, {\n    code: \"INACTIVE\",\n    name: \"\" + t(\"ES_COMMON_INACTIVE\")\n  }];\n  var searchFormDefaultValues = {\n    tenantIds: userUlbs[0],\n    postedBy: \"\",\n    title: \"\"\n  };\n  var filterFormDefaultValues = {\n    status: statuses[0]\n  };\n  var tableOrderFormDefaultValues = {\n    sortBy: \"\",\n    limit: 10,\n    offset: 0,\n    sortOrder: \"DESC\"\n  };\n  function formReducer(state, payload) {\n    switch (payload.action) {\n      case \"mutateSearchForm\":\n        Digit.SessionStorage.set(\"CITIZENSURVEY.INBOX\", _extends({}, state, {\n          searchForm: payload.data\n        }));\n        return _extends({}, state, {\n          searchForm: payload.data\n        });\n      case \"mutateFilterForm\":\n        Digit.SessionStorage.set(\"CITIZENSURVEY.INBOX\", _extends({}, state, {\n          filterForm: payload.data\n        }));\n        return _extends({}, state, {\n          filterForm: payload.data\n        });\n      case \"mutateTableForm\":\n        Digit.SessionStorage.set(\"CITIZENSURVEY.INBOX\", _extends({}, state, {\n          tableForm: payload.data\n        }));\n        return _extends({}, state, {\n          tableForm: payload.data\n        });\n    }\n  }\n  var InboxObjectInSessionStorage = Digit.SessionStorage.get(\"CITIZENSURVEY.INBOX\");\n  var onSearchFormReset = function onSearchFormReset(setSearchFormValue) {\n    setSearchFormValue(\"postedBy\", \"\");\n    setSearchFormValue(\"title\", \"\");\n    setSearchFormValue(\"tenantIds\", tenantId);\n    dispatch({\n      action: \"mutateSearchForm\",\n      data: searchFormDefaultValues\n    });\n  };\n  var onFilterFormReset = function onFilterFormReset(setFilterFormValue) {\n    setFilterFormValue(\"status\", statuses[0]);\n    dispatch({\n      action: \"mutateFilterForm\",\n      data: filterFormDefaultValues\n    });\n  };\n  var formInitValue = useMemo(function () {\n    return InboxObjectInSessionStorage || {\n      filterForm: filterFormDefaultValues,\n      searchForm: searchFormDefaultValues,\n      tableForm: tableOrderFormDefaultValues\n    };\n  }, [Object.values((InboxObjectInSessionStorage === null || InboxObjectInSessionStorage === void 0 ? void 0 : InboxObjectInSessionStorage.filterForm) || {}), Object.values((InboxObjectInSessionStorage === null || InboxObjectInSessionStorage === void 0 ? void 0 : InboxObjectInSessionStorage.searchForm) || {}), Object.values((InboxObjectInSessionStorage === null || InboxObjectInSessionStorage === void 0 ? void 0 : InboxObjectInSessionStorage.tableForm) || {})]);\n  var _useReducer = useReducer(formReducer, formInitValue),\n    formState = _useReducer[0],\n    dispatch = _useReducer[1];\n  var onPageSizeChange = function onPageSizeChange(e) {\n    dispatch({\n      action: \"mutateTableForm\",\n      data: _extends({}, formState.tableForm, {\n        limit: e.target.value\n      })\n    });\n  };\n  var _Digit$Hooks$survey$u = Digit.Hooks.survey.useSurveyInbox(formState),\n    _Digit$Hooks$survey$u2 = _Digit$Hooks$survey$u.data;\n  _Digit$Hooks$survey$u2 = _Digit$Hooks$survey$u2 === void 0 ? {} : _Digit$Hooks$survey$u2;\n  var Surveys = _Digit$Hooks$survey$u2.Surveys,\n    TotalCount = _Digit$Hooks$survey$u2.TotalCount,\n    isInboxLoading = _Digit$Hooks$survey$u.isLoading;\n  var PropsForInboxLinks = {\n    logoIcon: /*#__PURE__*/React.createElement(DocumentIcon, null),\n    headerText: \"CS_COMMON_SURVEYS\",\n    links: [{\n      text: t(\"CS_COMMON_NEW_SURVEY\"),\n      link: \"/digit-ui/employee/engagement/surveys/inbox/create\"\n    }]\n  };\n  var SearchFormFields = useCallback(function (_ref2) {\n    var registerRef = _ref2.registerRef,\n      searchFormState = _ref2.searchFormState,\n      controlSearchForm = _ref2.controlSearchForm;\n    return /*#__PURE__*/React.createElement(SearchFormFieldsComponents, {\n      registerRef: registerRef,\n      searchFormState: searchFormState,\n      controlSearchForm: controlSearchForm\n    });\n  }, []);\n  var FilterFormFields = useCallback(function (_ref3) {\n    var registerRef = _ref3.registerRef,\n      controlFilterForm = _ref3.controlFilterForm,\n      setFilterFormValue = _ref3.setFilterFormValue,\n      getFilterFormValue = _ref3.getFilterFormValue;\n    return /*#__PURE__*/React.createElement(FilterFormFieldsComponent, {\n      statuses: statuses,\n      registerRef: registerRef,\n      controlFilterForm: controlFilterForm,\n      setFilterFormValue: setFilterFormValue,\n      filterFormState: formState === null || formState === void 0 ? void 0 : formState.filterForm,\n      getFilterFormValue: getFilterFormValue\n    });\n  }, [statuses]);\n  var onSearchFormSubmit = function onSearchFormSubmit(data) {\n    data.hasOwnProperty(\"\") ? data === null || data === void 0 ? true : delete data[\"\"] : null;\n    dispatch({\n      action: \"mutateSearchForm\",\n      data: data\n    });\n  };\n  var onFilterFormSubmit = function onFilterFormSubmit(data) {\n    data.hasOwnProperty(\"\") ? data === null || data === void 0 ? true : delete data[\"\"] : null;\n    dispatch({\n      action: \"mutateFilterForm\",\n      data: data\n    });\n  };\n  var propsForSearchForm = {\n    SearchFormFields: SearchFormFields,\n    onSearchFormSubmit: onSearchFormSubmit,\n    searchFormDefaultValues: formState === null || formState === void 0 ? void 0 : formState.searchForm,\n    resetSearchFormDefaultValues: searchFormDefaultValues,\n    onSearchFormReset: onSearchFormReset\n  };\n  var propsForFilterForm = {\n    FilterFormFields: FilterFormFields,\n    onFilterFormSubmit: onFilterFormSubmit,\n    filterFormDefaultValues: formState === null || formState === void 0 ? void 0 : formState.filterForm,\n    resetFilterFormDefaultValues: filterFormDefaultValues,\n    onFilterFormReset: onFilterFormReset\n  };\n  var propsForInboxTable = useInboxTableConfig(_extends({}, {\n    parentRoute: parentRoute,\n    onPageSizeChange: onPageSizeChange,\n    formState: formState,\n    totalCount: TotalCount,\n    table: Surveys,\n    noResultsMessage: \"CS_SURVEYS_NOT_FOUND\",\n    dispatch: dispatch\n  }));\n  var propsForInboxMobileCards = useInboxMobileCardsData({\n    parentRoute: parentRoute,\n    table: Surveys\n  });\n  return /*#__PURE__*/React.createElement(InboxComposer, _extends({\n    isInboxLoading: isInboxLoading,\n    PropsForInboxLinks: PropsForInboxLinks\n  }, propsForSearchForm, propsForFilterForm, {\n    propsForInboxMobileCards: propsForInboxMobileCards,\n    propsForInboxTable: propsForInboxTable,\n    formState: formState\n  }));\n};\nvar SurveyDetailsForms = function SurveyDetailsForms(_ref) {\n  var _surveyFormState$erro, _surveyFormState$erro2, _surveyFormState$erro3, _surveyFormState$erro4, _surveyFormState$erro5, _surveyFormState$erro6, _surveyFormState$erro7;\n  var t = _ref.t,\n    registerRef = _ref.registerRef,\n    controlSurveyForm = _ref.controlSurveyForm,\n    surveyFormState = _ref.surveyFormState,\n    surveyFormData = _ref.surveyFormData,\n    disableInputs = _ref.disableInputs,\n    enableDescriptionOnly = _ref.enableDescriptionOnly;\n  var ulbs = Digit.SessionStorage.get(\"ENGAGEMENT_TENANTS\");\n  var tenantId = Digit.ULBService.getCurrentTenantId();\n  var userInfo = Digit.UserService.getUser().info;\n  var userUlbs = ulbs.filter(function (ulb) {\n    var _userInfo$roles;\n    return userInfo === null || userInfo === void 0 ? void 0 : (_userInfo$roles = userInfo.roles) === null || _userInfo$roles === void 0 ? void 0 : _userInfo$roles.some(function (role) {\n      return (role === null || role === void 0 ? void 0 : role.tenantId) === (ulb === null || ulb === void 0 ? void 0 : ulb.code);\n    });\n  }).sort(alphabeticalSortFunctionForTenantsBasedOnName);\n  var selectedTenat = useMemo(function () {\n    var filtered = ulbs.filter(function (item) {\n      return item.code === tenantId;\n    });\n    return filtered;\n  }, [ulbs]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"surveydetailsform-wrapper\"\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"surveyformfield\"\n  }, /*#__PURE__*/React.createElement(\"label\", null, t(\"LABEL_FOR_ULB\") + \" * :\"), /*#__PURE__*/React.createElement(Controller, {\n    name: \"tenantIds\",\n    control: controlSurveyForm,\n    defaultValue: selectedTenat,\n    rules: {\n      required: true\n    },\n    render: function render(props) {\n      var renderRemovableTokens = useMemo(function () {\n        var _props$value;\n        return props === null || props === void 0 ? void 0 : (_props$value = props.value) === null || _props$value === void 0 ? void 0 : _props$value.map(function (ulb, index) {\n          return /*#__PURE__*/React.createElement(RemoveableTag, {\n            key: index,\n            text: ulb.name,\n            onClick: function onClick() {\n              var _props$value2;\n              props.onChange(props === null || props === void 0 ? void 0 : (_props$value2 = props.value) === null || _props$value2 === void 0 ? void 0 : _props$value2.filter(function (loc) {\n                return loc.code !== ulb.code;\n              }));\n            }\n          });\n        });\n      }, [props === null || props === void 0 ? void 0 : props.value]);\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          display: \"grid\",\n          gridAutoFlow: \"row\"\n        }\n      }, /*#__PURE__*/React.createElement(Dropdown, {\n        allowMultiselect: true,\n        optionKey: \"i18nKey\",\n        option: userUlbs,\n        select: function select(e) {\n          var _surveyFormData, _surveyFormData$filte;\n          props.onChange([].concat(((_surveyFormData = surveyFormData(\"tenantIds\")) === null || _surveyFormData === void 0 ? void 0 : (_surveyFormData$filte = _surveyFormData.filter) === null || _surveyFormData$filte === void 0 ? void 0 : _surveyFormData$filte.call(_surveyFormData, function (f) {\n            return e.code !== (f === null || f === void 0 ? void 0 : f.code);\n          })) || [], [e]));\n        },\n        selected: props === null || props === void 0 ? void 0 : props.value,\n        keepNull: true,\n        disable: disableInputs,\n        t: t\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tag-container\"\n      }, renderRemovableTokens));\n    }\n  }), (surveyFormState === null || surveyFormState === void 0 ? void 0 : (_surveyFormState$erro = surveyFormState.errors) === null || _surveyFormState$erro === void 0 ? void 0 : _surveyFormState$erro.tenantIds) && /*#__PURE__*/React.createElement(CardLabelError$1, null, t(\"ES_ERROR_REQUIRED\"))), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"surveyformfield\"\n  }, /*#__PURE__*/React.createElement(\"label\", null, t(\"CS_SURVEY_NAME\")), /*#__PURE__*/React.createElement(TextInput, {\n    name: \"title\",\n    type: \"text\",\n    inputRef: registerRef({\n      required: t(\"ES_ERROR_REQUIRED\"),\n      maxLength: {\n        value: 60,\n        message: t(\"EXCEEDS_60_CHAR_LIMIT\")\n      },\n      pattern: {\n        value: /^[A-Za-z_-][A-Za-z0-9_\\ -]*$/,\n        message: t(\"ES_SURVEY_DONT_START_WITH_NUMBER\")\n      }\n    }),\n    disable: disableInputs\n  }), (surveyFormState === null || surveyFormState === void 0 ? void 0 : (_surveyFormState$erro2 = surveyFormState.errors) === null || _surveyFormState$erro2 === void 0 ? void 0 : _surveyFormState$erro2.title) && /*#__PURE__*/React.createElement(CardLabelError$1, null, surveyFormState === null || surveyFormState === void 0 ? void 0 : (_surveyFormState$erro3 = surveyFormState.errors) === null || _surveyFormState$erro3 === void 0 ? void 0 : (_surveyFormState$erro4 = _surveyFormState$erro3[\"title\"]) === null || _surveyFormState$erro4 === void 0 ? void 0 : _surveyFormState$erro4.message)), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"surveyformfield\"\n  }, /*#__PURE__*/React.createElement(\"label\", null, t(\"CS_SURVEY_DESCRIPTION\")), /*#__PURE__*/React.createElement(TextInput, {\n    name: \"description\",\n    type: \"text\",\n    inputRef: registerRef({\n      required: t(\"ES_ERROR_REQUIRED\"),\n      maxLength: {\n        value: 250,\n        message: t(\"EXCEEDS_250_CHAR_LIMIT\")\n      },\n      pattern: {\n        value: /^[A-Za-z_-][A-Za-z0-9_\\ -]*$/,\n        message: t(\"ES_SURVEY_DONT_START_WITH_NUMBER\")\n      }\n    }),\n    disable: enableDescriptionOnly ? !enableDescriptionOnly : disableInputs\n  }), (surveyFormState === null || surveyFormState === void 0 ? void 0 : (_surveyFormState$erro5 = surveyFormState.errors) === null || _surveyFormState$erro5 === void 0 ? void 0 : _surveyFormState$erro5.description) && /*#__PURE__*/React.createElement(CardLabelError$1, null, surveyFormState === null || surveyFormState === void 0 ? void 0 : (_surveyFormState$erro6 = surveyFormState.errors) === null || _surveyFormState$erro6 === void 0 ? void 0 : (_surveyFormState$erro7 = _surveyFormState$erro6[\"description\"]) === null || _surveyFormState$erro7 === void 0 ? void 0 : _surveyFormState$erro7.message)));\n};\nvar Checkboxes = function Checkboxes(_ref) {\n  var t = _ref.t,\n    _ref$options = _ref.options,\n    options = _ref$options === void 0 ? checkboxlist : _ref$options,\n    updateOption = _ref.updateOption,\n    addOption = _ref.addOption,\n    removeOption = _ref.removeOption,\n    createNewSurvey = _ref.createNewSurvey,\n    formDisabled = _ref.formDisabled;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"options_checkboxes\"\n  }, options.map(function (title, index) {\n    return /*#__PURE__*/React.createElement(CheckBoxOption, {\n      key: index,\n      index: index,\n      title: title,\n      updateOption: updateOption,\n      removeOption: removeOption\n    });\n  }), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"unstyled-button link\",\n    type: \"button\",\n    disabled: !createNewSurvey && formDisabled,\n    onClick: function onClick() {\n      return addOption();\n    }\n  }, t(\"CS_COMMON_ADD_OPTION\"))));\n};\nvar CheckBoxOption = function CheckBoxOption(_ref2) {\n  var index = _ref2.index,\n    title = _ref2.title,\n    updateOption = _ref2.updateOption,\n    removeOption = _ref2.removeOption;\n  var _useState = useState(title),\n    optionTitle = _useState[0],\n    setOptionTitle = _useState[1];\n  var _useState2 = useState(false),\n    isFocused = _useState2[0],\n    setIsFocused = _useState2[1];\n  useEffect(function () {\n    updateOption({\n      value: optionTitle,\n      id: index\n    });\n  }, [optionTitle]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"optioncheckboxwrapper\"\n  }, /*#__PURE__*/React.createElement(CheckBox, null), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: optionTitle,\n    onChange: function onChange(ev) {\n      return setOptionTitle(ev.target.value);\n    },\n    onBlur: function onBlur() {\n      return setIsFocused(false);\n    },\n    onFocus: function onFocus() {\n      return setIsFocused(true);\n    },\n    className: isFocused ? \"simple_editable-input\" : \"simple_readonly-input\"\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pointer\",\n    onClick: function onClick() {\n      return removeOption(index);\n    }\n  }, /*#__PURE__*/React.createElement(CloseSvg, null)));\n};\nvar MultipleChoice = function MultipleChoice(_ref) {\n  var t = _ref.t,\n    _ref$options = _ref.options,\n    options = _ref$options === void 0 ? checkboxlist : _ref$options,\n    updateOption = _ref.updateOption,\n    addOption = _ref.addOption,\n    removeOption = _ref.removeOption,\n    createNewSurvey = _ref.createNewSurvey,\n    formDisabled = _ref.formDisabled;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"options_checkboxes\"\n  }, options.map(function (title, index) {\n    return /*#__PURE__*/React.createElement(RadioButtonOption, {\n      key: index,\n      index: index,\n      title: title,\n      updateOption: updateOption,\n      removeOption: removeOption\n    });\n  }), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"unstyled-button link\",\n    type: \"button\",\n    disabled: !createNewSurvey && formDisabled,\n    onClick: function onClick() {\n      return addOption();\n    }\n  }, t(\"CS_COMMON_ADD_OPTION\"))));\n};\nvar RadioButtonOption = function RadioButtonOption(_ref2) {\n  var index = _ref2.index,\n    title = _ref2.title,\n    updateOption = _ref2.updateOption,\n    removeOption = _ref2.removeOption;\n  var _useState = useState(title),\n    optionTitle = _useState[0],\n    setOptionTitle = _useState[1];\n  var _useState2 = useState(false),\n    isFocused = _useState2[0],\n    setIsFocused = _useState2[1];\n  useEffect(function () {\n    updateOption({\n      value: optionTitle,\n      id: index\n    });\n  }, [optionTitle]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"optionradiobtnwrapper\"\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"radio\",\n    className: \"customradiobutton\"\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: optionTitle,\n    onChange: function onChange(ev) {\n      return setOptionTitle(ev.target.value);\n    },\n    onBlur: function onBlur() {\n      return setIsFocused(false);\n    },\n    onFocus: function onFocus() {\n      return setIsFocused(true);\n    },\n    className: isFocused ? \"simple_editable-input\" : \"simple_readonly-input\"\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pointer\",\n    onClick: function onClick() {\n      return removeOption(index);\n    }\n  }, /*#__PURE__*/React.createElement(CloseSvg, null)));\n};\nvar dropdownOptions = [{\n  title: \"Short Answer\",\n  value: \"SHORT_ANSWER_TYPE\"\n}, {\n  title: \"Multiple Choice\",\n  value: \"MULTIPLE_ANSWER_TYPE\"\n}, {\n  title: \"Check Boxes\",\n  value: \"CHECKBOX_ANSWER_TYPE\"\n}, {\n  title: \"Paragraph\",\n  value: \"LONG_ANSWER_TYPE\"\n}, {\n  title: \"Date\",\n  value: \"DATE_ANSWER_TYPE\"\n}, {\n  title: \"Time\",\n  value: \"TIME_ANSWER_TYPE\"\n}];\nvar NewSurveyForm = function NewSurveyForm(_ref) {\n  var _formState$errors, _formState$errors2, _formState$errors3;\n  var t = _ref.t,\n    index = _ref.index,\n    questionStatement = _ref.questionStatement,\n    type = _ref.type,\n    required = _ref.required,\n    disableInputs = _ref.disableInputs,\n    dispatch = _ref.dispatch,\n    isPartiallyEnabled = _ref.isPartiallyEnabled,\n    addOption = _ref.addOption,\n    formDisabled = _ref.formDisabled;\n  var _useState = useState({\n      questionStatement: questionStatement,\n      type: type,\n      required: required,\n      options: [\"option 1\"]\n    }),\n    surveyQuestionConfig = _useState[0],\n    setSurveyQuestionConfig = _useState[1];\n  var _useFormContext = useFormContext(),\n    register = _useFormContext.register,\n    formState = _useFormContext.formState;\n  var handleAddOption = function handleAddOption() {\n    return setSurveyQuestionConfig(function (prevState) {\n      var updatedState = _extends({}, prevState);\n      updatedState.options.push(\"option \" + (updatedState.options.length + 1));\n      return updatedState;\n    });\n  };\n  var handleUpdateOption = function handleUpdateOption(_ref2) {\n    var value = _ref2.value,\n      id = _ref2.id;\n    setSurveyQuestionConfig(function (prevState) {\n      var updatedState = _extends({}, prevState);\n      updatedState.options.splice(id, 1, value);\n      return updatedState;\n    });\n  };\n  var handleRemoveOption = function handleRemoveOption(id) {\n    if (surveyQuestionConfig.options.length === 1) return;\n    setSurveyQuestionConfig(function (prevState) {\n      var updatedState = _extends({}, prevState);\n      updatedState.options.splice(id, 1);\n      return updatedState;\n    });\n  };\n  useEffect(function () {\n    dispatch({\n      type: \"updateForm\",\n      payload: {\n        index: index,\n        formConfig: surveyQuestionConfig\n      }\n    });\n  }, [surveyQuestionConfig]);\n  var renderAnswerComponent = function renderAnswerComponent(type) {\n    switch (type) {\n      case \"Paragraph\":\n        return /*#__PURE__*/React.createElement(TextArea, {\n          value: \"LONG ANSWER\"\n        });\n      case \"Date\":\n        return /*#__PURE__*/React.createElement(DatePicker, {\n          stylesForInput: {\n            width: \"calc(100% - 290px)\"\n          }\n        });\n      case \"Time\":\n        return /*#__PURE__*/React.createElement(TimePicker, null);\n      case \"Multiple Choice\":\n        return /*#__PURE__*/React.createElement(MultipleChoice, {\n          t: t,\n          addOption: handleAddOption,\n          updateOption: handleUpdateOption,\n          removeOption: handleRemoveOption,\n          options: surveyQuestionConfig === null || surveyQuestionConfig === void 0 ? void 0 : surveyQuestionConfig.options,\n          createNewSurvey: addOption,\n          isPartiallyEnabled: isPartiallyEnabled,\n          formDisabled: formDisabled\n        });\n      case \"Check Boxes\":\n        return /*#__PURE__*/React.createElement(Checkboxes, {\n          t: t,\n          addOption: handleAddOption,\n          updateOption: handleUpdateOption,\n          removeOption: handleRemoveOption,\n          options: surveyQuestionConfig === null || surveyQuestionConfig === void 0 ? void 0 : surveyQuestionConfig.options,\n          isPartiallyEnabled: isPartiallyEnabled,\n          createNewSurvey: addOption,\n          formDisabled: formDisabled\n        });\n      default:\n        return /*#__PURE__*/React.createElement(TextInput, {\n          value: \"SHORT ANSWER\"\n        });\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"newSurveyForm_wrapper\"\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"newSurveyForm_quesno\"\n  }, t(\"CS_COMMON_QUESTION\") + \" \" + (index + 1)), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"newSurveyForm_mainsection\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"newSurveyForm_questions\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"80%\"\n    }\n  }, /*#__PURE__*/React.createElement(TextInput, {\n    placeholder: t(\"CS_COMMON_TYPE_QUESTION\"),\n    value: surveyQuestionConfig.questionStatement,\n    onChange: function onChange(ev) {\n      setSurveyQuestionConfig(function (prevState) {\n        return _extends({}, prevState, {\n          questionStatement: ev.target.value\n        });\n      });\n    },\n    textInputStyle: {\n      width: \"100%\"\n    },\n    name: \"QUESTION_SURVEY_\" + index,\n    disable: disableInputs,\n    inputRef: register({\n      required: t(\"ES_ERROR_REQUIRED\"),\n      maxLength: {\n        value: 60,\n        message: t(\"EXCEEDS_60_CHAR_LIMIT\")\n      },\n      pattern: {\n        value: /^[A-Za-z_-][A-Za-z0-9_\\ -]*$/,\n        message: t(\"ES_SURVEY_DONT_START_WITH_NUMBER\")\n      }\n    })\n  }), (formState === null || formState === void 0 ? void 0 : (_formState$errors = formState.errors) === null || _formState$errors === void 0 ? void 0 : _formState$errors.title) && /*#__PURE__*/React.createElement(CardLabelError$1, null, formState === null || formState === void 0 ? void 0 : (_formState$errors2 = formState.errors) === null || _formState$errors2 === void 0 ? void 0 : (_formState$errors3 = _formState$errors2[\"QUESTION_SURVEY_\" + index]) === null || _formState$errors3 === void 0 ? void 0 : _formState$errors3.message)), /*#__PURE__*/React.createElement(Dropdown, {\n    option: dropdownOptions,\n    select: function select(ev) {\n      setSurveyQuestionConfig(function (prevState) {\n        return _extends({}, prevState, {\n          type: ev.title\n        });\n      });\n    },\n    selected: surveyQuestionConfig.type || {\n      title: \"Short Answer\",\n      value: \"SHORT_ANSWER_TYPE\"\n    },\n    optionKey: \"title\",\n    disable: disableInputs\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"newSurveyForm_answer\"\n  }, renderAnswerComponent(surveyQuestionConfig.type)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"newSurveyForm_actions\"\n  }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(CheckBox, {\n    onChange: function onChange(e) {\n      return setSurveyQuestionConfig(function (prevState) {\n        return _extends({}, prevState, {\n          required: !prevState.required\n        });\n      });\n    },\n    checked: surveyQuestionConfig.required,\n    label: t(\"CS_COMMON_REQUIRED\"),\n    pageType: \"employee\",\n    disable: disableInputs\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"newSurveyForm_seprator\"\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pointer \" + (disableInputs ? 'disabled-btn' : ''),\n    onClick: function onClick() {\n      return dispatch({\n        type: \"removeForm\",\n        payload: {\n          index: index\n        }\n      });\n    }\n  }, /*#__PURE__*/React.createElement(DustbinIcon, null)))));\n};\nvar SurveyFormsMaker = function SurveyFormsMaker(_ref) {\n  var t = _ref.t,\n    formsConfig = _ref.formsConfig,\n    setSurveyConfig = _ref.setSurveyConfig,\n    disableInputs = _ref.disableInputs,\n    isPartiallyEnabled = _ref.isPartiallyEnabled,\n    addOption = _ref.addOption,\n    formDisabled = _ref.formDisabled;\n  var defaultFormsConfig = {\n    question: \"\",\n    answerType: \"Short Answer\",\n    required: false,\n    options: []\n  };\n  var initialSurveyFormState = [defaultFormsConfig];\n  var surveyFormReducer = function surveyFormReducer(state, _ref2) {\n    var type = _ref2.type,\n      payload = _ref2.payload;\n    switch (type) {\n      case \"addNewForm\":\n        var newSurveyQues = [].concat(state, [defaultFormsConfig]);\n        payload.setSurveyConfig(\"questions\", newSurveyQues);\n        return newSurveyQues;\n      case \"updateForm\":\n        var updatedSurveyQues = [].concat(state);\n        updatedSurveyQues.splice(payload.index, 1, payload);\n        payload.setSurveyConfig(\"questions\", updatedSurveyQues);\n        return updatedSurveyQues;\n      case \"removeForm\":\n        if (state.length === 1) return state;\n        var copyOfSate = [].concat(state);\n        copyOfSate.splice(payload.index, 1);\n        payload.setSurveyConfig(\"questions\", copyOfSate);\n        return copyOfSate;\n    }\n  };\n  var _useReducer = useReducer(surveyFormReducer, formsConfig ? formsConfig : initialSurveyFormState),\n    surveyState = _useReducer[0],\n    dispatch = _useReducer[1];\n  var passingSurveyConfigInDispatch = function passingSurveyConfigInDispatch(_ref3) {\n    var type = _ref3.type,\n      payload = _ref3.payload;\n    dispatch({\n      type: type,\n      payload: _extends({}, payload, {\n        setSurveyConfig: setSurveyConfig\n      })\n    });\n  };\n  var renderPreviewForms = function renderPreviewForms() {\n    return surveyState.length ? surveyState.map(function (config, index) {\n      return /*#__PURE__*/React.createElement(NewSurveyForm, _extends({\n        key: index\n      }, config, {\n        addOption: addOption,\n        t: t,\n        index: index,\n        disableInputs: disableInputs,\n        dispatch: passingSurveyConfigInDispatch,\n        isPartiallyEnabled: isPartiallyEnabled,\n        formDisabled: formDisabled\n      }));\n    }) : null;\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"surveyformslist_wrapper\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"heading\"\n  }, t(\"CS_SURVEYS_QUESTIONS\")), renderPreviewForms(), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pointer\"\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"unstyled-button link \" + (disableInputs ? \"disabled-btn\" : \"\") + \" \" + (surveyState.length >= 30 ? \"disabled-btn\" : \"\") + \" \",\n    type: \"button\",\n    onClick: function onClick() {\n      return passingSurveyConfigInDispatch({\n        type: \"addNewForm\"\n      });\n    }\n  }, t(\"CS_COMMON_ADD_QUESTION\"))));\n};\nvar SurveySettingsForms = function SurveySettingsForms(_ref) {\n  var _formErrors$fromDate, _formErrors$fromDate2, _formErrors$fromTime, _formErrors$fromTime2, _formErrors$toDate, _formErrors$toDate2, _formErrors$toTime, _formErrors$toTime2, _formErrors$collectCi;\n  var t = _ref.t,\n    controlSurveyForm = _ref.controlSurveyForm,\n    surveyFormState = _ref.surveyFormState,\n    disableInputs = _ref.disableInputs,\n    enableEndDateTimeOnly = _ref.enableEndDateTimeOnly;\n  var formErrors = surveyFormState === null || surveyFormState === void 0 ? void 0 : surveyFormState.errors;\n  var _useFormContext = useFormContext(),\n    getValues = _useFormContext.getValues;\n  var currentTs = new Date().getTime();\n  var isValidFromDate = function isValidFromDate(enteredValue) {\n    var enteredTs = new Date(enteredValue).getTime();\n    var toDate = getValues(\"toDate\") ? new Date(getValues(\"toDate\")).getTime() : new Date().getTime();\n    return toDate > enteredTs ? true : false;\n  };\n  var isValidToDate = function isValidToDate(enteredValue) {\n    var enteredTs = new Date(enteredValue).getTime();\n    var fromDate = getValues(\"fromDate\") ? new Date(getValues(\"fromDate\")).getTime() : new Date().getTime();\n    return enteredTs > fromDate && enteredTs > currentTs ? true : false;\n  };\n  var isValidFromTime = function isValidFromTime() {\n    return true;\n  };\n  var isValidToTime = function isValidToTime() {\n    return true;\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"surveydetailsform-wrapper\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"heading\"\n  }, t(\"CS_COMMON_SETTINGS\")), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"surveyformfield\"\n  }, /*#__PURE__*/React.createElement(\"label\", null, t(\"LABEL_SURVEY_START_DATE\")), /*#__PURE__*/React.createElement(Controller, {\n    control: controlSurveyForm,\n    name: \"fromDate\",\n    defaultValue: surveyFormState === null || surveyFormState === void 0 ? void 0 : surveyFormState.fromDate,\n    rules: {\n      required: true,\n      validate: {\n        isValidFromDate: isValidFromDate\n      }\n    },\n    render: function render(_ref2) {\n      var onChange = _ref2.onChange,\n        value = _ref2.value;\n      return /*#__PURE__*/React.createElement(TextInput, {\n        type: \"date\",\n        onChange: onChange,\n        defaultValue: value,\n        disable: disableInputs\n      });\n    }\n  }), formErrors && (formErrors === null || formErrors === void 0 ? void 0 : formErrors.fromDate) && (formErrors === null || formErrors === void 0 ? void 0 : (_formErrors$fromDate = formErrors.fromDate) === null || _formErrors$fromDate === void 0 ? void 0 : _formErrors$fromDate.type) === \"required\" && /*#__PURE__*/React.createElement(CardLabelError$1, null, t(\"EVENTS_TO_DATE_ERROR_REQUIRED\")), formErrors && (formErrors === null || formErrors === void 0 ? void 0 : formErrors.fromDate) && (formErrors === null || formErrors === void 0 ? void 0 : (_formErrors$fromDate2 = formErrors.fromDate) === null || _formErrors$fromDate2 === void 0 ? void 0 : _formErrors$fromDate2.type) === \"isValidFromDate\" && /*#__PURE__*/React.createElement(CardLabelError$1, null, t(\"EVENTS_TO_DATE_ERROR_INVALID\"))), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"surveyformfield\"\n  }, /*#__PURE__*/React.createElement(\"label\", null, t(\"LABEL_SURVEY_START_TIME\")), /*#__PURE__*/React.createElement(Controller, {\n    control: controlSurveyForm,\n    name: \"fromTime\",\n    defaultValue: surveyFormState === null || surveyFormState === void 0 ? void 0 : surveyFormState.fromTime,\n    rules: {\n      required: true,\n      validate: {\n        isValidFromTime: isValidFromTime\n      }\n    },\n    render: function render(_ref3) {\n      var onChange = _ref3.onChange,\n        value = _ref3.value;\n      return /*#__PURE__*/React.createElement(TextInput, {\n        type: \"time\",\n        onChange: onChange,\n        defaultValue: value,\n        disable: disableInputs\n      });\n    }\n  }), formErrors && (formErrors === null || formErrors === void 0 ? void 0 : formErrors.fromTime) && (formErrors === null || formErrors === void 0 ? void 0 : (_formErrors$fromTime = formErrors.fromTime) === null || _formErrors$fromTime === void 0 ? void 0 : _formErrors$fromTime.type) === \"required\" && /*#__PURE__*/React.createElement(CardLabelError$1, null, t(\"EVENTS_TO_DATE_ERROR_REQUIRED\")), formErrors && (formErrors === null || formErrors === void 0 ? void 0 : formErrors.fromTime) && (formErrors === null || formErrors === void 0 ? void 0 : (_formErrors$fromTime2 = formErrors.fromTime) === null || _formErrors$fromTime2 === void 0 ? void 0 : _formErrors$fromTime2.type) === \"isValidFromDate\" && /*#__PURE__*/React.createElement(CardLabelError$1, null, t(\"EVENTS_TO_DATE_ERROR_INVALID\"))), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"surveyformfield\"\n  }, /*#__PURE__*/React.createElement(\"label\", null, t(\"LABEL_SURVEY_END_DATE\")), /*#__PURE__*/React.createElement(Controller, {\n    control: controlSurveyForm,\n    name: \"toDate\",\n    defaultValue: surveyFormState === null || surveyFormState === void 0 ? void 0 : surveyFormState.toDate,\n    rules: {\n      required: true,\n      validate: {\n        isValidToDate: isValidToDate\n      }\n    },\n    render: function render(_ref4) {\n      var onChange = _ref4.onChange,\n        value = _ref4.value;\n      return /*#__PURE__*/React.createElement(TextInput, {\n        type: \"date\",\n        onChange: onChange,\n        defaultValue: value,\n        disable: enableEndDateTimeOnly ? !enableEndDateTimeOnly : disableInputs\n      });\n    }\n  }), formErrors && (formErrors === null || formErrors === void 0 ? void 0 : formErrors.toDate) && (formErrors === null || formErrors === void 0 ? void 0 : (_formErrors$toDate = formErrors.toDate) === null || _formErrors$toDate === void 0 ? void 0 : _formErrors$toDate.type) === \"required\" && /*#__PURE__*/React.createElement(CardLabelError$1, null, t(\"EVENTS_TO_DATE_ERROR_REQUIRED\")), formErrors && (formErrors === null || formErrors === void 0 ? void 0 : formErrors.toDate) && (formErrors === null || formErrors === void 0 ? void 0 : (_formErrors$toDate2 = formErrors.toDate) === null || _formErrors$toDate2 === void 0 ? void 0 : _formErrors$toDate2.type) === \"isValidToDate\" && /*#__PURE__*/React.createElement(CardLabelError$1, null, t(\"EVENTS_TO_DATE_ERROR_INVALID\")), \" \"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"surveyformfield\"\n  }, /*#__PURE__*/React.createElement(\"label\", null, t(\"LABEL_SURVEY_END_TIME\")), /*#__PURE__*/React.createElement(Controller, {\n    control: controlSurveyForm,\n    name: \"toTime\",\n    defaultValue: surveyFormState === null || surveyFormState === void 0 ? void 0 : surveyFormState.toTime,\n    rules: {\n      required: true,\n      validate: {\n        isValidToTime: isValidToTime\n      }\n    },\n    render: function render(_ref5) {\n      var onChange = _ref5.onChange,\n        value = _ref5.value;\n      return /*#__PURE__*/React.createElement(TextInput, {\n        type: \"time\",\n        onChange: onChange,\n        defaultValue: value,\n        disable: enableEndDateTimeOnly ? !enableEndDateTimeOnly : disableInputs\n      });\n    }\n  }), formErrors && (formErrors === null || formErrors === void 0 ? void 0 : formErrors.toTime) && (formErrors === null || formErrors === void 0 ? void 0 : (_formErrors$toTime = formErrors.toTime) === null || _formErrors$toTime === void 0 ? void 0 : _formErrors$toTime.type) === \"required\" && /*#__PURE__*/React.createElement(CardLabelError$1, null, t(\"EVENTS_TO_DATE_ERROR_REQUIRED\")), formErrors && (formErrors === null || formErrors === void 0 ? void 0 : formErrors.toTime) && (formErrors === null || formErrors === void 0 ? void 0 : (_formErrors$toTime2 = formErrors.toTime) === null || _formErrors$toTime2 === void 0 ? void 0 : _formErrors$toTime2.type) === \"isValidToDate\" && /*#__PURE__*/React.createElement(CardLabelError$1, null, t(\"EVENTS_TO_DATE_ERROR_INVALID\"))), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"surveyformfield\"\n  }, /*#__PURE__*/React.createElement(\"label\", null, t(\"LABEL_SURVEY_EMAIL_MOBILE\")), /*#__PURE__*/React.createElement(Controller, {\n    control: controlSurveyForm,\n    name: \"collectCitizenInfo\",\n    defaultValue: surveyFormState === null || surveyFormState === void 0 ? void 0 : surveyFormState.collectCitizenInfo,\n    rules: {\n      required: true\n    },\n    render: function render(_ref6) {\n      var onChange = _ref6.onChange,\n        value = _ref6.value;\n      return /*#__PURE__*/React.createElement(RadioButtons, {\n        onSelect: onChange,\n        selectedOption: value,\n        optionsKey: \"name\",\n        options: [{\n          code: true,\n          name: t(\"ES_COMMON_YES\")\n        }, {\n          code: false,\n          name: t(\"ES_COMMON_NO\")\n        }],\n        disabled: disableInputs\n      });\n    }\n  }), formErrors && (formErrors === null || formErrors === void 0 ? void 0 : formErrors.collectCitizenInfo) && (formErrors === null || formErrors === void 0 ? void 0 : (_formErrors$collectCi = formErrors.collectCitizenInfo) === null || _formErrors$collectCi === void 0 ? void 0 : _formErrors$collectCi.type) === \"required\" && /*#__PURE__*/React.createElement(CardLabelError$1, null, t(\"EVENTS_TO_DATE_ERROR_REQUIRED\"))));\n};\nvar _excluded$2 = [\"register\", \"control\", \"handleSubmit\", \"setValue\", \"getValues\", \"reset\", \"formState\", \"clearErrors\"];\nvar CreateNewSurvey = function CreateNewSurvey(_ref) {\n  var t = _ref.t,\n    initialFormValues = _ref.initialFormValues,\n    onSubmit = _ref.onSubmit;\n  var _useForm = useForm({\n      defaultValues: initialFormValues\n    }),\n    registerRef = _useForm.register,\n    controlSurveyForm = _useForm.control,\n    handleSurveyFormSubmit = _useForm.handleSubmit,\n    setSurveyFormValue = _useForm.setValue,\n    getSurveyFormValues = _useForm.getValues,\n    resetSurveyForm = _useForm.reset,\n    surveyFormState = _useForm.formState,\n    clearSurveyFormsErrors = _useForm.clearErrors,\n    methods = _objectWithoutPropertiesLoose(_useForm, _excluded$2);\n  useEffect(function () {\n    registerRef(\"questions\");\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      margin: \"8px\"\n    }\n  }, /*#__PURE__*/React.createElement(FormProvider, _extends({\n    register: registerRef,\n    control: controlSurveyForm,\n    handleSubmit: handleSurveyFormSubmit,\n    setValue: setSurveyFormValue,\n    getValues: getSurveyFormValues,\n    reset: resetSurveyForm,\n    formState: surveyFormState,\n    clearErrors: clearSurveyFormsErrors\n  }, methods), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSurveyFormSubmit(onSubmit)\n  }, /*#__PURE__*/React.createElement(Card, null, /*#__PURE__*/React.createElement(SurveyDetailsForms, {\n    t: t,\n    registerRef: registerRef,\n    controlSurveyForm: controlSurveyForm,\n    surveyFormState: surveyFormState,\n    surveyFormData: getSurveyFormValues\n  }), /*#__PURE__*/React.createElement(SurveyFormsMaker, {\n    t: t,\n    setSurveyConfig: setSurveyFormValue,\n    addOption: true\n  }), /*#__PURE__*/React.createElement(SurveySettingsForms, {\n    t: t,\n    controlSurveyForm: controlSurveyForm,\n    surveyFormState: surveyFormState\n  })), /*#__PURE__*/React.createElement(ActionBar, null, /*#__PURE__*/React.createElement(SubmitBar, {\n    label: t(\"CS_CREATE_SURVEY\"),\n    submit: \"submit\"\n  })))));\n};\nvar answerTypeEnum = {\n  \"Short Answer\": \"SHORT_ANSWER_TYPE\",\n  Paragraph: \"LONG_ANSWER_TYPE\",\n  \"Multiple Choice\": \"MULTIPLE_ANSWER_TYPE\",\n  \"Check Boxes\": \"CHECKBOX_ANSWER_TYPE\",\n  Date: \"DATE_ANSWER_TYPE\",\n  Time: \"TIME_ANSWER_TYPE\"\n};\nvar mapQuestions = function mapQuestions(questions) {\n  if (questions === void 0) {\n    questions = [];\n  }\n  if (!questions.length) return;\n  return questions.map(function (_ref, index) {\n    var formConfig = _ref.formConfig;\n    var choices = formConfig.options,\n      questionStatement = formConfig.questionStatement,\n      required = formConfig.required,\n      stringType = formConfig.type;\n    var finalQuestion = {\n      questionStatement: questionStatement,\n      required: required,\n      type: answerTypeEnum[stringType]\n    };\n    if (stringType === \"Multiple Choice\" || stringType === \"Check Boxes\") {\n      finalQuestion[\"options\"] = choices;\n    }\n    return finalQuestion;\n  });\n};\nvar NewSurveys = function NewSurveys() {\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var history = useHistory();\n  var onSubmit = function onSubmit(data) {\n    var collectCitizenInfo = data.collectCitizenInfo,\n      title = data.title,\n      description = data.description,\n      tenantIds = data.tenantIds,\n      fromDate = data.fromDate,\n      toDate = data.toDate,\n      fromTime = data.fromTime,\n      toTime = data.toTime,\n      questions = data.questions;\n    var mappedQuestions = mapQuestions(questions);\n    var details = {\n      SurveyEntity: {\n        tenantIds: tenantIds.map(function (_ref2) {\n          var code = _ref2.code;\n          return code;\n        }),\n        title: title,\n        description: description,\n        collectCitizenInfo: collectCitizenInfo.code,\n        startDate: new Date(fromDate + \" \" + fromTime).getTime(),\n        endDate: new Date(toDate + \" \" + toTime).getTime(),\n        questions: mappedQuestions\n      }\n    };\n    history.push(\"/digit-ui/employee/engagement/surveys/create-response\", details);\n  };\n  var tenantId = Digit.ULBService.getCurrentTenantId();\n  var ulbs = Digit.SessionStorage.get(\"ENGAGEMENT_TENANTS\");\n  var userInfo = Digit.UserService.getUser().info;\n  var userUlbs = ulbs.filter(function (ulb) {\n    var _userInfo$roles;\n    return userInfo === null || userInfo === void 0 ? void 0 : (_userInfo$roles = userInfo.roles) === null || _userInfo$roles === void 0 ? void 0 : _userInfo$roles.some(function (role) {\n      return (role === null || role === void 0 ? void 0 : role.tenantId) === (ulb === null || ulb === void 0 ? void 0 : ulb.code);\n    });\n  });\n  var defaultValues = {\n    fromDate: \"\",\n    fromTime: \"\",\n    toDate: \"\",\n    toTime: \"\",\n    questions: {},\n    collectCitizenInfo: \"\",\n    tenantIds: userUlbs\n  };\n  var stylesForForm = {\n    marginLeft: '-20px'\n  };\n  return /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(Header, null, t(\"CREATE_NEW_SURVEY\")), /*#__PURE__*/React.createElement(\"div\", {\n    style: stylesForForm\n  }, /*#__PURE__*/React.createElement(CreateNewSurvey, {\n    t: t,\n    onSubmit: onSubmit,\n    initialFormValues: defaultValues\n  })));\n};\nvar getMessage$3 = function getMessage(mutation) {\n  var _mutation$data, _mutation$data$Survey, _mutation$data$Survey2;\n  if (mutation.isSuccess) return (_mutation$data = mutation.data) === null || _mutation$data === void 0 ? void 0 : (_mutation$data$Survey = _mutation$data.Surveys) === null || _mutation$data$Survey === void 0 ? void 0 : (_mutation$data$Survey2 = _mutation$data$Survey[0]) === null || _mutation$data$Survey2 === void 0 ? void 0 : _mutation$data$Survey2.uuid;\n  return \"\";\n};\nvar BannerPicker$6 = function BannerPicker(props) {\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  return /*#__PURE__*/React.createElement(Banner, {\n    message: props.mutation.isSuccess ? t(\"SURVEY_FORM_CREATED\") : t(\"SURVEY_FORM_FAILURE\"),\n    applicationNumber: getMessage$3(props.mutation),\n    info: props.mutation.isSuccess ? t(\"SURVEY_FORM_ID\") : \"\",\n    successful: props.mutation.isSuccess\n  });\n};\nvar Acknowledgement$1 = function Acknowledgement(props) {\n  var _mutation$data2, _mutation$data2$Surve;\n  var queryClient = useQueryClient();\n  var _useTranslation2 = useTranslation(),\n    t = _useTranslation2.t;\n  var tenantId = Digit.ULBService.getCurrentTenantId();\n  var mutation = Digit.Hooks.survey.useCreate();\n  var state = props.location.state;\n  var history = useHistory();\n  var _useState = useState(false),\n    isActionClicked = _useState[0],\n    setIsActionClicked = _useState[1];\n  useEffect(function () {\n    var onSuccess = function onSuccess() {\n      queryClient.clear();\n      window.history.replaceState(null, 'CREATE_SURVEY_STATE');\n    };\n    if (!!state) {\n      mutation.mutate(state, {\n        onSuccess: onSuccess\n      });\n    }\n  }, []);\n  if (mutation.isLoading && !mutation.isIdle) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n  var survey = (_mutation$data2 = mutation.data) === null || _mutation$data2 === void 0 ? void 0 : (_mutation$data2$Surve = _mutation$data2.Surveys) === null || _mutation$data2$Surve === void 0 ? void 0 : _mutation$data2$Surve[0];\n  var handleActionClick = function handleActionClick() {\n    setIsActionClicked(function (prevState) {\n      return !prevState;\n    });\n  };\n  var actionClickHandler = function actionClickHandler(option) {\n    if (option === t(\"GO_BACK_TO_HOME\")) history.push(\"/digit-ui/employee\");else if (option === t(\"CREATE_ANOTHER_SURVEY\")) history.push(\"/digit-ui/employee/engagement/surveys/create\");\n  };\n  return /*#__PURE__*/React.createElement(Card, null, /*#__PURE__*/React.createElement(BannerPicker$6, {\n    t: t,\n    mutation: mutation\n  }), /*#__PURE__*/React.createElement(CardText, null, mutation.isSuccess ? t(\"SURVEY_FORM_CREATION_MESSAGE\", {\n    surveyName: survey === null || survey === void 0 ? void 0 : survey.title,\n    fromDate: Digit.DateUtils.ConvertTimestampToDate(survey === null || survey === void 0 ? void 0 : survey.startDate),\n    toDate: Digit.DateUtils.ConvertTimestampToDate(survey === null || survey === void 0 ? void 0 : survey.endDate)\n  }) : null), /*#__PURE__*/React.createElement(ActionBar, null, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleActionClick\n  }, /*#__PURE__*/React.createElement(SubmitBar, {\n    label: \"Action\"\n  }), isActionClicked && /*#__PURE__*/React.createElement(Menu, {\n    options: [t(\"GO_BACK_TO_HOME\"), t(\"CREATE_ANOTHER_SURVEY\")],\n    onSelect: actionClickHandler\n  }))));\n};\nvar getMessage$4 = function getMessage(mutation) {\n  var _mutation$data, _mutation$data$Docume, _mutation$data$Docume2;\n  if (mutation.isSuccess) return (_mutation$data = mutation.data) === null || _mutation$data === void 0 ? void 0 : (_mutation$data$Docume = _mutation$data.Documents) === null || _mutation$data$Docume === void 0 ? void 0 : (_mutation$data$Docume2 = _mutation$data$Docume[0]) === null || _mutation$data$Docume2 === void 0 ? void 0 : _mutation$data$Docume2.uuid;\n  return \"\";\n};\nvar BannerPicker$7 = function BannerPicker(props) {\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  return /*#__PURE__*/React.createElement(Banner, {\n    message: props.isSuccess ? t(\"ENGAGEMENT_SURVEY_UPDATED\") : t(\"ENGAGEMENT_SURVEY_UPDATE_FAILURE\"),\n    applicationNumber: getMessage$4(props.mutation),\n    info: props.isSuccess ? t(\"SURVEY_FORM_ID\") : \"\",\n    successful: props.isSuccess\n  });\n};\nvar Response$5 = function Response(props) {\n  var queryClient = useQueryClient();\n  var _useTranslation2 = useTranslation(),\n    t = _useTranslation2.t;\n  var tenantId = Digit.ULBService.getCurrentTenantId();\n  var mutation = Digit.Hooks.survey.useUpdate();\n  var state = props.location.state;\n  useEffect(function () {\n    var onSuccess = function onSuccess() {\n      queryClient.clear();\n      window.history.replaceState(null, 'UPDATE_SURVEY_STATE');\n    };\n    if (!!state) {\n      mutation.mutate(state, {\n        onSuccess: onSuccess\n      });\n    }\n  }, []);\n  if (mutation.isLoading || mutation.isIdle) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Card, null, /*#__PURE__*/React.createElement(BannerPicker$7, {\n    t: t,\n    data: mutation.data,\n    mutation: mutation,\n    isSuccess: mutation.isSuccess,\n    isLoading: mutation.isIdle || mutation.isLoading\n  })), /*#__PURE__*/React.createElement(ActionBar, null, /*#__PURE__*/React.createElement(Link, {\n    to: \"/digit-ui/employee\"\n  }, /*#__PURE__*/React.createElement(SubmitBar, {\n    label: t(\"CORE_COMMON_GO_TO_HOME\")\n  }))));\n};\nvar BannerPicker$8 = function BannerPicker(props) {\n  var _props$mutation;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  return /*#__PURE__*/React.createElement(Banner, {\n    message: props.isSuccess ? t(\"ENGAGEMENT_SURVEY_DELETED\") : t(\"ENGAGEMENT_SURVEY_DELETE_FAILURE\"),\n    applicationNumber: (_props$mutation = props.mutation) !== null && _props$mutation !== void 0 && _props$mutation.isSuccess ? props.uuid : '',\n    info: props.isSuccess ? t(\"SURVEY_FORM_ID\") : \"\",\n    successful: props.isSuccess\n  });\n};\nvar Response$6 = function Response(props) {\n  var _state$DocumentEntity;\n  var queryClient = useQueryClient();\n  var _useTranslation2 = useTranslation(),\n    t = _useTranslation2.t;\n  var tenantId = Digit.ULBService.getCurrentTenantId();\n  var mutation = Digit.Hooks.survey.useDelete();\n  var state = props.location.state;\n  useEffect(function () {\n    var onSuccess = function onSuccess() {\n      queryClient.clear();\n      window.history.replaceState(null, 'DELETE_SURVEY_STATE');\n    };\n    if (!!state) {\n      mutation.mutate(state, {\n        onSuccess: onSuccess\n      });\n    }\n  }, []);\n  if (mutation.isLoading || mutation.isIdle) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Card, null, /*#__PURE__*/React.createElement(BannerPicker$8, {\n    t: t,\n    data: mutation.data,\n    mutation: mutation,\n    uuid: state === null || state === void 0 ? void 0 : (_state$DocumentEntity = state.DocumentEntity) === null || _state$DocumentEntity === void 0 ? void 0 : _state$DocumentEntity.uuid,\n    isSuccess: mutation.isSuccess,\n    isLoading: mutation.isIdle || mutation.isLoading\n  })), /*#__PURE__*/React.createElement(ActionBar, null, /*#__PURE__*/React.createElement(Link, {\n    to: \"/digit-ui/employee\"\n  }, /*#__PURE__*/React.createElement(SubmitBar, {\n    label: t(\"CORE_COMMON_GO_TO_HOME\")\n  }))));\n};\nvar EditSurveyForms = function EditSurveyForms(_ref) {\n  var t = _ref.t,\n    onEdit = _ref.onEdit,\n    menuOptions = _ref.menuOptions,\n    initialSurveysConfig = _ref.initialSurveysConfig,\n    isFormDisabled = _ref.isFormDisabled,\n    isPartiallyEnabled = _ref.isPartiallyEnabled,\n    displayMenu = _ref.displayMenu,\n    setDisplayMenu = _ref.setDisplayMenu,\n    onActionSelect = _ref.onActionSelect,\n    isSurveyActive = _ref.isSurveyActive;\n  var _useForm = useForm({\n      defaultValues: initialSurveysConfig\n    }),\n    registerRef = _useForm.register,\n    controlSurveyForm = _useForm.control,\n    handleSurveyFormSubmit = _useForm.handleSubmit,\n    setSurveyFormValue = _useForm.setValue,\n    getSurveyFormValues = _useForm.getValues,\n    resetSurveyForm = _useForm.reset,\n    surveyFormState = _useForm.formState,\n    clearSurveyFormsErrors = _useForm.clearErrors;\n  useEffect(function () {\n    registerRef(\"questions\");\n  }, []);\n  return /*#__PURE__*/React.createElement(FormProvider, {\n    register: registerRef,\n    control: controlSurveyForm,\n    handleSubmit: handleSurveyFormSubmit,\n    setValue: setSurveyFormValue,\n    getValues: getSurveyFormValues,\n    reset: resetSurveyForm,\n    formState: surveyFormState,\n    clearErrors: clearSurveyFormsErrors\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSurveyFormSubmit(onEdit)\n  }, /*#__PURE__*/React.createElement(Card, null, /*#__PURE__*/React.createElement(SurveyDetailsForms, {\n    t: t,\n    registerRef: registerRef,\n    controlSurveyForm: controlSurveyForm,\n    surveyFormState: surveyFormState,\n    disableInputs: isFormDisabled,\n    enableDescriptionOnly: isPartiallyEnabled,\n    surveyFormData: getSurveyFormValues\n  }), /*#__PURE__*/React.createElement(SurveyFormsMaker, {\n    t: t,\n    setSurveyConfig: setSurveyFormValue,\n    disableInputs: isFormDisabled,\n    formsConfig: initialSurveysConfig.questions,\n    isPartiallyEnabled: isPartiallyEnabled,\n    formDisabled: isFormDisabled\n  }), /*#__PURE__*/React.createElement(SurveySettingsForms, {\n    t: t,\n    controlSurveyForm: controlSurveyForm,\n    surveyFormState: surveyFormState,\n    disableInputs: isFormDisabled,\n    enableEndDateTimeOnly: isPartiallyEnabled\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"edit-action-btn\"\n  }, !isSurveyActive && !isFormDisabled && /*#__PURE__*/React.createElement(SubmitBar, {\n    label: t(\"CS_EDIT_SURVEY\"),\n    submit: \"submit\",\n    disabled: isPartiallyEnabled ? !isPartiallyEnabled : isFormDisabled\n  }), isPartiallyEnabled && isSurveyActive && /*#__PURE__*/React.createElement(SubmitBar, {\n    label: t(\"CS_EDIT_SURVEY\"),\n    submit: \"submit\",\n    disabled: isPartiallyEnabled ? !isPartiallyEnabled : isFormDisabled\n  })))), /*#__PURE__*/React.createElement(ActionBar, null, displayMenu ? /*#__PURE__*/React.createElement(Menu, {\n    localeKeyPrefix: \"ES_SURVEY\",\n    options: menuOptions,\n    t: t,\n    onSelect: onActionSelect\n  }) : null, /*#__PURE__*/React.createElement(SubmitBar, {\n    label: t(\"ES_COMMON_TAKE_ACTION\"),\n    onSubmit: function onSubmit() {\n      return setDisplayMenu(!displayMenu);\n    }\n  })));\n};\nvar Heading$7 = function Heading(props) {\n  return /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"heading-m\"\n  }, props.t(props.heading));\n};\nvar Close$8 = function Close() {\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"#FFFFFF\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0V0z\",\n    fill: \"none\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z\"\n  }));\n};\nvar CloseBtn$8 = function CloseBtn(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"icon-bg-secondary\",\n    onClick: props.onClick\n  }, /*#__PURE__*/React.createElement(Close$8, null));\n};\nvar ConfirmationQuestion$1 = function ConfirmationQuestion(_ref) {\n  var t = _ref.t,\n    title = _ref.title;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"confirmation_box\"\n  }, /*#__PURE__*/React.createElement(\"span\", null, \" \", t(\"CONFIRM_DELETE_MSG_NEW\"), \" \", /*#__PURE__*/React.createElement(\"b\", null, \" \" + title), t(\"COMPLETELY_DELETE\"), \" \", /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"br\", null), t(\"COMPLETELY_DELETE_WARN_MSG\")));\n};\nvar DeleteModal = function DeleteModal(_ref2) {\n  var t = _ref2.t,\n    heading = _ref2.heading,\n    surveyTitle = _ref2.surveyTitle,\n    closeModal = _ref2.closeModal,\n    actionCancelLabel = _ref2.actionCancelLabel,\n    actionCancelOnSubmit = _ref2.actionCancelOnSubmit,\n    actionSaveLabel = _ref2.actionSaveLabel,\n    actionSaveOnSubmit = _ref2.actionSaveOnSubmit;\n  return /*#__PURE__*/React.createElement(Modal, {\n    headerBarMain: /*#__PURE__*/React.createElement(Heading$7, {\n      t: t,\n      heading: heading\n    }),\n    headerBarEnd: /*#__PURE__*/React.createElement(CloseBtn$8, {\n      onClick: closeModal\n    }),\n    actionCancelLabel: t(actionCancelLabel),\n    actionCancelOnSubmit: actionCancelOnSubmit,\n    actionSaveLabel: t(actionSaveLabel),\n    actionSaveOnSubmit: actionSaveOnSubmit,\n    formId: \"modal-action\"\n  }, /*#__PURE__*/React.createElement(ConfirmationQuestion$1, {\n    t: t,\n    title: surveyTitle\n  }));\n};\nvar Heading$8 = function Heading(props) {\n  return /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"heading-m\"\n  }, props.t(props.heading));\n};\nvar Close$9 = function Close() {\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"#FFFFFF\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0V0z\",\n    fill: \"none\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z\"\n  }));\n};\nvar CloseBtn$9 = function CloseBtn(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"icon-bg-secondary\",\n    onClick: props.onClick\n  }, /*#__PURE__*/React.createElement(Close$9, null));\n};\nvar isValidFromDate = function isValidFromDate() {\n  return true;\n};\nvar isValidToDate = function isValidToDate() {\n  return true;\n};\nvar isValidFromTime = function isValidFromTime() {\n  return true;\n};\nvar isValidToTime = function isValidToTime() {\n  return true;\n};\nvar MarkActiveModal = function MarkActiveModal(_ref) {\n  var _formErrors$fromDate, _formErrors$fromDate2, _formErrors$fromTime, _formErrors$fromTime2, _formErrors$toDate, _formErrors$toDate2, _formErrors$toTime, _formErrors$toTime2;\n  var t = _ref.t,\n    heading = _ref.heading,\n    surveyTitle = _ref.surveyTitle,\n    initialValues = _ref.initialValues,\n    onSubmit = _ref.onSubmit,\n    closeModal = _ref.closeModal,\n    actionCancelLabel = _ref.actionCancelLabel,\n    actionCancelOnSubmit = _ref.actionCancelOnSubmit,\n    actionSaveLabel = _ref.actionSaveLabel,\n    actionSaveOnSubmit = _ref.actionSaveOnSubmit;\n  var fromDate = initialValues.fromDate,\n    fromTime = initialValues.fromTime,\n    toDate = initialValues.toDate,\n    toTime = initialValues.toTime;\n  var _useForm = useForm({\n      defaultValues: {\n        fromDate: fromDate,\n        fromTime: fromTime,\n        toDate: toDate,\n        toTime: toTime\n      }\n    }),\n    controlSurveyForm = _useForm.control,\n    handleSurveySettingSubmit = _useForm.handleSubmit,\n    surveyFormState = _useForm.formState;\n  var formErrors = surveyFormState === null || surveyFormState === void 0 ? void 0 : surveyFormState.errors;\n  return /*#__PURE__*/React.createElement(Modal, {\n    headerBarMain: /*#__PURE__*/React.createElement(Heading$8, {\n      t: t,\n      heading: heading\n    }),\n    headerBarEnd: /*#__PURE__*/React.createElement(CloseBtn$9, {\n      onClick: closeModal\n    }),\n    actionCancelLabel: t(actionCancelLabel),\n    actionCancelOnSubmit: actionCancelOnSubmit,\n    actionSaveLabel: t(actionSaveLabel),\n    actionSaveOnSubmit: handleSurveySettingSubmit(actionSaveOnSubmit),\n    formId: \"modal-action\",\n    headerBarMainStyle: {\n      marginLeft: \"20px\"\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    style: {\n      boxShadow: \"none\"\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", null, t(\"CONFIRM_ACTIVE_SURVEY_MSG\"), \" \", /*#__PURE__*/React.createElement(\"br\", null), \" \", surveyTitle, \" \", t(\"CONFIRM_ACTIVE_SURVEY_MSG_END\")), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSurveySettingSubmit(onSubmit)\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"surveyformfield\"\n  }, /*#__PURE__*/React.createElement(\"label\", null, t(\"LABEL_SURVEY_START_DATE\")), /*#__PURE__*/React.createElement(Controller, {\n    control: controlSurveyForm,\n    name: \"fromDate\",\n    defaultValue: surveyFormState === null || surveyFormState === void 0 ? void 0 : surveyFormState.fromDate,\n    rules: {\n      required: true,\n      validate: {\n        isValidFromDate: isValidFromDate\n      }\n    },\n    render: function render(_ref2) {\n      var onChange = _ref2.onChange,\n        value = _ref2.value;\n      return /*#__PURE__*/React.createElement(TextInput, {\n        type: \"date\",\n        isRequired: true,\n        onChange: onChange,\n        defaultValue: value\n      });\n    }\n  }), formErrors && (formErrors === null || formErrors === void 0 ? void 0 : formErrors.fromDate) && (formErrors === null || formErrors === void 0 ? void 0 : (_formErrors$fromDate = formErrors.fromDate) === null || _formErrors$fromDate === void 0 ? void 0 : _formErrors$fromDate.type) === \"required\" && /*#__PURE__*/React.createElement(CardLabelError$1, null, t(\"EVENTS_TO_DATE_ERROR_REQUIRED\")), formErrors && (formErrors === null || formErrors === void 0 ? void 0 : formErrors.fromDate) && (formErrors === null || formErrors === void 0 ? void 0 : (_formErrors$fromDate2 = formErrors.fromDate) === null || _formErrors$fromDate2 === void 0 ? void 0 : _formErrors$fromDate2.type) === \"isValidToDate\" && /*#__PURE__*/React.createElement(CardLabelError$1, null, t(\"EVENTS_TO_DATE_ERROR_INVALID\"))), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"surveyformfield\"\n  }, /*#__PURE__*/React.createElement(\"label\", null, t(\"LABEL_SURVEY_START_TIME\")), /*#__PURE__*/React.createElement(Controller, {\n    control: controlSurveyForm,\n    name: \"fromTime\",\n    defaultValue: surveyFormState === null || surveyFormState === void 0 ? void 0 : surveyFormState.fromTime,\n    rules: {\n      required: true,\n      validate: {\n        isValidFromTime: isValidFromTime\n      }\n    },\n    render: function render(_ref3) {\n      var onChange = _ref3.onChange,\n        value = _ref3.value;\n      return /*#__PURE__*/React.createElement(TextInput, {\n        type: \"time\",\n        isRequired: true,\n        onChange: onChange,\n        defaultValue: value\n      });\n    }\n  }), formErrors && (formErrors === null || formErrors === void 0 ? void 0 : formErrors.fromTime) && (formErrors === null || formErrors === void 0 ? void 0 : (_formErrors$fromTime = formErrors.fromTime) === null || _formErrors$fromTime === void 0 ? void 0 : _formErrors$fromTime.type) === \"required\" && /*#__PURE__*/React.createElement(CardLabelError$1, null, t(\"EVENTS_TO_DATE_ERROR_REQUIRED\")), formErrors && (formErrors === null || formErrors === void 0 ? void 0 : formErrors.fromTime) && (formErrors === null || formErrors === void 0 ? void 0 : (_formErrors$fromTime2 = formErrors.fromTime) === null || _formErrors$fromTime2 === void 0 ? void 0 : _formErrors$fromTime2.type) === \"isValidToDate\" && /*#__PURE__*/React.createElement(CardLabelError$1, null, t(\"EVENTS_TO_DATE_ERROR_INVALID\"))), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"surveyformfield\"\n  }, /*#__PURE__*/React.createElement(\"label\", null, t(\"LABEL_SURVEY_END_DATE\")), /*#__PURE__*/React.createElement(Controller, {\n    control: controlSurveyForm,\n    name: \"toDate\",\n    defaultValue: surveyFormState === null || surveyFormState === void 0 ? void 0 : surveyFormState.toDate,\n    rules: {\n      required: true,\n      validate: {\n        isValidToDate: isValidToDate\n      }\n    },\n    render: function render(_ref4) {\n      var onChange = _ref4.onChange,\n        value = _ref4.value;\n      return /*#__PURE__*/React.createElement(TextInput, {\n        type: \"date\",\n        isRequired: true,\n        onChange: onChange,\n        defaultValue: value\n      });\n    }\n  }), formErrors && (formErrors === null || formErrors === void 0 ? void 0 : formErrors.toDate) && (formErrors === null || formErrors === void 0 ? void 0 : (_formErrors$toDate = formErrors.toDate) === null || _formErrors$toDate === void 0 ? void 0 : _formErrors$toDate.type) === \"required\" && /*#__PURE__*/React.createElement(CardLabelError$1, null, t(\"EVENTS_TO_DATE_ERROR_REQUIRED\")), formErrors && (formErrors === null || formErrors === void 0 ? void 0 : formErrors.toDate) && (formErrors === null || formErrors === void 0 ? void 0 : (_formErrors$toDate2 = formErrors.toDate) === null || _formErrors$toDate2 === void 0 ? void 0 : _formErrors$toDate2.type) === \"isValidToDate\" && /*#__PURE__*/React.createElement(CardLabelError$1, null, t(\"EVENTS_TO_DATE_ERROR_INVALID\")), \" \"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"surveyformfield\"\n  }, /*#__PURE__*/React.createElement(\"label\", null, t(\"LABEL_SURVEY_END_TIME\")), /*#__PURE__*/React.createElement(Controller, {\n    control: controlSurveyForm,\n    name: \"toTime\",\n    defaultValue: surveyFormState === null || surveyFormState === void 0 ? void 0 : surveyFormState.toTime,\n    rules: {\n      required: true,\n      validate: {\n        isValidToTime: isValidToTime\n      }\n    },\n    render: function render(_ref5) {\n      var onChange = _ref5.onChange,\n        value = _ref5.value;\n      return /*#__PURE__*/React.createElement(TextInput, {\n        type: \"time\",\n        isRequired: true,\n        onChange: onChange,\n        defaultValue: value\n      });\n    }\n  }), formErrors && (formErrors === null || formErrors === void 0 ? void 0 : formErrors.toTime) && (formErrors === null || formErrors === void 0 ? void 0 : (_formErrors$toTime = formErrors.toTime) === null || _formErrors$toTime === void 0 ? void 0 : _formErrors$toTime.type) === \"required\" && /*#__PURE__*/React.createElement(CardLabelError$1, null, t(\"EVENTS_TO_DATE_ERROR_REQUIRED\")), formErrors && (formErrors === null || formErrors === void 0 ? void 0 : formErrors.toTime) && (formErrors === null || formErrors === void 0 ? void 0 : (_formErrors$toTime2 = formErrors.toTime) === null || _formErrors$toTime2 === void 0 ? void 0 : _formErrors$toTime2.type) === \"isValidToDate\" && /*#__PURE__*/React.createElement(CardLabelError$1, null, t(\"EVENTS_TO_DATE_ERROR_INVALID\"))))));\n};\nvar Heading$9 = function Heading(props) {\n  return /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"heading-m\"\n  }, props.t(props.heading));\n};\nvar Close$a = function Close() {\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"#FFFFFF\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0V0z\",\n    fill: \"none\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z\"\n  }));\n};\nvar CloseBtn$a = function CloseBtn(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"icon-bg-secondary\",\n    onClick: props.onClick\n  }, /*#__PURE__*/React.createElement(Close$a, null));\n};\nvar ConfirmationQuestion$2 = function ConfirmationQuestion(_ref) {\n  var t = _ref.t,\n    title = _ref.title;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"confirmation_box\"\n  }, /*#__PURE__*/React.createElement(\"span\", null, \" \", t(\"CONFIRM_INACTIVE_SURVEY_MSG_NEW\"), \" \", /*#__PURE__*/React.createElement(\"b\", null, \" \" + title), t(\"CONFIRM_INACTIVE_SURVEY_MSG_TO_INACTIVE\"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"br\", null), t(\"CONFIRM_INACTIVE_SURVEY_WARN_MSG\")));\n};\nvar MarkInActiveModal = function MarkInActiveModal(_ref2) {\n  var t = _ref2.t,\n    heading = _ref2.heading,\n    surveyTitle = _ref2.surveyTitle,\n    closeModal = _ref2.closeModal,\n    actionCancelLabel = _ref2.actionCancelLabel,\n    actionCancelOnSubmit = _ref2.actionCancelOnSubmit,\n    actionSaveLabel = _ref2.actionSaveLabel,\n    actionSaveOnSubmit = _ref2.actionSaveOnSubmit;\n  return /*#__PURE__*/React.createElement(Modal, {\n    headerBarMain: /*#__PURE__*/React.createElement(Heading$9, {\n      t: t,\n      heading: heading\n    }),\n    headerBarEnd: /*#__PURE__*/React.createElement(CloseBtn$a, {\n      onClick: closeModal\n    }),\n    actionCancelLabel: t(actionCancelLabel),\n    actionCancelOnSubmit: actionCancelOnSubmit,\n    actionSaveLabel: t(actionSaveLabel),\n    actionSaveOnSubmit: actionSaveOnSubmit,\n    formId: \"modal-action\"\n  }, /*#__PURE__*/React.createElement(ConfirmationQuestion$2, {\n    t: t,\n    title: surveyTitle\n  }));\n};\nvar filterQuestion = function filterQuestion(question) {\n  if (!question) return;\n  if (question.type !== \"Multiple Choice\" || question.type !== \"Check Boxes\") {\n    delete question.options;\n  }\n  return _extends({}, question, {\n    type: answerTypeEnum[question.type]\n  });\n};\nvar TypeAnswerEnum = {\n  SHORT_ANSWER_TYPE: \"Short Answer\",\n  LONG_ANSWER_TYPE: \"Paragraph\",\n  MULTIPLE_ANSWER_TYPE: \"Multiple Choice\",\n  CHECKBOX_ANSWER_TYPE: \"Check Boxes\",\n  DATE_ANSWER_TYPE: \"Date\",\n  TIME_ANSWER_TYPE: \"Time\"\n};\nvar SurveyDetails = function SurveyDetails(_ref) {\n  var isMobile = window.Digit.Utils.browser.isMobile();\n  var _useParams = useParams(),\n    id = _useParams.id;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var history = useHistory();\n  var _useState = useState(false),\n    showModal = _useState[0],\n    setShowModal = _useState[1];\n  var _useState2 = useState(true),\n    isFormDisabled = _useState2[0],\n    setIsFormDisabled = _useState2[1];\n  var _useState3 = useState(false),\n    isFormPartiallyEnabled = _useState3[0],\n    setFormPartiallyEnabled = _useState3[1];\n  var _useState4 = useState(false),\n    displayMenu = _useState4[0],\n    setDisplayMenu = _useState4[1];\n  var _useState5 = useState(undefined),\n    userAction = _useState5[0],\n    setUserAction = _useState5[1];\n  var tenantId = Digit.ULBService.getCurrentTenantId();\n  var tenantIdForInboxSearch = window.Digit.SessionStorage.get(\"CITIZENSURVEY.INBOX\").searchForm.tenantIds.code;\n  var _Digit$Hooks$survey$u = Digit.Hooks.survey.useSearch({\n      tenantIds: tenantIdForInboxSearch,\n      uuid: id\n    }, {\n      select: function select(data) {\n        var _data$Surveys;\n        var surveyObj = data === null || data === void 0 ? void 0 : (_data$Surveys = data.Surveys) === null || _data$Surveys === void 0 ? void 0 : _data$Surveys[0];\n        return {\n          uuid: surveyObj.uuid,\n          title: surveyObj.title,\n          description: surveyObj.description,\n          collectCitizenInfo: {\n            code: surveyObj.collectCitizenInfo\n          },\n          fromDate: format(new Date(surveyObj.startDate), \"yyyy-MM-dd\"),\n          toDate: format(new Date(surveyObj.endDate), \"yyyy-MM-dd\"),\n          fromTime: format(new Date(surveyObj.startDate), \"hh:mm\"),\n          toTime: format(new Date(surveyObj.endDate), \"hh:mm\"),\n          questions: surveyObj.questions.map(function (_ref2) {\n            var questionStatement = _ref2.questionStatement,\n              type = _ref2.type,\n              required = _ref2.required,\n              options = _ref2.options,\n              uuid = _ref2.uuid,\n              surveyId = _ref2.surveyId;\n            return {\n              questionStatement: questionStatement,\n              type: TypeAnswerEnum[type],\n              required: required,\n              options: options,\n              uuid: uuid,\n              surveyId: surveyId\n            };\n          }),\n          status: surveyObj.status\n        };\n      }\n    }),\n    isLoading = _Digit$Hooks$survey$u.isLoading,\n    surveyData = _Digit$Hooks$survey$u.data;\n  var isSurveyActive = useMemo(function () {\n    var surveyStartTime = new Date((surveyData === null || surveyData === void 0 ? void 0 : surveyData.fromDate) + \" \" + (surveyData === null || surveyData === void 0 ? void 0 : surveyData.fromTime)).getTime();\n    var surveyEndTime = new Date((surveyData === null || surveyData === void 0 ? void 0 : surveyData.toDate) + \" \" + (surveyData === null || surveyData === void 0 ? void 0 : surveyData.toTime)).getTime();\n    var currentTime = new Date().getTime();\n    if (surveyStartTime < currentTime && currentTime < surveyEndTime) {\n      return true;\n    }\n    return false;\n  }, [surveyData === null || surveyData === void 0 ? void 0 : surveyData.fromDate, surveyData === null || surveyData === void 0 ? void 0 : surveyData.fromTime, surveyData === null || surveyData === void 0 ? void 0 : surveyData.toDate, surveyData === null || surveyData === void 0 ? void 0 : surveyData.toTime]);\n  function onActionSelect(action) {\n    if (action === \"EDIT\") {\n      if (isSurveyActive) {\n        setFormPartiallyEnabled(!isFormPartiallyEnabled);\n      } else {\n        setIsFormDisabled(!isFormDisabled);\n      }\n      setUserAction(\"EDIT\");\n    }\n    if (action === \"INACTIVE\") {\n      setShowModal(true);\n      setUserAction(\"INACTIVE\");\n    }\n    if (action === \"ACTIVE\") {\n      setShowModal(true);\n      setUserAction(\"ACTIVE\");\n    }\n    if (action === \"DELETE\") {\n      setShowModal(true);\n      setUserAction(\"DELETE\");\n    }\n    setDisplayMenu(false);\n  }\n  var onEdit = function onEdit(data) {\n    var _tenantIds$;\n    var collectCitizenInfo = data.collectCitizenInfo,\n      title = data.title,\n      description = data.description,\n      tenantIds = data.tenantIds,\n      fromDate = data.fromDate,\n      toDate = data.toDate,\n      fromTime = data.fromTime,\n      toTime = data.toTime,\n      questions = data.questions;\n    var mappedQuestions = mapQuestions(questions);\n    var details = {\n      SurveyEntity: {\n        uuid: surveyData.uuid,\n        tenantId: (_tenantIds$ = tenantIds[0]) === null || _tenantIds$ === void 0 ? void 0 : _tenantIds$.code,\n        title: title,\n        description: description,\n        collectCitizenInfo: collectCitizenInfo.code,\n        startDate: new Date(fromDate + \" \" + fromTime).getTime(),\n        endDate: new Date(toDate + \" \" + toTime).getTime(),\n        questions: mappedQuestions,\n        status: isSurveyActive ? \"ACTIVE\" : \"INACTIVE\"\n      }\n    };\n    history.push(\"/digit-ui/employee/engagement/surveys/update-response\", details);\n  };\n  var handleDelete = function handleDelete() {\n    var details = {\n      SurveyEntity: _extends({}, surveyData, {\n        collectCitizenInfo: surveyData.collectCitizenInfo.code\n      })\n    };\n    history.push(\"/digit-ui/employee/engagement/surveys/delete-response\", details);\n  };\n  var handleMarkActive = function handleMarkActive(data) {\n    var fromDate = data.fromDate,\n      toDate = data.toDate,\n      fromTime = data.fromTime,\n      toTime = data.toTime;\n    var details = {\n      SurveyEntity: _extends({}, surveyData, {\n        status: \"ACTIVE\",\n        startDate: new Date(fromDate + \" \" + fromTime).getTime(),\n        endDate: new Date(toDate + \" \" + toTime).getTime(),\n        collectCitizenInfo: surveyData.collectCitizenInfo.code,\n        questions: surveyData.questions.map(filterQuestion),\n        tenantId: tenantId\n      })\n    };\n    history.push(\"/digit-ui/employee/engagement/surveys/update-response\", details);\n  };\n  var handleMarkInactive = function handleMarkInactive() {\n    var details = {\n      SurveyEntity: _extends({}, surveyData, {\n        questions: surveyData.questions.map(filterQuestion),\n        status: \"INACTIVE\",\n        collectCitizenInfo: surveyData.collectCitizenInfo.code\n      })\n    };\n    history.push(\"/digit-ui/employee/engagement/surveys/update-response\", details);\n  };\n  var actionMenuOptions = useMemo(function () {\n    var options = [\"EDIT\", \"DELETE\"];\n    if (isSurveyActive && (surveyData === null || surveyData === void 0 ? void 0 : surveyData.status) === \"ACTIVE\") {\n      options.splice(1, 0, \"INACTIVE\");\n    } else if (!isSurveyActive) {\n      options.splice(1, 0, \"ACTIVE\");\n    }\n    return options;\n  }, [isSurveyActive, surveyData === null || surveyData === void 0 ? void 0 : surveyData.status]);\n  if (isLoading) return /*#__PURE__*/React.createElement(Loader, null);\n  return /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(Header, null, t(\"CS_COMMON_SURVEYS\")), /*#__PURE__*/React.createElement(EditSurveyForms, {\n    t: t,\n    onEdit: onEdit,\n    menuOptions: actionMenuOptions,\n    displayMenu: displayMenu,\n    isFormDisabled: isFormDisabled,\n    isPartiallyEnabled: isFormPartiallyEnabled,\n    setDisplayMenu: setDisplayMenu,\n    onActionSelect: onActionSelect,\n    initialSurveysConfig: surveyData,\n    isSurveyActive: isSurveyActive,\n    formDisabled: isFormDisabled\n  }), showModal && userAction === \"DELETE\" && /*#__PURE__*/React.createElement(DeleteModal, {\n    t: t,\n    heading: \"CONFIRM_DELETE_SURVEY\",\n    surveyTitle: surveyData.title,\n    closeModal: function closeModal() {\n      return setShowModal(false);\n    },\n    actionCancelLabel: \"CS_COMMON_CANCEL\",\n    actionCancelOnSubmit: function actionCancelOnSubmit() {\n      return setShowModal(false);\n    },\n    actionSaveLabel: \"ES_COMMON_DEL\",\n    actionSaveOnSubmit: handleDelete\n  }), showModal && userAction === \"ACTIVE\" && /*#__PURE__*/React.createElement(MarkActiveModal, {\n    t: t,\n    heading: \"CONFIRM_MARKACTIVE_SURVEY\",\n    initialValues: surveyData,\n    closeModal: function closeModal() {\n      return setShowModal(false);\n    },\n    actionCancelLabel: \"CS_COMMON_CANCEL\",\n    actionCancelOnSubmit: function actionCancelOnSubmit() {\n      return setShowModal(false);\n    },\n    actionSaveLabel: \"ES_COMMON_SAVE\",\n    actionSaveOnSubmit: handleMarkActive,\n    onSubmit: handleMarkActive,\n    surveyTitle: surveyData.title\n  }), showModal && userAction === \"INACTIVE\" && /*#__PURE__*/React.createElement(MarkInActiveModal, {\n    t: t,\n    heading: \"CONFIRM_MARKINACTIVE_SURVEY\",\n    surveyTitle: surveyData.title,\n    closeModal: function closeModal() {\n      return setShowModal(false);\n    },\n    actionCancelLabel: \"CS_COMMON_CANCEL\",\n    actionCancelOnSubmit: function actionCancelOnSubmit() {\n      return setShowModal(false);\n    },\n    actionSaveLabel: \"ES_COMMON_Y_MARKINACTIVE\",\n    actionSaveOnSubmit: handleMarkInactive\n  }));\n};\nvar CitizenSurveyQuestion = function CitizenSurveyQuestion(_ref) {\n  var t = _ref.t,\n    question = _ref.question,\n    control = _ref.control,\n    register = _ref.register,\n    formState = _ref.formState,\n    formDisabled = _ref.formDisabled;\n  var formErrors = formState === null || formState === void 0 ? void 0 : formState.errors;\n  if (!question) return;\n  var displayAnswerField = function displayAnswerField(answerType) {\n    var _formErrors$question$, _formErrors$question$2, _formErrors$question$3, _formErrors$question$4, _formErrors$question$5, _formErrors$question$6, _formErrors$question$7, _formErrors$question$8;\n    switch (answerType) {\n      case \"SHORT_ANSWER_TYPE\":\n        return /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(TextInput, {\n          name: question.uuid,\n          disabled: formDisabled,\n          type: \"text\",\n          inputRef: register({\n            maxLength: {\n              value: 200,\n              message: t(\"EXCEEDS_200_CHAR_LIMIT\")\n            },\n            required: question.required\n          })\n        }), formErrors && (formErrors === null || formErrors === void 0 ? void 0 : formErrors[question.uuid]) && (formErrors === null || formErrors === void 0 ? void 0 : (_formErrors$question$ = formErrors[question.uuid]) === null || _formErrors$question$ === void 0 ? void 0 : _formErrors$question$.type) === \"required\" && /*#__PURE__*/React.createElement(CardLabelError$1, null, t(\"CS_COMMON_REQUIRED\")), formErrors && (formErrors === null || formErrors === void 0 ? void 0 : formErrors[question.uuid]) && (formErrors === null || formErrors === void 0 ? void 0 : (_formErrors$question$2 = formErrors[question.uuid]) === null || _formErrors$question$2 === void 0 ? void 0 : _formErrors$question$2.type) === \"maxLength\" && /*#__PURE__*/React.createElement(CardLabelError$1, null, t(\"EXCEEDS_200_CHAR_LIMIT\")));\n      case \"LONG_ANSWER_TYPE\":\n        return /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(TextArea, {\n          name: question.uuid,\n          disabled: formDisabled,\n          inputRef: register({\n            maxLength: {\n              value: 500,\n              message: t(\"EXCEEDS_500_CHAR_LIMIT\")\n            },\n            required: question.required\n          })\n        }), formErrors && (formErrors === null || formErrors === void 0 ? void 0 : formErrors[question.uuid]) && (formErrors === null || formErrors === void 0 ? void 0 : (_formErrors$question$3 = formErrors[question.uuid]) === null || _formErrors$question$3 === void 0 ? void 0 : _formErrors$question$3.type) === \"required\" && /*#__PURE__*/React.createElement(CardLabelError$1, null, t(\"CS_COMMON_REQUIRED\")), formErrors && (formErrors === null || formErrors === void 0 ? void 0 : formErrors[question.uuid]) && (formErrors === null || formErrors === void 0 ? void 0 : (_formErrors$question$4 = formErrors[question.uuid]) === null || _formErrors$question$4 === void 0 ? void 0 : _formErrors$question$4.type) === \"maxLength\" && /*#__PURE__*/React.createElement(CardLabelError$1, null, t(\"EXCEEDS_500_CHAR_LIMIT\")));\n      case \"MULTIPLE_ANSWER_TYPE\":\n        return /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(Controller, {\n          control: control,\n          name: question.uuid,\n          rules: {\n            required: question.required\n          },\n          render: function render(_ref2) {\n            var onChange = _ref2.onChange,\n              value = _ref2.value;\n            return /*#__PURE__*/React.createElement(RadioButtons, {\n              disabled: formDisabled,\n              onSelect: onChange,\n              selectedOption: value,\n              optionsKey: \"\",\n              options: [].concat(question.options)\n            });\n          }\n        }), formErrors && (formErrors === null || formErrors === void 0 ? void 0 : formErrors[question.uuid]) && (formErrors === null || formErrors === void 0 ? void 0 : (_formErrors$question$5 = formErrors[question.uuid]) === null || _formErrors$question$5 === void 0 ? void 0 : _formErrors$question$5.type) === \"required\" && /*#__PURE__*/React.createElement(CardLabelError$1, null, t(\"EVENTS_TO_DATE_ERROR_REQUIRED\")));\n      case \"CHECKBOX_ANSWER_TYPE\":\n        return /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(Controller, {\n          control: control,\n          name: question.uuid,\n          render: function render(_ref3) {\n            var _onChange = _ref3.onChange,\n              value = _ref3.value;\n            return /*#__PURE__*/React.createElement(\"div\", {\n              className: \"align-columns\"\n            }, question.options.map(function (option) {\n              return /*#__PURE__*/React.createElement(CheckBox, {\n                disabled: formDisabled,\n                key: option,\n                onChange: function onChange(e) {\n                  if (e.target.checked) {\n                    _onChange([option].concat(value ? value : []));\n                  } else {\n                    value && _onChange(value.filter(function (item) {\n                      return item !== option;\n                    }));\n                  }\n                },\n                checked: !!(value !== null && value !== void 0 && value.find(function (e) {\n                  return e === option;\n                })),\n                label: option\n              });\n            }));\n          }\n        }), formErrors && (formErrors === null || formErrors === void 0 ? void 0 : formErrors[question.uuid]) && (formErrors === null || formErrors === void 0 ? void 0 : (_formErrors$question$6 = formErrors[question.uuid]) === null || _formErrors$question$6 === void 0 ? void 0 : _formErrors$question$6.type) === \"required\" && /*#__PURE__*/React.createElement(CardLabelError$1, null, t(\"CS_COMMON_REQUIRED\")));\n      case \"DATE_ANSWER_TYPE\":\n        return /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(Controller, {\n          control: control,\n          name: question.uuid,\n          rules: {\n            required: question.required\n          },\n          render: function render(_ref4) {\n            var onChange = _ref4.onChange,\n              value = _ref4.value;\n            return /*#__PURE__*/React.createElement(TextInput, {\n              disabled: formDisabled,\n              type: \"date\",\n              onChange: onChange,\n              defaultValue: value\n            });\n          }\n        }), formErrors && (formErrors === null || formErrors === void 0 ? void 0 : formErrors[question.uuid]) && (formErrors === null || formErrors === void 0 ? void 0 : (_formErrors$question$7 = formErrors[question.uuid]) === null || _formErrors$question$7 === void 0 ? void 0 : _formErrors$question$7.type) === \"required\" && /*#__PURE__*/React.createElement(CardLabelError$1, null, t(\"EVENTS_TO_DATE_ERROR_REQUIRED\")));\n      case \"TIME_ANSWER_TYPE\":\n        return /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(Controller, {\n          control: control,\n          name: question.uuid,\n          rules: {\n            required: question.required\n          },\n          render: function render(_ref5) {\n            var onChange = _ref5.onChange,\n              value = _ref5.value;\n            return /*#__PURE__*/React.createElement(TextInput, {\n              type: \"time\",\n              disabled: formDisabled,\n              onChange: onChange,\n              defaultValue: value\n            });\n          }\n        }), formErrors && (formErrors === null || formErrors === void 0 ? void 0 : formErrors[question.uuid]) && (formErrors === null || formErrors === void 0 ? void 0 : (_formErrors$question$8 = formErrors[question.uuid]) === null || _formErrors$question$8 === void 0 ? void 0 : _formErrors$question$8.type) === \"required\" && /*#__PURE__*/React.createElement(CardLabelError$1, null, t(\"EVENTS_TO_DATE_ERROR_REQUIRED\")));\n      default:\n        return /*#__PURE__*/React.createElement(TextInput, {\n          name: question.uuid,\n          disabled: formDisabled,\n          type: \"text\",\n          inputRef: register({\n            maxLength: {\n              value: 60,\n              message: t(\"EXCEEDS_60_CHAR_LIMIT\")\n            },\n            required: question.required\n          })\n        });\n    }\n  };\n  return /*#__PURE__*/React.createElement(Card, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"surveyQuestion-wrapper\"\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"question-title\"\n  }, question.questionStatement), /*#__PURE__*/React.createElement(\"span\", null, displayAnswerField(question.type))));\n};\nvar CitizenSurveyForm = function CitizenSurveyForm(_ref) {\n  var _surveyData$title;\n  var surveyData = _ref.surveyData,\n    onFormSubmit = _ref.onFormSubmit,\n    submitDisabled = _ref.submitDisabled,\n    formDisabled = _ref.formDisabled,\n    formDefaultValues = _ref.formDefaultValues;\n  var _useForm = useForm({\n      defaultValues: formDefaultValues\n    }),\n    registerRef = _useForm.register,\n    controlSurveyForm = _useForm.control,\n    handleSurveyFormSubmit = _useForm.handleSubmit,\n    getSurveyFormValues = _useForm.getValues,\n    surveyFormState = _useForm.formState;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"citizenSurvey-wrapper\"\n  }, /*#__PURE__*/React.createElement(Header, null, surveyData === null || surveyData === void 0 ? void 0 : (_surveyData$title = surveyData.title) === null || _surveyData$title === void 0 ? void 0 : _surveyData$title.toUpperCase()), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSurveyFormSubmit(onFormSubmit)\n  }, surveyData.questions.length ? surveyData.questions.map(function (config, index) {\n    return /*#__PURE__*/React.createElement(CitizenSurveyQuestion, {\n      key: index,\n      t: t,\n      question: config,\n      control: controlSurveyForm,\n      register: registerRef,\n      values: getSurveyFormValues,\n      formState: surveyFormState,\n      formDisabled: formDisabled\n    });\n  }) : null, /*#__PURE__*/React.createElement(ActionBar, null, !submitDisabled && /*#__PURE__*/React.createElement(SubmitBar, {\n    label: t(\"CS_SUBMIT_SURVEY\"),\n    submit: \"submit\"\n  }))));\n};\nvar bindQuesWithAns = function bindQuesWithAns(ques, ans) {\n  var data = [];\n  ques.map(function (ques) {\n    var obj = {};\n    if (ques.type === \"Check Boxes\") {\n      obj[\"type\"] = ques.type;\n      obj[\"questionStatement\"] = ques.questionStatement;\n      obj[\"options\"] = ques.options;\n      obj[\"answers\"] = [];\n      ans.map(function (ans) {\n        if (ques.uuid === ans.questionId) {\n          obj[\"answers\"] = [].concat(obj[\"answers\"], [ans.answer]);\n        }\n      });\n    } else {\n      var type = ques.type;\n      obj[\"type\"] = type;\n      obj[\"questionStatement\"] = ques.questionStatement;\n      obj[\"options\"] = ques.options;\n      ans.map(function (ans) {\n        if (ques.uuid === ans.questionId) {\n          var answers = obj[\"answers\"];\n          if (answers) answers.push(ans.answer[0]);\n          obj[\"answers\"] = answers ? answers : [ans.answer[0]];\n        }\n      });\n    }\n    data.push(obj);\n  });\n  return data;\n};\nvar WhoHasResponded = function WhoHasResponded(_ref) {\n  var t = _ref.t,\n    userInfo = _ref.userInfo;\n  var data = Object.entries(userInfo);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      \"margin\": \"30px\"\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    style: {\n      \"fontSize\": \"30px\",\n      \"fontWeight\": \"bold\"\n    }\n  }, t(\"WHO_RESPONDED\")), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      \"display\": \"flex\",\n      \"padding\": \"8px 4px\",\n      \"background-color\": \"#FAFAFA\",\n      \"border\": \"1px solid #D6D5D4\",\n      \"boxSizing\": \"borderBox\",\n      \"borderRadius\": \"4px\",\n      \"marginTop\": \"20px\",\n      \"marginBottom\": \"20px\"\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      \"flex\": \"50%\",\n      \"padding\": \"10px\"\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    style: {\n      \"fontWeight\": \"bold\",\n      \"fontSize\": \"25px\"\n    }\n  }, \"Email\"), data.map(function (user) {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        \"margin\": \"10px 0px 10px 0px\"\n      }\n    }, user[1]);\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      \"flex\": \"50%\",\n      \"padding\": \"10px\"\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    style: {\n      \"fontWeight\": \"bold\",\n      \"fontSize\": \"25px\"\n    }\n  }, \"Phone Number\"), data.map(function (user) {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        \"margin\": \"10px 0px 10px 0px\"\n      }\n    }, user[0]);\n  }))));\n};\nvar SurveyDetailsView = function SurveyDetailsView(_ref) {\n  var surveyTitle = _ref.surveyTitle,\n    surveyDesc = _ref.surveyDesc,\n    t = _ref.t;\n  var ulbs = Digit.SessionStorage.get(\"ENGAGEMENT_TENANTS\");\n  var tenantId = Digit.ULBService.getCurrentTenantId();\n  var userInfo = Digit.UserService.getUser().info;\n  var userUlbs = ulbs.filter(function (ulb) {\n    var _userInfo$roles;\n    return userInfo === null || userInfo === void 0 ? void 0 : (_userInfo$roles = userInfo.roles) === null || _userInfo$roles === void 0 ? void 0 : _userInfo$roles.some(function (role) {\n      return (role === null || role === void 0 ? void 0 : role.tenantId) === (ulb === null || ulb === void 0 ? void 0 : ulb.code);\n    });\n  });\n  var selectedTenat = useMemo(function () {\n    var filtered = ulbs.filter(function (item) {\n      return item.code === tenantId;\n    });\n    return filtered;\n  }, [ulbs]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"surveydetailsform-wrapper\"\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"surveyformfield\"\n  }, /*#__PURE__*/React.createElement(\"label\", null, t(\"LABEL_FOR_ULB\") + \" * :\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"grid\",\n      gridAutoFlow: \"row\"\n    }\n  }, /*#__PURE__*/React.createElement(Dropdown, {\n    allowMultiselect: true,\n    optionKey: \"i18nKey\",\n    option: userUlbs,\n    selected: selectedTenat,\n    keepNull: true,\n    disable: true,\n    t: t\n  }), /*#__PURE__*/React.createElement(RemoveableTag, {\n    key: \"tag\",\n    text: userUlbs[0].name\n  }))), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"surveyformfield\"\n  }, /*#__PURE__*/React.createElement(\"label\", null, t(\"CS_SURVEY_NAME\")), /*#__PURE__*/React.createElement(TextInput, {\n    name: \"title\",\n    type: \"text\",\n    disable: true,\n    value: surveyTitle\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"surveyformfield\"\n  }, /*#__PURE__*/React.createElement(\"label\", null, t(\"CS_SURVEY_DESCRIPTION\")), /*#__PURE__*/React.createElement(TextInput, {\n    name: \"description\",\n    type: \"text\",\n    disable: true,\n    value: surveyDesc\n  })));\n};\nvar getData = function getData(data) {\n  var options = data.options;\n  var answers = data.answers;\n  var processedData = [];\n  options.map(function (option) {\n    return processedData.push({\n      name: option,\n      value: 0\n    });\n  });\n  answers.map(function (ans, index) {\n    processedData.map(function (element, i) {\n      if (element.name === ans) processedData[i].value = processedData[i].value + 1;\n    });\n  });\n  return processedData;\n};\nvar COLORS = [\"#8E29BF\", \"#FBC02D\", \"#048BD0\", \"#EA8A3B\", \"#0BABDE\", \"#800080\", \"#ee82ee\", \"#616161\", \"#3cb371\", \"#6a5acd\"];\nvar RADIAN = Math.PI / 180;\nvar renderCustomizedLabel = function renderCustomizedLabel(_ref) {\n  var cx = _ref.cx,\n    cy = _ref.cy,\n    midAngle = _ref.midAngle,\n    innerRadius = _ref.innerRadius,\n    outerRadius = _ref.outerRadius,\n    percent = _ref.percent;\n  var radius = innerRadius + (outerRadius - innerRadius) * 0.5;\n  var x = cx + radius * Math.cos(-midAngle * RADIAN);\n  var y = cy + radius * Math.sin(-midAngle * RADIAN);\n  return /*#__PURE__*/React.createElement(\"text\", {\n    x: x,\n    y: y,\n    fill: \"white\",\n    textAnchor: x > cx ? \"start\" : \"end\",\n    dominantBaseline: \"central\"\n  }, (percent * 100).toFixed(0) + \"%\");\n};\nvar renderLegend = function renderLegend(props) {\n  var payload = props.payload;\n  return /*#__PURE__*/React.createElement(\"ul\", {\n    style: {\n      \"listStyle\": \"disc\"\n    }\n  }, payload.map(function (entry, index) {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: \"item-\" + index,\n      style: {\n        \"display\": \"list-item\",\n        \"color\": entry.color,\n        \"fontSize\": \"19px\"\n      }\n    }, entry.value);\n  }));\n};\nvar McqChart = function McqChart(props) {\n  var data = getData(props.data);\n  return /*#__PURE__*/React.createElement(PieChart, {\n    width: 400,\n    height: 400\n  }, /*#__PURE__*/React.createElement(Pie, {\n    data: data,\n    cx: 200,\n    cy: 200,\n    labelLine: false,\n    label: renderCustomizedLabel,\n    outerRadius: 120,\n    fill: \"#8884d8\",\n    dataKey: \"value\"\n  }, data.map(function (entry, index) {\n    return /*#__PURE__*/React.createElement(Cell, {\n      key: \"cell-\" + index,\n      fill: COLORS[index % COLORS.length]\n    });\n  })), /*#__PURE__*/React.createElement(Tooltip, null), /*#__PURE__*/React.createElement(Legend, {\n    content: renderLegend,\n    width: 100,\n    align: \"right\",\n    wrapperStyle: {\n      top: 40,\n      right: 20,\n      left: 500,\n      backgroundColor: '#FAFAFA',\n      borderRadius: 3,\n      lineHeight: '40px'\n    }\n  }));\n};\nvar formObj = function formObj(data) {\n  var checkBoxData = [];\n  var options = data.options;\n  var answers = data.answers;\n  options.map(function (option) {\n    var obj = {};\n    obj[\"name\"] = option;\n    obj[\"value\"] = 0;\n    answers.map(function (ans) {\n      ans.map(function (el) {\n        if (el === option) {\n          obj[\"value\"] = obj[\"value\"] + 1;\n        }\n      });\n    });\n    checkBoxData.push(obj);\n  });\n  return checkBoxData;\n};\nvar CheckBoxChart = function CheckBoxChart(props) {\n  var datav1 = formObj(props.data);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      \"padding\": \"10px\",\n      \"width\": \"700px\",\n      \"height\": \"260px\",\n      \"backgroundColor\": \"#fafafa\"\n    }\n  }, /*#__PURE__*/React.createElement(ResponsiveContainer, null, /*#__PURE__*/React.createElement(BarChart, {\n    data: datav1,\n    layout: \"vertical\",\n    margin: {\n      top: 0,\n      right: 50,\n      left: 0,\n      bottom: 0\n    },\n    barCategoryGap: 8\n  }, /*#__PURE__*/React.createElement(CartesianGrid, {\n    strokeDasharray: \"3 3\"\n  }), /*#__PURE__*/React.createElement(XAxis, {\n    type: \"number\"\n  }), /*#__PURE__*/React.createElement(YAxis, {\n    type: \"category\",\n    width: 150,\n    padding: {\n      left: 20\n    },\n    dataKey: \"name\"\n  }), /*#__PURE__*/React.createElement(Bar, {\n    dataKey: \"value\",\n    fill: \"#048BD0\"\n  }), /*#__PURE__*/React.createElement(Tooltip, null))));\n};\nvar transformDate = function transformDate(date) {\n  var split = date.split('-');\n  var month = split[1];\n  var year = split[0];\n  var day = split[2];\n  var monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n  return {\n    day: day,\n    date: monthNames[month - 1] + \" \" + year\n  };\n};\nfunction transformTime(time) {\n  time = time.toString().match(/^([01]\\d|2[0-3])(:)([0-5]\\d)(:[0-5]\\d)?$/) || [time];\n  if (time.length > 1) {\n    time = time.slice(1);\n    time[5] = +time[0] < 12 ? ' AM' : ' PM';\n    time[0] = +time[0] % 12 || 12;\n  }\n  return time.join('');\n}\nvar getUserData = function getUserData(data) {\n  var obj = {};\n  data.map(function (ans) {\n    obj[ans.mobileNumber] = ans.emailId;\n  });\n  return obj;\n};\nvar displayResult = function displayResult(ques, ans, type, resCount) {\n  switch (type) {\n    case \"Short Answer\":\n      return /*#__PURE__*/(\n        React.createElement(\"div\", {\n          style: {\n            \"margin\": \"30px\"\n          }\n        }, /*#__PURE__*/React.createElement(CardSectionHeader, null, ques.questionStatement), /*#__PURE__*/React.createElement(\"header\", {\n          style: {\n            \"fontWeight\": \"bold\"\n          }\n        }, resCount + \" Responses\"), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"responses-container\"\n        }, ans.map(function (el) {\n          return /*#__PURE__*/React.createElement(\"div\", {\n            className: \"response-result responses-container-line\"\n          }, el, /*#__PURE__*/React.createElement(BreakLine, {\n            style: {\n              \"marginTop\": \"10px\"\n            }\n          }));\n        })))\n      );\n    case \"Date\":\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          \"margin\": \"30px\"\n        }\n      }, /*#__PURE__*/React.createElement(CardSectionHeader, null, ques.questionStatement), /*#__PURE__*/React.createElement(\"header\", {\n        style: {\n          \"fontWeight\": \"bold\"\n        }\n      }, resCount + \" Responses\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"date-container\"\n      }, ans.map(function (el) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"date-response\"\n        }, /*#__PURE__*/React.createElement(\"div\", null, transformDate(el).date), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"divide\"\n        }), /*#__PURE__*/React.createElement(\"div\", null, transformDate(el).day));\n      })));\n    case \"Time\":\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          \"margin\": \"30px\"\n        }\n      }, /*#__PURE__*/React.createElement(CardSectionHeader, null, ques.questionStatement), /*#__PURE__*/React.createElement(\"header\", {\n        style: {\n          \"fontWeight\": \"bold\"\n        }\n      }, resCount + \" Responses\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"date-container\"\n      }, ans.map(function (el) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"date-response\"\n        }, /*#__PURE__*/React.createElement(\"div\", null, el), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"divide\"\n        }), /*#__PURE__*/React.createElement(\"div\", null, transformTime(el)));\n      })));\n    case \"Paragraph\":\n      return /*#__PURE__*/(\n        React.createElement(\"div\", {\n          style: {\n            \"margin\": \"30px\"\n          }\n        }, /*#__PURE__*/React.createElement(CardSectionHeader, null, ques.questionStatement), /*#__PURE__*/React.createElement(\"header\", {\n          style: {\n            \"fontWeight\": \"bold\"\n          }\n        }, resCount + \" Responses\"), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"responses-container\"\n        }, ans.map(function (el) {\n          return /*#__PURE__*/React.createElement(\"div\", {\n            className: \"response-result responses-container-line\"\n          }, el, /*#__PURE__*/React.createElement(BreakLine, {\n            style: {\n              \"marginTop\": \"10px\"\n            }\n          }));\n        })))\n      );\n    case \"Check Boxes\":\n      return /*#__PURE__*/(\n        React.createElement(\"div\", {\n          style: {\n            \"margin\": \"30px\"\n          }\n        }, /*#__PURE__*/React.createElement(CardSectionHeader, null, ques.questionStatement), /*#__PURE__*/React.createElement(\"header\", {\n          style: {\n            \"fontWeight\": \"bold\"\n          }\n        }, resCount + \" Responses\"), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"responses-container\",\n          style: {\n            \"padding\": \"30px\"\n          }\n        }, /*#__PURE__*/React.createElement(CheckBoxChart, {\n          data: ques\n        })))\n      );\n    case \"Multiple Choice\":\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          \"margin\": \"30px\"\n        }\n      }, /*#__PURE__*/React.createElement(CardSectionHeader, null, ques.questionStatement), /*#__PURE__*/React.createElement(\"header\", {\n        style: {\n          \"fontWeight\": \"bold\"\n        }\n      }, resCount + \" Responses\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"responses-container\"\n      }, /*#__PURE__*/React.createElement(McqChart, {\n        data: ques\n      })));\n  }\n};\nvar SurveyResultsView = function SurveyResultsView(_ref) {\n  var surveyInfo = _ref.surveyInfo,\n    responsesInfoMutation = _ref.responsesInfoMutation;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var _useState = useState(null),\n    data = _useState[0],\n    setData = _useState[1];\n  var _useState2 = useState(null),\n    userInfo = _useState2[0],\n    setUserInfo = _useState2[1];\n  useEffect(function () {\n    if (responsesInfoMutation.isSuccess) {\n      var dp = bindQuesWithAns(surveyInfo === null || surveyInfo === void 0 ? void 0 : surveyInfo.questions, responsesInfoMutation.data.answers);\n      setData(dp);\n      var ue = getUserData(responsesInfoMutation.data.answers);\n      setUserInfo(ue);\n    }\n  }, [responsesInfoMutation]);\n  if (!data) return /*#__PURE__*/React.createElement(Loader, null);\n  return /*#__PURE__*/React.createElement(Card, null, /*#__PURE__*/React.createElement(CardHeader, null, \"Surveys\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      \"margin\": \"30px\"\n    }\n  }, /*#__PURE__*/React.createElement(SurveyDetailsView, {\n    surveyTitle: surveyInfo.title,\n    surveyDesc: surveyInfo.description,\n    t: t\n  })), /*#__PURE__*/React.createElement(WhoHasResponded, {\n    t: t,\n    userInfo: userInfo\n  }), data.map(function (element) {\n    return displayResult(element, element.answers, element.type, element.answers.length);\n  }));\n};\nvar TypeAnswerEnum$1 = {\n  SHORT_ANSWER_TYPE: \"Short Answer\",\n  LONG_ANSWER_TYPE: \"Paragraph\",\n  MULTIPLE_ANSWER_TYPE: \"Multiple Choice\",\n  CHECKBOX_ANSWER_TYPE: \"Check Boxes\",\n  DATE_ANSWER_TYPE: \"Date\",\n  TIME_ANSWER_TYPE: \"Time\"\n};\nvar SurveyResults = function SurveyResults() {\n  var tenantId = Digit.ULBService.getCurrentTenantId();\n  var params = useParams();\n  var mutation = Digit.Hooks.survey.useShowResults();\n  var queryClient = useQueryClient();\n  useEffect(function () {\n    var onSuccess = function onSuccess() {\n      queryClient.clear();\n    };\n    mutation.mutate({\n      surveyId: params.id\n    }, {\n      onSuccess: onSuccess\n    });\n  }, []);\n  var _Digit$Hooks$survey$u = Digit.Hooks.survey.useSearch({\n      tenantIds: tenantId,\n      uuid: params.id\n    }, {\n      select: function select(data) {\n        var _data$Surveys;\n        var surveyObj = data === null || data === void 0 ? void 0 : (_data$Surveys = data.Surveys) === null || _data$Surveys === void 0 ? void 0 : _data$Surveys[0];\n        return {\n          uuid: surveyObj.uuid,\n          title: surveyObj.title,\n          description: surveyObj.description,\n          collectCitizenInfo: {\n            code: surveyObj.collectCitizenInfo\n          },\n          fromDate: format(new Date(surveyObj.startDate), \"yyyy-MM-dd\"),\n          toDate: format(new Date(surveyObj.endDate), \"yyyy-MM-dd\"),\n          fromTime: format(new Date(surveyObj.startDate), \"hh:mm\"),\n          toTime: format(new Date(surveyObj.endDate), \"hh:mm\"),\n          questions: surveyObj.questions.map(function (_ref) {\n            var questionStatement = _ref.questionStatement,\n              type = _ref.type,\n              required = _ref.required,\n              options = _ref.options,\n              uuid = _ref.uuid,\n              surveyId = _ref.surveyId;\n            return {\n              questionStatement: questionStatement,\n              type: TypeAnswerEnum$1[type],\n              required: required,\n              options: options,\n              uuid: uuid,\n              surveyId: surveyId\n            };\n          }),\n          status: surveyObj.status,\n          answersCount: surveyObj.answersCount\n        };\n      }\n    }),\n    isLoading = _Digit$Hooks$survey$u.isLoading,\n    surveyData = _Digit$Hooks$survey$u.data;\n  if (isLoading) return /*#__PURE__*/React.createElement(Loader, null);\n  return /*#__PURE__*/React.createElement(SurveyResultsView, {\n    surveyInfo: surveyData,\n    responsesInfoMutation: mutation\n  });\n};\nvar Surveys = function Surveys(_ref) {\n  var _ref$match = _ref.match;\n  _ref$match = _ref$match === void 0 ? {} : _ref$match;\n  var path = _ref$match.path,\n    tenants = _ref.tenants,\n    parentRoute = _ref.parentRoute;\n  return /*#__PURE__*/React.createElement(Switch, null, /*#__PURE__*/React.createElement(PrivateRoute, {\n    path: path + \"/inbox/create\",\n    component: function component(props) {\n      return /*#__PURE__*/React.createElement(NewSurveys, props);\n    }\n  }), /*#__PURE__*/React.createElement(PrivateRoute, {\n    path: path + \"/create\",\n    component: function component(props) {\n      return /*#__PURE__*/React.createElement(NewSurveys, props);\n    }\n  }), /*#__PURE__*/React.createElement(PrivateRoute, {\n    path: path + \"/inbox/details/:id\",\n    component: function component(props) {\n      return /*#__PURE__*/React.createElement(SurveyDetails, props);\n    }\n  }), /*#__PURE__*/React.createElement(PrivateRoute, {\n    path: path + \"/inbox/results/:id\",\n    component: function component(props) {\n      return /*#__PURE__*/React.createElement(SurveyResults, props);\n    }\n  }), /*#__PURE__*/React.createElement(PrivateRoute, {\n    path: path + \"/inbox\",\n    component: function component(props) {\n      return /*#__PURE__*/React.createElement(Inbox$3, _extends({}, props, {\n        tenants: tenants,\n        parentRoute: parentRoute\n      }));\n    }\n  }), /*#__PURE__*/React.createElement(PrivateRoute, {\n    path: path + \"/create-response\",\n    component: function component(props) {\n      return /*#__PURE__*/React.createElement(Acknowledgement$1, props);\n    }\n  }), /*#__PURE__*/React.createElement(PrivateRoute, {\n    path: path + \"/update-response\",\n    component: function component(props) {\n      return /*#__PURE__*/React.createElement(Response$5, props);\n    }\n  }), /*#__PURE__*/React.createElement(PrivateRoute, {\n    path: path + \"/delete-response\",\n    component: function component(props) {\n      return /*#__PURE__*/React.createElement(Response$6, props);\n    }\n  }));\n};\nvar transformSurveyResponseData = function transformSurveyResponseData(data) {\n  if (!data) return;\n  var questions = [];\n  for (var key in data) {\n    questions.push({\n      questionId: key,\n      answer: [data[key]]\n    });\n  }\n  return questions;\n};\nvar FillSurvey = function FillSurvey(_ref) {\n  var location = _ref.location;\n  var surveyData = location === null || location === void 0 ? void 0 : location.state;\n  var history = useHistory();\n  var onSubmit = function onSubmit(data) {\n    var details = {\n      AnswerEntity: {\n        surveyId: surveyData.uuid,\n        answers: transformSurveyResponseData(data),\n        surveyTitle: surveyData.title,\n        hasResponded: surveyData.hasResponded\n      }\n    };\n    history.push(\"/digit-ui/citizen/engagement/surveys/submit-response\", details);\n  };\n  return /*#__PURE__*/React.createElement(CitizenSurveyForm, {\n    surveyData: surveyData,\n    onFormSubmit: onSubmit,\n    formDisabled: false\n  });\n};\nvar ShowSurvey = function ShowSurvey(_ref) {\n  var _mutation$data;\n  var location = _ref.location;\n  var surveyData = location === null || location === void 0 ? void 0 : location.state;\n  var tenantIds = Digit.ULBService.getCitizenCurrentTenant();\n  var mutation = Digit.Hooks.survey.useShowResults();\n  var queryClient = useQueryClient();\n  useEffect(function () {\n    var onSuccess = function onSuccess() {\n      queryClient.clear();\n    };\n    mutation.mutate({\n      surveyId: surveyData.uuid\n    }, {\n      onSuccess: onSuccess\n    });\n  }, []);\n  if (mutation.isLoading && !mutation.isIdle) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n  if (mutation.isError) return /*#__PURE__*/React.createElement(\"div\", null, \"An error occured...\");\n  var answers = mutation === null || mutation === void 0 ? void 0 : (_mutation$data = mutation.data) === null || _mutation$data === void 0 ? void 0 : _mutation$data.answers;\n  var formDefaultValues = {};\n  answers === null || answers === void 0 ? void 0 : answers.map(function (ans) {\n    if ((ans === null || ans === void 0 ? void 0 : ans.answer.length) === 1) formDefaultValues[ans === null || ans === void 0 ? void 0 : ans.questionId] = ans === null || ans === void 0 ? void 0 : ans.answer[0];else formDefaultValues[ans === null || ans === void 0 ? void 0 : ans.questionId] = ans === null || ans === void 0 ? void 0 : ans.answer;\n  });\n  return /*#__PURE__*/React.createElement(CitizenSurveyForm, {\n    surveyData: surveyData,\n    submitDisabled: true,\n    formDisabled: true,\n    formDefaultValues: formDefaultValues\n  });\n};\nvar EventsBreadCrumb = function EventsBreadCrumb(_ref) {\n  var location = _ref.location;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var crumbs = [{\n    path: \"/digit-ui/employee\",\n    content: t(\"ES_COMMON_HOME\"),\n    show: true\n  }, {\n    path: \"/digit-ui/employee/engagement/event/inbox\",\n    content: t(\"ES_EVENT_INBOX\"),\n    show: location.pathname.includes(\"event/inbox\") ? true : false\n  }, {\n    path: \"/digit-ui/employee/event/new-event\",\n    content: t(\"ES_EVENT_NEW_EVENT\"),\n    show: location.pathname.includes(\"event/new-event\") ? true : false\n  }, {\n    path: \"/digit-ui/employee/event/inbox/new-event\",\n    content: t(\"ES_EVENT_NEW_EVENT\"),\n    show: location.pathname.includes(\"event/inbox/new-event\") ? true : false\n  }, {\n    path: \"/digit-ui/employee/event/inbox/event-details\",\n    content: t(\"ES_EVENT_EVENT_DETAILS\"),\n    show: location.pathname.includes(\"event-details\") ? true : false\n  }, {\n    path: \"/digit-ui/employee/engagement/event/edit-event\",\n    content: t(\"ES_EVENT_EDIT_EVENT\"),\n    show: location.pathname.includes(\"event/edit-event\") ? true : false\n  }, {\n    path: \"/digit-ui/employee/event/response\",\n    content: t(\"ES_EVENT_NEW_EVENT_RESPONSE\"),\n    show: location.pathname.includes(\"event/response\") ? true : false\n  }, {\n    path: \"/digit-ui/employee/engagement/documents/inbox\",\n    content: t(\"ES_EVENT_INBOX\"),\n    show: location.pathname.includes(\"/documents/inbox\") ? true : false\n  }, {\n    path: \"/digit-ui/employee/engagement/documents/new-doc\",\n    content: t(\"NEW_DOCUMENT_TEXT\"),\n    show: location.pathname.includes(\"/documents/new-doc\") ? true : false\n  }, {\n    path: \"/digit-ui/employee/engagement/documents/inbox/new-doc\",\n    content: t(\"NEW_DOCUMENT_TEXT\"),\n    show: location.pathname.includes(\"/documents/inbox/new-doc\") ? true : false\n  }, {\n    path: \"/digit-ui/employee/engagement/documents/response\",\n    content: t(\"ES_EVENT_NEW_EVENT_RESPONSE\"),\n    show: location.pathname.includes(\"/documents/response\") ? true : false\n  }, {\n    path: \"/digit-ui/employee/engagement/documents/delete-response\",\n    content: t(\"ES_EVENT_NEW_EVENT_RESPONSE\"),\n    show: location.pathname.includes(\"/documents/delete-response\") ? true : false\n  }, {\n    path: \"/digit-ui/employee/engagement/documents/update-response\",\n    content: t(\"ES_EVENT_NEW_EVENT_RESPONSE\"),\n    show: location.pathname.includes(\"/documents/update-response\") ? true : false\n  }, {\n    path: \"/digit-ui/employee/engagement/documents/inbox/details/:id\",\n    content: t(\"CE_DOCUMENT_DETAILS\"),\n    show: location.pathname.includes(\"/documents/inbox/details\") ? true : false\n  }, {\n    path: \"/digit-ui/employee/engagement/documents/inbox/update\",\n    content: t(\"DOCUMENTS_EDIT_HEADER\"),\n    show: location.pathname.includes(\"/documents/inbox/update\") ? true : false\n  }, {\n    path: \"/digit-ui/employee/engagement/messages/inbox\",\n    content: t(\"ES_EVENT_INBOX\"),\n    show: location.pathname.includes(\"/messages/inbox\") ? true : false\n  }, {\n    path: \"/digit-ui/employee/engagement/messages/create\",\n    content: t(\"NEW_PUBLIC_BRDCST\"),\n    show: location.pathname.includes(\"/messages/create\") ? true : false\n  }, {\n    path: \"/digit-ui/employee/engagement/messages/inbox/create\",\n    content: t(\"NEW_PUBLIC_BRDCST\"),\n    show: location.pathname.includes(\"/messages/inbox/create\") ? true : false\n  }, {\n    path: \"/digit-ui/employee/engagement/messages/inbox/details/:id\",\n    content: t(\"CS_HEADER_PUBLIC_BRDCST\"),\n    show: location.pathname.includes(\"/messages/inbox/details\") ? true : false\n  }, {\n    path: \"/digit-ui/employee/engagement/messages/inbox/edit/:id\",\n    content: t(\"EDIT_PUBLIC_BRDCST\"),\n    show: location.pathname.includes(\"/messages/inbox/edit\") ? true : false\n  }, {\n    path: \"/digit-ui/employee/engagement/messages/response\",\n    content: t(\"ES_EVENT_NEW_EVENT_RESPONSE\"),\n    show: location.pathname.includes(\"/messages/response\") ? true : false\n  }, {\n    path: \"/digit-ui/employee/engagement/messages/response?update=true\",\n    content: t(\"ES_EVENT_NEW_EVENT_RESPONSE\"),\n    show: location.pathname.includes(\"/messages/response?update=true\") ? true : false\n  }, {\n    path: \"/digit-ui/employee/engagement/messages/response?delete=true\",\n    content: t(\"ES_EVENT_NEW_EVENT_RESPONSE\"),\n    show: location.pathname.includes(\"/messages/response?delete=true\") ? true : false\n  }, {\n    path: \"/digit-ui/employee/engagement/surveys/inbox\",\n    content: t(\"ES_EVENT_INBOX\"),\n    show: location.pathname.includes(\"/surveys/inbox\") ? true : false\n  }, {\n    path: \"/digit-ui/employee/engagement/surveys/inbox/create\",\n    content: t(\"CS_COMMON_SURVEYS\"),\n    show: location.pathname.includes(\"/surveys/inbox/create\") ? true : false\n  }, {\n    path: \"/digit-ui/employee/engagement/surveys/create\",\n    content: t(\"CS_COMMON_SURVEYS\"),\n    show: location.pathname.includes(\"/surveys/create\") ? true : false\n  }, {\n    path: \"/digit-ui/employee/engagement/survey/create-response\",\n    content: t(\"ES_EVENT_NEW_EVENT_RESPONSE\"),\n    show: location.pathname.includes(\"/engagement/survey/create-response\") ? true : false\n  }];\n  return /*#__PURE__*/React.createElement(BreadCrumb, {\n    crumbs: crumbs\n  });\n};\nvar EmployeeApp = function EmployeeApp(_ref2) {\n  var path = _ref2.path,\n    tenants = _ref2.tenants;\n  var location = useLocation();\n  return /*#__PURE__*/(\n    React.createElement(Fragment, null, /*#__PURE__*/React.createElement(EventsBreadCrumb, {\n      location: location\n    }), /*#__PURE__*/React.createElement(Switch, null, /*#__PURE__*/React.createElement(Route, {\n      path: path + \"/event/inbox\",\n      exact: true\n    }, /*#__PURE__*/React.createElement(Inbox, {\n      tenants: tenants,\n      parentRoute: path\n    })), /*#__PURE__*/React.createElement(Route, {\n      path: path + \"/event/response\",\n      component: function component(props) {\n        return /*#__PURE__*/React.createElement(Response, props);\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: path + \"/event/inbox/new-event\"\n    }, /*#__PURE__*/React.createElement(NewEvents, null)), /*#__PURE__*/React.createElement(Route, {\n      path: path + \"/event/new-event\"\n    }, /*#__PURE__*/React.createElement(NewEvents, null)), /*#__PURE__*/React.createElement(Route, {\n      path: path + \"/event/edit-event/:id\"\n    }, /*#__PURE__*/React.createElement(EditEvents, null)), /*#__PURE__*/React.createElement(Route, {\n      path: path + \"/event/inbox/event-details/:id\"\n    }, /*#__PURE__*/React.createElement(EventDetails, null)), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: path + \"/documents/inbox/update\",\n      component: function component(props) {\n        return /*#__PURE__*/React.createElement(Documents$1, props);\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: path + \"/documents/inbox/new-doc\",\n      component: function component() {\n        return /*#__PURE__*/React.createElement(Documents, {\n          path: path\n        });\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: path + \"/documents/new-doc\",\n      component: function component() {\n        return /*#__PURE__*/React.createElement(Documents, {\n          path: path\n        });\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: path + \"/documents/inbox/details/:id\",\n      component: function component(props) {\n        return /*#__PURE__*/React.createElement(DocumentDetails$1, props);\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: path + \"/documents/response\",\n      component: function component(props) {\n        return /*#__PURE__*/React.createElement(Response$2, props);\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: path + \"/documents/update-response\",\n      component: function component(props) {\n        return /*#__PURE__*/React.createElement(Response$3, props);\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: path + \"/documents/delete-response\",\n      component: function component(props) {\n        return /*#__PURE__*/React.createElement(Response$4, props);\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: path + \"/documents/inbox\",\n      component: function component(props) {\n        return /*#__PURE__*/React.createElement(Inbox$2, {\n          tenants: tenants\n        });\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: path + \"/messages\",\n      component: function component(props) {\n        return /*#__PURE__*/React.createElement(Messages, _extends({}, props, {\n          tenants: tenants,\n          parentRoute: path\n        }));\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: path + \"/surveys\",\n      component: function component(props) {\n        return /*#__PURE__*/React.createElement(Surveys, _extends({}, props, {\n          tenants: tenants,\n          parentRoute: path\n        }));\n      }\n    })))\n  );\n};\nvar EngagementModule = function EngagementModule(_ref3) {\n  var stateCode = _ref3.stateCode,\n    userType = _ref3.userType,\n    tenants = _ref3.tenants;\n  var moduleCode = \"Engagement\";\n  var _useRouteMatch = useRouteMatch(),\n    path = _useRouteMatch.path,\n    url = _useRouteMatch.url;\n  var language = Digit.StoreData.getCurrentLanguage();\n  var _Digit$Services$useSt = Digit.Services.useStore({\n      stateCode: stateCode,\n      moduleCode: moduleCode,\n      language: language\n    }),\n    isLoading = _Digit$Services$useSt.isLoading;\n  if (isLoading) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n  Digit.SessionStorage.set(\"ENGAGEMENT_TENANTS\", tenants);\n  if (userType === \"citizen\") {\n    return /*#__PURE__*/React.createElement(CitizenApp, {\n      path: path,\n      url: url,\n      userType: userType,\n      tenants: tenants\n    });\n  } else {\n    return /*#__PURE__*/React.createElement(EmployeeApp, {\n      path: path,\n      url: url,\n      userType: userType,\n      tenants: tenants\n    });\n  }\n};\nvar componentsToRegister = {\n  EngagementModule: EngagementModule,\n  EngagementCard: EngagementCard,\n  EngagementDocSelectULB: SelectULB,\n  EngagementULBDropdown: ULBDropdown,\n  EnagementDocName: DocumentName,\n  EngagementDocCategory: SelectCategory,\n  EngagementDocDescription: SelectULB$1,\n  EngagementDocUploadDocument: EngagementDocUploadDocument,\n  NotificationsAndWhatsNew: NotificationsAndWhatsNew,\n  EventsListOnGround: EventsListOnGround,\n  EventDetails: EventDetails$1,\n  EventForm: EventForm,\n  MessageForm: MessageForm,\n  DocumentList: DocumentList,\n  SelectEventGeolocation: SelectGeolocation,\n  SelectToDate: SelectToDate,\n  SurveyList: SurveyList,\n  FillSurvey: FillSurvey,\n  CitizenSurveyForm: CitizenSurveyForm,\n  ShowSurvey: ShowSurvey,\n  SurveyResults: SurveyResults\n};\nvar initEngagementComponents = function initEngagementComponents() {\n  Object.entries(componentsToRegister).forEach(function (_ref5) {\n    var key = _ref5[0],\n      value = _ref5[1];\n    Digit.ComponentRegistryService.setComponent(key, value);\n  });\n};\nexport { initEngagementComponents };","map":{"version":3,"mappings":"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","names":["EngagementCard","userRoles","Digit","SessionStorage","get","_Digit$SessionStorage","info","_Digit$SessionStorage2","roles","isEmployee","find","role","code","useEffect","set","tenantId","ULBService","getCurrentTenantId","Hooks","engagement","useDocSearch","tenantIds","select","data","totalCount","documentsCount","isLoadingDocs","isLoading","events","useInbox","status","eventTypes","MessagesCount","isLoadingMessages","totalEvents","isLoadingEvents","survey","useSearch","TotalCount","surveysCount","isLoadingSurveys","totalDocsCount","useMemo","totalEventsCount","totalMessagesCount","totalSurveysCount","useTranslation","t","result","propsForSurveyModuleCard","Icon","React","SurveyIconSolid","moduleName","kpis","count","label","link","links","propsForPMBModuleCard","PMBIconSolid","propsForEventsModuleCard","EventsIconSolid","propsForDocumentModuleCard","DocumentIconSolid","engagementSubModulesProps","map","propsForModuleCard","index","EmployeeModuleCard","key","_iteratorSymbol","Symbol","iterator","_asyncIteratorSymbol","asyncIterator","_catch","body","recover","e","then","_finallyRethrows","finalizer","bind","requiredArgs","required","args","length","TypeError","toDate","argument","arguments","argStr","Object","prototype","toString","call","Date","getTime","console","warn","Error","stack","NaN","startOfDay","dirtyDate","date","setHours","isSameDay","dirtyDateLeft","dirtyDateRight","dateLeftStartOfDay","dateRightStartOfDay","isToday","now","alphabeticalSortFunctionForTenantsBasedOnName","firstEl","secondEl","name","toUpperCase","areEqual","stringA","stringB","trim","_stringA$trim","toLowerCase","_stringB$trim","getFileUrl","fileStoreId","UploadServices","Filefetch","getStateId","response","_response$data","fileStoreIds","_response$data$fileSt","url","_response$data$fileSt2","includes","arr","split","original","large","medium","small","_response$data$fileSt3","openUploadedDocument","filestoreId","alert","w","window","open","mSewaApp","isMsewaApp","setTimeout","location","href","document","title","openDocumentLink","docLink","downloadDocument","fileUrl","Utils","downloadPDFFromLink","isNestedArray","documents","Array","isArray","firstItem","reduceDocsArray","documentsArray","reduce","acc","files","fileObj","_files$","file","type","push","getFileSize","size","k","sizes","i","Math","floor","log","parseFloat","pow","toFixed","documentUploadMessage","editMode","_fileStoreId$fileStor","checkValidFileType","fileType","allowedFileType","test","handleTodaysDate","dateString","dateObject","todaysDate","getFullYear","getMonth","getDate","convertDateToMaximumPossibleValue","SelectULB","setValue","onSelect","config","formData","register","errors","setError","control","ulbs","selectedTenat","defaultTenantId","ulb","filtered","filter","item","userUlbs","userInfo","UserService","getUser","_userInfo$roles","some","sort","dropDownData","getUserUlbs","Fragment","LabelFieldPair","style","alignItems","CardLabel","fontWeight","className","Controller","defaultValue","rules","render","props","Dropdown","allowMultiselect","optionKey","option","onChange","_formData$config$key","_formData$config$key$","f","keepNull","selected","value","disable","_formData$config$key2","_formData$config$key3","RemoveableTag","text","i18nKey","onClick","_formData$config$key4","CardLabelError","ULBDropdown","DocumentName","marginBottom","TextInput","inputRef","SelectCategory","stateId","useState","currrentUlb","getCurrentUlb","useMDMS","d","DocumentUploader","_d$DocumentUploader","UlbLevelCategories","_d$DocumentUploader$U","_d$DocumentUploader$U2","categoryList","categoryData","ULB","_formData$ULB","setUlbs","_formData$ULB2","TextArea","maxLength","description","_errors$description","_errors$description2","_errors$description2$","EngagementDocUploadDocument","clearErrors","setFileStoreId","fileSize","setFileSize","setFileType","setFile","urlDisabled","controllerProps","setProps","isUploadingImage","setIsUploadingImage","imageUploadError","setUploadError","selectFile","target","_e$target","_e$target$files","_e$target2","_e$target2$files$","_e$target3","_e$target3$files$","uploadFile","disableUrlField","setUrlDisabled","_controllerProps$onCh","Filestorage","_response$data$files","_response$data2","_response$data2$files","useLocation","isInEditFormMode","pathname","UploadFile","id","onUpload","onDelete","accept","showHintBelow","hintText","message","Loader","textStyles","width","inputStyles","head","withoutLabel","component","nextStep","route","isMandatory","populators","validation","error","shouldUpdate","pattern","NewEvents","history","useHistory","onSubmit","fromDate","fromTime","toTime","address","organizer","fees","_data$geoLocation","geoLocation","details","source","eventType","_data$tenantId","eventcategory","eventCategory","_data$eventCategory","eventDetails","useSessionStorage","mutationHappened","errorInfo","successData","setMutationHappened","clearSuccessData","clearError","Header","FormComposer","toInteger","dirtyNumber","number","Number","isNaN","ceil","addMilliseconds","dirtyAmount","timestamp","amount","getTimezoneOffsetInMilliseconds","utcDate","UTC","getHours","getMinutes","getSeconds","getMilliseconds","setUTCFullYear","compareAsc","dateLeft","dateRight","diff","isDate","isValid","differenceInCalendarMonths","yearDiff","monthDiff","differenceInMilliseconds","roundingMap","round","trunc","defaultRoundingMethod","getRoundingMethod","method","endOfDay","endOfMonth","month","setFullYear","isLastDayOfMonth","differenceInMonths","sign","difference","abs","setDate","setMonth","isLastMonthNotFull","differenceInSeconds","options","roundingMethod","formatDistanceLocale","lessThanXSeconds","one","other","xSeconds","halfAMinute","lessThanXMinutes","xMinutes","aboutXHours","xHours","xDays","aboutXWeeks","xWeeks","aboutXMonths","xMonths","aboutXYears","xYears","overXYears","almostXYears","formatDistance","token","tokenValue","replace","addSuffix","comparison","buildFormatLongFn","undefined","String","defaultWidth","format","formats","dateFormats","full","long","short","timeFormats","dateTimeFormats","formatLong","time","dateTime","formatRelativeLocale","lastWeek","yesterday","today","tomorrow","nextWeek","formatRelative","_date","_baseDate","_options","buildLocalizeFn","dirtyIndex","dirtyOptions","context","valuesArray","formattingValues","defaultFormattingWidth","_defaultWidth","_width","values","argumentCallback","eraValues","narrow","abbreviated","wide","quarterValues","monthValues","dayValues","dayPeriodValues","am","pm","midnight","noon","morning","afternoon","evening","night","formattingDayPeriodValues","ordinalNumber","rem100","localize","era","quarter","day","dayPeriod","buildMatchFn","string","matchPattern","matchPatterns","defaultMatchWidth","matchResult","match","matchedString","parsePatterns","defaultParseWidth","findIndex","findKey","valueCallback","rest","slice","object","predicate","hasOwnProperty","array","buildMatchPatternFn","parseResult","parsePattern","matchOrdinalNumberPattern","parseOrdinalNumberPattern","matchEraPatterns","parseEraPatterns","any","matchQuarterPatterns","parseQuarterPatterns","matchMonthPatterns","parseMonthPatterns","matchDayPatterns","parseDayPatterns","matchDayPeriodPatterns","parseDayPeriodPatterns","parseInt","locale","weekStartsOn","firstWeekContainsDate","subMilliseconds","MILLISECONDS_IN_DAY","getUTCDayOfYear","setUTCMonth","setUTCHours","startOfYearTimestamp","startOfUTCISOWeek","getUTCDay","setUTCDate","getUTCDate","getUTCISOWeekYear","year","getUTCFullYear","fourthOfJanuaryOfNextYear","startOfNextYear","fourthOfJanuaryOfThisYear","startOfThisYear","startOfUTCISOWeekYear","fourthOfJanuary","MILLISECONDS_IN_WEEK","getUTCISOWeek","startOfUTCWeek","localeWeekStartsOn","defaultWeekStartsOn","RangeError","getUTCWeekYear","localeFirstWeekContainsDate","defaultFirstWeekContainsDate","firstWeekOfNextYear","firstWeekOfThisYear","startOfUTCWeekYear","firstWeek","getUTCWeek","addLeadingZeros","targetLength","output","formatters","y","signedYear","M","getUTCMonth","a","dayPeriodEnumValue","getUTCHours","h","H","m","getUTCMinutes","s","getUTCSeconds","S","numberOfDigits","milliseconds","getUTCMilliseconds","fractionalSeconds","dayPeriodEnum","G","unit","lightFormatters","Y","signedWeekYear","weekYear","twoDigitYear","R","isoWeekYear","u","Q","q","L","week","I","isoWeek","D","dayOfYear","E","dayOfWeek","localDayOfWeek","c","isoDayOfWeek","hours","b","B","K","X","_localize","originalDate","_originalDate","timezoneOffset","getTimezoneOffset","formatTimezoneWithOptionalMinutes","formatTimezone","x","O","formatTimezoneShort","z","T","offset","dirtyDelimiter","absOffset","minutes","delimiter","dateLongFormatter","timeLongFormatter","dateTimeLongFormatter","datePattern","timePattern","dateTimeFormat","longFormatters","p","P","protectedDayOfYearTokens","protectedWeekYearTokens","isProtectedDayOfYearToken","indexOf","isProtectedWeekYearToken","throwProtectedError","input","concat","formattingTokensRegExp","longFormattingTokensRegExp","escapedStringRegExp","doubleQuoteRegExp","unescapedLatinCharacterRegExp","dirtyFormatStr","formatStr","defaultLocale","formatterOptions","substring","firstCharacter","longFormatter","join","cleanEscapedString","formatter","useAdditionalWeekYearTokens","useAdditionalDayOfYearTokens","assign","dirtyObject","property","cloneObject","MINUTES_IN_DAY","MINUTES_IN_ALMOST_TWO_DAYS","MINUTES_IN_MONTH","MINUTES_IN_TWO_MONTHS","dirtyBaseDate","localizeOptions","Boolean","seconds","offsetInSeconds","months","includeSeconds","days","nearestMonth","monthsSinceStartOfYear","years","formatDistanceToNow","distanceInWords","EditEvents","useParams","EventId","ids","_data$events","_formData$tenantId","_formData$eventCatego","latitude","longitude","defaultValues","_data$eventDetails","_data$eventDetails2","_data$eventDetails3","_data$eventDetails4","_data$eventDetails5","category","_data$eventDetails6","_data$eventDetails7","_data$eventDetails8","_data$eventDetails9","BannerPicker","Banner","applicationNumber","_props$data","_props$data$events","_props$data$events$","successful","isSuccess","Response","queryClient","useQueryClient","searchParams","useQueryParams","mutation","useCreateEvent","updateEventMutation","useUpdateEvent","state","setsuccessData","onError","variables","setErrorInfo","_error$response","_error$response$data","Errors","_error$response$data$","onSuccess","clear","delete","update","mutate","isIdle","Card","CardText","ActionBar","Link","to","SubmitBar","event","_mutation$data","_mutation$data$events","_successData$events","eventName","DateUtils","ConvertTimestampToDate","_event$eventDetails","_event$eventDetails2","_event$eventDetails3","_event$eventDetails4","ApplicationTable","columns","globalSearch","onSearch","getCellProps","pageSizeLimit","totalRecords","currentPage","onNextPage","onPrevPage","onPageSizeChange","Table","manualGlobalFilter","manualPagination","DropdownUlb","onAssignmentChange","Search","searchFields","onClose","isInboxPage","useForm","handleSubmit","formState","reset","watch","mobileView","innerWidth","getFields","onSubmitInput","clearSearch","clearAll","mobileViewStyles","margin","LinkLabel","display","marginLeft","CloseSvg","Label","isMendatory","dirtyFields","_formState$dirtyField","color","paddingLeft","marginTop","fontSize","_formState$errors","_formState$errors$inp","maxWidth","submit","flex","disabled","keys","EventLink","_ref$icon","icon","GetLogo","justifyContent","backgroundColor","EventCalendar","DocumentIcon","_ref2$hyperlink","hyperlink","StatusCount","CheckBox","checked","eventStatus","_searchParams$eventSt","_searchParams$eventSt2","pageType","statuses","Status","Filter","onFilterChange","localSearchParams","setLocalSearchParams","useCommonMDMS","range","startDate","endDate","applyLocalFilters","handleChange","onStatusChange","_localSearchParams$ev","RefreshIcon","mseva","_data$mseva","EventCategories","val","DateRange","labelClass","GetCell","GetStatusCell","DesktopInbox","parentRoute","iconName","accessor","Cell","row","_row$eventDetails","_row$eventDetails2","_row$eventDetails3","_row$eventDetails4","user","_row$user","cellInfo","minWidth","column","padding","ApplicationCard","serviceRequestIdKey","setType","popup","setPopup","params","setParams","handlePopupClose","textAlign","DetailsCard","linkPrefix","SearchAction","handleActionClick","FilterAction","PopUp","MobileInbox","getData","_event$name","startsWith","_searchParams$eventNa","_searchParams$ulb","_searchParams$ulb2","_searchParams$eventCa","_searchParams$range","_searchParams$range2","_searchParams$range3","_searchParams$range4","_event$user","Inbox","tenants","pageSize","setPageSize","pageOffset","setPageOffset","tenant","setSearchParams","isMobile","browser","getSearchFields","limit","updatedParams","handleFilterChange","rows","columnIds","_row$original","_row$original2","_row$original2$name","_searchParams$ulb3","_row$original$eventDe","_row$original$eventDe2","fetchNextPage","useCallback","prevPageOffSet","fetchPrevPage","handlePageSizeChange","prevPageSize","PMBIcon","prevLocalSearchParams","auditDetails","_row$auditDetails","createdTime","_row$auditDetails2","responseData","redirectToDetailsPage","_item$user","handleSelect","handleDetailCardClick","_event$auditDetails","prevParams","recepient","_convertDateToMaximum","_convertDateToMaximum2","EditMessage","MessageId","finalDocuments","fileName","documentType","configPTApproverApplication","action","approvers","selectedApprover","setSelectedApprover","uploadedFile","setUploadedFile","assigneeLabel","businessService","heading","cancel","form","isTerminateState","assigneeRoles","_action$assigneeRoles","autoComplete","docUploadRequired","showHint","configPTAssessProperty","financialYears","selectedFinancialYear","setSelectedFinancialYear","RadioButtons","optionsKey","selectedOption","configTLApproverApplication","checkCondtions","placeholder","configBPAREGApproverApplication","iserror","configBPAApproverApplication","isRejectOrRevocate","isCommentRequired","configNOCApproverApplication","Heading","Close","xmlns","viewBox","fill","CloseBtn","ActionModal","closeModal","submitAction","actionData","applicationData","moduleCode","useEmployeeSearch","_action$assigneeRoles2","isActive","enabled","approverData","PTALoading","pt","moduleDetails","masterDetails","financialYearsLoading","financialYearsData","setConfig","setApprovers","setFinancialYears","_financialYearsData$e","Employees","_approverData$Employe","employee","uuid","_employee$user","Promise","showFinancialYearsModal","workflow","comments","Property","customFunctionToExecute","Assessment","financialYear","propertyId","channel","assessmentDate","Modal","headerBarMain","headerBarEnd","actionCancelLabel","actionCancelOnSubmit","actionSaveLabel","actionSaveOnSubmit","isDisabled","formId","noBoxShadow","inline","childrenAtTheBottom","comment","assignee","wfDocuments","Licenses","allowedFileTypesRegex","isStakeholder","bpa","isOBPSFlow","popupStyles","height","paddingRight","popupModuleMianStyles","cardStyle","marginRight","applicationDetails","workflowDetails","mutation1","obps","useObpsAPI","_applicationData","landInfo","_applicationData$land","_applicationData$land2","city","_applicationData2","_applicationData2$lan","_applicationData2$lan2","_workflowDetails$data","initialActionState","_workflowDetails$data2","nextActions","_workflowDetails$data3","ele","_workflowDetails$data4","_workflowDetails$data5","_workflowDetails$data6","getInspectionDocs","docs","refinedDocs","doc","ind","replaceAll","getQuestion","refinedQues","questionLength","questionList","question","_data","getfeildInspection","formdata","inspectionOb","additionalDetails","_data$additionalDetai","fieldinspection_pending","_data$additionalDetai2","_data$additionalDetai3","JSON","parse","sessionStorage","getItem","_formdata","ob","Documents","InspectionDate","questions","InspectionTime","removeItem","getDocuments","documentsformdata","documentList","uploadedDocuments","_doc$uploadedDocument","_doc$uploadedDocument2","_doc$uploadedDocument3","_doc$uploadedDocument4","_doc$uploadedDocument5","newUploadedDocs","_doc$newUploadedDocs","getPendingApprovals","approvals","newApprovals","approval","_result","_applicationData3","pendingapproval","_data$comments","_data$comments2","assignes","varificationDocuments","nocDetails","nocData","_applicationDetails$n","noc","nocType","Noc","_noc$Noc","applicationStatus","_noc$Noc$applicationS","_noc$Noc2","_noc$Noc2$application","_noc$Noc3","_noc$Noc3$application","_noc$Noc4","_noc$Noc4$application","_noc$Noc5","_noc$Noc5$application","BPA","minHeight","enteredDocs","newDocs","_applicationData$docu","isNoc","PTActionModal","TLActionModal","BPAREGActionModal","BPAActionModal","NOCActionModal","DocumentsPreview","_ref$svgStyles","svgStyles","_ref$isSendBackFlow","isSendBackFlow","_ref$isHrLine","isHrLine","titleStyles","isStakeholderApplication","CardSubHeader","flexWrap","_document$values","PDFSvg","_value$documentType","_document$values2","borderRadius","border","background","docInfo","lineHeight","BPADocuments","bpaActionsDetails","actions","_bpaActionsDetails$da","_formData$documents","setDocuments","bpaTaxDocuments","setBpaTaxDocuments","enableSubmit","checkRequiredFields","setCheckRequiredFields","checkEnablingDocs","setCheckEnablingDocs","bpaDocsLoading","bpaDocs","commonDocsLoading","commonDocs","filtredBpaDocs","_bpaDocs$BPA","DocTypeMapping","_bpaDocs$BPA2","_bpaDocs$BPA2$DocType","WFState","RiskType","riskType","ServiceType","_applicationData$addi","serviceType","applicationType","_applicationData$addi2","documentsList","_filtredBpaDocs","_filtredBpaDocs$","docTypes","_filtredBpaDocs$$docT","forEach","dropdownData","_commonDocs$commonMa","DocumentType","_commonDocs$commonMa$","hasDropdown","_docs$","_docs$$values","upDocs","_upDocs$documentType","_upDocs$documentType2","setItem","stringify","isRequired","setEnableSubmit","SelectDocument","filteredDocument","_item$documentType","active","_doc$dropdownData","selectedDocument","setSelectedDocument","selectArrayFiles","SetSelectArrayFiles","handleSelectDocument","allowedFileTypes","selectfiles","prev","filteredDocumentsByDocumentType","filteredDocumentsByFileStoreId","documentUid","_documents$find","newDoc","_newDoc$fileStoreId","_newDoc$fileStoreId2","_newDoc$fileStoreId3","fromEntries","newArr","paddingBottom","MultiUploadWrapper","module","getFormState","allowedMaxSizeInMB","acceptFiles","fiDocuments","returnDocuments","_doc$documentType","InspectionReport","fiReport","_ref$isCitizen","isCitizen","CardHeader","CardSectionHeader","fiData","StatusTable","Row","_fiData$date","_fiData$date2","_fiData$date3","_fiData$questions","_fiData$questions2","qstn","remarks","setNocDocuments","nocDocuments","selectfile","_doc$dropdownData$","_doc$dropdownData2","_doc$dropdownData2$","_doc$dropdownData3","NOCDocuments","NOCdata","bpaApplicationStatus","nocDocsLoading","commonDocMaping","setCommonDocMaping","nocTaxDocuments","setNocTaxDocuments","filteredData","nocDocs","NOC","_nocDocs$NOC","DocumentTypeMapping","_nocDocs$NOC$Document","_bpaDocs$BPA$DocTypeM","_filteredData","_filteredData$","_filteredData$$docTyp","submissionDetails","appNumberLink","applicationNo","nocNo","labelStyle","field","textStyle","PermissionCheck","permissions","permission","approvalChecks","setApprovalChecks","setNewApprovals","del","handleAdd","handleRemove","splice","_event$target","handleCheck","isChecked","styles","isLabelFirst","textInputStyle","LinkButton","float","position","bottom","PropertyDocuments","filesArray","setFilesArray","pdfFiles","setPdfFiles","element","_acc","res","checkLocation","_pdfFiles$value$fileS","_pdfFiles$value$fileS2","PropertyEstimates","taxHeadEstimatesCalculation","taxHeadEstimates","BreakLine","estimate","taxHeadCode","estimateAmount","last","totalAmount","PropertyFloors","floors","_floor$values","_value$values","src","alt","_value$values2","caption","PropertyOwners","owners","checkOwnerLength","cardStyles","statusTableStyles","rowContainerStyle","owner","top","left","right","_owner$values","ScruntinyDetails","scrutinyDetails","getTextValues","isTransLate","isChecklist","_scrutinyDetails$valu","isUnit","isHeader","isSubTitle","permit","_scrutinyDetails$perm","scruntinyDetails","_scrutinyDetails$scru","report","SubOccupancyTable","edcrDetails","tableHeader","accessData","plot","originalRow","rowIndex","tableColumns","getFloorData","block","building","_block$building","Floor","Level","Occupancy","occupancies","_ob$occupancies","_ob$occupancies$","BuildupArea","_ob$occupancies2","_ob$occupancies2$","builtUpArea","FloorArea","_ob$occupancies3","_ob$occupancies3$","floorArea","CarpetArea","_ob$occupancies4","_ob$occupancies4$","stringReplaceAll","str","searcher","replaceWith","getSubOccupancyValues","returnValue","splitArray","_values$index","usageCategory","_values$index$usageCa","returnValueArray","_edcrDetails$values","subOccupancyTableDetails","_edcrDetails$subOccup","_edcrDetails$subOccup2","_edcrDetails$subOccup3","planDetail","_edcrDetails$subOccup4","blocks","_edcrDetails$subOccup5","_edcrDetails$subOccup6","_edcrDetails$subOccup7","_edcrDetails$subOccup8","_edcrDetails$subOccup9","wordBreak","overflow","maxHeight","disableSort","autoSort","isPaginationRequired","initSortId","Reason","headComment","otherComment","TLCaption","OpenImage","mobileNumber","TelePhone","mobile","wfComment","_data$wfComment","thumbnailsToShow","_data$thumbnailsToSho","thumbs","_data$thumbnailsToSho2","DisplayPhotos","srcs","TLTradeAccessories","units","_unit$values","TLTradeUnits","ApplicationDetailsContent","isDataLoading","timelineStatusPrefix","_ref$showTimeLine","showTimeLine","_ref$statusAttribute","statusAttribute","paymentsList","imageSource","fullImage","_thumbnailsToShow$ful","getTimelineCaptions","checkpoint","_applicationData$audi","_checkpoint$auditDeta","lastModified","_checkpoint$assignes","_checkpoint$assignes$","_checkpoint$assignes2","_checkpoint$assignes3","_Digit$DateUtils","_applicationData$audi2","lastModifiedTime","_checkpoint$assignes4","_checkpoint$assignes5","_checkpoint$assignes6","_checkpoint$assignes7","getTranslatedValues","dataValue","isNotTranslated","isNocLocation","isBPALocation","getRowStyles","getTableStyles","getMainDivStyles","getTextValue","skip","_applicationDetails$a","detail","asSectionHeader","Component","_detail$values","isLink","_detail$values2","_detail$values3","belowComponent","_detail$additionalDet","inspectionReport","_applicationDetails$a2","_applicationDetails$a3","_applicationDetails$a4","_detail$additionalDet2","_applicationDetails$a5","_applicationDetails$a6","_detail$additionalDet3","_detail$additionalDet4","_detail$additionalDet5","_detail$additionalDet6","_detail$additionalDet7","_detail$additionalDet8","_detail$additionalDet9","accessories","_detail$additionalDet10","_detail$additionalDet11","_detail$additionalDet12","_detail$additionalDet13","obpsDocuments","_detail$additionalDet14","_detail$additionalDet15","_detail$additionalDet16","_detail$additionalDet17","buildingExtractionDetails","_detail$additionalDet18","_detail$additionalDet19","documentsWithUrl","_detail$additionalDet20","_detail$additionalDet21","_detail$additionalDet22","_detail$additionalDet23","_detail$additionalDet24","timeline","_workflowDetails$data7","CheckPoint","isCompleted","_workflowDetails$data8","_workflowDetails$data9","customChild","_workflowDetails$data10","ConnectingCheckPoints","_workflowDetails$data11","_workflowDetails$data12","keyValue","performedAction","ApplicationDetailsToast","showToast","closeToast","_showToast$action","_showToast$error","_showToast$error2","_showToast$error3","_showToast$error4","_showToast$error5","_showToast$error6","_showToast$error7","_showToast$error8","_showToast$action2","Toast","getMessage","messages","_messages","_showToast$action3","_showToast$error9","_showToast$error10","_showToast$error11","_showToast$error12","_showToast$error13","_showToast$error14","_showToast$error15","_showToast$error16","_showToast$action4","_showToast$error17","_showToast$action5","ApplicationDetailsActionBar","displayMenu","onActionSelect","setDisplayMenu","forcedActionPrefix","_ref$ActionBarStyle","ActionBarStyle","_ref$MenuStyle","MenuStyle","userInfos","_user","_user$info","_user$info$roles","isSingleButton","isMenuBotton","actionState","_e$roles","_actions$","redirectionUrl","_actions$$redirection","Menu","localeKeyPrefix","_actions$2","_actions$3","_actions$4","ApplicationDetailsWarningPopup","closeWarningPopup","hideSubmit","AmountDueForPay","ButtonSelector","theme","origin","_action$redirectionUr","ApplicationDetails","selectedAction","setSelectedAction","showModal","setShowModal","isEnableLoader","setIsEnableLoader","isWarningPop","setWarningPopUp","setShowToast","nocMutation","_props$showTimeLine","revalidate","isWarningPopUp","redirectionUrll","_action$redirectionUr2","_action$redirectionUr3","isOBPS","refetchQueries","nocPrmomises","_nocData","mutateAsync","all","_ob$Noc","_ob$Noc$","err","errorValue","_err$response","_err$response$data","_err$response$data$Er","_err$response$data$Er2","_err$response2","_err$response2$data","_err$response2$data$E","_err$response2$data$E2","_err$response3","_err$response3$data","_err$response3$data$E","_err$response3$data$E2","_exit2","ConfirmationQuestion","Confirmation","docName","renderMultipleDocuments","flexDirection","gap","GenericFileIcon","Actions","getUlbName","ulbName","_ulbName","_ulbName$","_ulbName2","DocumentDetails","useEventDetails","handleDelete","finalData","ogData","onModalCancel","_data$applicationData","_data$applicationData2","_data$applicationData3","_data$applicationData4","_data$applicationData5","_data$applicationData6","_data$applicationData7","_data$applicationData8","_data$applicationData9","_data$applicationData10","_data$applicationData11","_data$applicationData12","_data$applicationData13","_data$applicationData14","_data$applicationData15","_data$applicationData16","_data$applicationData17","_data$applicationData18","Messages","_ref$match","path","Switch","PrivateRoute","NewMessage","EventForm","getDefaultUlb","ref","_errors$name","_errors$name2","_data$mseva$EventCate","_data$mseva2","MessageForm","isValidFromDate","shouldFocus","isValidToDate","getFileStoreData","filesData","numberOfFiles","finalDocumentData","_value$","_value$$fileStoreId","_value$2","_value$2$file","setuploadedstate","validate","_errors$fromDate","_errors$fromDate2","_errors$toDate","_errors$toDate2","SelectGeolocation","pincode","LocationSearch","_formData$geoLocation","_formData$geoLocation2","SelectToDate","isValidDate","renderSingleViewAndDownloadButton","renderMultipleViewAndDownloadButtons","BroadcastWhatsNewCard","header","eventNotificationText","timePastAfterEventCreation","timeApproxiamationInUnits","getTransformedLocale","actionUrl","NotificationsAndWhatsNew","variant","getCitizenCurrentTenant","useNotificationCount","_Digit$UserService","_Digit$UserService$ge","access_token","_Digit$Hooks$useNotif2","preVisitUnseenNotificationCount","unreadCount","preVisitUnseenNotificationCountLoaded","refetch","useClearNotifications","useEvents","EventsData","EventsDataLoading","VariantWiseRender","Redirect","from","search","onEventCardClick","DataParamsInEvent","OnGroundEventCard","WhatsNewCard","CardCaption","EventsListOnGround","_Digit$UserService2","_Digit$UserService2$g","preVisitUnseenEventsCountLoaded","localStorage","EventDetails","ApplicationDetailsTemplate","boxShadow","Searchbar","searchValue","handleKeyPress","handleSearch","ev","signature","signatureImg","SearchIconSvg","onKeyPress","useDebounce","delay","debouncedValue","setDebouncedValue","handler","clearTimeout","DocumentCard","documentTitle","_ref$documentSize","documentSize","lastModifiedData","documentLink","ViewsIcon","ExternalLinkIcon","DownloadImgIcon","DocumentList","setSearchValue","debouncedSearchQuery","_data$Documents","docId","filteredDocs","AppContainer","renderDocsList","Accordion","children","isOpen","setOpen","PrevIcon","DocumentCategories","mappedDocuments","statusCount","showDocuments","_data$documentList","_data$statusCount","_data$statusCount2","ViewDocument","_ref3$documentList","_ref4$name","Surveys","_mutation$data$Survey","_mutation$data$Survey2","surveyTitle","whichSvg","Acknowledgement","useSubmitResponse","surveyTitlev1","AnswerEntity","_state$AnswerEntity","CitizenApp","NotificationsOrWhatsNew","ComponentRegistryService","getComponent","Events","SurveyList","FillSurvey","ShowSurvey","BackButton","Route","exact","onGroundEventCardPropsForEventDetails","onGroundEventDate","onGroundEventMonth","onGroundEventTimeRange","showEventCatergory","FilteredEventForThisPage","MapMarker","_FilteredEventForThis","_FilteredEventForThis2","_FilteredEventForThis3","_FilteredEventForThis4","_FilteredEventForThis5","Clock","documentsFormConfig","inputs","canSubmit","setSubmitValve","onFormValueChange","documentName","docCategory","DocumentEntity","_data$docCategory","_data$document","_data$document2","_data$document2$files","_data$document3","_data$document3$files","_data$document4","_data$document4$files","fieldStyle","updatedFormData","_data$document$filest","_props$location$state","_props$location$state2","_props$location$state3","_props$location$state4","_props$location","_props$location$state5","_data$document5","_data$document5$files","_data$document6","_data$ULB","_props$location$state6","_mutation$data$Docume","_mutation$data$Docume2","useDocCreate","useDocUpdate","_props$mutation","useDocDelete","_state$DocumentEntity","DocumentNotificationTable","onSort","sortParams","postedBy","getDocumentDetailsPath","getDocumentDetails","getDocumentCell","DocumentDesktopInbox","_searchParams$tenantI","_searchParams$tenantI2","_document$name","_searchParams$name","_document$postedBy","_document$postedBy$tr","_searchParams$postedB","_searchParams$postedB2","_params$ulbs","_params$ulbs$code","_params$ulbs2","prevSearchParams","SurveyListCard","about","activeTime","postedAt","responseStatus","hasResponded","onCardClick","currentDate","allSurveys","isSurveyActive","resStatus","activeSurveysList","inactiveSurveysList","handleCardClick","hasResponsed","useTenants","categoryOptions","_categoryOptions$filt","onModalSubmit","_details$description","FilterFormFieldsComponent","isInboxLoading","controlFilterForm","FilterFormField","SearchFormFieldsComponents","registerRef","controlSearchForm","searchFormState","_userInfo$info","_userInfo$info$roles","SearchField","_searchFormState$erro","_searchFormState$erro2","_searchFormState$erro3","_searchFormState$erro4","useInboxTableConfig","table","dispatch","tableColumnConfig","_row$original3","_row$original4","_row$original5","answersCount","_row$original6","_row$original7","initSortI","tableForm","_formState$tableForm","_formState$tableForm2","_formState$tableForm3","_formState$tableForm4","_formState$tableForm5","_formState$tableForm6","_formState$tableForm7","searchForm","_formState$searchForm","noResultsMessage","useInboxMobileCardsData","dataForMobileInboxCards","searchFormDefaultValues","filterFormDefaultValues","tableOrderFormDefaultValues","sortBy","sortOrder","formReducer","payload","filterForm","InboxObjectInSessionStorage","onSearchFormReset","setSearchFormValue","onFilterFormReset","setFilterFormValue","formInitValue","useReducer","useSurveyInbox","_Digit$Hooks$survey$u2","PropsForInboxLinks","logoIcon","headerText","SearchFormFields","FilterFormFields","getFilterFormValue","filterFormState","onSearchFormSubmit","onFilterFormSubmit","propsForSearchForm","resetSearchFormDefaultValues","propsForFilterForm","resetFilterFormDefaultValues","propsForInboxTable","propsForInboxMobileCards","InboxComposer","SurveyDetailsForms","controlSurveyForm","surveyFormState","surveyFormData","disableInputs","enableDescriptionOnly","renderRemovableTokens","_props$value","_props$value2","loc","gridAutoFlow","_surveyFormData","_surveyFormData$filte","_surveyFormState$erro","_surveyFormState$erro2","_surveyFormState$erro3","_surveyFormState$erro4","_surveyFormState$erro5","_surveyFormState$erro6","_surveyFormState$erro7","Checkboxes","_ref$options","checkboxlist","updateOption","addOption","removeOption","isPartiallyEnabled","createNewSurvey","formDisabled","CheckBoxOption","optionTitle","setOptionTitle","isFocused","setIsFocused","onBlur","onFocus","MultipleChoice","RadioButtonOption","dropdownOptions","NewSurveyForm","questionStatement","surveyQuestionConfig","setSurveyQuestionConfig","useFormContext","handleAddOption","prevState","updatedState","handleUpdateOption","handleRemoveOption","formConfig","renderAnswerComponent","DatePicker","stylesForInput","TimePicker","_formState$errors2","_formState$errors3","DustbinIcon","SurveyFormsMaker","formsConfig","setSurveyConfig","defaultFormsConfig","answerType","initialSurveyFormState","surveyFormReducer","newSurveyQues","updatedSurveyQues","copyOfSate","surveyState","passingSurveyConfigInDispatch","renderPreviewForms","SurveySettingsForms","enableEndDateTimeOnly","formErrors","getValues","currentTs","enteredValue","enteredTs","isValidFromTime","isValidToTime","_formErrors$fromDate","_formErrors$fromDate2","_formErrors$fromTime","_formErrors$fromTime2","_formErrors$toDate","_formErrors$toDate2","_formErrors$toTime","_formErrors$toTime2","collectCitizenInfo","_formErrors$collectCi","CreateNewSurvey","initialFormValues","handleSurveyFormSubmit","setSurveyFormValue","getSurveyFormValues","resetSurveyForm","clearSurveyFormsErrors","methods","FormProvider","answerTypeEnum","Paragraph","Time","mapQuestions","choices","stringType","finalQuestion","NewSurveys","mappedQuestions","SurveyEntity","stylesForForm","useCreate","isActionClicked","setIsActionClicked","replaceState","_mutation$data2","_mutation$data2$Surve","actionClickHandler","surveyName","useUpdate","useDelete","EditSurveyForms","onEdit","menuOptions","initialSurveysConfig","isFormDisabled","DeleteModal","MarkActiveModal","initialValues","handleSurveySettingSubmit","headerBarMainStyle","MarkInActiveModal","filterQuestion","TypeAnswerEnum","SHORT_ANSWER_TYPE","LONG_ANSWER_TYPE","MULTIPLE_ANSWER_TYPE","CHECKBOX_ANSWER_TYPE","DATE_ANSWER_TYPE","TIME_ANSWER_TYPE","SurveyDetails","setIsFormDisabled","isFormPartiallyEnabled","setFormPartiallyEnabled","userAction","setUserAction","tenantIdForInboxSearch","surveyObj","_data$Surveys","surveyId","surveyData","surveyStartTime","surveyEndTime","currentTime","_tenantIds$","handleMarkActive","handleMarkInactive","actionMenuOptions","EditSurveyForm","CitizenSurveyQuestion","displayAnswerField","_formErrors$question$","_formErrors$question$2","_formErrors$question$3","_formErrors$question$4","_formErrors$question$5","_formErrors$question$6","_formErrors$question$7","_formErrors$question$8","CitizenSurveyForm","onFormSubmit","submitDisabled","formDefaultValues","_surveyData$title","bindQuesWithAns","ques","ans","obj","questionId","answer","answers","WhoHasResponded","entries","SurveyDetailsView","surveyDesc","processedData","COLORS","RADIAN","PI","renderCustomizedLabel","cx","cy","midAngle","innerRadius","outerRadius","percent","radius","cos","sin","textAnchor","dominantBaseline","renderLegend","entry","McqChart","PieChart","Pie","labelLine","dataKey","Tooltip","Legend","content","align","wrapperStyle","formObj","checkBoxData","el","CheckBoxChart","datav1","ResponsiveContainer","BarChart","layout","barCategoryGap","CartesianGrid","strokeDasharray","XAxis","YAxis","Bar","transformDate","monthNames","transformTime","getUserData","emailId","displayResult","resCount","SurveyResultsView","surveyInfo","responsesInfoMutation","setData","setUserInfo","dp","ue","SurveyResults","useShowResults","NewSurvey","CreateResponse","UpdateResponse","DeleteResponse","transformSurveyResponseData","isError","EventsBreadCrumb","crumbs","show","BreadCrumb","EmployeeApp","NewEvent","EditEvent","EmployeeEventDetails","DocumentUpdate","DocumenetCreate","DocumentResponse","DocUpdateResponse","DocDeleteResponse","DocumentNotification","EngagementModule","stateCode","userType","useRouteMatch","language","StoreData","getCurrentLanguage","Services","useStore","componentsToRegister","EngagementDocSelectULB","EngagementULBDropdown","EnagementDocName","EngagementDocCategory","EngagementDocDescription","SelectEventGeolocation","initEngagementComponents","setComponent"],"sources":["../src/components/EngagementCard.js","../../../../node_modules/babel-plugin-transform-async-to-promises/helpers.mjs","../../../../node_modules/date-fns/esm/_lib/requiredArgs/index.js","../../../../node_modules/date-fns/esm/toDate/index.js","../../../../node_modules/date-fns/esm/startOfDay/index.js","../../../../node_modules/date-fns/esm/isSameDay/index.js","../../../../node_modules/date-fns/esm/isToday/index.js","../src/utils/index.js","../src/components/Documents/EngagementDocsULB.js","../src/components/Documents/EngagementULBDropdown.js","../src/components/Documents/engagement-doc-name.js","../src/components/Documents/engagement-doc-category.js","../src/components/Documents/engagement-doc-description.js","../src/components/Documents/engagement-doc-documents.js","../src/config/NewEventConfig.js","../src/pages/employee/Events/NewEvent/index.js","../../../../node_modules/date-fns/esm/_lib/toInteger/index.js","../../../../node_modules/date-fns/esm/addMilliseconds/index.js","../../../../node_modules/date-fns/esm/_lib/getTimezoneOffsetInMilliseconds/index.js","../../../../node_modules/date-fns/esm/compareAsc/index.js","../../../../node_modules/date-fns/esm/isDate/index.js","../../../../node_modules/date-fns/esm/isValid/index.js","../../../../node_modules/date-fns/esm/differenceInCalendarMonths/index.js","../../../../node_modules/date-fns/esm/differenceInMilliseconds/index.js","../../../../node_modules/date-fns/esm/_lib/roundingMethods/index.js","../../../../node_modules/date-fns/esm/endOfDay/index.js","../../../../node_modules/date-fns/esm/endOfMonth/index.js","../../../../node_modules/date-fns/esm/isLastDayOfMonth/index.js","../../../../node_modules/date-fns/esm/differenceInMonths/index.js","../../../../node_modules/date-fns/esm/differenceInSeconds/index.js","../../../../node_modules/date-fns/esm/locale/en-US/_lib/formatDistance/index.js","../../../../node_modules/date-fns/esm/locale/_lib/buildFormatLongFn/index.js","../../../../node_modules/date-fns/esm/locale/en-US/_lib/formatLong/index.js","../../../../node_modules/date-fns/esm/locale/en-US/_lib/formatRelative/index.js","../../../../node_modules/date-fns/esm/locale/_lib/buildLocalizeFn/index.js","../../../../node_modules/date-fns/esm/locale/en-US/_lib/localize/index.js","../../../../node_modules/date-fns/esm/locale/_lib/buildMatchFn/index.js","../../../../node_modules/date-fns/esm/locale/_lib/buildMatchPatternFn/index.js","../../../../node_modules/date-fns/esm/locale/en-US/_lib/match/index.js","../../../../node_modules/date-fns/esm/locale/en-US/index.js","../../../../node_modules/date-fns/esm/subMilliseconds/index.js","../../../../node_modules/date-fns/esm/_lib/getUTCDayOfYear/index.js","../../../../node_modules/date-fns/esm/_lib/startOfUTCISOWeek/index.js","../../../../node_modules/date-fns/esm/_lib/getUTCISOWeekYear/index.js","../../../../node_modules/date-fns/esm/_lib/startOfUTCISOWeekYear/index.js","../../../../node_modules/date-fns/esm/_lib/getUTCISOWeek/index.js","../../../../node_modules/date-fns/esm/_lib/startOfUTCWeek/index.js","../../../../node_modules/date-fns/esm/_lib/getUTCWeekYear/index.js","../../../../node_modules/date-fns/esm/_lib/startOfUTCWeekYear/index.js","../../../../node_modules/date-fns/esm/_lib/getUTCWeek/index.js","../../../../node_modules/date-fns/esm/_lib/addLeadingZeros/index.js","../../../../node_modules/date-fns/esm/_lib/format/lightFormatters/index.js","../../../../node_modules/date-fns/esm/_lib/format/formatters/index.js","../../../../node_modules/date-fns/esm/_lib/format/longFormatters/index.js","../../../../node_modules/date-fns/esm/_lib/protectedTokens/index.js","../../../../node_modules/date-fns/esm/format/index.js","../../../../node_modules/date-fns/esm/_lib/assign/index.js","../../../../node_modules/date-fns/esm/_lib/cloneObject/index.js","../../../../node_modules/date-fns/esm/formatDistance/index.js","../../../../node_modules/date-fns/esm/formatDistanceToNow/index.js","../src/pages/employee/Events/EditEvent/index.js","../src/pages/employee/Events/NewEvent/Response.js","../src/components/Events/ApplicationTable.js","../src/components/Events/DropdownUlb.js","../src/components/Events/Search.js","../src/components/Events/EventLink.js","../src/components/Events/StatusCount.js","../src/components/Events/Status.js","../src/components/Events/Filter.js","../src/components/Events/DesktopInbox.js","../src/components/Events/ApplicationCard.js","../src/components/Events/MobileInbox.js","../src/pages/employee/Events/Inbox/index.js","../src/components/Messages/ApplicationTable.js","../src/components/Messages/DropdownUlb.js","../src/components/Messages/Search.js","../src/components/Messages/EventLink.js","../src/components/Messages/StatusCount.js","../src/components/Messages/Status.js","../src/components/Messages/Filter.js","../src/components/Messages/DesktopInbox.js","../src/components/Messages/ApplicationCard.js","../src/components/Messages/MobileInbox.js","../src/pages/employee/Messages/Inbox.js","../src/config/NewMessageConfig.js","../src/pages/employee/Messages/NewMessage/index.js","../src/pages/employee/Messages/NewMessage/Response.js","../src/pages/employee/Messages/EditMessage.js","../../templates/ApplicationDetails/config/PTApproverApplication.js","../../templates/ApplicationDetails/config/PTAssessProperty.js","../../templates/ApplicationDetails/config/TLApproverApplication.js","../../templates/ApplicationDetails/config/BPAREGApproverApplication.js","../../templates/ApplicationDetails/config/BPAApproverApplication.js","../../templates/ApplicationDetails/config/NOCApproverApplication.js","../../templates/ApplicationDetails/Modal/PTActionModal.js","../../templates/ApplicationDetails/Modal/TLActionModal.js","../../templates/ApplicationDetails/Modal/BPAREGActionModal.js","../../templates/ApplicationDetails/Modal/BPAActionModal.js","../../templates/ApplicationDetails/Modal/NOCActionModal.js","../../templates/ApplicationDetails/Modal/index.js","../../templates/ApplicationDetails/components/DocumentsPreview.js","../../templates/ApplicationDetails/components/BPADocuments.js","../../templates/ApplicationDetails/components/InspectionReport.js","../../templates/ApplicationDetails/components/NOCDocuments.js","../../templates/ApplicationDetails/components/PermissionCheck.js","../../templates/ApplicationDetails/components/PropertyDocuments.js","../../templates/ApplicationDetails/components/PropertyEstimates.js","../../templates/ApplicationDetails/components/PropertyFloors.js","../../templates/ApplicationDetails/components/PropertyOwners.js","../../templates/ApplicationDetails/components/ScruntinyDetails.js","../../templates/ApplicationDetails/components/SubOccupancyTable.js","../../templates/ApplicationDetails/components/Reason.js","../../templates/ApplicationDetails/components/TLCaption.js","../../templates/ApplicationDetails/components/TLTradeAccessories.js","../../templates/ApplicationDetails/components/TLTradeUnits.js","../../templates/ApplicationDetails/components/ApplicationDetailsContent.js","../../templates/ApplicationDetails/components/ApplicationDetailsToast.js","../../templates/ApplicationDetails/components/ApplicationDetailsActionBar.js","../../templates/ApplicationDetails/components/ApplicationDetailsWarningPopup.js","../../templates/ApplicationDetails/index.js","../src/components/Modal/Confirmation.js","../src/components/Messages/DocumentDetails.js","../src/pages/employee/Messages/index.js","../src/components/Events/EventForm.js","../src/components/Messages/MessageForm.js","../src/components/Events/SelectGeoLocation.js","../src/components/Events/SelectToDate.js","../src/components/Messages/BroadcastWhatsNewCard.js","../src/pages/citizen/NotificationsAndWhatsNew.js","../src/pages/citizen/EventsListOnGround/index.js","../src/pages/employee/Events/EventDetails.js","../src/components/Documents/Searchbar.js","../src/hooks/useDebounce.js","../src/components/Documents/DocumentCard.js","../src/pages/citizen/Documents/DocumentList.js","../src/pages/citizen/Documents/DocumentCategories.js","../src/pages/citizen/Documents/ViewDocument.js","../src/pages/citizen/CitizenSurvey/Response.js","../src/pages/citizen/index.js","../src/pages/citizen/EventsListOnGround/EventDetails.js","../src/config/doc-create.js","../src/pages/employee/Documents/documents-create.js","../src/config/doc-update.js","../src/pages/employee/Documents/documents-update.js","../src/pages/employee/Documents/response.js","../src/pages/employee/Documents/update-response.js","../src/pages/employee/Documents/delete-response.js","../src/components/Documents/DocumentNotificationTable.js","../src/components/Documents/Search.js","../src/components/Documents/Filter.js","../src/components/Documents/DesktopInbox.js","../src/components/Documents/ApplicationCard.js","../src/components/Documents/MobileInbox.js","../src/pages/employee/Documents/Inbox/index.js","../src/components/Surveys/SurveyListCard.js","../src/pages/citizen/CitizenSurvey/SurveyList.js","../src/components/Documents/DocumentDetails.js","../src/pages/employee/CitizenSurveys/Inbox/FilterFieldsComponent.js","../src/pages/employee/CitizenSurveys/Inbox/SearchFieldsComponents.js","../src/pages/employee/CitizenSurveys/Inbox/useInboxTableConfig.js","../src/pages/employee/CitizenSurveys/Inbox/useInboxMobileDataCard.js","../src/pages/employee/CitizenSurveys/Inbox/index.js","../src/components/Surveys/SurveyForms/SurveyDetailsForms.js","../src/components/Surveys/SurveyForms/AnswerTypes/Checkboxes.js","../src/components/Surveys/SurveyForms/AnswerTypes/MultipleChoice.js","../src/components/Surveys/SurveyForms/NewSurveyForm.js","../src/components/Surveys/SurveyForms/SurveyFormsMaker.js","../src/components/Surveys/SurveyForms/SurveySettingsForm.js","../src/components/Surveys/SurveyForms/index.js","../src/pages/employee/CitizenSurveys/NewSurvey.js","../src/pages/employee/CitizenSurveys/responses/create.js","../src/pages/employee/CitizenSurveys/responses/update.js","../src/pages/employee/CitizenSurveys/responses/delete.js","../src/components/Surveys/EditSurveyForms/index.js","../src/components/Modal/Surveys/Delete.js","../src/components/Modal/Surveys/MarkActive.js","../src/components/Modal/Surveys/MarkInActive.js","../src/pages/employee/CitizenSurveys/SurveyDetails.js","../src/components/Surveys/CitizenSurveyQuestion.js","../src/components/Surveys/CitizenSurveyForm.js","../src/components/Surveys/ResultsView/bindquesansutil.js","../src/components/Surveys/ResultsView/WhoHasResponded.js","../src/components/Surveys/ResultsView/SurveyDetailsView.js","../src/components/Surveys/ResultsView/McqChart.js","../src/components/Surveys/ResultsView/CheckBoxChart.js","../src/components/Surveys/ResultsView/SurveyResultsView.js","../src/pages/employee/CitizenSurveys/SurveyResults.js","../src/pages/employee/CitizenSurveys/index.js","../src/pages/citizen/CitizenSurvey/FillSurvey.js","../src/pages/citizen/CitizenSurvey/ShowSurvey.js","../src/Module.js"],"sourcesContent":["import React, { useEffect, Fragment, useMemo, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { EmployeeModuleCard, DocumentIconSolid, EventsIconSolid, PMBIconSolid, SurveyIconSolid, PropertyHouse } from \"@egovernments/digit-ui-react-components\";\r\n\r\nconst EngagementCard = () => {\r\n  const userRoles = Digit.SessionStorage.get('User')?.info?.roles\r\n  const isEmployee = userRoles.find((role) => role.code === 'EMPLOYEE');\r\n  \r\n  useEffect(() => {\r\n    Digit.SessionStorage.set(\"CITIZENSURVEY.INBOX\", null)\r\n  },[])\r\n\r\n  if (!isEmployee) return null;\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const { data: documentsCount, isLoading: isLoadingDocs, } = Digit.Hooks.engagement.useDocSearch({ tenantIds: tenantId }, {\r\n    select: (data) => {\r\n      return data?.totalCount;\r\n    }\r\n  });\r\n  const { data: MessagesCount, isLoading: isLoadingMessages } = Digit.Hooks.events.useInbox(tenantId, {},\r\n    { status: \"ACTIVE,INACTIVE\", eventTypes: \"BROADCAST\" },\r\n    {\r\n      select: (data) => data?.totalCount\r\n    });\r\n\r\n  const { data: totalEvents, isLoading: isLoadingEvents } = Digit.Hooks.events.useInbox(tenantId, {},\r\n    { eventTypes: \"EVENTSONGROUND\" },\r\n    {\r\n      select: (data) => data?.totalCount\r\n    });\r\n\r\n  const { data: surveysCount, isLoading: isLoadingSurveys } = Digit.Hooks.survey.useSearch({ tenantIds: tenantId }, { select: (data) => data?.TotalCount })\r\n\r\n  const totalDocsCount = useMemo(() => (isLoadingDocs ? \"-\" : documentsCount), [isLoadingDocs, documentsCount])\r\n  const totalEventsCount = useMemo(() => (isLoadingEvents ? \"-\" : totalEvents), [isLoadingEvents, totalEvents])\r\n  const totalMessagesCount = useMemo(() => (isLoadingMessages ? \"-\" : MessagesCount), [isLoadingMessages, MessagesCount])\r\n  const totalSurveysCount = useMemo(() => (isLoadingSurveys ? \"-\" : surveysCount), [isLoadingSurveys, surveysCount])\r\n\r\n  const { t } = useTranslation();\r\n  let result = null;\r\n\r\n  const propsForSurveyModuleCard = {\r\n    Icon: <SurveyIconSolid />,\r\n    moduleName: t(\"CS_COMMON_SURVEYS\"),\r\n    kpis: [\r\n      {\r\n        count: totalSurveysCount,\r\n        label: t(\"TOTAL_SURVEYS\"),\r\n        link: `/digit-ui/employee/engagement/surveys/inbox`\r\n      }\r\n    ],\r\n    links: [\r\n      {\r\n        count: totalSurveysCount,\r\n        label: t(\"ES_TITLE_INBOX\"),\r\n        link: `/digit-ui/employee/engagement/surveys/inbox`\r\n      },\r\n      {\r\n        label: t(\"CS_COMMON_NEW_SURVEY\"),\r\n        link: `/digit-ui/employee/engagement/surveys/create`,\r\n      },\r\n    ]\r\n  }\r\n\r\n  const propsForPMBModuleCard = {\r\n    Icon: <PMBIconSolid />,\r\n    moduleName: t(\"ACTION_TEST_PUBLIC_MESSAGE_BROADCAST\"),\r\n    kpis: [\r\n      {\r\n        count: totalMessagesCount,\r\n        label: t(\"TOTAL_MESSAGES\"),\r\n        link: `/digit-ui/employee/engagement/messages/inbox`\r\n      },\r\n    ],\r\n\r\n    links: [\r\n      {\r\n        count: totalMessagesCount,\r\n        label: t(\"ES_TITLE_INBOX\"),\r\n        link: `/digit-ui/employee/engagement/messages/inbox`,\r\n      },\r\n      {\r\n        label: t(\"NEW_PUBLIC_MESSAGE_BUTTON_LABEL\"),\r\n        link: `/digit-ui/employee/engagement/messages/create`,\r\n      },\r\n    ]\r\n  }\r\n  const propsForEventsModuleCard = {\r\n    Icon: <EventsIconSolid />,\r\n    moduleName: t(\"TOTAL_EVENTS\"),\r\n    kpis: [\r\n      {\r\n        count: totalEventsCount,\r\n        label: t(\"TOTAL_EVENTS\"),\r\n        link: `/digit-ui/employee/engagement/event/inbox`\r\n      },\r\n    ],\r\n\r\n    links: [\r\n      {\r\n        count: totalEventsCount,\r\n        label: t(\"ES_TITLE_INBOX\"),\r\n        link: `/digit-ui/employee/engagement/event/inbox`\r\n      },\r\n      {\r\n        label: t(\"ES_TITLE_NEW_EVENTS\"),\r\n        link: `/digit-ui/employee/engagement/event/new-event`\r\n      },\r\n    ]\r\n  }\r\n  const propsForDocumentModuleCard = {\r\n    Icon: <DocumentIconSolid />,\r\n    moduleName: t(\"ES_TITLE_DOCS\"),\r\n    kpis: [\r\n      {\r\n        count: totalDocsCount,\r\n        label: t(\"TOTAL_DOCUMENTS\"),\r\n        link: `/digit-ui/employee/engagement/documents/inbox`,\r\n      },\r\n    ],\r\n    links: [\r\n      {\r\n        count: totalDocsCount,\r\n        label: t(\"ES_TITLE_INBOX\"),\r\n        link: `/digit-ui/employee/engagement/documents/inbox`,\r\n      },\r\n      {\r\n        label: t(\"NEW_DOCUMENT_TEXT\"),\r\n        link: `/digit-ui/employee/engagement/documents/new-doc`,\r\n      },\r\n    ],\r\n  };\r\n\r\n  const engagementSubModulesProps = [propsForDocumentModuleCard, propsForEventsModuleCard, propsForPMBModuleCard, propsForSurveyModuleCard]\r\n\r\n\r\n  if (isEmployee) result = (\r\n      <>\r\n      {engagementSubModulesProps.map((propsForModuleCard, index) => <EmployeeModuleCard key={index} {...propsForModuleCard} />)\r\n      }\r\n      </>\r\n    );\r\n\r\n  return result;\r\n};\r\n\r\nexport default EngagementCard;\r\n","// A type of promise-like that resolves synchronously and supports only one observer\nexport const _Pact = /*#__PURE__*/(function() {\n\tfunction _Pact() {}\n\t_Pact.prototype.then = function(onFulfilled, onRejected) {\n\t\tconst result = new _Pact();\n\t\tconst state = this.s;\n\t\tif (state) {\n\t\t\tconst callback = state & 1 ? onFulfilled : onRejected;\n\t\t\tif (callback) {\n\t\t\t\ttry {\n\t\t\t\t\t_settle(result, 1, callback(this.v));\n\t\t\t\t} catch (e) {\n\t\t\t\t\t_settle(result, 2, e);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\t\tthis.o = function(_this) {\n\t\t\ttry {\n\t\t\t\tconst value = _this.v;\n\t\t\t\tif (_this.s & 1) {\n\t\t\t\t\t_settle(result, 1, onFulfilled ? onFulfilled(value) : value);\n\t\t\t\t} else if (onRejected) {\n\t\t\t\t\t_settle(result, 1, onRejected(value));\n\t\t\t\t} else {\n\t\t\t\t\t_settle(result, 2, value);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(result, 2, e);\n\t\t\t}\n\t\t};\n\t\treturn result;\n\t}\n\treturn _Pact;\n})();\n\n// Settles a pact synchronously\nexport function _settle(pact, state, value) {\n\tif (!pact.s) {\n\t\tif (value instanceof _Pact) {\n\t\t\tif (value.s) {\n\t\t\t\tif (state & 1) {\n\t\t\t\t\tstate = value.s;\n\t\t\t\t}\n\t\t\t\tvalue = value.v;\n\t\t\t} else {\n\t\t\t\tvalue.o = _settle.bind(null, pact, state);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (value && value.then) {\n\t\t\tvalue.then(_settle.bind(null, pact, state), _settle.bind(null, pact, 2));\n\t\t\treturn;\n\t\t}\n\t\tpact.s = state;\n\t\tpact.v = value;\n\t\tconst observer = pact.o;\n\t\tif (observer) {\n\t\t\tobserver(pact);\n\t\t}\n\t}\n}\n\nexport function _isSettledPact(thenable) {\n\treturn thenable instanceof _Pact && thenable.s & 1;\n}\n\n// Converts argument to a function that always returns a Promise\nexport function _async(f) {\n\treturn function() {\n\t\tfor (var args = [], i = 0; i < arguments.length; i++) {\n\t\t\targs[i] = arguments[i];\n\t\t}\n\t\ttry {\n\t\t\treturn Promise.resolve(f.apply(this, args));\n\t\t} catch(e) {\n\t\t\treturn Promise.reject(e);\n\t\t}\n\t}\n}\n\n// Awaits on a value that may or may not be a Promise (equivalent to the await keyword in ES2015, with continuations passed explicitly)\nexport function _await(value, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(value) : value;\n\t}\n\tif (!value || !value.then) {\n\t\tvalue = Promise.resolve(value);\n\t}\n\treturn then ? value.then(then) : value;\n}\n\n// Awaits on a value that may or may not be a Promise, then ignores it\nexport function _awaitIgnored(value, direct) {\n\tif (!direct) {\n\t\treturn value && value.then ? value.then(_empty) : Promise.resolve();\n\t}\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continue(value, then) {\n\treturn value && value.then ? value.then(then) : then(value);\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continueIgnored(value) {\n\tif (value && value.then) {\n\t\treturn value.then(_empty);\n\t}\n}\n\n// Asynchronously iterate through an object that has a length property, passing the index as the first argument to the callback (even as the length property changes)\nexport function _forTo(array, body, check) {\n\tvar i = -1, pact, reject;\n\tfunction _cycle(result) {\n\t\ttry {\n\t\t\twhile (++i < array.length && (!check || !check())) {\n\t\t\t\tresult = body(i);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (pact) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t} else {\n\t\t\t\tpact = result;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t}\n\t}\n\t_cycle();\n\treturn pact;\n}\n\n// Asynchronously iterate through an object's properties (including properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forIn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tkeys.push(key);\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\n// Asynchronously iterate through an object's own properties (excluding properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forOwn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tif (Object.prototype.hasOwnProperty.call(target, key)) {\n\t\t\tkeys.push(key);\n\t\t}\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\nexport const _iteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\"))) : \"@@iterator\";\n\n// Asynchronously iterate through an object's values\n// Uses for...of if the runtime supports it, otherwise iterates until length on a copy\nexport function _forOf(target, body, check) {\n\tif (typeof target[_iteratorSymbol] === \"function\") {\n\t\tvar iterator = target[_iteratorSymbol](), step, pact, reject;\n\t\tfunction _cycle(result) {\n\t\t\ttry {\n\t\t\t\twhile (!(step = iterator.next()).done && (!check || !check())) {\n\t\t\t\t\tresult = body(step.value);\n\t\t\t\t\tif (result && result.then) {\n\t\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (pact) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t} else {\n\t\t\t\t\tpact = result;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t\t}\n\t\t}\n\t\t_cycle();\n\t\tif (iterator.return) {\n\t\t\tvar _fixup = function(value) {\n\t\t\t\ttry {\n\t\t\t\t\tif (!step.done) {\n\t\t\t\t\t\titerator.return();\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\tif (pact && pact.then) {\n\t\t\t\treturn pact.then(_fixup, function(e) {\n\t\t\t\t\tthrow _fixup(e);\n\t\t\t\t});\n\t\t\t}\n\t\t\t_fixup();\n\t\t}\n\t\treturn pact;\n\t}\n\t// No support for Symbol.iterator\n\tif (!(\"length\" in target)) {\n\t\tthrow new TypeError(\"Object is not iterable\");\n\t}\n\t// Handle live collections properly\n\tvar values = [];\n\tfor (var i = 0; i < target.length; i++) {\n\t\tvalues.push(target[i]);\n\t}\n\treturn _forTo(values, function(i) { return body(values[i]); }, check);\n}\n\nexport const _asyncIteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.asyncIterator || (Symbol.asyncIterator = Symbol(\"Symbol.asyncIterator\"))) : \"@@asyncIterator\";\n\n// Asynchronously iterate on a value using it's async iterator if present, or its synchronous iterator if missing\nexport function _forAwaitOf(target, body, check) {\n\tif (typeof target[_asyncIteratorSymbol] === \"function\") {\n\t\tvar pact = new _Pact();\n\t\tvar iterator = target[_asyncIteratorSymbol]();\n\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\treturn pact;\n\t\tfunction _resumeAfterBody(result) {\n\t\t\tif (check && check()) {\n\t\t\t\treturn _settle(pact, 1, iterator.return ? iterator.return().then(function() { return result; }) : result);\n\t\t\t}\n\t\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\t}\n\t\tfunction _resumeAfterNext(step) {\n\t\t\tif (step.done) {\n\t\t\t\t_settle(pact, 1);\n\t\t\t} else {\n\t\t\t\tPromise.resolve(body(step.value)).then(_resumeAfterBody).then(void 0, _reject);\n\t\t\t}\n\t\t}\n\t\tfunction _reject(error) {\n\t\t\t_settle(pact, 2, iterator.return ? iterator.return().then(function() { return error; }) : error);\n\t\t}\n\t}\n\treturn Promise.resolve(_forOf(target, function(value) { return Promise.resolve(value).then(body); }, check));\n}\n\n// Asynchronously implement a generic for loop\nexport function _for(test, update, body) {\n\tvar stage;\n\tfor (;;) {\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t\tif (shouldContinue.then) {\n\t\t\tstage = 0;\n\t\t\tbreak;\n\t\t}\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.s;\n\t\t\t} else {\n\t\t\t\tstage = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (update) {\n\t\t\tvar updateValue = update();\n\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\tstage = 2;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tvar pact = new _Pact();\n\tvar reject = _settle.bind(null, pact, 2);\n\t(stage === 0 ? shouldContinue.then(_resumeAfterTest) : stage === 1 ? result.then(_resumeAfterBody) : updateValue.then(_resumeAfterUpdate)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tdo {\n\t\t\tif (update) {\n\t\t\t\tupdateValue = update();\n\t\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\t\tupdateValue.then(_resumeAfterUpdate).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tshouldContinue = test();\n\t\t\tif (!shouldContinue || (_isSettledPact(shouldContinue) && !shouldContinue.v)) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t}\n\t\t} while (!result || !result.then);\n\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterBody(result);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n\tfunction _resumeAfterUpdate() {\n\t\tif (shouldContinue = test()) {\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterTest(shouldContinue);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a do ... while loop\nexport function _do(body, test) {\n\tvar awaitBody;\n\tdo {\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t} else {\n\t\t\t\tawaitBody = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t} while (!shouldContinue.then);\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : shouldContinue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tfor (;;) {\n\t\t\tshouldContinue = test();\n\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t}\n\t\t\tif (!shouldContinue) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\tresult = result.v;\n\t\t\t\t} else {\n\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tdo {\n\t\t\t\tresult = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tshouldContinue = test();\n\t\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t\t}\n\t\t\t\tif (!shouldContinue) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} while (!shouldContinue.then);\n\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a switch statement\nexport function _switch(discriminant, cases) {\n\tvar dispatchIndex = -1;\n\tvar awaitBody;\n\touter: {\n\t\tfor (var i = 0; i < cases.length; i++) {\n\t\t\tvar test = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvar testValue = test();\n\t\t\t\tif (testValue && testValue.then) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tif (testValue === discriminant) {\n\t\t\t\t\tdispatchIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Found the default case, set it as the pending dispatch case\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tif (dispatchIndex !== -1) {\n\t\t\tdo {\n\t\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\t\twhile (!body) {\n\t\t\t\t\tdispatchIndex++;\n\t\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t\t}\n\t\t\t\tvar result = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tawaitBody = true;\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\t\tdispatchIndex++;\n\t\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t\treturn result;\n\t\t}\n\t}\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : testValue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterTest(value) {\n\t\tfor (;;) {\n\t\t\tif (value === discriminant) {\n\t\t\t\tdispatchIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (++i === cases.length) {\n\t\t\t\tif (dispatchIndex !== -1) {\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttest = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvalue = test();\n\t\t\t\tif (value && value.then) {\n\t\t\t\t\tvalue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tdo {\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tvar result = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tdispatchIndex++;\n\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterBody(result) {\n\t\tfor (;;) {\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tif (!fallthroughCheck || fallthroughCheck()) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdispatchIndex++;\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _call(body, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(body()) : body();\n\t}\n\ttry {\n\t\tvar result = Promise.resolve(body());\n\t\treturn then ? result.then(then) : result;\n\t} catch (e) {\n\t\treturn Promise.reject(e);\n\t}\n}\n\n// Asynchronously call a function and swallow the result\nexport function _callIgnored(body, direct) {\n\treturn _call(body, _empty, direct);\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _invoke(body, then) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(then);\n\t}\n\treturn then(result);\n}\n\n// Asynchronously call a function and swallow the result\nexport function _invokeIgnored(body) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(_empty);\n\t}\n}\n\n// Asynchronously call a function and send errors to recovery continuation\nexport function _catch(body, recover) {\n\ttry {\n\t\tvar result = body();\n\t} catch(e) {\n\t\treturn recover(e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(void 0, recover);\n\t}\n\treturn result;\n}\n\n// Asynchronously await a promise and pass the result to a finally continuation\nexport function _finallyRethrows(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer(true, e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n\t}\n\treturn finalizer(false, result);\n}\n\n// Asynchronously await a promise and invoke a finally continuation that always overrides the result\nexport function _finally(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer();\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer, finalizer);\n\t}\n\treturn finalizer();\n}\n\n// Rethrow or return a value from a finally continuation\nexport function _rethrow(thrown, value) {\n\tif (thrown)\n\t\tthrow value;\n\treturn value;\n}\n\n// Empty function to implement break and other control flow that ignores asynchronous results\nexport function _empty() {\n}\n\n// Sentinel value for early returns in generators \nexport const _earlyReturn = /*#__PURE__*/ {};\n\n// Asynchronously call a function and send errors to recovery continuation, skipping early returns\nexport function _catchInGenerator(body, recover) {\n\treturn _catch(body, function(e) {\n\t\tif (e === _earlyReturn) {\n\t\t\tthrow e;\n\t\t}\n\t\treturn recover(e);\n\t});\n}\n\n// Asynchronous generator class; accepts the entrypoint of the generator, to which it passes itself when the generator should start\nexport const _AsyncGenerator = /*#__PURE__*/(function() {\n\tfunction _AsyncGenerator(entry) {\n\t\tthis._entry = entry;\n\t\tthis._pact = null;\n\t\tthis._resolve = null;\n\t\tthis._return = null;\n\t\tthis._promise = null;\n\t}\n\n\tfunction _wrapReturnedValue(value) {\n\t\treturn { value: value, done: true };\n\t}\n\tfunction _wrapYieldedValue(value) {\n\t\treturn { value: value, done: false };\n\t}\n\n\t_AsyncGenerator.prototype._yield = function(value) {\n\t\t// Yield the value to the pending next call\n\t\tthis._resolve(value && value.then ? value.then(_wrapYieldedValue) : _wrapYieldedValue(value));\n\t\t// Return a pact for an upcoming next/return/throw call\n\t\treturn this._pact = new _Pact();\n\t};\n\t_AsyncGenerator.prototype.next = function(value) {\n\t\t// Advance the generator, starting it if it has yet to be started\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tconst _entry = _this._entry;\n\t\t\t\tif (_entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the next call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Start the generator\n\t\t\t\t_this._entry = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\tfunction returnValue(value) {\n\t\t\t\t\t_this._resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t_this._resolve = null;\n\t\t\t\t}\n\t\t\t\tvar result = _entry(_this);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tresult.then(returnValue, function(error) {\n\t\t\t\t\t\tif (error === _earlyReturn) {\n\t\t\t\t\t\t\treturnValue(_this._return);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst pact = new _Pact();\n\t\t\t\t\t\t\t_this._resolve(pact);\n\t\t\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t\t\t_this._resolve = null;\n\t\t\t\t\t\t\t_resolve(pact, 2, error);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturnValue(result);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Generator is started and a yield expression is pending, settle it\n\t\t\t\t_this._pact = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\t_settle(_pact, 1, value);\n\t\t\t}\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.return = function(value) {\n\t\t// Early return from the generator if started, otherwise abandons the generator\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the return call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return the specified value\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t}\n\t\t\t// Settle the yield expression with a rejected \"early return\" value\n\t\t\t_this._return = value;\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, _earlyReturn);\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.throw = function(error) {\n\t\t// Inject an exception into the pending yield expression\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve, reject) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the throw call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return a rejected Promise containing the error\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn reject(error);\n\t\t\t}\n\t\t\t// Settle the yield expression with the value as a rejection\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, error);\n\t\t});\n\t};\n\n\t_AsyncGenerator.prototype[_asyncIteratorSymbol] = function() {\n\t\treturn this;\n\t};\n\t\n\treturn _AsyncGenerator;\n})();\n","export default function requiredArgs(required, args) {\n  if (args.length < required) {\n    throw new TypeError(required + ' argument' + (required > 1 ? 's' : '') + ' required, but only ' + args.length + ' present');\n  }\n}","import requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @param {Date|Number} argument - the value to convert\n * @returns {Date} the parsed date in the local time zone\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\n\nexport default function toDate(argument) {\n  requiredArgs(1, arguments);\n  var argStr = Object.prototype.toString.call(argument); // Clone the date\n\n  if (argument instanceof Date || typeof argument === 'object' && argStr === '[object Date]') {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new Date(argument.getTime());\n  } else if (typeof argument === 'number' || argStr === '[object Number]') {\n    return new Date(argument);\n  } else {\n    if ((typeof argument === 'string' || argStr === '[object String]') && typeof console !== 'undefined') {\n      // eslint-disable-next-line no-console\n      console.warn(\"Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule\"); // eslint-disable-next-line no-console\n\n      console.warn(new Error().stack);\n    }\n\n    return new Date(NaN);\n  }\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name startOfDay\n * @category Day Helpers\n * @summary Return the start of a day for the given date.\n *\n * @description\n * Return the start of a day for the given date.\n * The result will be in the local timezone.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the start of a day\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The start of a day for 2 September 2014 11:55:00:\n * const result = startOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 00:00:00\n */\n\nexport default function startOfDay(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  date.setHours(0, 0, 0, 0);\n  return date;\n}","import startOfDay from \"../startOfDay/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name isSameDay\n * @category Day Helpers\n * @summary Are the given dates in the same day (and year and month)?\n *\n * @description\n * Are the given dates in the same day (and year and month)?\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} dateLeft - the first date to check\n * @param {Date|Number} dateRight - the second date to check\n * @returns {Boolean} the dates are in the same day (and year and month)\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Are 4 September 06:00:00 and 4 September 18:00:00 in the same day?\n * var result = isSameDay(new Date(2014, 8, 4, 6, 0), new Date(2014, 8, 4, 18, 0))\n * //=> true\n * \n * @example\n * // Are 4 September and 4 October in the same day?\n * var result = isSameDay(new Date(2014, 8, 4), new Date(2014, 9, 4))\n * //=> false\n * \n * @example\n * // Are 4 September, 2014 and 4 September, 2015 in the same day?\n * var result = isSameDay(new Date(2014, 8, 4), new Date(2015, 8, 4))\n * //=> false\n */\n\nexport default function isSameDay(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeftStartOfDay = startOfDay(dirtyDateLeft);\n  var dateRightStartOfDay = startOfDay(dirtyDateRight);\n  return dateLeftStartOfDay.getTime() === dateRightStartOfDay.getTime();\n}","import isSameDay from \"../isSameDay/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name isToday\n * @category Day Helpers\n * @summary Is the given date today?\n * @pure false\n *\n * @description\n * Is the given date today?\n *\n * >  Please note that this function is not present in the FP submodule as\n * > it uses `Date.now()` internally hence impure and can't be safely curried.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to check\n * @returns {Boolean} the date is today\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // If today is 6 October 2014, is 6 October 14:00:00 today?\n * var result = isToday(new Date(2014, 9, 6, 14, 0))\n * //=> true\n */\n\nexport default function isToday(dirtyDate) {\n  requiredArgs(1, arguments);\n  return isSameDay(dirtyDate, Date.now());\n}","import isToday from \"date-fns/isToday\";\r\nexport const alphabeticalSortFunctionForTenantsBasedOnName = (firstEl, secondEl) => {\r\n  if (firstEl.name.toUpperCase() < secondEl.name.toUpperCase()) {\r\n    return -1;\r\n  }\r\n  if (firstEl.name.toUpperCase() > secondEl.name.toUpperCase()) {\r\n    return 1;\r\n  }\r\n  return 0;\r\n};\r\n\r\nexport const areEqual = (stringA, stringB) => {\r\n  if (!stringA || !stringB) return false;\r\n  if (stringA?.trim()?.toLowerCase() === stringB?.trim()?.toLowerCase()) {\r\n    return true;\r\n  }\r\n  return false;\r\n};\r\n\r\nexport const getFileUrl = async (fileStoreId) => {\r\n  try {\r\n    const response = await Digit.UploadServices.Filefetch([fileStoreId], Digit.ULBService.getStateId());\r\n    if (response?.data?.fileStoreIds?.length > 0) {\r\n      const url = response.data.fileStoreIds[0]?.url;\r\n      if (url.includes(\".jpg\") || url.includes(\".png\")) {\r\n        const arr = url.split(\",\");\r\n        const [original, large, medium, small] = arr;\r\n        return original;\r\n      }\r\n      return response.data.fileStoreIds[0]?.url;\r\n    }\r\n  } catch (err) {\r\n  }\r\n};\r\n\r\nexport const openUploadedDocument = async (filestoreId, name) => {\r\n  if (!filestoreId || !filestoreId.length) {\r\n    alert(\"No Document exists!\");\r\n    return;\r\n  }\r\n  const w = window.open(\"\", \"_blank\");\r\n  const url = await getFileUrl(filestoreId);\r\n  if (window.mSewaApp && window.mSewaApp.isMsewaApp()) {\r\n    window.open(url, \"_blank\");\r\n    setTimeout(() => {\r\n      window.location.href = url;\r\n    }, 1000);\r\n  } else {\r\n    w.location = url;\r\n    w.document.title = name;\r\n  }\r\n};\r\n\r\nexport const openDocumentLink = (docLink, title) => {\r\n  if (!docLink || !docLink.length) {\r\n    alert(\"No Document Link exists!\");\r\n    return;\r\n  }\r\n  if (window.mSewaApp && window.mSewaApp.isMsewaApp()) {\r\n    window.open(docLink, \"_blank\");\r\n    setTimeout(() => {\r\n      window.location.href = docLink;\r\n    }, 1000);\r\n  } else {\r\n    const w = window.open(\"\", \"_blank\");\r\n    w.location = docLink;\r\n    w.document.title = title;\r\n  }\r\n};\r\n\r\nexport const downloadDocument = async (filestoreId, title) => {\r\n  if (!filestoreId || !filestoreId.length) {\r\n    alert(\"No Document exists!\");\r\n    return;\r\n  }\r\n\r\n  const fileUrl = await getFileUrl(filestoreId);\r\n  if (fileUrl) {\r\n    Digit.Utils.downloadPDFFromLink(fileUrl);\r\n  } else {\r\n  }\r\n};\r\n\r\n/** For testing multiple file upload */\r\nexport const isNestedArray = (documents) => {\r\n  if (!documents || !documents.length) return false;\r\n  if (Array.isArray(documents) && documents.length) {\r\n    const firstItem = Array.isArray(documents[0]);\r\n    if (firstItem) {\r\n      return true;\r\n    }\r\n  }\r\n  return false;\r\n};\r\n\r\n/**\r\n *\r\n * Becasue, for displaying file name while editing, dev manipulated documents array(nesting)\r\n * hence flattening it again to make correct request\r\n */\r\nexport const reduceDocsArray = (documentsArray) => {\r\n  if (!documentsArray || !documentsArray.length) return [];\r\n  return documentsArray.reduce((acc, files) => {\r\n    let fileObj = {};\r\n    const [_, { file, fileStoreId }] = files;\r\n    fileObj[\"fileName\"] = file?.name;\r\n    fileObj[\"documentType\"] = file?.type;\r\n    fileObj[\"fileStoreId\"] = fileStoreId?.fileStoreId;\r\n    acc.push(fileObj);\r\n    return acc;\r\n  }, []);\r\n};\r\n\r\nexport const getFileSize = (size) => {\r\n  if (size === 0) return \"0 Bytes\";\r\n  const k = 1024;\r\n  const sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\", \"TB\"];\r\n  const i = Math.floor(Math.log(size) / Math.log(k));\r\n  return parseFloat((size / Math.pow(k, i)).toFixed(2)) + \" \" + sizes[i];\r\n};\r\n\r\nexport const documentUploadMessage = (t, fileStoreId, editMode) => {\r\n  if (!fileStoreId) return t(`CS_ACTION_NO_FILEUPLOADED`);\r\n  return editMode\r\n    ? fileStoreId?.fileStoreId?.length\r\n      ? `1 ${t(`CS_ACTION_FILEUPLOADED`)}`\r\n      : t(`CS_ACTION_NO_FILEUPLOADED`)\r\n    : fileStoreId\r\n    ? `1 ${t(`CS_ACTION_FILEUPLOADED`)}`\r\n    : t(`CS_ACTION_NO_FILEUPLOADED`);\r\n};\r\n\r\nexport const checkValidFileType = (fileType) => {\r\n  if (!fileType) return false;\r\n  const allowedFileType = /(.*?)(jpg|jpeg|png|image|pdf|msword|openxmlformats)$/i;\r\n  if (allowedFileType.test(fileType)) {\r\n    return true;\r\n  }\r\n  return false;\r\n};\r\n\r\n/**\r\n *\r\n * So, this was really painful. While using DatePicker we set date as yyyymmdd and downside is it picks time as beginning of the day or 5:30 am and\r\n * the api expects not just date but also time to be greater than actuall time right hence this.\r\n *\r\n * what's really funny is I was testing this few days back at around 2:00 am and api was working fine(you can now understand why) no date errors, but then QA came back with invalid date issue and then it was all a spin roll from there. ALAS!\r\n */\r\nexport const handleTodaysDate = (dateString) => {\r\n  let dateObject = new Date(dateString);\r\n  if (isToday(dateObject)) {\r\n    const todaysDate = new Date();\r\n    dateObject = new Date(todaysDate.getFullYear(), todaysDate.getMonth(), todaysDate.getDate(), 23, 59);\r\n  }\r\n  return dateObject.getTime();\r\n};\r\n\r\n//@saurabh @jagan we should actually be doing this in the TextImput Component where we setDate\r\nexport const convertDateToMaximumPossibleValue = (dateObject) => {\r\n  return new Date(dateObject.getFullYear(), dateObject.getMonth(), dateObject.getDate(), 23, 59);\r\n};\r\n","import React, { useEffect, useMemo } from \"react\";\r\nimport { Card, Header, LabelFieldPair, CardLabel, TextInput, Dropdown, FormComposer, RemoveableTag } from \"@egovernments/digit-ui-react-components\";\r\nimport { useForm, Controller } from \"react-hook-form\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { alphabeticalSortFunctionForTenantsBasedOnName } from \"../../utils\";\r\n\r\nconst SelectULB = ({ userType, t, setValue, onSelect, config, data, formData, register, errors, setError, clearErrors, formState, control }) => {\r\n  const ulbs = Digit.SessionStorage.get(\"ENGAGEMENT_TENANTS\");\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const selectedTenat = useMemo(() => {\r\n    if (formData?.defaultTenantId) {\r\n      return ulbs?.find(ulb => ulb?.code === formData?.defaultTenantId);\r\n    }\r\n    if (tenantId && ulbs) {\r\n      const filtered = ulbs?.filter((item) => item.code === tenantId)\r\n      return filtered;\r\n    }\r\n    return userUlbs?.length === 1 ? userUlbs?.[0] : null\r\n  }, [tenantId, ulbs])\r\n\r\n  const userInfo = Digit.UserService.getUser().info;\r\n  const userUlbs = ulbs.filter(ulb => userInfo?.roles?.some(role => role?.tenantId === ulb?.code)).sort(alphabeticalSortFunctionForTenantsBasedOnName);\r\n  const dropDownData = Digit.ULBService.getUserUlbs(\"SUPERUSER\").sort(alphabeticalSortFunctionForTenantsBasedOnName);\r\n  return (\r\n    <React.Fragment>\r\n      <LabelFieldPair\r\n        style={{ alignItems: 'start' }}\r\n      >\r\n        <CardLabel style={{ fontWeight: \"bold\" }}>{t(\"ES_COMMON_ULB\") + \" *\"}</CardLabel>\r\n        <div className=\"field\">\r\n          <Controller\r\n            name={config.key}\r\n            control={control}\r\n            defaultValue={selectedTenat?.[0]}\r\n            rules={{ required: true }}\r\n            render={(props) => (\r\n              <Dropdown\r\n                allowMultiselect={true}\r\n                optionKey={\"i18nKey\"}\r\n                // option={userUlbs}\r\n                option={dropDownData}\r\n                select={(e) => {\r\n                  props.onChange([...(formData?.[config?.key]?.filter?.((f) => e.code != f?.code) || []), e]);\r\n                }}\r\n                keepNull={true}\r\n                selected={props.value}\r\n                disable={ulbs?.length === 1}\r\n                t={t}\r\n              />\r\n            )}\r\n          />\r\n          <div className=\"tag-container\">\r\n            {formData && formData[config?.key]?.length > 0 && formData?.[config.key]?.map((ulb, index) => {\r\n              return (\r\n                <RemoveableTag\r\n                  key={index}\r\n                  text={t(ulb?.i18nKey)}\r\n                  onClick={() => {\r\n                    // if(isInEditFormMode) return;             \r\n                    setValue(\r\n                      config.key,\r\n                      formData?.[config.key]?.filter((e) => e.i18nKey != ulb.i18nKey)\r\n                    )\r\n                  }}\r\n                />\r\n              );\r\n            })}\r\n          </div>\r\n          {errors && errors[config.key] && <CardLabelError>{t(`EVENTS_TENANT_ERROR_REQUIRED`)}</CardLabelError>}\r\n        </div>\r\n      </LabelFieldPair>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default SelectULB;\r\n","import React from \"react\";\r\nimport {  LabelFieldPair, CardLabel, Dropdown,} from \"@egovernments/digit-ui-react-components\";\r\nimport { Controller } from \"react-hook-form\";\r\nimport { alphabeticalSortFunctionForTenantsBasedOnName } from \"../../utils\";\r\n\r\nconst ULBDropdown = ({ userType, t, setValue, onSelect, config, data, formData, register, errors, setError, clearErrors, formState, control }) => {\r\n    const ulbs = Digit.SessionStorage.get(\"ENGAGEMENT_TENANTS\");\r\n    const userInfo = Digit.UserService.getUser().info;\r\n    const userUlbs = ulbs.filter(ulb => userInfo?.roles?.some(role => role?.tenantId === ulb?.code)).sort(alphabeticalSortFunctionForTenantsBasedOnName);\r\n    return (\r\n        <React.Fragment>\r\n            <LabelFieldPair style={{ alignItems: 'start' }}>\r\n                <CardLabel style={{ fontWeight: \"bold\" }}>{t(\"ES_COMMON_ULB\") + \"*\"}</CardLabel>\r\n                <div className=\"field\">\r\n                    <Controller\r\n                        name={config.key}\r\n                        control={control}\r\n                        rules={{ required: true }}\r\n                        render={({ onChange, value }) => <Dropdown option={userUlbs} selected={value} disable={userUlbs?.length === 1}  optionKey={\"code\"} t={t} select={onChange} />}\r\n                    />\r\n                    {errors && errors[config?.key] && <CardLabelError>{t(`EVENTS_TENANT_ERROR_REQUIRED`)}</CardLabelError>}\r\n                </div>\r\n            </LabelFieldPair>\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nexport default ULBDropdown;\r\n","import React from \"react\";\r\nimport { LabelFieldPair, CardLabel, TextInput } from \"@egovernments/digit-ui-react-components\";\r\n\r\n\r\nconst DocumentName = ({ userType, t, setValue, onSelect, config, data, formData, register, errors, setError, clearErrors, formState, control }) => {\r\n  return (\r\n    <React.Fragment>\r\n      <LabelFieldPair style={{marginBottom:'20px'}}> \r\n        <CardLabel style={{ fontWeight: \"bold\"}}>{t(\"ES_COMMON_DOC_NAME\") + \" *\"}</CardLabel>\r\n        <div className=\"field\">\r\n          <TextInput name={config.key} inputRef={register()} />\r\n        </div>\r\n      </LabelFieldPair>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default DocumentName;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Card, Header, LabelFieldPair, CardLabel, TextInput, Dropdown, FormComposer, Loader } from \"@egovernments/digit-ui-react-components\";\r\nimport { Controller } from \"react-hook-form\";\r\n\r\nconst SelectCategory = ({ userType, t, setValue, onSelect, config, data, formData, register, errors, setError, clearErrors, formState, control }) => {\r\n  const stateId = Digit.ULBService.getStateId();\r\n\r\n  const [ulbs, setUlbs] = useState(() => {\r\n    return [];\r\n  });\r\n\r\n  const currrentUlb = Digit.ULBService.getCurrentUlb() || \"pb.amritsar\" ;\r\n  const { data: categoryData, isLoading } = Digit.Hooks.engagement.useMDMS(stateId, \"DocumentUploader\", [\"UlbLevelCategories\"], {\r\n    select: (d) => {\r\n     \r\n      const data = d?.DocumentUploader?.UlbLevelCategories?.filter?.((e) => e.ulb === currrentUlb.code);\r\n      return data[0].categoryList.map((name)=>({name}));\r\n    },\r\n  });\r\n\r\n \r\n  useEffect(() => {\r\n   formData?.ULB?.length  ? setUlbs(formData?.ULB?.map((e) => e?.code)): null;\r\n  }, [formData?.ULB]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <LabelFieldPair>\r\n        <CardLabel style={{ fontWeight: \"bold\" }}>{t(\"ES_COMMON_DOC_CATEGORY\") + \"*\"}</CardLabel>\r\n        <Controller\r\n          name={config.key}\r\n          control={control}\r\n          render={(props) => (\r\n            <div className=\"field\">\r\n              <Dropdown option={categoryData} select={props.onChange} selected={props.value} t={t} optionKey=\"name\" />\r\n            </div>\r\n          )}\r\n        />\r\n      </LabelFieldPair>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default SelectCategory;\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  Card,\r\n  Header,\r\n  LabelFieldPair,\r\n  CardLabelError,\r\n  CardLabel,\r\n  TextInput,\r\n  Dropdown,\r\n  FormComposer,\r\n  TextArea,\r\n} from \"@egovernments/digit-ui-react-components\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nconst SelectULB = ({ userType, t, setValue, onSelect, config, data, formData, register, errors, setError, clearErrors, formState, control }) => {  return (\r\n    <React.Fragment>\r\n      <LabelFieldPair>\r\n        <CardLabel style={{ fontWeight: \"bold\" }}>{t(\"ES_COMMON_DOC_DESCRIPTION\")}</CardLabel>\r\n        <div className=\"field\">\r\n          <TextArea\r\n            name={config.key}\r\n            inputRef={register({\r\n              maxLength: 140,\r\n            })}\r\n          />\r\n          {errors?.description?.type && <CardLabelError>{t(`ERROR_${errors?.description?.type?.toUpperCase()}_140`)}</CardLabelError>}\r\n        </div>\r\n      </LabelFieldPair>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default SelectULB;\r\n","import { CardLabel, LabelFieldPair, TextInput, UploadFile, CardLabelError, Loader } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useEffect, useState, useMemo } from \"react\";\r\nimport { Controller } from \"react-hook-form\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { checkValidFileType, documentUploadMessage, getFileSize } from \"../../utils\";\r\n\r\n\r\n\r\nconst EngagementDocUploadDocument = ({ userType, t, onSelect, setValue, config, data, formData, register, errors, setError, clearErrors, formState, control }) => {\r\n  const [fileStoreId, setFileStoreId] = useState(() => formData?.[config.key]?.filestoreId);\r\n  const [fileSize, setFileSize] = useState();\r\n  const [fileType, setFileType] = useState('');\r\n  const [file, setFile] = useState();\r\n  const [urlDisabled, setUrlDisabled] = useState(false);\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const [controllerProps, setProps] = useState({});\r\n  const [isUploadingImage, setIsUploadingImage] = useState(false)\r\n  const [imageUploadError, setUploadError] = useState(\"\")\r\n\r\n  // TO BE UNCOMMENTED IF BOTH URL AND FILESTORE ID CANT BE SEND\r\n  const disableUrlField = () => {\r\n    // setUrlDisabled(true);\r\n    // setValue(config.key + \".documentLink\", \"\");\r\n  };\r\n  const selectFile = (e, props) => {\r\n    setFile()\r\n    setFileSize()\r\n    setFileType()\r\n    setUploadError(\"\")\r\n    if (!e.target?.files?.length) return\r\n\r\n    const size = e?.target?.files[0]?.size;\r\n    const type = e?.target?.files[0]?.type;\r\n    if (size && (size / 1024 / 1024) > 5) {\r\n      setUploadError('FILE_SIZE_EXCEEDED')\r\n      return\r\n    }\r\n\r\n    if (type && checkValidFileType(type)) {\r\n      setFileSize(size);\r\n      setFileType(type);\r\n      setProps(props);\r\n      setFile(e.target.files[0]);\r\n      return\r\n    } else {\r\n      setUploadError('NOT_SUPPORTED_FILE_TYPE')\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (file) uploadFile();\r\n  }, [file]);\r\n\r\n  useEffect(() => {\r\n    if (fileStoreId) disableUrlField();\r\n    else setUrlDisabled(false);\r\n    controllerProps?.onChange?.({ fileStoreId, fileSize, fileType });\r\n  }, [fileStoreId, controllerProps]);\r\n\r\n  const uploadFile = async () => {\r\n    try {\r\n      setIsUploadingImage(true)\r\n      const response = await Digit.UploadServices.Filestorage(\"engagement\", file, Digit.ULBService.getStateId());\r\n      if (response?.data?.files?.length > 0) {\r\n        setFileStoreId(response?.data?.files[0]?.fileStoreId);\r\n      } else {\r\n        setError(t(\"CS_FILE_UPLOAD_ERROR\"));\r\n      }\r\n\r\n    } catch (err) {\r\n    } finally {\r\n      setIsUploadingImage(false)\r\n    }\r\n  };\r\n\r\n  const location = useLocation();\r\n  const isInEditFormMode = useMemo(() => {\r\n    if (location.pathname.includes('/documents/inbox/update')) return true;\r\n    return false;\r\n  }, [location.pathname])\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <LabelFieldPair>\r\n        <CardLabel style={{ fontWeight: \"bold\" }}>{t(\"ES_COMMON_DOC_DOCUMENT\") + \"*\"}</CardLabel>\r\n        <div className=\"field\">\r\n          <Controller\r\n            name={config.key + \".filestoreId\"}\r\n            control={control}\r\n            render={(props) => (\r\n              <UploadFile\r\n                id={\"city-engagement-doc\"}\r\n                onUpload={(d) => selectFile(d, props)}\r\n                onDelete={() => {\r\n                  setFileStoreId(null);\r\n                  setFileSize(100);\r\n                }}\r\n                accept=\"image/*, .pdf, .png, .jpeg, .doc\"\r\n                showHintBelow={true}\r\n                hintText={t(\"DOCUMENTS_ATTACH_RESTRICTIONS_SIZE\")}\r\n                message={isUploadingImage ? <Loader /> : documentUploadMessage(t, fileStoreId, isInEditFormMode)}\r\n                textStyles={{ width: \"100%\" }}\r\n                inputStyles={{ width: \"280px\" }}\r\n              />\r\n            )}\r\n          />\r\n          {fileSize ? `${getFileSize(fileSize)}` : null}\r\n          {imageUploadError ? <CardLabelError>{t(imageUploadError)}</CardLabelError> : null}\r\n        </div>\r\n      </LabelFieldPair>\r\n\r\n      {/* <LabelFieldPair style={{ margin: \"25px\" }}>\r\n        <CardLabel></CardLabel>\r\n        <div style={{ textAlign: \"center\" }} className=\"field links-wrapper\">\r\n          <span style={{ color: \"#505a5f\", fontWeight: \"bold\" }} className=\"cell-text\">\r\n            {\"(\" + t(\"CS_COMMON_OR\") + \")\"}\r\n          </span>\r\n        </div>\r\n      </LabelFieldPair>\r\n\r\n      <LabelFieldPair>\r\n        <CardLabel style={{ fontWeight: \"bold\" }}>{t(\"ES_COMMON_LINK_LABEL\") + \"*\"}</CardLabel>\r\n        <div className=\"field\">\r\n          <TextInput name={config.key + \".documentLink\"} inputRef={register()} disable={urlDisabled} />\r\n        </div>\r\n      </LabelFieldPair> */}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default EngagementDocUploadDocument;\r\n","export const config = [\r\n  {\r\n    head: \"\",\r\n    body: [\r\n      {\r\n        type: \"form\",\r\n        withoutLabel: true,\r\n        component: \"EventForm\",\r\n        nextStep: \"\",\r\n        route: \"\",\r\n        key: \"eventData\",\r\n      },\r\n      {\r\n        type: \"text\",\r\n        label: \"EVENTS_DESCRIPTION_LABEL\",\r\n        isMandatory: true,\r\n        description: \"EVENTS_DESCRIPTION_TEXT\",\r\n        populators: {\r\n          name: \"description\",\r\n          className: \"fullWidth\",\r\n          validation: {\r\n            required: true,\r\n            maxLength: 500,\r\n          },\r\n          error: 'EVENTS_DESCRIPTION_ERROR_REQUIRED',\r\n        },\r\n      },\r\n      {\r\n        type: \"date\",\r\n        label: \"EVENTS_FROM_DATE_LABEL\",\r\n        isMandatory: true,\r\n        populators: {\r\n          name: \"fromDate\",\r\n          className: \"fullWidth\",\r\n          validation: {\r\n            required: true,\r\n          },\r\n          shouldUpdate: true,\r\n          error: \"EVENTS_FROM_DATE_ERROR_INVALID\",\r\n        },\r\n      },\r\n      {\r\n        type: \"form\",\r\n        key: \"SelectToDate\",\r\n        withoutLabel: true,\r\n        component: \"SelectToDate\",\r\n        key: \"toDate\",\r\n      },\r\n      {\r\n        type: \"time\",\r\n        label: \"EVENTS_FROM_TIME_LABEL\",\r\n        isMandatory: true,\r\n        populators: {\r\n          name: \"fromTime\",\r\n          className: \"fullWidth\",\r\n          validation: {\r\n            required: true,\r\n          },\r\n          error: \"EVENTS_FROM_TIME_ERROR_REQUIRED\",\r\n        },\r\n      },\r\n      {\r\n        type: \"time\",\r\n        label: \"EVENTS_TO_TIME_LABEL\",\r\n        isMandatory: true,\r\n        populators: {\r\n          name: \"toTime\",\r\n          className: \"fullWidth\",\r\n          validation: {\r\n            required: true,\r\n          },\r\n          error: \"EVENTS_TO_TIME_ERROR_REQUIRED\",\r\n        },\r\n      },\r\n      {\r\n        type: \"text\",\r\n        label: \"EVENTS_ADDRESS_LABEL\",\r\n        isMandatory: true,\r\n        populators: {\r\n          name: \"address\",\r\n          className: \"fullWidth\",\r\n          validation: {\r\n            required: true,\r\n          },\r\n          error: \"EVENTS_ADDRESS_ERROR_REQUIRED\",\r\n        },\r\n      },\r\n      {\r\n        type: \"component\",\r\n        component: \"SelectEventGeolocation\",\r\n        withoutLabel: true,\r\n        key: \"geoLocation\",\r\n      },\r\n      {\r\n        type: \"text\",\r\n        label: \"EVENTS_ORGANIZER_NAME_LABEL\",\r\n        populators: {\r\n          name: \"organizer\",\r\n          className: \"fullWidth\",\r\n          validation: {\r\n            pattern: /^[A-Za-z ]*$/,\r\n          },\r\n          error: \"EVENTS_ORGANIZER_ERROR\",\r\n        }\r\n      },\r\n      {\r\n        type: \"number\",\r\n        label: \"EVENTS_ENTRY_FEE_INR_LABEL\",\r\n        populators: {\r\n          name: \"fees\",\r\n          className: \"fullWidth\",\r\n          error: \"EVENTS_ENTRY_ERROR_REQUIRED\",\r\n        }\r\n      },\r\n    ]\r\n  }\r\n] ","import { FormComposer, Header } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { Fragment, useEffect } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { config } from \"../../../../config/NewEventConfig\";\r\n\r\nconst NewEvents = () => {\r\n  const { t } = useTranslation();\r\n  const history = useHistory();\r\n\r\n  const onSubmit = (data) => {\r\n    const { fromDate, toDate, fromTime, toTime, address, organizer, fees, geoLocation = {} } = data;\r\n    const details = {\r\n      events: [\r\n        {\r\n          source: \"WEBAPP\",\r\n          eventType: \"EVENTSONGROUND\",\r\n          tenantId: data?.tenantId?.code,\r\n          description: data?.description,\r\n          name: data?.name,\r\n          eventcategory: data?.eventCategory?.code,\r\n          eventDetails: {\r\n            fromDate: new Date(`${fromDate} ${fromTime}`).getTime(),\r\n            toDate: new Date(`${toDate} ${toTime}`).getTime(),\r\n            fromTime,\r\n            toTime,\r\n            address,\r\n            organizer,\r\n            fees,\r\n            ...geoLocation\r\n          }\r\n        }\r\n      ]\r\n    }\r\n    history.push(\"/digit-ui/employee/engagement/event/response\", details)\r\n  }\r\n\r\n  const [mutationHappened, setMutationHappened, clear] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_EVENT_MUTATION_HAPPENED\", false);\r\n  const [errorInfo, setErrorInfo, clearError] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_EVENT_ERROR_DATA\", false);\r\n  const [successData, setsuccessData, clearSuccessData] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_EVENT_MUTATION_SUCCESS_DATA\", false);\r\n\r\n  useEffect(() => {\r\n    setMutationHappened(false);\r\n    clearSuccessData();\r\n    clearError();\r\n  }, []);\r\n\r\n  return (\r\n    <Fragment>\r\n      <Header>{t(\"ES_TITLE_NEW_EVENTS\")}</Header>\r\n      <FormComposer\r\n        config={config}\r\n        onSubmit={onSubmit}\r\n        label={t(\"EVENTS_CREATE_EVENT\")}\r\n      >\r\n      </FormComposer>\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default NewEvents;","export default function toInteger(dirtyNumber) {\n  if (dirtyNumber === null || dirtyNumber === true || dirtyNumber === false) {\n    return NaN;\n  }\n\n  var number = Number(dirtyNumber);\n\n  if (isNaN(number)) {\n    return number;\n  }\n\n  return number < 0 ? Math.ceil(number) : Math.floor(number);\n}","import toInteger from \"../_lib/toInteger/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name addMilliseconds\n * @category Millisecond Helpers\n * @summary Add the specified number of milliseconds to the given date.\n *\n * @description\n * Add the specified number of milliseconds to the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of milliseconds to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the milliseconds added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add 750 milliseconds to 10 July 2014 12:45:30.000:\n * const result = addMilliseconds(new Date(2014, 6, 10, 12, 45, 30, 0), 750)\n * //=> Thu Jul 10 2014 12:45:30.750\n */\n\nexport default function addMilliseconds(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var timestamp = toDate(dirtyDate).getTime();\n  var amount = toInteger(dirtyAmount);\n  return new Date(timestamp + amount);\n}","/**\n * Google Chrome as of 67.0.3396.87 introduced timezones with offset that includes seconds.\n * They usually appear for dates that denote time before the timezones were introduced\n * (e.g. for 'Europe/Prague' timezone the offset is GMT+00:57:44 before 1 October 1891\n * and GMT+01:00:00 after that date)\n *\n * Date#getTimezoneOffset returns the offset in minutes and would return 57 for the example above,\n * which would lead to incorrect calculations.\n *\n * This function returns the timezone offset in milliseconds that takes seconds in account.\n */\nexport default function getTimezoneOffsetInMilliseconds(date) {\n  var utcDate = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds(), date.getMilliseconds()));\n  utcDate.setUTCFullYear(date.getFullYear());\n  return date.getTime() - utcDate.getTime();\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name compareAsc\n * @category Common Helpers\n * @summary Compare the two dates and return -1, 0 or 1.\n *\n * @description\n * Compare the two dates and return 1 if the first date is after the second,\n * -1 if the first date is before the second or 0 if dates are equal.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} dateLeft - the first date to compare\n * @param {Date|Number} dateRight - the second date to compare\n * @returns {Number} the result of the comparison\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Compare 11 February 1987 and 10 July 1989:\n * const result = compareAsc(new Date(1987, 1, 11), new Date(1989, 6, 10))\n * //=> -1\n *\n * @example\n * // Sort the array of dates:\n * const result = [\n *   new Date(1995, 6, 2),\n *   new Date(1987, 1, 11),\n *   new Date(1989, 6, 10)\n * ].sort(compareAsc)\n * //=> [\n * //   Wed Feb 11 1987 00:00:00,\n * //   Mon Jul 10 1989 00:00:00,\n * //   Sun Jul 02 1995 00:00:00\n * // ]\n */\n\nexport default function compareAsc(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeft = toDate(dirtyDateLeft);\n  var dateRight = toDate(dirtyDateRight);\n  var diff = dateLeft.getTime() - dateRight.getTime();\n\n  if (diff < 0) {\n    return -1;\n  } else if (diff > 0) {\n    return 1; // Return 0 if diff is 0; return NaN if diff is NaN\n  } else {\n    return diff;\n  }\n}","import requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name isDate\n * @category Common Helpers\n * @summary Is the given value a date?\n *\n * @description\n * Returns true if the given value is an instance of Date. The function works for dates transferred across iframes.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {*} value - the value to check\n * @returns {boolean} true if the given value is a date\n * @throws {TypeError} 1 arguments required\n *\n * @example\n * // For a valid date:\n * const result = isDate(new Date())\n * //=> true\n *\n * @example\n * // For an invalid date:\n * const result = isDate(new Date(NaN))\n * //=> true\n *\n * @example\n * // For some value:\n * const result = isDate('2014-02-31')\n * //=> false\n *\n * @example\n * // For an object:\n * const result = isDate({})\n * //=> false\n */\n\nexport default function isDate(value) {\n  requiredArgs(1, arguments);\n  return value instanceof Date || typeof value === 'object' && Object.prototype.toString.call(value) === '[object Date]';\n}","import isDate from \"../isDate/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name isValid\n * @category Common Helpers\n * @summary Is the given date valid?\n *\n * @description\n * Returns false if argument is Invalid Date and true otherwise.\n * Argument is converted to Date using `toDate`. See [toDate]{@link https://date-fns.org/docs/toDate}\n * Invalid Date is a Date, whose time value is NaN.\n *\n * Time value of Date: http://es5.github.io/#x15.9.1.1\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * - Now `isValid` doesn't throw an exception\n *   if the first argument is not an instance of Date.\n *   Instead, argument is converted beforehand using `toDate`.\n *\n *   Examples:\n *\n *   | `isValid` argument        | Before v2.0.0 | v2.0.0 onward |\n *   |---------------------------|---------------|---------------|\n *   | `new Date()`              | `true`        | `true`        |\n *   | `new Date('2016-01-01')`  | `true`        | `true`        |\n *   | `new Date('')`            | `false`       | `false`       |\n *   | `new Date(1488370835081)` | `true`        | `true`        |\n *   | `new Date(NaN)`           | `false`       | `false`       |\n *   | `'2016-01-01'`            | `TypeError`   | `false`       |\n *   | `''`                      | `TypeError`   | `false`       |\n *   | `1488370835081`           | `TypeError`   | `true`        |\n *   | `NaN`                     | `TypeError`   | `false`       |\n *\n *   We introduce this change to make *date-fns* consistent with ECMAScript behavior\n *   that try to coerce arguments to the expected type\n *   (which is also the case with other *date-fns* functions).\n *\n * @param {*} date - the date to check\n * @returns {Boolean} the date is valid\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // For the valid date:\n * const result = isValid(new Date(2014, 1, 31))\n * //=> true\n *\n * @example\n * // For the value, convertable into a date:\n * const result = isValid(1393804800000)\n * //=> true\n *\n * @example\n * // For the invalid date:\n * const result = isValid(new Date(''))\n * //=> false\n */\n\nexport default function isValid(dirtyDate) {\n  requiredArgs(1, arguments);\n\n  if (!isDate(dirtyDate) && typeof dirtyDate !== 'number') {\n    return false;\n  }\n\n  var date = toDate(dirtyDate);\n  return !isNaN(Number(date));\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name differenceInCalendarMonths\n * @category Month Helpers\n * @summary Get the number of calendar months between the given dates.\n *\n * @description\n * Get the number of calendar months between the given dates.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of calendar months\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many calendar months are between 31 January 2014 and 1 September 2014?\n * var result = differenceInCalendarMonths(\n *   new Date(2014, 8, 1),\n *   new Date(2014, 0, 31)\n * )\n * //=> 8\n */\n\nexport default function differenceInCalendarMonths(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeft = toDate(dirtyDateLeft);\n  var dateRight = toDate(dirtyDateRight);\n  var yearDiff = dateLeft.getFullYear() - dateRight.getFullYear();\n  var monthDiff = dateLeft.getMonth() - dateRight.getMonth();\n  return yearDiff * 12 + monthDiff;\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name differenceInMilliseconds\n * @category Millisecond Helpers\n * @summary Get the number of milliseconds between the given dates.\n *\n * @description\n * Get the number of milliseconds between the given dates.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of milliseconds\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many milliseconds are between\n * // 2 July 2014 12:30:20.600 and 2 July 2014 12:30:21.700?\n * const result = differenceInMilliseconds(\n *   new Date(2014, 6, 2, 12, 30, 21, 700),\n *   new Date(2014, 6, 2, 12, 30, 20, 600)\n * )\n * //=> 1100\n */\n\nexport default function differenceInMilliseconds(dateLeft, dateRight) {\n  requiredArgs(2, arguments);\n  return toDate(dateLeft).getTime() - toDate(dateRight).getTime();\n}","var roundingMap = {\n  ceil: Math.ceil,\n  round: Math.round,\n  floor: Math.floor,\n  trunc: function (value) {\n    return value < 0 ? Math.ceil(value) : Math.floor(value);\n  } // Math.trunc is not supported by IE\n\n};\nvar defaultRoundingMethod = 'trunc';\nexport function getRoundingMethod(method) {\n  return method ? roundingMap[method] : roundingMap[defaultRoundingMethod];\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name endOfDay\n * @category Day Helpers\n * @summary Return the end of a day for the given date.\n *\n * @description\n * Return the end of a day for the given date.\n * The result will be in the local timezone.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the end of a day\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The end of a day for 2 September 2014 11:55:00:\n * const result = endOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 23:59:59.999\n */\n\nexport default function endOfDay(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  date.setHours(23, 59, 59, 999);\n  return date;\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name endOfMonth\n * @category Month Helpers\n * @summary Return the end of a month for the given date.\n *\n * @description\n * Return the end of a month for the given date.\n * The result will be in the local timezone.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the end of a month\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The end of a month for 2 September 2014 11:55:00:\n * const result = endOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 30 2014 23:59:59.999\n */\n\nexport default function endOfMonth(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var month = date.getMonth();\n  date.setFullYear(date.getFullYear(), month + 1, 0);\n  date.setHours(23, 59, 59, 999);\n  return date;\n}","import toDate from \"../toDate/index.js\";\nimport endOfDay from \"../endOfDay/index.js\";\nimport endOfMonth from \"../endOfMonth/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name isLastDayOfMonth\n * @category Month Helpers\n * @summary Is the given date the last day of a month?\n *\n * @description\n * Is the given date the last day of a month?\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to check\n * @returns {Boolean} the date is the last day of a month\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Is 28 February 2014 the last day of a month?\n * var result = isLastDayOfMonth(new Date(2014, 1, 28))\n * //=> true\n */\n\nexport default function isLastDayOfMonth(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  return endOfDay(date).getTime() === endOfMonth(date).getTime();\n}","import toDate from \"../toDate/index.js\";\nimport differenceInCalendarMonths from \"../differenceInCalendarMonths/index.js\";\nimport compareAsc from \"../compareAsc/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nimport isLastDayOfMonth from \"../isLastDayOfMonth/index.js\";\n/**\n * @name differenceInMonths\n * @category Month Helpers\n * @summary Get the number of full months between the given dates.\n *\n * @description\n * Get the number of full months between the given dates using trunc as a default rounding method.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of full months\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many full months are between 31 January 2014 and 1 September 2014?\n * const result = differenceInMonths(new Date(2014, 8, 1), new Date(2014, 0, 31))\n * //=> 7\n */\n\nexport default function differenceInMonths(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeft = toDate(dirtyDateLeft);\n  var dateRight = toDate(dirtyDateRight);\n  var sign = compareAsc(dateLeft, dateRight);\n  var difference = Math.abs(differenceInCalendarMonths(dateLeft, dateRight));\n  var result; // Check for the difference of less than month\n\n  if (difference < 1) {\n    result = 0;\n  } else {\n    if (dateLeft.getMonth() === 1 && dateLeft.getDate() > 27) {\n      // This will check if the date is end of Feb and assign a higher end of month date\n      // to compare it with Jan\n      dateLeft.setDate(30);\n    }\n\n    dateLeft.setMonth(dateLeft.getMonth() - sign * difference); // Math.abs(diff in full months - diff in calendar months) === 1 if last calendar month is not full\n    // If so, result must be decreased by 1 in absolute value\n\n    var isLastMonthNotFull = compareAsc(dateLeft, dateRight) === -sign; // Check for cases of one full calendar month\n\n    if (isLastDayOfMonth(toDate(dirtyDateLeft)) && difference === 1 && compareAsc(dirtyDateLeft, dateRight) === 1) {\n      isLastMonthNotFull = false;\n    }\n\n    result = sign * (difference - Number(isLastMonthNotFull));\n  } // Prevent negative zero\n\n\n  return result === 0 ? 0 : result;\n}","import differenceInMilliseconds from \"../differenceInMilliseconds/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nimport { getRoundingMethod } from \"../_lib/roundingMethods/index.js\";\n/**\n * @name differenceInSeconds\n * @category Second Helpers\n * @summary Get the number of seconds between the given dates.\n *\n * @description\n * Get the number of seconds between the given dates.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @param {Object} [options] - an object with options.\n * @param {String} [options.roundingMethod='trunc'] - a rounding method (`ceil`, `floor`, `round` or `trunc`)\n * @returns {Number} the number of seconds\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many seconds are between\n * // 2 July 2014 12:30:07.999 and 2 July 2014 12:30:20.000?\n * const result = differenceInSeconds(\n *   new Date(2014, 6, 2, 12, 30, 20, 0),\n *   new Date(2014, 6, 2, 12, 30, 7, 999)\n * )\n * //=> 12\n */\n\nexport default function differenceInSeconds(dateLeft, dateRight, options) {\n  requiredArgs(2, arguments);\n  var diff = differenceInMilliseconds(dateLeft, dateRight) / 1000;\n  return getRoundingMethod(options === null || options === void 0 ? void 0 : options.roundingMethod)(diff);\n}","var formatDistanceLocale = {\n  lessThanXSeconds: {\n    one: 'less than a second',\n    other: 'less than {{count}} seconds'\n  },\n  xSeconds: {\n    one: '1 second',\n    other: '{{count}} seconds'\n  },\n  halfAMinute: 'half a minute',\n  lessThanXMinutes: {\n    one: 'less than a minute',\n    other: 'less than {{count}} minutes'\n  },\n  xMinutes: {\n    one: '1 minute',\n    other: '{{count}} minutes'\n  },\n  aboutXHours: {\n    one: 'about 1 hour',\n    other: 'about {{count}} hours'\n  },\n  xHours: {\n    one: '1 hour',\n    other: '{{count}} hours'\n  },\n  xDays: {\n    one: '1 day',\n    other: '{{count}} days'\n  },\n  aboutXWeeks: {\n    one: 'about 1 week',\n    other: 'about {{count}} weeks'\n  },\n  xWeeks: {\n    one: '1 week',\n    other: '{{count}} weeks'\n  },\n  aboutXMonths: {\n    one: 'about 1 month',\n    other: 'about {{count}} months'\n  },\n  xMonths: {\n    one: '1 month',\n    other: '{{count}} months'\n  },\n  aboutXYears: {\n    one: 'about 1 year',\n    other: 'about {{count}} years'\n  },\n  xYears: {\n    one: '1 year',\n    other: '{{count}} years'\n  },\n  overXYears: {\n    one: 'over 1 year',\n    other: 'over {{count}} years'\n  },\n  almostXYears: {\n    one: 'almost 1 year',\n    other: 'almost {{count}} years'\n  }\n};\n\nvar formatDistance = function (token, count, options) {\n  var result;\n  var tokenValue = formatDistanceLocale[token];\n\n  if (typeof tokenValue === 'string') {\n    result = tokenValue;\n  } else if (count === 1) {\n    result = tokenValue.one;\n  } else {\n    result = tokenValue.other.replace('{{count}}', count.toString());\n  }\n\n  if (options !== null && options !== void 0 && options.addSuffix) {\n    if (options.comparison && options.comparison > 0) {\n      return 'in ' + result;\n    } else {\n      return result + ' ago';\n    }\n  }\n\n  return result;\n};\n\nexport default formatDistance;","export default function buildFormatLongFn(args) {\n  return function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    // TODO: Remove String()\n    var width = options.width ? String(options.width) : args.defaultWidth;\n    var format = args.formats[width] || args.formats[args.defaultWidth];\n    return format;\n  };\n}","import buildFormatLongFn from \"../../../_lib/buildFormatLongFn/index.js\";\nvar dateFormats = {\n  full: 'EEEE, MMMM do, y',\n  long: 'MMMM do, y',\n  medium: 'MMM d, y',\n  short: 'MM/dd/yyyy'\n};\nvar timeFormats = {\n  full: 'h:mm:ss a zzzz',\n  long: 'h:mm:ss a z',\n  medium: 'h:mm:ss a',\n  short: 'h:mm a'\n};\nvar dateTimeFormats = {\n  full: \"{{date}} 'at' {{time}}\",\n  long: \"{{date}} 'at' {{time}}\",\n  medium: '{{date}}, {{time}}',\n  short: '{{date}}, {{time}}'\n};\nvar formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: 'full'\n  }),\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: 'full'\n  }),\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: 'full'\n  })\n};\nexport default formatLong;","var formatRelativeLocale = {\n  lastWeek: \"'last' eeee 'at' p\",\n  yesterday: \"'yesterday at' p\",\n  today: \"'today at' p\",\n  tomorrow: \"'tomorrow at' p\",\n  nextWeek: \"eeee 'at' p\",\n  other: 'P'\n};\n\nvar formatRelative = function (token, _date, _baseDate, _options) {\n  return formatRelativeLocale[token];\n};\n\nexport default formatRelative;","export default function buildLocalizeFn(args) {\n  return function (dirtyIndex, dirtyOptions) {\n    var options = dirtyOptions || {};\n    var context = options.context ? String(options.context) : 'standalone';\n    var valuesArray;\n\n    if (context === 'formatting' && args.formattingValues) {\n      var defaultWidth = args.defaultFormattingWidth || args.defaultWidth;\n      var width = options.width ? String(options.width) : defaultWidth;\n      valuesArray = args.formattingValues[width] || args.formattingValues[defaultWidth];\n    } else {\n      var _defaultWidth = args.defaultWidth;\n\n      var _width = options.width ? String(options.width) : args.defaultWidth;\n\n      valuesArray = args.values[_width] || args.values[_defaultWidth];\n    }\n\n    var index = args.argumentCallback ? args.argumentCallback(dirtyIndex) : dirtyIndex; // @ts-ignore: For some reason TypeScript just don't want to match it, no matter how hard we try. I challenge you to try to remove it!\n\n    return valuesArray[index];\n  };\n}","import buildLocalizeFn from \"../../../_lib/buildLocalizeFn/index.js\";\nvar eraValues = {\n  narrow: ['B', 'A'],\n  abbreviated: ['BC', 'AD'],\n  wide: ['Before Christ', 'Anno Domini']\n};\nvar quarterValues = {\n  narrow: ['1', '2', '3', '4'],\n  abbreviated: ['Q1', 'Q2', 'Q3', 'Q4'],\n  wide: ['1st quarter', '2nd quarter', '3rd quarter', '4th quarter']\n}; // Note: in English, the names of days of the week and months are capitalized.\n// If you are making a new locale based on this one, check if the same is true for the language you're working on.\n// Generally, formatted dates should look like they are in the middle of a sentence,\n// e.g. in Spanish language the weekdays and months should be in the lowercase.\n\nvar monthValues = {\n  narrow: ['J', 'F', 'M', 'A', 'M', 'J', 'J', 'A', 'S', 'O', 'N', 'D'],\n  abbreviated: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n  wide: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\n};\nvar dayValues = {\n  narrow: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],\n  short: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],\n  abbreviated: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n  wide: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\n};\nvar dayPeriodValues = {\n  narrow: {\n    am: 'a',\n    pm: 'p',\n    midnight: 'mi',\n    noon: 'n',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  },\n  abbreviated: {\n    am: 'AM',\n    pm: 'PM',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  },\n  wide: {\n    am: 'a.m.',\n    pm: 'p.m.',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  }\n};\nvar formattingDayPeriodValues = {\n  narrow: {\n    am: 'a',\n    pm: 'p',\n    midnight: 'mi',\n    noon: 'n',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  },\n  abbreviated: {\n    am: 'AM',\n    pm: 'PM',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  },\n  wide: {\n    am: 'a.m.',\n    pm: 'p.m.',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  }\n};\n\nvar ordinalNumber = function (dirtyNumber, _options) {\n  var number = Number(dirtyNumber); // If ordinal numbers depend on context, for example,\n  // if they are different for different grammatical genders,\n  // use `options.unit`.\n  //\n  // `unit` can be 'year', 'quarter', 'month', 'week', 'date', 'dayOfYear',\n  // 'day', 'hour', 'minute', 'second'.\n\n  var rem100 = number % 100;\n\n  if (rem100 > 20 || rem100 < 10) {\n    switch (rem100 % 10) {\n      case 1:\n        return number + 'st';\n\n      case 2:\n        return number + 'nd';\n\n      case 3:\n        return number + 'rd';\n    }\n  }\n\n  return number + 'th';\n};\n\nvar localize = {\n  ordinalNumber: ordinalNumber,\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: 'wide'\n  }),\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: 'wide',\n    argumentCallback: function (quarter) {\n      return quarter - 1;\n    }\n  }),\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: 'wide'\n  }),\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: 'wide'\n  }),\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: 'wide',\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: 'wide'\n  })\n};\nexport default localize;","export default function buildMatchFn(args) {\n  return function (string) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var width = options.width;\n    var matchPattern = width && args.matchPatterns[width] || args.matchPatterns[args.defaultMatchWidth];\n    var matchResult = string.match(matchPattern);\n\n    if (!matchResult) {\n      return null;\n    }\n\n    var matchedString = matchResult[0];\n    var parsePatterns = width && args.parsePatterns[width] || args.parsePatterns[args.defaultParseWidth];\n    var key = Array.isArray(parsePatterns) ? findIndex(parsePatterns, function (pattern) {\n      return pattern.test(matchedString);\n    }) : findKey(parsePatterns, function (pattern) {\n      return pattern.test(matchedString);\n    });\n    var value;\n    value = args.valueCallback ? args.valueCallback(key) : key;\n    value = options.valueCallback ? options.valueCallback(value) : value;\n    var rest = string.slice(matchedString.length);\n    return {\n      value: value,\n      rest: rest\n    };\n  };\n}\n\nfunction findKey(object, predicate) {\n  for (var key in object) {\n    if (object.hasOwnProperty(key) && predicate(object[key])) {\n      return key;\n    }\n  }\n\n  return undefined;\n}\n\nfunction findIndex(array, predicate) {\n  for (var key = 0; key < array.length; key++) {\n    if (predicate(array[key])) {\n      return key;\n    }\n  }\n\n  return undefined;\n}","export default function buildMatchPatternFn(args) {\n  return function (string) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var matchResult = string.match(args.matchPattern);\n    if (!matchResult) return null;\n    var matchedString = matchResult[0];\n    var parseResult = string.match(args.parsePattern);\n    if (!parseResult) return null;\n    var value = args.valueCallback ? args.valueCallback(parseResult[0]) : parseResult[0];\n    value = options.valueCallback ? options.valueCallback(value) : value;\n    var rest = string.slice(matchedString.length);\n    return {\n      value: value,\n      rest: rest\n    };\n  };\n}","import buildMatchFn from \"../../../_lib/buildMatchFn/index.js\";\nimport buildMatchPatternFn from \"../../../_lib/buildMatchPatternFn/index.js\";\nvar matchOrdinalNumberPattern = /^(\\d+)(th|st|nd|rd)?/i;\nvar parseOrdinalNumberPattern = /\\d+/i;\nvar matchEraPatterns = {\n  narrow: /^(b|a)/i,\n  abbreviated: /^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,\n  wide: /^(before christ|before common era|anno domini|common era)/i\n};\nvar parseEraPatterns = {\n  any: [/^b/i, /^(a|c)/i]\n};\nvar matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^q[1234]/i,\n  wide: /^[1234](th|st|nd|rd)? quarter/i\n};\nvar parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i]\n};\nvar matchMonthPatterns = {\n  narrow: /^[jfmasond]/i,\n  abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,\n  wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i\n};\nvar parseMonthPatterns = {\n  narrow: [/^j/i, /^f/i, /^m/i, /^a/i, /^m/i, /^j/i, /^j/i, /^a/i, /^s/i, /^o/i, /^n/i, /^d/i],\n  any: [/^ja/i, /^f/i, /^mar/i, /^ap/i, /^may/i, /^jun/i, /^jul/i, /^au/i, /^s/i, /^o/i, /^n/i, /^d/i]\n};\nvar matchDayPatterns = {\n  narrow: /^[smtwf]/i,\n  short: /^(su|mo|tu|we|th|fr|sa)/i,\n  abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,\n  wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i\n};\nvar parseDayPatterns = {\n  narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],\n  any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i]\n};\nvar matchDayPeriodPatterns = {\n  narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,\n  any: /^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i\n};\nvar parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^mi/i,\n    noon: /^no/i,\n    morning: /morning/i,\n    afternoon: /afternoon/i,\n    evening: /evening/i,\n    night: /night/i\n  }\n};\nvar match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: function (value) {\n      return parseInt(value, 10);\n    }\n  }),\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: 'any'\n  }),\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: 'any',\n    valueCallback: function (index) {\n      return index + 1;\n    }\n  }),\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: 'any'\n  }),\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: 'any'\n  }),\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: 'any',\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: 'any'\n  })\n};\nexport default match;","import formatDistance from \"./_lib/formatDistance/index.js\";\nimport formatLong from \"./_lib/formatLong/index.js\";\nimport formatRelative from \"./_lib/formatRelative/index.js\";\nimport localize from \"./_lib/localize/index.js\";\nimport match from \"./_lib/match/index.js\";\n\n/**\n * @type {Locale}\n * @category Locales\n * @summary English locale (United States).\n * @language English\n * @iso-639-2 eng\n * @author Sasha Koss [@kossnocorp]{@link https://github.com/kossnocorp}\n * @author Lesha Koss [@leshakoss]{@link https://github.com/leshakoss}\n */\nvar locale = {\n  code: 'en-US',\n  formatDistance: formatDistance,\n  formatLong: formatLong,\n  formatRelative: formatRelative,\n  localize: localize,\n  match: match,\n  options: {\n    weekStartsOn: 0\n    /* Sunday */\n    ,\n    firstWeekContainsDate: 1\n  }\n};\nexport default locale;","import toInteger from \"../_lib/toInteger/index.js\";\nimport addMilliseconds from \"../addMilliseconds/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name subMilliseconds\n * @category Millisecond Helpers\n * @summary Subtract the specified number of milliseconds from the given date.\n *\n * @description\n * Subtract the specified number of milliseconds from the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of milliseconds to be subtracted. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the milliseconds subtracted\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Subtract 750 milliseconds from 10 July 2014 12:45:30.000:\n * const result = subMilliseconds(new Date(2014, 6, 10, 12, 45, 30, 0), 750)\n * //=> Thu Jul 10 2014 12:45:29.250\n */\n\nexport default function subMilliseconds(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var amount = toInteger(dirtyAmount);\n  return addMilliseconds(dirtyDate, -amount);\n}","import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nvar MILLISECONDS_IN_DAY = 86400000; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function getUTCDayOfYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var timestamp = date.getTime();\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n  var startOfYearTimestamp = date.getTime();\n  var difference = timestamp - startOfYearTimestamp;\n  return Math.floor(difference / MILLISECONDS_IN_DAY) + 1;\n}","import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\"; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function startOfUTCISOWeek(dirtyDate) {\n  requiredArgs(1, arguments);\n  var weekStartsOn = 1;\n  var date = toDate(dirtyDate);\n  var day = date.getUTCDay();\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setUTCDate(date.getUTCDate() - diff);\n  date.setUTCHours(0, 0, 0, 0);\n  return date;\n}","import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nimport startOfUTCISOWeek from \"../startOfUTCISOWeek/index.js\"; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function getUTCISOWeekYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var year = date.getUTCFullYear();\n  var fourthOfJanuaryOfNextYear = new Date(0);\n  fourthOfJanuaryOfNextYear.setUTCFullYear(year + 1, 0, 4);\n  fourthOfJanuaryOfNextYear.setUTCHours(0, 0, 0, 0);\n  var startOfNextYear = startOfUTCISOWeek(fourthOfJanuaryOfNextYear);\n  var fourthOfJanuaryOfThisYear = new Date(0);\n  fourthOfJanuaryOfThisYear.setUTCFullYear(year, 0, 4);\n  fourthOfJanuaryOfThisYear.setUTCHours(0, 0, 0, 0);\n  var startOfThisYear = startOfUTCISOWeek(fourthOfJanuaryOfThisYear);\n\n  if (date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}","import getUTCISOWeekYear from \"../getUTCISOWeekYear/index.js\";\nimport startOfUTCISOWeek from \"../startOfUTCISOWeek/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\"; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function startOfUTCISOWeekYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var year = getUTCISOWeekYear(dirtyDate);\n  var fourthOfJanuary = new Date(0);\n  fourthOfJanuary.setUTCFullYear(year, 0, 4);\n  fourthOfJanuary.setUTCHours(0, 0, 0, 0);\n  var date = startOfUTCISOWeek(fourthOfJanuary);\n  return date;\n}","import toDate from \"../../toDate/index.js\";\nimport startOfUTCISOWeek from \"../startOfUTCISOWeek/index.js\";\nimport startOfUTCISOWeekYear from \"../startOfUTCISOWeekYear/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nvar MILLISECONDS_IN_WEEK = 604800000; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function getUTCISOWeek(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var diff = startOfUTCISOWeek(date).getTime() - startOfUTCISOWeekYear(date).getTime(); // Round the number of days to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n\n  return Math.round(diff / MILLISECONDS_IN_WEEK) + 1;\n}","import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nimport toInteger from \"../toInteger/index.js\"; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function startOfUTCWeek(dirtyDate, dirtyOptions) {\n  requiredArgs(1, arguments);\n  var options = dirtyOptions || {};\n  var locale = options.locale;\n  var localeWeekStartsOn = locale && locale.options && locale.options.weekStartsOn;\n  var defaultWeekStartsOn = localeWeekStartsOn == null ? 0 : toInteger(localeWeekStartsOn);\n  var weekStartsOn = options.weekStartsOn == null ? defaultWeekStartsOn : toInteger(options.weekStartsOn); // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n\n  var date = toDate(dirtyDate);\n  var day = date.getUTCDay();\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setUTCDate(date.getUTCDate() - diff);\n  date.setUTCHours(0, 0, 0, 0);\n  return date;\n}","import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nimport startOfUTCWeek from \"../startOfUTCWeek/index.js\";\nimport toInteger from \"../toInteger/index.js\"; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function getUTCWeekYear(dirtyDate, dirtyOptions) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var year = date.getUTCFullYear();\n  var options = dirtyOptions || {};\n  var locale = options.locale;\n  var localeFirstWeekContainsDate = locale && locale.options && locale.options.firstWeekContainsDate;\n  var defaultFirstWeekContainsDate = localeFirstWeekContainsDate == null ? 1 : toInteger(localeFirstWeekContainsDate);\n  var firstWeekContainsDate = options.firstWeekContainsDate == null ? defaultFirstWeekContainsDate : toInteger(options.firstWeekContainsDate); // Test if weekStartsOn is between 1 and 7 _and_ is not NaN\n\n  if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {\n    throw new RangeError('firstWeekContainsDate must be between 1 and 7 inclusively');\n  }\n\n  var firstWeekOfNextYear = new Date(0);\n  firstWeekOfNextYear.setUTCFullYear(year + 1, 0, firstWeekContainsDate);\n  firstWeekOfNextYear.setUTCHours(0, 0, 0, 0);\n  var startOfNextYear = startOfUTCWeek(firstWeekOfNextYear, dirtyOptions);\n  var firstWeekOfThisYear = new Date(0);\n  firstWeekOfThisYear.setUTCFullYear(year, 0, firstWeekContainsDate);\n  firstWeekOfThisYear.setUTCHours(0, 0, 0, 0);\n  var startOfThisYear = startOfUTCWeek(firstWeekOfThisYear, dirtyOptions);\n\n  if (date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}","import getUTCWeekYear from \"../getUTCWeekYear/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nimport startOfUTCWeek from \"../startOfUTCWeek/index.js\";\nimport toInteger from \"../toInteger/index.js\"; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function startOfUTCWeekYear(dirtyDate, dirtyOptions) {\n  requiredArgs(1, arguments);\n  var options = dirtyOptions || {};\n  var locale = options.locale;\n  var localeFirstWeekContainsDate = locale && locale.options && locale.options.firstWeekContainsDate;\n  var defaultFirstWeekContainsDate = localeFirstWeekContainsDate == null ? 1 : toInteger(localeFirstWeekContainsDate);\n  var firstWeekContainsDate = options.firstWeekContainsDate == null ? defaultFirstWeekContainsDate : toInteger(options.firstWeekContainsDate);\n  var year = getUTCWeekYear(dirtyDate, dirtyOptions);\n  var firstWeek = new Date(0);\n  firstWeek.setUTCFullYear(year, 0, firstWeekContainsDate);\n  firstWeek.setUTCHours(0, 0, 0, 0);\n  var date = startOfUTCWeek(firstWeek, dirtyOptions);\n  return date;\n}","import toDate from \"../../toDate/index.js\";\nimport startOfUTCWeek from \"../startOfUTCWeek/index.js\";\nimport startOfUTCWeekYear from \"../startOfUTCWeekYear/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nvar MILLISECONDS_IN_WEEK = 604800000; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function getUTCWeek(dirtyDate, options) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var diff = startOfUTCWeek(date, options).getTime() - startOfUTCWeekYear(date, options).getTime(); // Round the number of days to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n\n  return Math.round(diff / MILLISECONDS_IN_WEEK) + 1;\n}","export default function addLeadingZeros(number, targetLength) {\n  var sign = number < 0 ? '-' : '';\n  var output = Math.abs(number).toString();\n\n  while (output.length < targetLength) {\n    output = '0' + output;\n  }\n\n  return sign + output;\n}","import addLeadingZeros from \"../../addLeadingZeros/index.js\";\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* |                                |\n * |  d  | Day of month                   |  D  |                                |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  m  | Minute                         |  M  | Month                          |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  y  | Year (abs)                     |  Y  |                                |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n */\n\nvar formatters = {\n  // Year\n  y: function (date, token) {\n    // From http://www.unicode.org/reports/tr35/tr35-31/tr35-dates.html#Date_Format_tokens\n    // | Year     |     y | yy |   yyy |  yyyy | yyyyy |\n    // |----------|-------|----|-------|-------|-------|\n    // | AD 1     |     1 | 01 |   001 |  0001 | 00001 |\n    // | AD 12    |    12 | 12 |   012 |  0012 | 00012 |\n    // | AD 123   |   123 | 23 |   123 |  0123 | 00123 |\n    // | AD 1234  |  1234 | 34 |  1234 |  1234 | 01234 |\n    // | AD 12345 | 12345 | 45 | 12345 | 12345 | 12345 |\n    var signedYear = date.getUTCFullYear(); // Returns 1 for 1 BC (which is year 0 in JavaScript)\n\n    var year = signedYear > 0 ? signedYear : 1 - signedYear;\n    return addLeadingZeros(token === 'yy' ? year % 100 : year, token.length);\n  },\n  // Month\n  M: function (date, token) {\n    var month = date.getUTCMonth();\n    return token === 'M' ? String(month + 1) : addLeadingZeros(month + 1, 2);\n  },\n  // Day of the month\n  d: function (date, token) {\n    return addLeadingZeros(date.getUTCDate(), token.length);\n  },\n  // AM or PM\n  a: function (date, token) {\n    var dayPeriodEnumValue = date.getUTCHours() / 12 >= 1 ? 'pm' : 'am';\n\n    switch (token) {\n      case 'a':\n      case 'aa':\n        return dayPeriodEnumValue.toUpperCase();\n\n      case 'aaa':\n        return dayPeriodEnumValue;\n\n      case 'aaaaa':\n        return dayPeriodEnumValue[0];\n\n      case 'aaaa':\n      default:\n        return dayPeriodEnumValue === 'am' ? 'a.m.' : 'p.m.';\n    }\n  },\n  // Hour [1-12]\n  h: function (date, token) {\n    return addLeadingZeros(date.getUTCHours() % 12 || 12, token.length);\n  },\n  // Hour [0-23]\n  H: function (date, token) {\n    return addLeadingZeros(date.getUTCHours(), token.length);\n  },\n  // Minute\n  m: function (date, token) {\n    return addLeadingZeros(date.getUTCMinutes(), token.length);\n  },\n  // Second\n  s: function (date, token) {\n    return addLeadingZeros(date.getUTCSeconds(), token.length);\n  },\n  // Fraction of second\n  S: function (date, token) {\n    var numberOfDigits = token.length;\n    var milliseconds = date.getUTCMilliseconds();\n    var fractionalSeconds = Math.floor(milliseconds * Math.pow(10, numberOfDigits - 3));\n    return addLeadingZeros(fractionalSeconds, token.length);\n  }\n};\nexport default formatters;","import getUTCDayOfYear from \"../../../_lib/getUTCDayOfYear/index.js\";\nimport getUTCISOWeek from \"../../../_lib/getUTCISOWeek/index.js\";\nimport getUTCISOWeekYear from \"../../../_lib/getUTCISOWeekYear/index.js\";\nimport getUTCWeek from \"../../../_lib/getUTCWeek/index.js\";\nimport getUTCWeekYear from \"../../../_lib/getUTCWeekYear/index.js\";\nimport addLeadingZeros from \"../../addLeadingZeros/index.js\";\nimport lightFormatters from \"../lightFormatters/index.js\";\nvar dayPeriodEnum = {\n  am: 'am',\n  pm: 'pm',\n  midnight: 'midnight',\n  noon: 'noon',\n  morning: 'morning',\n  afternoon: 'afternoon',\n  evening: 'evening',\n  night: 'night'\n};\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* | Milliseconds in day            |\n * |  b  | AM, PM, noon, midnight         |  B  | Flexible day period            |\n * |  c  | Stand-alone local day of week  |  C* | Localized hour w/ day period   |\n * |  d  | Day of month                   |  D  | Day of year                    |\n * |  e  | Local day of week              |  E  | Day of week                    |\n * |  f  |                                |  F* | Day of week in month           |\n * |  g* | Modified Julian day            |  G  | Era                            |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  i! | ISO day of week                |  I! | ISO week of year               |\n * |  j* | Localized hour w/ day period   |  J* | Localized hour w/o day period  |\n * |  k  | Hour [1-24]                    |  K  | Hour [0-11]                    |\n * |  l* | (deprecated)                   |  L  | Stand-alone month              |\n * |  m  | Minute                         |  M  | Month                          |\n * |  n  |                                |  N  |                                |\n * |  o! | Ordinal number modifier        |  O  | Timezone (GMT)                 |\n * |  p! | Long localized time            |  P! | Long localized date            |\n * |  q  | Stand-alone quarter            |  Q  | Quarter                        |\n * |  r* | Related Gregorian year         |  R! | ISO week-numbering year        |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  t! | Seconds timestamp              |  T! | Milliseconds timestamp         |\n * |  u  | Extended year                  |  U* | Cyclic year                    |\n * |  v* | Timezone (generic non-locat.)  |  V* | Timezone (location)            |\n * |  w  | Local week of year             |  W* | Week of month                  |\n * |  x  | Timezone (ISO-8601 w/o Z)      |  X  | Timezone (ISO-8601)            |\n * |  y  | Year (abs)                     |  Y  | Local week-numbering year      |\n * |  z  | Timezone (specific non-locat.) |  Z* | Timezone (aliases)             |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n *\n * Letters marked by ! are non-standard, but implemented by date-fns:\n * - `o` modifies the previous token to turn it into an ordinal (see `format` docs)\n * - `i` is ISO day of week. For `i` and `ii` is returns numeric ISO week days,\n *   i.e. 7 for Sunday, 1 for Monday, etc.\n * - `I` is ISO week of year, as opposed to `w` which is local week of year.\n * - `R` is ISO week-numbering year, as opposed to `Y` which is local week-numbering year.\n *   `R` is supposed to be used in conjunction with `I` and `i`\n *   for universal ISO week-numbering date, whereas\n *   `Y` is supposed to be used in conjunction with `w` and `e`\n *   for week-numbering date specific to the locale.\n * - `P` is long localized date format\n * - `p` is long localized time format\n */\n\nvar formatters = {\n  // Era\n  G: function (date, token, localize) {\n    var era = date.getUTCFullYear() > 0 ? 1 : 0;\n\n    switch (token) {\n      // AD, BC\n      case 'G':\n      case 'GG':\n      case 'GGG':\n        return localize.era(era, {\n          width: 'abbreviated'\n        });\n      // A, B\n\n      case 'GGGGG':\n        return localize.era(era, {\n          width: 'narrow'\n        });\n      // Anno Domini, Before Christ\n\n      case 'GGGG':\n      default:\n        return localize.era(era, {\n          width: 'wide'\n        });\n    }\n  },\n  // Year\n  y: function (date, token, localize) {\n    // Ordinal number\n    if (token === 'yo') {\n      var signedYear = date.getUTCFullYear(); // Returns 1 for 1 BC (which is year 0 in JavaScript)\n\n      var year = signedYear > 0 ? signedYear : 1 - signedYear;\n      return localize.ordinalNumber(year, {\n        unit: 'year'\n      });\n    }\n\n    return lightFormatters.y(date, token);\n  },\n  // Local week-numbering year\n  Y: function (date, token, localize, options) {\n    var signedWeekYear = getUTCWeekYear(date, options); // Returns 1 for 1 BC (which is year 0 in JavaScript)\n\n    var weekYear = signedWeekYear > 0 ? signedWeekYear : 1 - signedWeekYear; // Two digit year\n\n    if (token === 'YY') {\n      var twoDigitYear = weekYear % 100;\n      return addLeadingZeros(twoDigitYear, 2);\n    } // Ordinal number\n\n\n    if (token === 'Yo') {\n      return localize.ordinalNumber(weekYear, {\n        unit: 'year'\n      });\n    } // Padding\n\n\n    return addLeadingZeros(weekYear, token.length);\n  },\n  // ISO week-numbering year\n  R: function (date, token) {\n    var isoWeekYear = getUTCISOWeekYear(date); // Padding\n\n    return addLeadingZeros(isoWeekYear, token.length);\n  },\n  // Extended year. This is a single number designating the year of this calendar system.\n  // The main difference between `y` and `u` localizers are B.C. years:\n  // | Year | `y` | `u` |\n  // |------|-----|-----|\n  // | AC 1 |   1 |   1 |\n  // | BC 1 |   1 |   0 |\n  // | BC 2 |   2 |  -1 |\n  // Also `yy` always returns the last two digits of a year,\n  // while `uu` pads single digit years to 2 characters and returns other years unchanged.\n  u: function (date, token) {\n    var year = date.getUTCFullYear();\n    return addLeadingZeros(year, token.length);\n  },\n  // Quarter\n  Q: function (date, token, localize) {\n    var quarter = Math.ceil((date.getUTCMonth() + 1) / 3);\n\n    switch (token) {\n      // 1, 2, 3, 4\n      case 'Q':\n        return String(quarter);\n      // 01, 02, 03, 04\n\n      case 'QQ':\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n\n      case 'Qo':\n        return localize.ordinalNumber(quarter, {\n          unit: 'quarter'\n        });\n      // Q1, Q2, Q3, Q4\n\n      case 'QQQ':\n        return localize.quarter(quarter, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n\n      case 'QQQQQ':\n        return localize.quarter(quarter, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // 1st quarter, 2nd quarter, ...\n\n      case 'QQQQ':\n      default:\n        return localize.quarter(quarter, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Stand-alone quarter\n  q: function (date, token, localize) {\n    var quarter = Math.ceil((date.getUTCMonth() + 1) / 3);\n\n    switch (token) {\n      // 1, 2, 3, 4\n      case 'q':\n        return String(quarter);\n      // 01, 02, 03, 04\n\n      case 'qq':\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n\n      case 'qo':\n        return localize.ordinalNumber(quarter, {\n          unit: 'quarter'\n        });\n      // Q1, Q2, Q3, Q4\n\n      case 'qqq':\n        return localize.quarter(quarter, {\n          width: 'abbreviated',\n          context: 'standalone'\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n\n      case 'qqqqq':\n        return localize.quarter(quarter, {\n          width: 'narrow',\n          context: 'standalone'\n        });\n      // 1st quarter, 2nd quarter, ...\n\n      case 'qqqq':\n      default:\n        return localize.quarter(quarter, {\n          width: 'wide',\n          context: 'standalone'\n        });\n    }\n  },\n  // Month\n  M: function (date, token, localize) {\n    var month = date.getUTCMonth();\n\n    switch (token) {\n      case 'M':\n      case 'MM':\n        return lightFormatters.M(date, token);\n      // 1st, 2nd, ..., 12th\n\n      case 'Mo':\n        return localize.ordinalNumber(month + 1, {\n          unit: 'month'\n        });\n      // Jan, Feb, ..., Dec\n\n      case 'MMM':\n        return localize.month(month, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // J, F, ..., D\n\n      case 'MMMMM':\n        return localize.month(month, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // January, February, ..., December\n\n      case 'MMMM':\n      default:\n        return localize.month(month, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Stand-alone month\n  L: function (date, token, localize) {\n    var month = date.getUTCMonth();\n\n    switch (token) {\n      // 1, 2, ..., 12\n      case 'L':\n        return String(month + 1);\n      // 01, 02, ..., 12\n\n      case 'LL':\n        return addLeadingZeros(month + 1, 2);\n      // 1st, 2nd, ..., 12th\n\n      case 'Lo':\n        return localize.ordinalNumber(month + 1, {\n          unit: 'month'\n        });\n      // Jan, Feb, ..., Dec\n\n      case 'LLL':\n        return localize.month(month, {\n          width: 'abbreviated',\n          context: 'standalone'\n        });\n      // J, F, ..., D\n\n      case 'LLLLL':\n        return localize.month(month, {\n          width: 'narrow',\n          context: 'standalone'\n        });\n      // January, February, ..., December\n\n      case 'LLLL':\n      default:\n        return localize.month(month, {\n          width: 'wide',\n          context: 'standalone'\n        });\n    }\n  },\n  // Local week of year\n  w: function (date, token, localize, options) {\n    var week = getUTCWeek(date, options);\n\n    if (token === 'wo') {\n      return localize.ordinalNumber(week, {\n        unit: 'week'\n      });\n    }\n\n    return addLeadingZeros(week, token.length);\n  },\n  // ISO week of year\n  I: function (date, token, localize) {\n    var isoWeek = getUTCISOWeek(date);\n\n    if (token === 'Io') {\n      return localize.ordinalNumber(isoWeek, {\n        unit: 'week'\n      });\n    }\n\n    return addLeadingZeros(isoWeek, token.length);\n  },\n  // Day of the month\n  d: function (date, token, localize) {\n    if (token === 'do') {\n      return localize.ordinalNumber(date.getUTCDate(), {\n        unit: 'date'\n      });\n    }\n\n    return lightFormatters.d(date, token);\n  },\n  // Day of year\n  D: function (date, token, localize) {\n    var dayOfYear = getUTCDayOfYear(date);\n\n    if (token === 'Do') {\n      return localize.ordinalNumber(dayOfYear, {\n        unit: 'dayOfYear'\n      });\n    }\n\n    return addLeadingZeros(dayOfYear, token.length);\n  },\n  // Day of week\n  E: function (date, token, localize) {\n    var dayOfWeek = date.getUTCDay();\n\n    switch (token) {\n      // Tue\n      case 'E':\n      case 'EE':\n      case 'EEE':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // T\n\n      case 'EEEEE':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // Tu\n\n      case 'EEEEEE':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'formatting'\n        });\n      // Tuesday\n\n      case 'EEEE':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Local day of week\n  e: function (date, token, localize, options) {\n    var dayOfWeek = date.getUTCDay();\n    var localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n\n    switch (token) {\n      // Numerical value (Nth day of week with current locale or weekStartsOn)\n      case 'e':\n        return String(localDayOfWeek);\n      // Padded numerical value\n\n      case 'ee':\n        return addLeadingZeros(localDayOfWeek, 2);\n      // 1st, 2nd, ..., 7th\n\n      case 'eo':\n        return localize.ordinalNumber(localDayOfWeek, {\n          unit: 'day'\n        });\n\n      case 'eee':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // T\n\n      case 'eeeee':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // Tu\n\n      case 'eeeeee':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'formatting'\n        });\n      // Tuesday\n\n      case 'eeee':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Stand-alone local day of week\n  c: function (date, token, localize, options) {\n    var dayOfWeek = date.getUTCDay();\n    var localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n\n    switch (token) {\n      // Numerical value (same as in `e`)\n      case 'c':\n        return String(localDayOfWeek);\n      // Padded numerical value\n\n      case 'cc':\n        return addLeadingZeros(localDayOfWeek, token.length);\n      // 1st, 2nd, ..., 7th\n\n      case 'co':\n        return localize.ordinalNumber(localDayOfWeek, {\n          unit: 'day'\n        });\n\n      case 'ccc':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'standalone'\n        });\n      // T\n\n      case 'ccccc':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'standalone'\n        });\n      // Tu\n\n      case 'cccccc':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'standalone'\n        });\n      // Tuesday\n\n      case 'cccc':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'standalone'\n        });\n    }\n  },\n  // ISO day of week\n  i: function (date, token, localize) {\n    var dayOfWeek = date.getUTCDay();\n    var isoDayOfWeek = dayOfWeek === 0 ? 7 : dayOfWeek;\n\n    switch (token) {\n      // 2\n      case 'i':\n        return String(isoDayOfWeek);\n      // 02\n\n      case 'ii':\n        return addLeadingZeros(isoDayOfWeek, token.length);\n      // 2nd\n\n      case 'io':\n        return localize.ordinalNumber(isoDayOfWeek, {\n          unit: 'day'\n        });\n      // Tue\n\n      case 'iii':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // T\n\n      case 'iiiii':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // Tu\n\n      case 'iiiiii':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'formatting'\n        });\n      // Tuesday\n\n      case 'iiii':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // AM or PM\n  a: function (date, token, localize) {\n    var hours = date.getUTCHours();\n    var dayPeriodEnumValue = hours / 12 >= 1 ? 'pm' : 'am';\n\n    switch (token) {\n      case 'a':\n      case 'aa':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n\n      case 'aaa':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        }).toLowerCase();\n\n      case 'aaaaa':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n\n      case 'aaaa':\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // AM, PM, midnight, noon\n  b: function (date, token, localize) {\n    var hours = date.getUTCHours();\n    var dayPeriodEnumValue;\n\n    if (hours === 12) {\n      dayPeriodEnumValue = dayPeriodEnum.noon;\n    } else if (hours === 0) {\n      dayPeriodEnumValue = dayPeriodEnum.midnight;\n    } else {\n      dayPeriodEnumValue = hours / 12 >= 1 ? 'pm' : 'am';\n    }\n\n    switch (token) {\n      case 'b':\n      case 'bb':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n\n      case 'bbb':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        }).toLowerCase();\n\n      case 'bbbbb':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n\n      case 'bbbb':\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // in the morning, in the afternoon, in the evening, at night\n  B: function (date, token, localize) {\n    var hours = date.getUTCHours();\n    var dayPeriodEnumValue;\n\n    if (hours >= 17) {\n      dayPeriodEnumValue = dayPeriodEnum.evening;\n    } else if (hours >= 12) {\n      dayPeriodEnumValue = dayPeriodEnum.afternoon;\n    } else if (hours >= 4) {\n      dayPeriodEnumValue = dayPeriodEnum.morning;\n    } else {\n      dayPeriodEnumValue = dayPeriodEnum.night;\n    }\n\n    switch (token) {\n      case 'B':\n      case 'BB':\n      case 'BBB':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n\n      case 'BBBBB':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n\n      case 'BBBB':\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Hour [1-12]\n  h: function (date, token, localize) {\n    if (token === 'ho') {\n      var hours = date.getUTCHours() % 12;\n      if (hours === 0) hours = 12;\n      return localize.ordinalNumber(hours, {\n        unit: 'hour'\n      });\n    }\n\n    return lightFormatters.h(date, token);\n  },\n  // Hour [0-23]\n  H: function (date, token, localize) {\n    if (token === 'Ho') {\n      return localize.ordinalNumber(date.getUTCHours(), {\n        unit: 'hour'\n      });\n    }\n\n    return lightFormatters.H(date, token);\n  },\n  // Hour [0-11]\n  K: function (date, token, localize) {\n    var hours = date.getUTCHours() % 12;\n\n    if (token === 'Ko') {\n      return localize.ordinalNumber(hours, {\n        unit: 'hour'\n      });\n    }\n\n    return addLeadingZeros(hours, token.length);\n  },\n  // Hour [1-24]\n  k: function (date, token, localize) {\n    var hours = date.getUTCHours();\n    if (hours === 0) hours = 24;\n\n    if (token === 'ko') {\n      return localize.ordinalNumber(hours, {\n        unit: 'hour'\n      });\n    }\n\n    return addLeadingZeros(hours, token.length);\n  },\n  // Minute\n  m: function (date, token, localize) {\n    if (token === 'mo') {\n      return localize.ordinalNumber(date.getUTCMinutes(), {\n        unit: 'minute'\n      });\n    }\n\n    return lightFormatters.m(date, token);\n  },\n  // Second\n  s: function (date, token, localize) {\n    if (token === 'so') {\n      return localize.ordinalNumber(date.getUTCSeconds(), {\n        unit: 'second'\n      });\n    }\n\n    return lightFormatters.s(date, token);\n  },\n  // Fraction of second\n  S: function (date, token) {\n    return lightFormatters.S(date, token);\n  },\n  // Timezone (ISO-8601. If offset is 0, output is always `'Z'`)\n  X: function (date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n\n    if (timezoneOffset === 0) {\n      return 'Z';\n    }\n\n    switch (token) {\n      // Hours and optional minutes\n      case 'X':\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XX`\n\n      case 'XXXX':\n      case 'XX':\n        // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XXX`\n\n      case 'XXXXX':\n      case 'XXX': // Hours and minutes with `:` delimiter\n\n      default:\n        return formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Timezone (ISO-8601. If offset is 0, output is `'+00:00'` or equivalent)\n  x: function (date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n\n    switch (token) {\n      // Hours and optional minutes\n      case 'x':\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xx`\n\n      case 'xxxx':\n      case 'xx':\n        // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xxx`\n\n      case 'xxxxx':\n      case 'xxx': // Hours and minutes with `:` delimiter\n\n      default:\n        return formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Timezone (GMT)\n  O: function (date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case 'O':\n      case 'OO':\n      case 'OOO':\n        return 'GMT' + formatTimezoneShort(timezoneOffset, ':');\n      // Long\n\n      case 'OOOO':\n      default:\n        return 'GMT' + formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Timezone (specific non-location)\n  z: function (date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case 'z':\n      case 'zz':\n      case 'zzz':\n        return 'GMT' + formatTimezoneShort(timezoneOffset, ':');\n      // Long\n\n      case 'zzzz':\n      default:\n        return 'GMT' + formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Seconds timestamp\n  t: function (date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timestamp = Math.floor(originalDate.getTime() / 1000);\n    return addLeadingZeros(timestamp, token.length);\n  },\n  // Milliseconds timestamp\n  T: function (date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timestamp = originalDate.getTime();\n    return addLeadingZeros(timestamp, token.length);\n  }\n};\n\nfunction formatTimezoneShort(offset, dirtyDelimiter) {\n  var sign = offset > 0 ? '-' : '+';\n  var absOffset = Math.abs(offset);\n  var hours = Math.floor(absOffset / 60);\n  var minutes = absOffset % 60;\n\n  if (minutes === 0) {\n    return sign + String(hours);\n  }\n\n  var delimiter = dirtyDelimiter || '';\n  return sign + String(hours) + delimiter + addLeadingZeros(minutes, 2);\n}\n\nfunction formatTimezoneWithOptionalMinutes(offset, dirtyDelimiter) {\n  if (offset % 60 === 0) {\n    var sign = offset > 0 ? '-' : '+';\n    return sign + addLeadingZeros(Math.abs(offset) / 60, 2);\n  }\n\n  return formatTimezone(offset, dirtyDelimiter);\n}\n\nfunction formatTimezone(offset, dirtyDelimiter) {\n  var delimiter = dirtyDelimiter || '';\n  var sign = offset > 0 ? '-' : '+';\n  var absOffset = Math.abs(offset);\n  var hours = addLeadingZeros(Math.floor(absOffset / 60), 2);\n  var minutes = addLeadingZeros(absOffset % 60, 2);\n  return sign + hours + delimiter + minutes;\n}\n\nexport default formatters;","function dateLongFormatter(pattern, formatLong) {\n  switch (pattern) {\n    case 'P':\n      return formatLong.date({\n        width: 'short'\n      });\n\n    case 'PP':\n      return formatLong.date({\n        width: 'medium'\n      });\n\n    case 'PPP':\n      return formatLong.date({\n        width: 'long'\n      });\n\n    case 'PPPP':\n    default:\n      return formatLong.date({\n        width: 'full'\n      });\n  }\n}\n\nfunction timeLongFormatter(pattern, formatLong) {\n  switch (pattern) {\n    case 'p':\n      return formatLong.time({\n        width: 'short'\n      });\n\n    case 'pp':\n      return formatLong.time({\n        width: 'medium'\n      });\n\n    case 'ppp':\n      return formatLong.time({\n        width: 'long'\n      });\n\n    case 'pppp':\n    default:\n      return formatLong.time({\n        width: 'full'\n      });\n  }\n}\n\nfunction dateTimeLongFormatter(pattern, formatLong) {\n  var matchResult = pattern.match(/(P+)(p+)?/) || [];\n  var datePattern = matchResult[1];\n  var timePattern = matchResult[2];\n\n  if (!timePattern) {\n    return dateLongFormatter(pattern, formatLong);\n  }\n\n  var dateTimeFormat;\n\n  switch (datePattern) {\n    case 'P':\n      dateTimeFormat = formatLong.dateTime({\n        width: 'short'\n      });\n      break;\n\n    case 'PP':\n      dateTimeFormat = formatLong.dateTime({\n        width: 'medium'\n      });\n      break;\n\n    case 'PPP':\n      dateTimeFormat = formatLong.dateTime({\n        width: 'long'\n      });\n      break;\n\n    case 'PPPP':\n    default:\n      dateTimeFormat = formatLong.dateTime({\n        width: 'full'\n      });\n      break;\n  }\n\n  return dateTimeFormat.replace('{{date}}', dateLongFormatter(datePattern, formatLong)).replace('{{time}}', timeLongFormatter(timePattern, formatLong));\n}\n\nvar longFormatters = {\n  p: timeLongFormatter,\n  P: dateTimeLongFormatter\n};\nexport default longFormatters;","var protectedDayOfYearTokens = ['D', 'DD'];\nvar protectedWeekYearTokens = ['YY', 'YYYY'];\nexport function isProtectedDayOfYearToken(token) {\n  return protectedDayOfYearTokens.indexOf(token) !== -1;\n}\nexport function isProtectedWeekYearToken(token) {\n  return protectedWeekYearTokens.indexOf(token) !== -1;\n}\nexport function throwProtectedError(token, format, input) {\n  if (token === 'YYYY') {\n    throw new RangeError(\"Use `yyyy` instead of `YYYY` (in `\".concat(format, \"`) for formatting years to the input `\").concat(input, \"`; see: https://git.io/fxCyr\"));\n  } else if (token === 'YY') {\n    throw new RangeError(\"Use `yy` instead of `YY` (in `\".concat(format, \"`) for formatting years to the input `\").concat(input, \"`; see: https://git.io/fxCyr\"));\n  } else if (token === 'D') {\n    throw new RangeError(\"Use `d` instead of `D` (in `\".concat(format, \"`) for formatting days of the month to the input `\").concat(input, \"`; see: https://git.io/fxCyr\"));\n  } else if (token === 'DD') {\n    throw new RangeError(\"Use `dd` instead of `DD` (in `\".concat(format, \"`) for formatting days of the month to the input `\").concat(input, \"`; see: https://git.io/fxCyr\"));\n  }\n}","import isValid from \"../isValid/index.js\";\nimport defaultLocale from \"../locale/en-US/index.js\";\nimport subMilliseconds from \"../subMilliseconds/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport formatters from \"../_lib/format/formatters/index.js\";\nimport longFormatters from \"../_lib/format/longFormatters/index.js\";\nimport getTimezoneOffsetInMilliseconds from \"../_lib/getTimezoneOffsetInMilliseconds/index.js\";\nimport { isProtectedDayOfYearToken, isProtectedWeekYearToken, throwProtectedError } from \"../_lib/protectedTokens/index.js\";\nimport toInteger from \"../_lib/toInteger/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\"; // This RegExp consists of three parts separated by `|`:\n// - [yYQqMLwIdDecihHKkms]o matches any available ordinal number token\n//   (one of the certain letters followed by `o`)\n// - (\\w)\\1* matches any sequences of the same letter\n// - '' matches two quote characters in a row\n// - '(''|[^'])+('|$) matches anything surrounded by two quote characters ('),\n//   except a single quote symbol, which ends the sequence.\n//   Two quote characters do not end the sequence.\n//   If there is no matching single quote\n//   then the sequence will continue until the end of the string.\n// - . matches any single character unmatched by previous parts of the RegExps\n\nvar formattingTokensRegExp = /[yYQqMLwIdDecihHKkms]o|(\\w)\\1*|''|'(''|[^'])+('|$)|./g; // This RegExp catches symbols escaped by quotes, and also\n// sequences of symbols P, p, and the combinations like `PPPPPPPppppp`\n\nvar longFormattingTokensRegExp = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;\nvar escapedStringRegExp = /^'([^]*?)'?$/;\nvar doubleQuoteRegExp = /''/g;\nvar unescapedLatinCharacterRegExp = /[a-zA-Z]/;\n/**\n * @name format\n * @category Common Helpers\n * @summary Format the date.\n *\n * @description\n * Return the formatted date string in the given format. The result may vary by locale.\n *\n * >  Please note that the `format` tokens differ from Moment.js and other libraries.\n * > See: https://git.io/fxCyr\n *\n * The characters wrapped between two single quotes characters (') are escaped.\n * Two single quotes in a row, whether inside or outside a quoted sequence, represent a 'real' single quote.\n * (see the last example)\n *\n * Format of the string is based on Unicode Technical Standard #35:\n * https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * with a few additions (see note 7 below the table).\n *\n * Accepted patterns:\n * | Unit                            | Pattern | Result examples                   | Notes |\n * |---------------------------------|---------|-----------------------------------|-------|\n * | Era                             | G..GGG  | AD, BC                            |       |\n * |                                 | GGGG    | Anno Domini, Before Christ        | 2     |\n * |                                 | GGGGG   | A, B                              |       |\n * | Calendar year                   | y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | yo      | 44th, 1st, 0th, 17th              | 5,7   |\n * |                                 | yy      | 44, 01, 00, 17                    | 5     |\n * |                                 | yyy     | 044, 001, 1900, 2017              | 5     |\n * |                                 | yyyy    | 0044, 0001, 1900, 2017            | 5     |\n * |                                 | yyyyy   | ...                               | 3,5   |\n * | Local week-numbering year       | Y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | Yo      | 44th, 1st, 1900th, 2017th         | 5,7   |\n * |                                 | YY      | 44, 01, 00, 17                    | 5,8   |\n * |                                 | YYY     | 044, 001, 1900, 2017              | 5     |\n * |                                 | YYYY    | 0044, 0001, 1900, 2017            | 5,8   |\n * |                                 | YYYYY   | ...                               | 3,5   |\n * | ISO week-numbering year         | R       | -43, 0, 1, 1900, 2017             | 5,7   |\n * |                                 | RR      | -43, 00, 01, 1900, 2017           | 5,7   |\n * |                                 | RRR     | -043, 000, 001, 1900, 2017        | 5,7   |\n * |                                 | RRRR    | -0043, 0000, 0001, 1900, 2017     | 5,7   |\n * |                                 | RRRRR   | ...                               | 3,5,7 |\n * | Extended year                   | u       | -43, 0, 1, 1900, 2017             | 5     |\n * |                                 | uu      | -43, 01, 1900, 2017               | 5     |\n * |                                 | uuu     | -043, 001, 1900, 2017             | 5     |\n * |                                 | uuuu    | -0043, 0001, 1900, 2017           | 5     |\n * |                                 | uuuuu   | ...                               | 3,5   |\n * | Quarter (formatting)            | Q       | 1, 2, 3, 4                        |       |\n * |                                 | Qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | QQ      | 01, 02, 03, 04                    |       |\n * |                                 | QQQ     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | QQQQ    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | QQQQQ   | 1, 2, 3, 4                        | 4     |\n * | Quarter (stand-alone)           | q       | 1, 2, 3, 4                        |       |\n * |                                 | qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | qq      | 01, 02, 03, 04                    |       |\n * |                                 | qqq     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | qqqq    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | qqqqq   | 1, 2, 3, 4                        | 4     |\n * | Month (formatting)              | M       | 1, 2, ..., 12                     |       |\n * |                                 | Mo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | MM      | 01, 02, ..., 12                   |       |\n * |                                 | MMM     | Jan, Feb, ..., Dec                |       |\n * |                                 | MMMM    | January, February, ..., December  | 2     |\n * |                                 | MMMMM   | J, F, ..., D                      |       |\n * | Month (stand-alone)             | L       | 1, 2, ..., 12                     |       |\n * |                                 | Lo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | LL      | 01, 02, ..., 12                   |       |\n * |                                 | LLL     | Jan, Feb, ..., Dec                |       |\n * |                                 | LLLL    | January, February, ..., December  | 2     |\n * |                                 | LLLLL   | J, F, ..., D                      |       |\n * | Local week of year              | w       | 1, 2, ..., 53                     |       |\n * |                                 | wo      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | ww      | 01, 02, ..., 53                   |       |\n * | ISO week of year                | I       | 1, 2, ..., 53                     | 7     |\n * |                                 | Io      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | II      | 01, 02, ..., 53                   | 7     |\n * | Day of month                    | d       | 1, 2, ..., 31                     |       |\n * |                                 | do      | 1st, 2nd, ..., 31st               | 7     |\n * |                                 | dd      | 01, 02, ..., 31                   |       |\n * | Day of year                     | D       | 1, 2, ..., 365, 366               | 9     |\n * |                                 | Do      | 1st, 2nd, ..., 365th, 366th       | 7     |\n * |                                 | DD      | 01, 02, ..., 365, 366             | 9     |\n * |                                 | DDD     | 001, 002, ..., 365, 366           |       |\n * |                                 | DDDD    | ...                               | 3     |\n * | Day of week (formatting)        | E..EEE  | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | EEEE    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | EEEEE   | M, T, W, T, F, S, S               |       |\n * |                                 | EEEEEE  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | ISO day of week (formatting)    | i       | 1, 2, 3, ..., 7                   | 7     |\n * |                                 | io      | 1st, 2nd, ..., 7th                | 7     |\n * |                                 | ii      | 01, 02, ..., 07                   | 7     |\n * |                                 | iii     | Mon, Tue, Wed, ..., Sun           | 7     |\n * |                                 | iiii    | Monday, Tuesday, ..., Sunday      | 2,7   |\n * |                                 | iiiii   | M, T, W, T, F, S, S               | 7     |\n * |                                 | iiiiii  | Mo, Tu, We, Th, Fr, Sa, Su        | 7     |\n * | Local day of week (formatting)  | e       | 2, 3, 4, ..., 1                   |       |\n * |                                 | eo      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | ee      | 02, 03, ..., 01                   |       |\n * |                                 | eee     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | eeee    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | eeeee   | M, T, W, T, F, S, S               |       |\n * |                                 | eeeeee  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | Local day of week (stand-alone) | c       | 2, 3, 4, ..., 1                   |       |\n * |                                 | co      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | cc      | 02, 03, ..., 01                   |       |\n * |                                 | ccc     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | cccc    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | ccccc   | M, T, W, T, F, S, S               |       |\n * |                                 | cccccc  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | AM, PM                          | a..aa   | AM, PM                            |       |\n * |                                 | aaa     | am, pm                            |       |\n * |                                 | aaaa    | a.m., p.m.                        | 2     |\n * |                                 | aaaaa   | a, p                              |       |\n * | AM, PM, noon, midnight          | b..bb   | AM, PM, noon, midnight            |       |\n * |                                 | bbb     | am, pm, noon, midnight            |       |\n * |                                 | bbbb    | a.m., p.m., noon, midnight        | 2     |\n * |                                 | bbbbb   | a, p, n, mi                       |       |\n * | Flexible day period             | B..BBB  | at night, in the morning, ...     |       |\n * |                                 | BBBB    | at night, in the morning, ...     | 2     |\n * |                                 | BBBBB   | at night, in the morning, ...     |       |\n * | Hour [1-12]                     | h       | 1, 2, ..., 11, 12                 |       |\n * |                                 | ho      | 1st, 2nd, ..., 11th, 12th         | 7     |\n * |                                 | hh      | 01, 02, ..., 11, 12               |       |\n * | Hour [0-23]                     | H       | 0, 1, 2, ..., 23                  |       |\n * |                                 | Ho      | 0th, 1st, 2nd, ..., 23rd          | 7     |\n * |                                 | HH      | 00, 01, 02, ..., 23               |       |\n * | Hour [0-11]                     | K       | 1, 2, ..., 11, 0                  |       |\n * |                                 | Ko      | 1st, 2nd, ..., 11th, 0th          | 7     |\n * |                                 | KK      | 01, 02, ..., 11, 00               |       |\n * | Hour [1-24]                     | k       | 24, 1, 2, ..., 23                 |       |\n * |                                 | ko      | 24th, 1st, 2nd, ..., 23rd         | 7     |\n * |                                 | kk      | 24, 01, 02, ..., 23               |       |\n * | Minute                          | m       | 0, 1, ..., 59                     |       |\n * |                                 | mo      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | mm      | 00, 01, ..., 59                   |       |\n * | Second                          | s       | 0, 1, ..., 59                     |       |\n * |                                 | so      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | ss      | 00, 01, ..., 59                   |       |\n * | Fraction of second              | S       | 0, 1, ..., 9                      |       |\n * |                                 | SS      | 00, 01, ..., 99                   |       |\n * |                                 | SSS     | 000, 001, ..., 999                |       |\n * |                                 | SSSS    | ...                               | 3     |\n * | Timezone (ISO-8601 w/ Z)        | X       | -08, +0530, Z                     |       |\n * |                                 | XX      | -0800, +0530, Z                   |       |\n * |                                 | XXX     | -08:00, +05:30, Z                 |       |\n * |                                 | XXXX    | -0800, +0530, Z, +123456          | 2     |\n * |                                 | XXXXX   | -08:00, +05:30, Z, +12:34:56      |       |\n * | Timezone (ISO-8601 w/o Z)       | x       | -08, +0530, +00                   |       |\n * |                                 | xx      | -0800, +0530, +0000               |       |\n * |                                 | xxx     | -08:00, +05:30, +00:00            | 2     |\n * |                                 | xxxx    | -0800, +0530, +0000, +123456      |       |\n * |                                 | xxxxx   | -08:00, +05:30, +00:00, +12:34:56 |       |\n * | Timezone (GMT)                  | O...OOO | GMT-8, GMT+5:30, GMT+0            |       |\n * |                                 | OOOO    | GMT-08:00, GMT+05:30, GMT+00:00   | 2     |\n * | Timezone (specific non-locat.)  | z...zzz | GMT-8, GMT+5:30, GMT+0            | 6     |\n * |                                 | zzzz    | GMT-08:00, GMT+05:30, GMT+00:00   | 2,6   |\n * | Seconds timestamp               | t       | 512969520                         | 7     |\n * |                                 | tt      | ...                               | 3,7   |\n * | Milliseconds timestamp          | T       | 512969520900                      | 7     |\n * |                                 | TT      | ...                               | 3,7   |\n * | Long localized date             | P       | 04/29/1453                        | 7     |\n * |                                 | PP      | Apr 29, 1453                      | 7     |\n * |                                 | PPP     | April 29th, 1453                  | 7     |\n * |                                 | PPPP    | Friday, April 29th, 1453          | 2,7   |\n * | Long localized time             | p       | 12:00 AM                          | 7     |\n * |                                 | pp      | 12:00:00 AM                       | 7     |\n * |                                 | ppp     | 12:00:00 AM GMT+2                 | 7     |\n * |                                 | pppp    | 12:00:00 AM GMT+02:00             | 2,7   |\n * | Combination of date and time    | Pp      | 04/29/1453, 12:00 AM              | 7     |\n * |                                 | PPpp    | Apr 29, 1453, 12:00:00 AM         | 7     |\n * |                                 | PPPppp  | April 29th, 1453 at ...           | 7     |\n * |                                 | PPPPpppp| Friday, April 29th, 1453 at ...   | 2,7   |\n * Notes:\n * 1. \"Formatting\" units (e.g. formatting quarter) in the default en-US locale\n *    are the same as \"stand-alone\" units, but are different in some languages.\n *    \"Formatting\" units are declined according to the rules of the language\n *    in the context of a date. \"Stand-alone\" units are always nominative singular:\n *\n *    `format(new Date(2017, 10, 6), 'do LLLL', {locale: cs}) //=> '6. listopad'`\n *\n *    `format(new Date(2017, 10, 6), 'do MMMM', {locale: cs}) //=> '6. listopadu'`\n *\n * 2. Any sequence of the identical letters is a pattern, unless it is escaped by\n *    the single quote characters (see below).\n *    If the sequence is longer than listed in table (e.g. `EEEEEEEEEEE`)\n *    the output will be the same as default pattern for this unit, usually\n *    the longest one (in case of ISO weekdays, `EEEE`). Default patterns for units\n *    are marked with \"2\" in the last column of the table.\n *\n *    `format(new Date(2017, 10, 6), 'MMM') //=> 'Nov'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMM') //=> 'N'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMMM') //=> 'November'`\n *\n * 3. Some patterns could be unlimited length (such as `yyyyyyyy`).\n *    The output will be padded with zeros to match the length of the pattern.\n *\n *    `format(new Date(2017, 10, 6), 'yyyyyyyy') //=> '00002017'`\n *\n * 4. `QQQQQ` and `qqqqq` could be not strictly numerical in some locales.\n *    These tokens represent the shortest form of the quarter.\n *\n * 5. The main difference between `y` and `u` patterns are B.C. years:\n *\n *    | Year | `y` | `u` |\n *    |------|-----|-----|\n *    | AC 1 |   1 |   1 |\n *    | BC 1 |   1 |   0 |\n *    | BC 2 |   2 |  -1 |\n *\n *    Also `yy` always returns the last two digits of a year,\n *    while `uu` pads single digit years to 2 characters and returns other years unchanged:\n *\n *    | Year | `yy` | `uu` |\n *    |------|------|------|\n *    | 1    |   01 |   01 |\n *    | 14   |   14 |   14 |\n *    | 376  |   76 |  376 |\n *    | 1453 |   53 | 1453 |\n *\n *    The same difference is true for local and ISO week-numbering years (`Y` and `R`),\n *    except local week-numbering years are dependent on `options.weekStartsOn`\n *    and `options.firstWeekContainsDate` (compare [getISOWeekYear]{@link https://date-fns.org/docs/getISOWeekYear}\n *    and [getWeekYear]{@link https://date-fns.org/docs/getWeekYear}).\n *\n * 6. Specific non-location timezones are currently unavailable in `date-fns`,\n *    so right now these tokens fall back to GMT timezones.\n *\n * 7. These patterns are not in the Unicode Technical Standard #35:\n *    - `i`: ISO day of week\n *    - `I`: ISO week of year\n *    - `R`: ISO week-numbering year\n *    - `t`: seconds timestamp\n *    - `T`: milliseconds timestamp\n *    - `o`: ordinal number modifier\n *    - `P`: long localized date\n *    - `p`: long localized time\n *\n * 8. `YY` and `YYYY` tokens represent week-numbering years but they are often confused with years.\n *    You should enable `options.useAdditionalWeekYearTokens` to use them. See: https://git.io/fxCyr\n *\n * 9. `D` and `DD` tokens represent days of the year but they are often confused with days of the month.\n *    You should enable `options.useAdditionalDayOfYearTokens` to use them. See: https://git.io/fxCyr\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * - The second argument is now required for the sake of explicitness.\n *\n *   ```javascript\n *   // Before v2.0.0\n *   format(new Date(2016, 0, 1))\n *\n *   // v2.0.0 onward\n *   format(new Date(2016, 0, 1), \"yyyy-MM-dd'T'HH:mm:ss.SSSxxx\")\n *   ```\n *\n * - New format string API for `format` function\n *   which is based on [Unicode Technical Standard #35](https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table).\n *   See [this post](https://blog.date-fns.org/post/unicode-tokens-in-date-fns-v2-sreatyki91jg) for more details.\n *\n * - Characters are now escaped using single quote symbols (`'`) instead of square brackets.\n *\n * @param {Date|Number} date - the original date\n * @param {String} format - the string of tokens\n * @param {Object} [options] - an object with options.\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @param {Number} [options.firstWeekContainsDate=1] - the day of January, which is\n * @param {Boolean} [options.useAdditionalWeekYearTokens=false] - if true, allows usage of the week-numbering year tokens `YY` and `YYYY`;\n *   see: https://git.io/fxCyr\n * @param {Boolean} [options.useAdditionalDayOfYearTokens=false] - if true, allows usage of the day of year tokens `D` and `DD`;\n *   see: https://git.io/fxCyr\n * @returns {String} the formatted date string\n * @throws {TypeError} 2 arguments required\n * @throws {RangeError} `date` must not be Invalid Date\n * @throws {RangeError} `options.locale` must contain `localize` property\n * @throws {RangeError} `options.locale` must contain `formatLong` property\n * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6\n * @throws {RangeError} `options.firstWeekContainsDate` must be between 1 and 7\n * @throws {RangeError} use `yyyy` instead of `YYYY` for formatting years using [format provided] to the input [input provided]; see: https://git.io/fxCyr\n * @throws {RangeError} use `yy` instead of `YY` for formatting years using [format provided] to the input [input provided]; see: https://git.io/fxCyr\n * @throws {RangeError} use `d` instead of `D` for formatting days of the month using [format provided] to the input [input provided]; see: https://git.io/fxCyr\n * @throws {RangeError} use `dd` instead of `DD` for formatting days of the month using [format provided] to the input [input provided]; see: https://git.io/fxCyr\n * @throws {RangeError} format string contains an unescaped latin alphabet character\n *\n * @example\n * // Represent 11 February 2014 in middle-endian format:\n * var result = format(new Date(2014, 1, 11), 'MM/dd/yyyy')\n * //=> '02/11/2014'\n *\n * @example\n * // Represent 2 July 2014 in Esperanto:\n * import { eoLocale } from 'date-fns/locale/eo'\n * var result = format(new Date(2014, 6, 2), \"do 'de' MMMM yyyy\", {\n *   locale: eoLocale\n * })\n * //=> '2-a de julio 2014'\n *\n * @example\n * // Escape string by single quote characters:\n * var result = format(new Date(2014, 6, 2, 15), \"h 'o''clock'\")\n * //=> \"3 o'clock\"\n */\n\nexport default function format(dirtyDate, dirtyFormatStr, dirtyOptions) {\n  requiredArgs(2, arguments);\n  var formatStr = String(dirtyFormatStr);\n  var options = dirtyOptions || {};\n  var locale = options.locale || defaultLocale;\n  var localeFirstWeekContainsDate = locale.options && locale.options.firstWeekContainsDate;\n  var defaultFirstWeekContainsDate = localeFirstWeekContainsDate == null ? 1 : toInteger(localeFirstWeekContainsDate);\n  var firstWeekContainsDate = options.firstWeekContainsDate == null ? defaultFirstWeekContainsDate : toInteger(options.firstWeekContainsDate); // Test if weekStartsOn is between 1 and 7 _and_ is not NaN\n\n  if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {\n    throw new RangeError('firstWeekContainsDate must be between 1 and 7 inclusively');\n  }\n\n  var localeWeekStartsOn = locale.options && locale.options.weekStartsOn;\n  var defaultWeekStartsOn = localeWeekStartsOn == null ? 0 : toInteger(localeWeekStartsOn);\n  var weekStartsOn = options.weekStartsOn == null ? defaultWeekStartsOn : toInteger(options.weekStartsOn); // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n\n  if (!locale.localize) {\n    throw new RangeError('locale must contain localize property');\n  }\n\n  if (!locale.formatLong) {\n    throw new RangeError('locale must contain formatLong property');\n  }\n\n  var originalDate = toDate(dirtyDate);\n\n  if (!isValid(originalDate)) {\n    throw new RangeError('Invalid time value');\n  } // Convert the date in system timezone to the same date in UTC+00:00 timezone.\n  // This ensures that when UTC functions will be implemented, locales will be compatible with them.\n  // See an issue about UTC functions: https://github.com/date-fns/date-fns/issues/376\n\n\n  var timezoneOffset = getTimezoneOffsetInMilliseconds(originalDate);\n  var utcDate = subMilliseconds(originalDate, timezoneOffset);\n  var formatterOptions = {\n    firstWeekContainsDate: firstWeekContainsDate,\n    weekStartsOn: weekStartsOn,\n    locale: locale,\n    _originalDate: originalDate\n  };\n  var result = formatStr.match(longFormattingTokensRegExp).map(function (substring) {\n    var firstCharacter = substring[0];\n\n    if (firstCharacter === 'p' || firstCharacter === 'P') {\n      var longFormatter = longFormatters[firstCharacter];\n      return longFormatter(substring, locale.formatLong, formatterOptions);\n    }\n\n    return substring;\n  }).join('').match(formattingTokensRegExp).map(function (substring) {\n    // Replace two single quote characters with one single quote character\n    if (substring === \"''\") {\n      return \"'\";\n    }\n\n    var firstCharacter = substring[0];\n\n    if (firstCharacter === \"'\") {\n      return cleanEscapedString(substring);\n    }\n\n    var formatter = formatters[firstCharacter];\n\n    if (formatter) {\n      if (!options.useAdditionalWeekYearTokens && isProtectedWeekYearToken(substring)) {\n        throwProtectedError(substring, dirtyFormatStr, dirtyDate);\n      }\n\n      if (!options.useAdditionalDayOfYearTokens && isProtectedDayOfYearToken(substring)) {\n        throwProtectedError(substring, dirtyFormatStr, dirtyDate);\n      }\n\n      return formatter(utcDate, substring, locale.localize, formatterOptions);\n    }\n\n    if (firstCharacter.match(unescapedLatinCharacterRegExp)) {\n      throw new RangeError('Format string contains an unescaped latin alphabet character `' + firstCharacter + '`');\n    }\n\n    return substring;\n  }).join('');\n  return result;\n}\n\nfunction cleanEscapedString(input) {\n  return input.match(escapedStringRegExp)[1].replace(doubleQuoteRegExp, \"'\");\n}","export default function assign(target, dirtyObject) {\n  if (target == null) {\n    throw new TypeError('assign requires that input parameter not be null or undefined');\n  }\n\n  dirtyObject = dirtyObject || {};\n\n  for (var property in dirtyObject) {\n    if (Object.prototype.hasOwnProperty.call(dirtyObject, property)) {\n      target[property] = dirtyObject[property];\n    }\n  }\n\n  return target;\n}","import assign from \"../assign/index.js\";\nexport default function cloneObject(dirtyObject) {\n  return assign({}, dirtyObject);\n}","import compareAsc from \"../compareAsc/index.js\";\nimport differenceInMonths from \"../differenceInMonths/index.js\";\nimport differenceInSeconds from \"../differenceInSeconds/index.js\";\nimport defaultLocale from \"../locale/en-US/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport cloneObject from \"../_lib/cloneObject/index.js\";\nimport getTimezoneOffsetInMilliseconds from \"../_lib/getTimezoneOffsetInMilliseconds/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nvar MINUTES_IN_DAY = 1440;\nvar MINUTES_IN_ALMOST_TWO_DAYS = 2520;\nvar MINUTES_IN_MONTH = 43200;\nvar MINUTES_IN_TWO_MONTHS = 86400;\n/**\n * @name formatDistance\n * @category Common Helpers\n * @summary Return the distance between the given dates in words.\n *\n * @description\n * Return the distance between the given dates in words.\n *\n * | Distance between dates                                            | Result              |\n * |-------------------------------------------------------------------|---------------------|\n * | 0 ... 30 secs                                                     | less than a minute  |\n * | 30 secs ... 1 min 30 secs                                         | 1 minute            |\n * | 1 min 30 secs ... 44 mins 30 secs                                 | [2..44] minutes     |\n * | 44 mins ... 30 secs ... 89 mins 30 secs                           | about 1 hour        |\n * | 89 mins 30 secs ... 23 hrs 59 mins 30 secs                        | about [2..24] hours |\n * | 23 hrs 59 mins 30 secs ... 41 hrs 59 mins 30 secs                 | 1 day               |\n * | 41 hrs 59 mins 30 secs ... 29 days 23 hrs 59 mins 30 secs         | [2..30] days        |\n * | 29 days 23 hrs 59 mins 30 secs ... 44 days 23 hrs 59 mins 30 secs | about 1 month       |\n * | 44 days 23 hrs 59 mins 30 secs ... 59 days 23 hrs 59 mins 30 secs | about 2 months      |\n * | 59 days 23 hrs 59 mins 30 secs ... 1 yr                           | [2..12] months      |\n * | 1 yr ... 1 yr 3 months                                            | about 1 year        |\n * | 1 yr 3 months ... 1 yr 9 month s                                  | over 1 year         |\n * | 1 yr 9 months ... 2 yrs                                           | almost 2 years      |\n * | N yrs ... N yrs 3 months                                          | about N years       |\n * | N yrs 3 months ... N yrs 9 months                                 | over N years        |\n * | N yrs 9 months ... N+1 yrs                                        | almost N+1 years    |\n *\n * With `options.includeSeconds == true`:\n * | Distance between dates | Result               |\n * |------------------------|----------------------|\n * | 0 secs ... 5 secs      | less than 5 seconds  |\n * | 5 secs ... 10 secs     | less than 10 seconds |\n * | 10 secs ... 20 secs    | less than 20 seconds |\n * | 20 secs ... 40 secs    | half a minute        |\n * | 40 secs ... 60 secs    | less than a minute   |\n * | 60 secs ... 90 secs    | 1 minute             |\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * - The function was renamed from `distanceInWords ` to `formatDistance`\n *   to make its name consistent with `format` and `formatRelative`.\n *\n * - The order of arguments is swapped to make the function\n *   consistent with `differenceIn...` functions.\n *\n *   ```javascript\n *   // Before v2.0.0\n *\n *   distanceInWords(\n *     new Date(1986, 3, 4, 10, 32, 0),\n *     new Date(1986, 3, 4, 11, 32, 0),\n *     { addSuffix: true }\n *   ) //=> 'in about 1 hour'\n *\n *   // v2.0.0 onward\n *\n *   formatDistance(\n *     new Date(1986, 3, 4, 11, 32, 0),\n *     new Date(1986, 3, 4, 10, 32, 0),\n *     { addSuffix: true }\n *   ) //=> 'in about 1 hour'\n *   ```\n *\n * @param {Date|Number} date - the date\n * @param {Date|Number} baseDate - the date to compare with\n * @param {Object} [options] - an object with options.\n * @param {Boolean} [options.includeSeconds=false] - distances less than a minute are more detailed\n * @param {Boolean} [options.addSuffix=false] - result indicates if the second date is earlier or later than the first\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @returns {String} the distance in words\n * @throws {TypeError} 2 arguments required\n * @throws {RangeError} `date` must not be Invalid Date\n * @throws {RangeError} `baseDate` must not be Invalid Date\n * @throws {RangeError} `options.locale` must contain `formatDistance` property\n *\n * @example\n * // What is the distance between 2 July 2014 and 1 January 2015?\n * const result = formatDistance(new Date(2014, 6, 2), new Date(2015, 0, 1))\n * //=> '6 months'\n *\n * @example\n * // What is the distance between 1 January 2015 00:00:15\n * // and 1 January 2015 00:00:00, including seconds?\n * const result = formatDistance(\n *   new Date(2015, 0, 1, 0, 0, 15),\n *   new Date(2015, 0, 1, 0, 0, 0),\n *   { includeSeconds: true }\n * )\n * //=> 'less than 20 seconds'\n *\n * @example\n * // What is the distance from 1 January 2016\n * // to 1 January 2015, with a suffix?\n * const result = formatDistance(new Date(2015, 0, 1), new Date(2016, 0, 1), {\n *   addSuffix: true\n * })\n * //=> 'about 1 year ago'\n *\n * @example\n * // What is the distance between 1 August 2016 and 1 January 2015 in Esperanto?\n * import { eoLocale } from 'date-fns/locale/eo'\n * const result = formatDistance(new Date(2016, 7, 1), new Date(2015, 0, 1), {\n *   locale: eoLocale\n * })\n * //=> 'pli ol 1 jaro'\n */\n\nexport default function formatDistance(dirtyDate, dirtyBaseDate) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  requiredArgs(2, arguments);\n  var locale = options.locale || defaultLocale;\n\n  if (!locale.formatDistance) {\n    throw new RangeError('locale must contain formatDistance property');\n  }\n\n  var comparison = compareAsc(dirtyDate, dirtyBaseDate);\n\n  if (isNaN(comparison)) {\n    throw new RangeError('Invalid time value');\n  }\n\n  var localizeOptions = cloneObject(options);\n  localizeOptions.addSuffix = Boolean(options.addSuffix);\n  localizeOptions.comparison = comparison;\n  var dateLeft;\n  var dateRight;\n\n  if (comparison > 0) {\n    dateLeft = toDate(dirtyBaseDate);\n    dateRight = toDate(dirtyDate);\n  } else {\n    dateLeft = toDate(dirtyDate);\n    dateRight = toDate(dirtyBaseDate);\n  }\n\n  var seconds = differenceInSeconds(dateRight, dateLeft);\n  var offsetInSeconds = (getTimezoneOffsetInMilliseconds(dateRight) - getTimezoneOffsetInMilliseconds(dateLeft)) / 1000;\n  var minutes = Math.round((seconds - offsetInSeconds) / 60);\n  var months; // 0 up to 2 mins\n\n  if (minutes < 2) {\n    if (options.includeSeconds) {\n      if (seconds < 5) {\n        return locale.formatDistance('lessThanXSeconds', 5, localizeOptions);\n      } else if (seconds < 10) {\n        return locale.formatDistance('lessThanXSeconds', 10, localizeOptions);\n      } else if (seconds < 20) {\n        return locale.formatDistance('lessThanXSeconds', 20, localizeOptions);\n      } else if (seconds < 40) {\n        return locale.formatDistance('halfAMinute', null, localizeOptions);\n      } else if (seconds < 60) {\n        return locale.formatDistance('lessThanXMinutes', 1, localizeOptions);\n      } else {\n        return locale.formatDistance('xMinutes', 1, localizeOptions);\n      }\n    } else {\n      if (minutes === 0) {\n        return locale.formatDistance('lessThanXMinutes', 1, localizeOptions);\n      } else {\n        return locale.formatDistance('xMinutes', minutes, localizeOptions);\n      }\n    } // 2 mins up to 0.75 hrs\n\n  } else if (minutes < 45) {\n    return locale.formatDistance('xMinutes', minutes, localizeOptions); // 0.75 hrs up to 1.5 hrs\n  } else if (minutes < 90) {\n    return locale.formatDistance('aboutXHours', 1, localizeOptions); // 1.5 hrs up to 24 hrs\n  } else if (minutes < MINUTES_IN_DAY) {\n    var hours = Math.round(minutes / 60);\n    return locale.formatDistance('aboutXHours', hours, localizeOptions); // 1 day up to 1.75 days\n  } else if (minutes < MINUTES_IN_ALMOST_TWO_DAYS) {\n    return locale.formatDistance('xDays', 1, localizeOptions); // 1.75 days up to 30 days\n  } else if (minutes < MINUTES_IN_MONTH) {\n    var days = Math.round(minutes / MINUTES_IN_DAY);\n    return locale.formatDistance('xDays', days, localizeOptions); // 1 month up to 2 months\n  } else if (minutes < MINUTES_IN_TWO_MONTHS) {\n    months = Math.round(minutes / MINUTES_IN_MONTH);\n    return locale.formatDistance('aboutXMonths', months, localizeOptions);\n  }\n\n  months = differenceInMonths(dateRight, dateLeft); // 2 months up to 12 months\n\n  if (months < 12) {\n    var nearestMonth = Math.round(minutes / MINUTES_IN_MONTH);\n    return locale.formatDistance('xMonths', nearestMonth, localizeOptions); // 1 year up to max Date\n  } else {\n    var monthsSinceStartOfYear = months % 12;\n    var years = Math.floor(months / 12); // N years up to 1 years 3 months\n\n    if (monthsSinceStartOfYear < 3) {\n      return locale.formatDistance('aboutXYears', years, localizeOptions); // N years 3 months up to N years 9 months\n    } else if (monthsSinceStartOfYear < 9) {\n      return locale.formatDistance('overXYears', years, localizeOptions); // N years 9 months up to N year 12 months\n    } else {\n      return locale.formatDistance('almostXYears', years + 1, localizeOptions);\n    }\n  }\n}","import distanceInWords from \"../formatDistance/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name formatDistanceToNow\n * @category Common Helpers\n * @summary Return the distance between the given date and now in words.\n * @pure false\n *\n * @description\n * Return the distance between the given date and now in words.\n *\n * | Distance to now                                                   | Result              |\n * |-------------------------------------------------------------------|---------------------|\n * | 0 ... 30 secs                                                     | less than a minute  |\n * | 30 secs ... 1 min 30 secs                                         | 1 minute            |\n * | 1 min 30 secs ... 44 mins 30 secs                                 | [2..44] minutes     |\n * | 44 mins ... 30 secs ... 89 mins 30 secs                           | about 1 hour        |\n * | 89 mins 30 secs ... 23 hrs 59 mins 30 secs                        | about [2..24] hours |\n * | 23 hrs 59 mins 30 secs ... 41 hrs 59 mins 30 secs                 | 1 day               |\n * | 41 hrs 59 mins 30 secs ... 29 days 23 hrs 59 mins 30 secs         | [2..30] days        |\n * | 29 days 23 hrs 59 mins 30 secs ... 44 days 23 hrs 59 mins 30 secs | about 1 month       |\n * | 44 days 23 hrs 59 mins 30 secs ... 59 days 23 hrs 59 mins 30 secs | about 2 months      |\n * | 59 days 23 hrs 59 mins 30 secs ... 1 yr                           | [2..12] months      |\n * | 1 yr ... 1 yr 3 months                                            | about 1 year        |\n * | 1 yr 3 months ... 1 yr 9 month s                                  | over 1 year         |\n * | 1 yr 9 months ... 2 yrs                                           | almost 2 years      |\n * | N yrs ... N yrs 3 months                                          | about N years       |\n * | N yrs 3 months ... N yrs 9 months                                 | over N years        |\n * | N yrs 9 months ... N+1 yrs                                        | almost N+1 years    |\n *\n * With `options.includeSeconds == true`:\n * | Distance to now     | Result               |\n * |---------------------|----------------------|\n * | 0 secs ... 5 secs   | less than 5 seconds  |\n * | 5 secs ... 10 secs  | less than 10 seconds |\n * | 10 secs ... 20 secs | less than 20 seconds |\n * | 20 secs ... 40 secs | half a minute        |\n * | 40 secs ... 60 secs | less than a minute   |\n * | 60 secs ... 90 secs | 1 minute             |\n *\n * >  Please note that this function is not present in the FP submodule as\n * > it uses `Date.now()` internally hence impure and can't be safely curried.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * - The function was renamed from `distanceInWordsToNow ` to `formatDistanceToNow`\n *   to make its name consistent with `format` and `formatRelative`.\n *\n *   ```javascript\n *   // Before v2.0.0\n *\n *   distanceInWordsToNow(new Date(2014, 6, 2), { addSuffix: true })\n *   //=> 'in 6 months'\n *\n *   // v2.0.0 onward\n *\n *   formatDistanceToNow(new Date(2014, 6, 2), { addSuffix: true })\n *   //=> 'in 6 months'\n *   ```\n *\n * @param {Date|Number} date - the given date\n * @param {Object} [options] - the object with options\n * @param {Boolean} [options.includeSeconds=false] - distances less than a minute are more detailed\n * @param {Boolean} [options.addSuffix=false] - result specifies if now is earlier or later than the passed date\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @returns {String} the distance in words\n * @throws {TypeError} 1 argument required\n * @throws {RangeError} `date` must not be Invalid Date\n * @throws {RangeError} `options.locale` must contain `formatDistance` property\n *\n * @example\n * // If today is 1 January 2015, what is the distance to 2 July 2014?\n * var result = formatDistanceToNow(\n *   new Date(2014, 6, 2)\n * )\n * //=> '6 months'\n *\n * @example\n * // If now is 1 January 2015 00:00:00,\n * // what is the distance to 1 January 2015 00:00:15, including seconds?\n * var result = formatDistanceToNow(\n *   new Date(2015, 0, 1, 0, 0, 15),\n *   {includeSeconds: true}\n * )\n * //=> 'less than 20 seconds'\n *\n * @example\n * // If today is 1 January 2015,\n * // what is the distance to 1 January 2016, with a suffix?\n * var result = formatDistanceToNow(\n *   new Date(2016, 0, 1),\n *   {addSuffix: true}\n * )\n * //=> 'in about 1 year'\n *\n * @example\n * // If today is 1 January 2015,\n * // what is the distance to 1 August 2016 in Esperanto?\n * var eoLocale = require('date-fns/locale/eo')\n * var result = formatDistanceToNow(\n *   new Date(2016, 7, 1),\n *   {locale: eoLocale}\n * )\n * //=> 'pli ol 1 jaro'\n */\n\nexport default function formatDistanceToNow(dirtyDate, dirtyOptions) {\n  requiredArgs(1, arguments);\n  return distanceInWords(dirtyDate, Date.now(), dirtyOptions);\n}","import { FormComposer, Header, Loader } from \"@egovernments/digit-ui-react-components\";\r\nimport { format } from 'date-fns';\r\nimport React, { Fragment, useEffect } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { config } from \"../../../../config/NewEventConfig\";\r\n\r\nconst EditEvents = () => {\r\n  const { t } = useTranslation();\r\n  const history = useHistory();\r\n  const { id: EventId } = useParams();\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const { isLoading, data } = Digit.Hooks.events.useInbox(tenantId, {},\r\n    {\r\n      eventTypes: \"EVENTSONGROUND\",\r\n      ids: EventId\r\n    },\r\n    {\r\n      select: (data) => data?.events?.[0]\r\n    });\r\n  const [mutationHappened, setMutationHappened, clear] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_EVENT_MUTATION_HAPPENED\", false);\r\n  const [errorInfo, setErrorInfo, clearError] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_EVENT_ERROR_DATA\", false);\r\n  const [successData, setsuccessData, clearSuccessData] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_EVENT_MUTATION_SUCCESS_DATA\", false);\r\n\r\n  useEffect(() => {\r\n    setMutationHappened(false);\r\n    clearSuccessData();\r\n    clearError();\r\n  }, []);\r\n  const onSubmit = (formData) => {\r\n    const { fromDate, toDate, fromTime, toTime, address, organizer, fees, geoLocation } = formData;\r\n    const details = {\r\n      events: [\r\n        {\r\n          ...data,\r\n          source: \"WEBAPP\",\r\n          status: \"ACTIVE\",\r\n          eventType: \"EVENTSONGROUND\",\r\n          tenantId: formData?.tenantId?.code,\r\n          description: formData?.description,\r\n          name: formData?.name,\r\n          eventcategory: formData?.eventCategory?.code,\r\n          eventDetails: {\r\n            ...data?.eventDetails,\r\n            fromDate: new Date(`${fromDate} ${fromTime}`).getTime(),\r\n            toDate: new Date(`${toDate} ${toTime}`).getTime(),\r\n            fromTime,\r\n            toTime,\r\n            address,\r\n            organizer,\r\n            fees,\r\n            latitude: geoLocation?.latitude,\r\n            longitude: geoLocation?.longitude\r\n          }\r\n        }\r\n      ]\r\n    }\r\n    history.push(\"/digit-ui/employee/engagement/event/response?update=true\", details)\r\n  }\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <Loader />\r\n    );\r\n  }\r\n\r\n  const defaultValues = {\r\n    defaultTenantId: data?.tenantId,\r\n    name: data?.name,\r\n    fromDate: format(new Date(data?.eventDetails?.fromDate), 'yyyy-MM-dd'),\r\n    toDate: format(new Date(data?.eventDetails?.toDate), 'yyyy-MM-dd'),\r\n    organizer: data?.eventDetails?.organizer,\r\n    fees: data?.eventDetails?.fees,\r\n    description: data?.description,\r\n    address: data?.eventDetails?.address,\r\n    category: data?.eventCategory,\r\n    fromTime: format(new Date(data?.eventDetails?.fromDate), 'HH:mm'),\r\n    toTime: format(new Date(data?.eventDetails?.toDate), 'HH:mm'),\r\n    geoLocation: {\r\n      latitude: data?.eventDetails?.latitude,\r\n      longitude: data?.eventDetails?.longitude,\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <Header>{t(\"ES_TITLE_EDIT_EVENTS\")}</Header>\r\n      <FormComposer\r\n        defaultValues={defaultValues}\r\n        config={config}\r\n        onSubmit={onSubmit}\r\n        label={t(\"EVENTS_SAVE_CHANGES\")}\r\n      >\r\n      </FormComposer>\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default EditEvents;","import { ActionBar, Banner, Card, CardText, Loader, SubmitBar } from \"@egovernments/digit-ui-react-components\";\r\nimport { format } from \"date-fns\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useQueryClient } from \"react-query\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst BannerPicker = (props) => {\r\n  const { t } = useTranslation();\r\n  return (\r\n    <Banner\r\n      message={t(props.message)}\r\n      applicationNumber={props?.data?.events?.[0]?.name}\r\n      info={t(`ENGAGEMENT_EVENT_NAME`)}\r\n      successful={props.isSuccess}\r\n    />\r\n  )\r\n}\r\n\r\nconst Response = (props) => {\r\n  const queryClient = useQueryClient();\r\n  const { t } = useTranslation();\r\n  const searchParams = Digit.Hooks.useQueryParams();\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const mutation = Digit.Hooks.events.useCreateEvent();\r\n  const updateEventMutation = Digit.Hooks.events.useUpdateEvent();\r\n  const [isSuccess, setIsSuccess] = useState(false)\r\n  const { state } = props.location;\r\n\r\n  const [mutationHappened, setMutationHappened, clear] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_EVENT_MUTATION_HAPPENED\", false);\r\n  const [successData, setsuccessData, clearSuccessData] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_EVENT_MUTATION_SUCCESS_DATA\", false);\r\n  const [errorInfo, setErrorInfo, clearError] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_EVENT_ERROR_DATA\", false);\r\n\r\n\r\n  const onError = (error, variables) => {\r\n    setErrorInfo(error?.response?.data?.Errors[0]?.code || 'ERROR');\r\n    setMutationHappened(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (mutation.data) setsuccessData(mutation.data);\r\n  }, [mutation.data]);\r\n  useEffect(() => {\r\n    if (updateEventMutation.data) setsuccessData(updateEventMutation.data);\r\n  }, [updateEventMutation.data]);\r\n\r\n  useEffect(() => {\r\n    const onSuccess = () => {\r\n      setMutationHappened(true);\r\n      queryClient.clear();\r\n    }\r\n    if (!mutationHappened) {\r\n      if (Boolean(searchParams?.delete) || Boolean(searchParams?.update)) {\r\n        updateEventMutation.mutate(state, {\r\n          onError,\r\n          onSuccess,\r\n        });\r\n        return;\r\n      }\r\n      mutation.mutate(state, {\r\n        onError,\r\n        onSuccess,\r\n      })\r\n      return;\r\n    }\r\n    return () => {\r\n      queryClient.clear();\r\n    };\r\n  }, []);\r\n\r\n  if (searchParams?.delete || searchParams?.update) {\r\n    if (updateEventMutation.isLoading || (updateEventMutation.isIdle && !mutationHappened)) {\r\n      return <Loader />\r\n    }\r\n\r\n    return (\r\n      <Card>\r\n        <BannerPicker\r\n          t={t}\r\n          message={searchParams?.update ? (updateEventMutation.isSuccess || successData) ? 'ENGAGEMENT_EVENT_UPDATED' : `ENGAGEMENT_EVENT_UPDATED_FAILED` : (updateEventMutation.isSuccess || successData) ? 'ENGAGEMENT_EVENT_DELETED' : 'ENGAGEMENT_EVENT_DELETED_FAILED'}\r\n          data={updateEventMutation.data || successData}\r\n          isSuccess={updateEventMutation?.isSuccess || successData}\r\n          isLoading={(updateEventMutation.isIdle && !mutationHappened) || updateEventMutation.isLoading}\r\n        />\r\n        <CardText>\r\n        {searchParams?.update ? (updateEventMutation.isSuccess || successData) ? t('ENGAGEMENT_EVENT_UPDATED') : t(`ENGAGEMENT_EVENT_UPDATED_FAILED`) : (updateEventMutation.isSuccess || successData) ? t('ENGAGEMENT_EVENT_DELETED') : t('ENGAGEMENT_EVENT_DELETED_FAILED')}\r\n        </CardText>\r\n        <ActionBar>\r\n          <Link to={\"/digit-ui/employee\"}>\r\n            <SubmitBar label={t(\"CORE_COMMON_GO_TO_HOME\")} />\r\n          </Link>\r\n        </ActionBar>\r\n      </Card>\r\n    )\r\n  }\r\n\r\n  if (mutation.isLoading || (mutation.isIdle && !mutationHappened)) {\r\n    return <Loader />\r\n  }\r\n\r\n\r\n  const event = mutation?.data?.events?.[0] || successData?.events?.[0] || {};\r\n  return (\r\n    <Card>\r\n      <BannerPicker\r\n        t={t}\r\n        message={mutation.isSuccess || successData ? `ENGAGEMENT_EVENT_CREATED_MESSAGE` : `ENGAGEMENT_EVENT_FAILED_MESSAGES`}\r\n        data={mutation.data || successData}\r\n        isSuccess={mutation.isSuccess || successData}\r\n        isLoading={(mutation.isIdle && !mutationHappened) || mutation.isLoading}\r\n      />\r\n      <CardText>\r\n        {mutation.isSuccess || successData ? t(`ENGAGEMENT_EVENT_CREATED_MESSAGES`, {\r\n          eventName: event?.name,\r\n          fromDate: Digit.DateUtils.ConvertTimestampToDate(event?.eventDetails?.fromDate),\r\n          toDate: Digit.DateUtils.ConvertTimestampToDate(event?.eventDetails?.toDate),\r\n          fromTime: mutation.isSuccess ? format(new Date(event?.eventDetails?.fromDate), 'HH:mm') : null,\r\n          toTime: mutation.isSuccess ? format(new Date(event?.eventDetails?.toDate), 'HH:mm') : null,\r\n        }) : null}\r\n      </CardText>\r\n      <ActionBar>\r\n        <Link to={\"/digit-ui/employee\"}>\r\n          <SubmitBar label={t(\"CORE_COMMON_GO_TO_HOME\")} />\r\n        </Link>\r\n      </ActionBar>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default Response;","import React from \"react\";\r\nimport { Table } from \"@egovernments/digit-ui-react-components\";\r\n\r\nconst ApplicationTable = ({\r\n  t,\r\n  data,\r\n  columns,\r\n  globalSearch,\r\n  onSearch,\r\n  getCellProps,\r\n  pageSizeLimit,\r\n  totalRecords,\r\n  currentPage,\r\n  onNextPage,\r\n  onPrevPage,\r\n  onPageSizeChange,\r\n\r\n}) => {\r\n  return (\r\n    <Table\r\n      t={t}\r\n      data={data}\r\n      columns={columns}\r\n      onSearch={onSearch}\r\n      globalSearch={globalSearch}\r\n      manualGlobalFilter={true}\r\n      manualPagination={true}\r\n      pageSizeLimit={pageSizeLimit}\r\n      getCellProps={getCellProps}\r\n      totalRecords={totalRecords}\r\n      currentPage={currentPage}\r\n      onNextPage={onNextPage}\r\n      onPrevPage={onPrevPage}\r\n      onPageSizeChange={onPageSizeChange}\r\n\r\n    />\r\n  )\r\n}\r\n\r\nexport default ApplicationTable;","import { Dropdown } from \"@egovernments/digit-ui-react-components\";\r\nimport React from \"react\";\r\n\r\nconst DropdownUlb = ({ ulb, onAssignmentChange, value, t }) => {\r\n  return (\r\n    <Dropdown option={ulb} optionKey=\"code\" selected={value} select={onAssignmentChange} t={t} />\r\n  )\r\n}\r\n\r\nexport default DropdownUlb; ","import React from \"react\";\r\nimport { useForm, Controller } from \"react-hook-form\";\r\nimport { TextInput, Label, SubmitBar, LinkLabel, ActionBar, CloseSvg, DatePicker } from \"@egovernments/digit-ui-react-components\";\r\nimport DropdownUlb from \"./DropdownUlb\";\r\nimport { alphabeticalSortFunctionForTenantsBasedOnName } from \"../../utils\";\r\n\r\nconst Search = ({ onSearch, searchParams, searchFields, type, onClose, isInboxPage, t }) => {\r\n  const { register, handleSubmit, formState, reset, watch, control } = useForm({\r\n    defaultValues: searchParams,\r\n  });\r\n  const mobileView = innerWidth <= 640;\r\n  const ulb = Digit.SessionStorage.get(\"ENGAGEMENT_TENANTS\");\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const userInfo = Digit.UserService.getUser().info;\r\n  const userUlbs = ulb.filter(ulb => userInfo?.roles?.some(role => role?.tenantId === ulb?.code)).sort(alphabeticalSortFunctionForTenantsBasedOnName)\r\n  \r\n  const getFields = (input) => {\r\n    switch(input.type) {\r\n      case \"ulb\":\r\n        return (\r\n          <Controller\r\n          rules={{ required: true }}\r\n            render={props => (\r\n              <DropdownUlb\r\n                onAssignmentChange={props.onChange}\r\n                value={props.value}\r\n                ulb={userUlbs}\r\n                t={t}\r\n              />\r\n            )}\r\n            name={input.name}\r\n            control={control}\r\n            defaultValue={null}\r\n          />\r\n        )\r\n      default:\r\n        return (\r\n          <Controller\r\n            render={(props) => <TextInput onChange={props.onChange} value={props.value} />}\r\n            name={input.name}\r\n            control={control}\r\n            defaultValue={null}\r\n          />\r\n        )\r\n    }\r\n  }\r\n\r\n  const onSubmitInput = (data) => {\r\n    // searchFields.forEach((field) => {\r\n    //   if (!data[field.name]) data.delete.push(field.name);\r\n    // });\r\n\r\n    onSearch(data);\r\n    if (type === \"mobile\") {\r\n      onClose();\r\n    }\r\n  }\r\n\r\n  const clearSearch = () => {\r\n    reset({ ulb: null, eventName: '' });\r\n    onSearch({ ulb: null, eventName: '' })\r\n  };\r\n\r\n  const clearAll = (mobileView) => {\r\n    const mobileViewStyles = mobileView ? { margin: 0 } : {};\r\n    return (\r\n      <LinkLabel style={{ display: \"inline\", ...mobileViewStyles }} onClick={clearSearch}>\r\n        {t(\"ES_COMMON_CLEAR_SEARCH\")}\r\n      </LinkLabel>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit(onSubmitInput)}>\r\n      <div className=\"search-container\" style={{ width: \"auto\", marginLeft: isInboxPage ? \"24px\" : \"revert\" }}>\r\n          <div className=\"search-complaint-container\">\r\n            {(type === \"mobile\" || mobileView) && (\r\n              <div className=\"complaint-header\">\r\n                <h2>{t(\"ES_COMMON_SEARCH_BY\")}</h2>\r\n                <span onClick={onClose}>\r\n                  <CloseSvg />\r\n                </span>\r\n              </div>\r\n            )}\r\n            <div className={\"complaint-input-container for-pt \" + (!isInboxPage ? \"for-search\" : \"\")} style={{ width: \"100%\" }}>\r\n              {searchFields\r\n                ?.map((input, index) => (\r\n                  <div key={input.name} className=\"input-fields\">\r\n                    {/* <span className={index === 0 ? \"complaint-input\" : \"mobile-input\"}> */}\r\n                    <span className={\"mobile-input\"}>\r\n                      <Label>{t(input.label) + ` ${input.isMendatory ? \"*\" : \"\"}`}</Label>\r\n                      {getFields(input)}\r\n                    </span>\r\n                    {formState?.dirtyFields?.[input.name] ? (\r\n                      <span\r\n                        style={{ fontWeight: \"700\", color: \"rgba(212, 53, 28)\", paddingLeft: \"8px\", marginTop: \"-20px\", fontSize: \"12px\" }}\r\n                        className=\"inbox-search-form-error\"\r\n                      >\r\n                        {formState?.errors?.[input.name]?.message}\r\n                      </span>\r\n                    ) : null}\r\n                  </div>\r\n                ))}\r\n\r\n              {/* {isInboxPage && ( */}\r\n                {/* // <div style={{ gridColumn: \"2/3\", textAlign: \"right\", paddingTop: \"10px\" }} className=\"input-fields\"> */}\r\n                  {/* <div>{clearAll()}</div> */}\r\n                {/* // </div> */}\r\n              {/* )} */}\r\n\r\n              {type === \"desktop\" && !mobileView && (\r\n                <div style={{ maxWidth: \"unset\", marginLeft: \"unset\", marginTop: \"55px\"}} className=\"search-submit-wrapper\">\r\n                  <SubmitBar\r\n                    className=\"submit-bar-search\"\r\n                    label={t(\"ES_COMMON_SEARCH\")}\r\n                    // disabled={!!Object.keys(formState.errors).length || formValueEmpty()}\r\n                    submit\r\n                  />\r\n                  {/* style={{ paddingTop: \"16px\", textAlign: \"center\" }} className=\"clear-search\" */}\r\n                  <div>{clearAll()}</div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {(type === \"mobile\" || mobileView) && (\r\n          <ActionBar className=\"clear-search-container\">\r\n            <button className=\"clear-search\" style={{ flex: 1 }}>\r\n              {clearAll(mobileView)}\r\n            </button>\r\n            <SubmitBar disabled={!!Object.keys(formState.errors).length} label={t(\"ES_COMMON_SEARCH\")} style={{ flex: 1 }} submit={true} />\r\n          </ActionBar>\r\n        )}\r\n    </form>\r\n  )\r\n\r\n}\r\n\r\nexport default Search;","import React from \"react\";\r\nimport { Card, DocumentIcon, EventCalendar } from \"@egovernments/digit-ui-react-components\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst EventLink = ({ title = \"EVENTS_EVENTS_HEADER\", links, icon = 'calender' }) => {\r\n  const { t } = useTranslation();\r\n\r\n  const GetLogo = () => (\r\n    <div className=\"header\" style={{ justifyContent: \"flex-start\" }}>\r\n      <span className=\"logo\" style={{ backgroundColor: \"#fff\" }}>\r\n        {icon === \"calender\" ? <EventCalendar /> : icon === \"survey\" ? 'surveyIcon' :  <DocumentIcon />}\r\n      </span>\r\n      {\" \"}\r\n      <span className=\"text\">{t(title)}</span>\r\n    </div>\r\n  );\r\n  \r\nreturn (\r\n  <Card className=\"employeeCard filter inboxLinks\">\r\n    <div className=\"complaint-links-container\">\r\n      {GetLogo()}\r\n      <div className=\"body\">\r\n        {links.map(({ link, text, hyperlink = false, accessTo = [] }, index) => {\r\n          return (\r\n            <span className=\"link\" key={index}>\r\n              {hyperlink ? <a href={link}>{text}</a> : <Link to={link}>{text}</Link>}\r\n            </span>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  </Card>\r\n)\r\n};\r\n\r\nexport default EventLink;","import React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { CheckBox } from \"@egovernments/digit-ui-react-components\";\r\n\r\nconst StatusCount = ({ status, onAssignmentChange, searchParams }) => {\r\n  const { t } = useTranslation();\r\n\r\n  return (\r\n    <CheckBox\r\n      onChange={(e) => onAssignmentChange(e, status)}\r\n      checked={searchParams?.eventStatus?.filter(event => event === status)?.length > 0 ? true : false}\r\n      label={t(status)}\r\n      pageType={'employee'}\r\n    />\r\n  )\r\n}\r\n\r\nexport default StatusCount; ","import React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport StatusCount from \"./StatusCount\";\r\n\r\nconst statuses = [\r\n  \"ACTIVE\",\r\n  \"INACTIVE\"\r\n]\r\n\r\nconst Status = ({ onAssignmentChange, searchParams }) => {\r\n  const { t } = useTranslation();\r\n\r\n  return (\r\n    <div className=\"status-container\">\r\n      <div className=\"filter-label\">{t(\"ES_INBOX_STATUS\")}</div>\r\n      {statuses?.map((status, key) => (\r\n        <StatusCount key={key} status={status} onAssignmentChange={onAssignmentChange} searchParams={searchParams} />\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Status; ","import React, { useState } from \"react\";\r\nimport { ActionBar, RemoveableTag, CloseSvg, Loader, DateRange, Localities, ApplyFilterBar, SubmitBar, Dropdown, RefreshIcon } from \"@egovernments/digit-ui-react-components\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport Status from \"./Status\";\r\n\r\nconst Filter = ({ type = \"desktop\", onClose, onSearch, onFilterChange, searchParams }) => {\r\n  const { t } = useTranslation();\r\n  const [localSearchParams, setLocalSearchParams] = useState(() => ({ ...searchParams }));\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const state = tenantId?.split('.')[0];\r\n  const { isLoading, data } = Digit.Hooks.useCommonMDMS(state, \"mseva\", [\"EventCategories\"]);\r\n\r\n  const clearAll = () => {\r\n    setLocalSearchParams({ eventCategory: null, eventStatus: [], range: { startDate: null, endDate: new Date(\"\"), title: \"\" } })\r\n    onFilterChange({ eventCategory: null, eventStatus: [], range: { startDate: null, endDate: new Date(\"\"), title: \"\" } });\r\n    onClose?.();\r\n  };\r\n\r\n  const applyLocalFilters = () => {\r\n    onFilterChange(localSearchParams);\r\n    onClose?.();\r\n  };\r\n  const handleChange = (data) => {\r\n    setLocalSearchParams({ ...localSearchParams, ...data });\r\n  };\r\n  const onStatusChange = (e, type) => {\r\n    if (e.target.checked) handleChange({ eventStatus: [...(localSearchParams?.eventStatus || []), type] })\r\n    else handleChange({ eventStatus: localSearchParams?.eventStatus?.filter(status => status !== type) })\r\n  }\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <Loader />\r\n    );\r\n  }\r\n  \r\n  return (\r\n    <div className=\"filter\">\r\n      <div className=\"filter-card\">\r\n        <div className=\"heading\">\r\n          <div className=\"filter-label\">{t(\"ES_COMMON_FILTER_BY\")}:</div>\r\n          <div className=\"clearAll\" onClick={clearAll}>\r\n            {t(\"ES_COMMON_CLEAR_ALL\")}\r\n          </div>\r\n          {type === \"desktop\" && (\r\n            <span className=\"clear-search\" onClick={clearAll}>\r\n              <RefreshIcon />\r\n            </span>\r\n          )}\r\n          {type === \"mobile\" && (\r\n            <span onClick={onClose}>\r\n              <CloseSvg />\r\n            </span>\r\n          )}\r\n        </div>\r\n        <div className=\"filter-label\">{`${t(`EVENTS_CATEGORY_LABEL`)}`}</div>\r\n        <Dropdown option={data?.mseva?.EventCategories} optionKey=\"code\" t={t} selected={localSearchParams?.eventCategory} select={val => handleChange({ eventCategory: val })} />\r\n        <DateRange t={t} values={localSearchParams?.range} onFilterChange={handleChange} labelClass=\"filter-label\" />\r\n        <div>\r\n          <Status onAssignmentChange={onStatusChange} searchParams={localSearchParams} />\r\n        </div>\r\n        <div>\r\n          <SubmitBar style={{ width: '100%' }} onSubmit={() => applyLocalFilters()} label={t(\"ES_COMMON_APPLY\")} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter;","import React from \"react\";\r\nimport { format } from \"date-fns\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Loader } from \"@egovernments/digit-ui-react-components\";\r\nimport ApplicationTable from \"./ApplicationTable\";\r\nimport Search from \"./Search\";\r\nimport EventLink from \"./EventLink\";\r\nimport Filter from \"./Filter\";\r\n\r\nconst GetCell = (value) => <span className=\"\">{value}</span>;\r\n\r\nconst GetStatusCell = (value) => value === \"Active\" ? <span className=\"sla-cell-success\">{value}</span> : <span className=\"sla-cell-error\">{value}</span> \r\n\r\nconst DesktopInbox = ({ isLoading, data, t, onSearch, parentRoute, title, iconName, links, globalSearch, searchFields, searchParams, onFilterChange, pageSizeLimit, totalRecords, currentPage, onNextPage, onPrevPage, onPageSizeChange }) => {\r\n  const columns = React.useMemo(() => {\r\n    return [\r\n      {\r\n        Header: t(\"EVENTS_EVENT_NAME_LABEL\"),\r\n        accessor: \"name\",\r\n        Cell: ({ row }) => {\r\n         \r\n          return (\r\n            <div>\r\n              <span className=\"link\">\r\n                <Link to={`${parentRoute}/event/inbox/event-details/${row.original.id}`}>{row.original[\"name\"]}</Link>\r\n              </span>\r\n            </div>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        Header: t(\"EVENTS_EVENT_CATEGORY_LABEL\"),\r\n        accessor: (row) => {\r\n         return GetCell(row?.eventCategory ? t(`MSEVA_EVENTCATEGORIES_${row?.eventCategory}`) : \"\")\r\n        }\r\n        },\r\n      {\r\n        Header: t(\"EVENTS_START_DATE_LABEL\"),\r\n        accessor: (row) => row?.eventDetails?.fromDate ? GetCell(format(new Date(row?.eventDetails?.fromDate), 'dd/MM/yyyy')) : \"\",\r\n      },\r\n      {\r\n        Header: t(\"EVENTS_END_DATE_LABEL\"),\r\n        accessor: (row) => row?.eventDetails?.toDate ? GetCell(format(new Date(row?.eventDetails?.toDate), \"dd/MM/yyyy\")) : \"\",\r\n      },\r\n      {\r\n        Header: t(\"EVENTS_POSTEDBY_LABEL\"),\r\n        accessor: row => GetCell(row?.user?.name || \"\")\r\n      },\r\n      {\r\n        Header: t(\"EVENTS_STATUS_LABEL\"),\r\n        accessor: row => GetStatusCell(t(row?.status)),\r\n      }\r\n    ]\r\n  })\r\n\r\n  let result;\r\n \r\n  if (isLoading) {\r\n    result = <Loader />\r\n  } else if (data?.length > 0) {\r\n    result = <ApplicationTable\r\n      t={t}\r\n      data={data}\r\n      columns={columns}\r\n      globalSearch={globalSearch}\r\n      onSearch={searchParams}\r\n      pageSizeLimit={pageSizeLimit}\r\n      totalRecords={totalRecords}\r\n      currentPage={currentPage}\r\n      onNextPage={onNextPage}\r\n      onPrevPage={onPrevPage}\r\n      onPageSizeChange={onPageSizeChange}\r\n      getCellProps={(cellInfo) => {\r\n        return {\r\n          style: {\r\n            minWidth: cellInfo.column.Header === t(\"ES_INBOX_APPLICATION_NO\") ? \"240px\" : \"\",\r\n            padding: \"20px 18px\",\r\n            fontSize: \"16px\",\r\n          },\r\n        };\r\n      }}\r\n    />\r\n  }\r\n\r\n  return (\r\n    <div className=\"inbox-container\">\r\n      <div className=\"filters-container\">\r\n      <EventLink title={title} icon={iconName} links={links} />\r\n        <div>\r\n          <Filter onFilterChange={onFilterChange} searchParams={searchParams} />\r\n        </div>\r\n      </div>\r\n      <div style={{ flex: 1 }}>\r\n        <Search\r\n          t={t}\r\n          onSearch={onSearch}\r\n          type=\"desktop\"\r\n          searchFields={searchFields}\r\n          isInboxPage={true}\r\n          searchParams={searchParams}\r\n        />\r\n        <div className=\"result\" style={{ marginLeft: \"24px\", flex: 1 }}>\r\n          {result}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DesktopInbox;","import React, { useState, useEffect } from \"react\";\r\nimport { Card, DetailsCard, Loader, PopUp, SearchAction, FilterAction } from \"@egovernments/digit-ui-react-components\";\r\nimport Filter from \"./Filter\";\r\nimport Search from \"./Search\";\r\nimport { areEqual } from \"../../utils\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst ApplicationCard = ({\r\n  searchFields,\r\n  searchParams,\r\n  onFilterChange,\r\n  onSearch,\r\n  t,\r\n  data,\r\n  serviceRequestIdKey\r\n}) => {\r\n  const [type, setType] = useState(\"\");\r\n  const [popup, setPopup] = useState(false);\r\n  const [params, setParams] = useState(searchParams);\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const history = useHistory()\r\n  useEffect(() => {\r\n    if (type) setPopup(true);\r\n  }, [type]);\r\n\r\n  const selectParams = (param) => {\r\n    setParams((o) => ({ ...o, ...param }));\r\n  };\r\n\r\n  const handlePopupClose = () => {\r\n    setPopup(false);\r\n    setParams(searchParams);\r\n  };\r\n\r\n  let result;\r\n  if (data?.length === 0) {\r\n    result = (\r\n      <Card style={{ marginTop: 20 }}>\r\n        {t(\"ES_NO_EVENTS\")\r\n          .split(\"\\\\n\")\r\n          .map((text, index) => (\r\n            <p key={index} style={{ textAlign: \"center\" }}>\r\n              {text}\r\n            </p>\r\n          ))}\r\n      </Card>\r\n    );\r\n  }\r\n  else if (data && data?.length > 0) {\r\n    result = <DetailsCard data={data}  linkPrefix={'/digit-ui/employee/engagement/event/inbox/event-details/'} serviceRequestIdKey={serviceRequestIdKey}/>\r\n  }\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"searchBox\">\r\n        {onSearch && (\r\n          <SearchAction\r\n            text=\"SEARCH\"\r\n            handleActionClick={() => {\r\n              setType(\"SEARCH\");\r\n              setPopup(true);\r\n            }}\r\n          />\r\n        )}\r\n        <FilterAction\r\n          text=\"FILTER\"\r\n          handleActionClick={() => {\r\n            setType(\"FILTER\");\r\n            setPopup(true);\r\n          }}\r\n        />\r\n      </div>\r\n      {result}\r\n      {popup && (\r\n        <PopUp>\r\n          {type === \"FILTER\" && (\r\n            <div className=\"popup-module\">\r\n              {\r\n                <Filter\r\n                  onFilterChange={onFilterChange}\r\n                  onClose={handlePopupClose}\r\n                  onSearch={onSearch}\r\n                  type=\"mobile\"\r\n                  searchParams={params}\r\n                />\r\n              }\r\n            </div>\r\n          )}\r\n          {type === \"SEARCH\" && (\r\n            <div className=\"popup-module\">\r\n              <Search\r\n                t={t}\r\n                type=\"mobile\"\r\n                onClose={handlePopupClose}\r\n                onSearch={onSearch}\r\n                searchParams={searchParams}\r\n                searchFields={searchFields}\r\n              />\r\n            </div>\r\n          )}\r\n        </PopUp>\r\n      )}\r\n    </React.Fragment>\r\n  )\r\n};\r\n\r\nexport default ApplicationCard;\r\n","import React from \"react\";\r\nimport { format, isValid } from \"date-fns\";\r\nimport ApplicationCard from \"./ApplicationCard\";\r\nimport EventLink from \"./EventLink\";\r\n\r\nconst GetStatusCell = (value) => value === \"Active\" ? <span className=\"sla-cell-success\">{value}</span> : <span className=\"sla-cell-error\">{value}</span> \r\n\r\nconst MobileInbox = ({ data, t, title, iconName, links, searchFields, searchParams, onFilterChange, onSearch, isLoading }) => {\r\n  const getData = () => {\r\n    return data?.\r\n    filter(event =>\r\n      (searchParams?.eventStatus?.length > 0 ? searchParams?.eventStatus?.includes(event.status) : true) &&\r\n      (searchParams?.eventName ? event.name?.toUpperCase().startsWith(searchParams?.eventName?.toUpperCase()) : true) &&\r\n      (searchParams?.ulb?.code ? event.tenantId === searchParams?.ulb?.code : true) &&\r\n      (searchParams?.eventCategory ? event.eventCategory === searchParams?.eventCategory?.code : true) &&\r\n      (isValid(searchParams?.range?.startDate) ? event.eventDetails?.fromDate >= new Date(searchParams?.range?.startDate).getTime() : true) &&\r\n      (isValid(searchParams?.range?.endDate) ? event.eventDetails?.toDate <= new Date(searchParams?.range?.endDate).getTime() : true))\r\n    .map((event) => {\r\n      return {\r\n        [\"applicationNo\"]:event?.id,\r\n        [t(\"EVENTS_EVENT_NAME_LABEL\")]: event?.name,\r\n        [t(\"EVENTS_EVENT_CATEGORY_LABEL\")]: t(`MSEVA_EVENTCATEGORIES_${event?.eventCategory}`),\r\n        [t(\"EVENTS_START_DATE_LABEL\")]: format(new Date(event?.eventDetails?.fromDate), 'dd/MM/yyyy'),\r\n        [t(\"EVENTS_END_DATE_LABEL\")]: format(new Date(event?.eventDetails?.toDate), 'dd/MM/yyyy'),\r\n        [t(\"EVENTS_POSTEDBY_LABEL\")]: event?.user?.name,\r\n        [t(\"EVENTS_STATUS_LABEL\")]: GetStatusCell(t(event?.status))\r\n      }\r\n    })\r\n  }\r\n  return (\r\n    <div style={{ padding: 0 }}>\r\n      <div className=\"inbox-container\">\r\n        <div className=\"filters-container\">\r\n          <EventLink title={title} icon={iconName} links={links} />\r\n          <ApplicationCard\r\n            t={t}\r\n            data={getData()}\r\n            onFilterChange={onFilterChange}\r\n            isLoading={isLoading}\r\n            onSearch={onSearch}\r\n            searchParams={searchParams}\r\n            searchFields={searchFields}\r\n            serviceRequestIdKey={\"applicationNo\"}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default MobileInbox;","import React, { useState, useCallback } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { format, isValid } from \"date-fns\";\r\nimport { Header } from \"@egovernments/digit-ui-react-components\";\r\nimport DesktopInbox from \"../../../../components/Events/DesktopInbox\";\r\nimport MobileInbox from \"../../../../components/Events/MobileInbox\";\r\n\r\n\r\n\r\nconst Inbox = ({ tenants, parentRoute }) => {\r\n  const { t } = useTranslation()\r\n  Digit.SessionStorage.set(\"ENGAGEMENT_TENANTS\", tenants);\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const [pageSize, setPageSize] = useState(10);\r\n  const [pageOffset, setPageOffset] = useState(0);\r\n  const [searchParams, setSearchParams] = useState({\r\n    eventStatus: [],\r\n    range: {\r\n      startDate: null,\r\n      endDate: new Date(\"\"),\r\n      title: \"\"\r\n    },\r\n    ulb: tenants?.find(tenant => tenant?.code === tenantId)\r\n  });\r\n  let isMobile = window.Digit.Utils.browser.isMobile();\r\n\r\n  const getSearchFields = () => {\r\n    return [\r\n      {\r\n        label: t(\"EVENTS_ULB_LABEL\"),\r\n        name: \"ulb\",\r\n        type: \"ulb\",\r\n      },\r\n      {\r\n        label: t(\"EVENTS_NAME_LABEL\"),\r\n        name: \"eventName\"\r\n      }\r\n    ]\r\n  }\r\n\r\n  const links = [\r\n    {\r\n      text: t(\"ES_TITLE_NEW_EVENTS\"),\r\n      link: \"/digit-ui/employee/engagement/event/inbox/new-event\",\r\n    }\r\n  ]\r\n\r\n  const { data, isLoading } = Digit.Hooks.events.useInbox(searchParams?.ulb?.code, {},\r\n    {\r\n      eventTypes: \"EVENTSONGROUND\", limit: pageSize,\r\n      offset: pageOffset,\r\n    },\r\n    {\r\n      select: (data) => ({ events: data?.events, totalCount: data?.totalCount })\r\n    });\r\n\r\n  const onSearch = (params) => {\r\n    let updatedParams = { ...params };\r\n    if (!params?.ulb) {\r\n      updatedParams = { ...params, ulb: { code: tenantId } }\r\n    }\r\n    setSearchParams({ ...searchParams, ...updatedParams });\r\n  }\r\n\r\n  const handleFilterChange = (data) => {\r\n    setSearchParams({ ...searchParams, ...data })\r\n  }\r\n\r\n  const globalSearch = (rows, columnIds) => {\r\n    // return rows;\r\n    return rows?.filter(row =>\r\n      (searchParams?.eventStatus?.length > 0 ? searchParams?.eventStatus?.includes(row.original?.status) : true) &&\r\n      (searchParams?.eventName ? row.original?.name?.toUpperCase().startsWith(searchParams?.eventName.toUpperCase()) : true) &&\r\n      (searchParams?.ulb?.code ? row.original.tenantId === searchParams?.ulb?.code : true) &&\r\n      (searchParams?.eventCategory ? row.original.eventCategory === searchParams?.eventCategory?.code : true) &&\r\n      (isValid(searchParams?.range?.startDate) ? row.original.eventDetails?.fromDate >= new Date(searchParams?.range?.startDate).getTime() : true) &&\r\n      (isValid(searchParams?.range?.endDate) ? row.original.eventDetails?.toDate <= new Date(searchParams?.range?.endDate).getTime() : true))\r\n  }\r\n\r\n  const fetchNextPage = useCallback(() => {\r\n    setPageOffset((prevPageOffSet) => ((parseInt(prevPageOffSet) + parseInt(pageSize))));\r\n  }, [pageSize])\r\n\r\n  const fetchPrevPage = useCallback(() => {\r\n    setPageOffset((prevPageOffSet) => ((parseInt(prevPageOffSet) - parseInt(pageSize))));\r\n  }, [pageSize])\r\n\r\n  const handlePageSizeChange = (e) => {\r\n    setPageSize((prevPageSize) => (e.target.value));\r\n  };\r\n\r\n\r\n\r\n  if (isMobile) {\r\n    return (\r\n      <MobileInbox\r\n        data={data?.events}\r\n        searchParams={searchParams}\r\n        searchFields={getSearchFields()}\r\n        t={t}\r\n        onFilterChange={handleFilterChange}\r\n        onSearch={onSearch}\r\n        isLoading={isLoading}\r\n        title={\"EVENTS_EVENTS_HEADER\"}\r\n        iconName={\"calender\"}\r\n        links={links}\r\n      />\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Header>\r\n        {t(\"EVENTS_EVENTS_HEADER\")}\r\n        {Number(data?.totalCount) ? <p className=\"inbox-count\">{Number(data?.totalCount)}</p> : null}\r\n      </Header>\r\n      <DesktopInbox\r\n        t={t}\r\n        data={data?.events}\r\n        links={links}\r\n        parentRoute={parentRoute}\r\n        searchParams={searchParams}\r\n        onSearch={onSearch}\r\n        globalSearch={globalSearch}\r\n        searchFields={getSearchFields()}\r\n        onFilterChange={handleFilterChange}\r\n        pageSizeLimit={pageSize}\r\n        totalRecords={data?.totalCount}\r\n        title={\"EVENTS_EVENTS_HEADER\"}\r\n        iconName={\"calender\"}\r\n        links={links}\r\n        currentPage={parseInt(pageOffset / pageSize)}\r\n        onNextPage={fetchNextPage}\r\n        onPrevPage={fetchPrevPage}\r\n        onPageSizeChange={handlePageSizeChange}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Inbox;","import React from \"react\";\r\nimport { Table } from \"@egovernments/digit-ui-react-components\";\r\n\r\nconst ApplicationTable = ({\r\n  t,\r\n  data,\r\n  columns,\r\n  globalSearch,\r\n  onSearch,\r\n  getCellProps,\r\n  pageSizeLimit,\r\n  totalRecords,\r\n  currentPage,\r\n  onNextPage,\r\n  onPrevPage,\r\n  onPageSizeChange,\r\n\r\n}) => {\r\n  return (\r\n    <Table\r\n      t={t}\r\n      data={data}\r\n      columns={columns}\r\n      onSearch={onSearch}\r\n      globalSearch={globalSearch}\r\n      manualGlobalFilter={true}\r\n      manualPagination={true}\r\n      pageSizeLimit={pageSizeLimit}\r\n      getCellProps={getCellProps}\r\n      totalRecords={totalRecords}\r\n      currentPage={currentPage}\r\n      onNextPage={onNextPage}\r\n      onPrevPage={onPrevPage}\r\n      onPageSizeChange={onPageSizeChange}\r\n\r\n    />\r\n  )\r\n}\r\n\r\nexport default ApplicationTable;","import { Dropdown } from \"@egovernments/digit-ui-react-components\";\r\nimport React from \"react\";\r\n\r\nconst DropdownUlb = ({ ulb, onAssignmentChange, value, t }) => {\r\n  return (\r\n    <Dropdown option={ulb} optionKey=\"code\" selected={value} select={onAssignmentChange} t={t} />\r\n  )\r\n}\r\n\r\nexport default DropdownUlb; ","import React, {useCallback} from \"react\";\r\nimport { useForm, Controller } from \"react-hook-form\";\r\nimport { TextInput, Label, SubmitBar, LinkLabel, ActionBar, CloseSvg, DatePicker, DateRange } from \"@egovernments/digit-ui-react-components\";\r\nimport DropdownUlb from \"./DropdownUlb\";\r\nimport { alphabeticalSortFunctionForTenantsBasedOnName } from \"../../utils\";\r\n\r\nconst Search = ({ onSearch, searchParams, searchFields, type, onClose, isInboxPage, t }) => {\r\n  const { register, handleSubmit, formState, reset, watch, control } = useForm({\r\n    defaultValues: searchParams,\r\n  });\r\n  const mobileView = innerWidth <= 640;\r\n  const ulbs = Digit.SessionStorage.get(\"ENGAGEMENT_TENANTS\");\r\n  const userInfo = Digit.UserService.getUser().info;\r\n  const userUlbs = ulbs.filter(ulb => userInfo?.roles?.some(role => role?.tenantId === ulb?.code)).sort(alphabeticalSortFunctionForTenantsBasedOnName);\r\n\r\n  const getFields = (input) => {\r\n    switch (input.type) {\r\n      case \"ulb\":\r\n        return (\r\n          <Controller\r\n            rules={{ required: true }}\r\n            render={props => (\r\n              <DropdownUlb\r\n                onAssignmentChange={props.onChange}\r\n                value={props.value}\r\n                ulb={userUlbs}\r\n                t={t}\r\n              />\r\n            )}\r\n            name={input.name}\r\n            control={control}\r\n            defaultValue={null}\r\n          />\r\n        )\r\n\r\n      case \"range\":\r\n        return (\r\n          <Controller\r\n            render={({value, onChange}) =>{             \r\n              return <DateRange t={t} values={value} onFilterChange={(value)=> onChange(value.range)} labelClass=\"filter-label\" />\r\n            }}\r\n            name={input.name}\r\n            control={control}\r\n            defaultValue={null}\r\n          />\r\n\r\n        )\r\n\r\n      default:\r\n        return (\r\n          <Controller\r\n            render={(props) => <TextInput onChange={props.onChange} value={props.value} />}\r\n            name={input.name}\r\n            control={control}\r\n            defaultValue={null}\r\n          />\r\n        )\r\n    }\r\n  }\r\n\r\n  const onSubmitInput = (data) => {\r\n    // searchFields.forEach((field) => {\r\n    //   if (!data[field.name]) data.delete.push(field.name);\r\n    // });\r\n\r\n    onSearch(data);\r\n    if (type === \"mobile\") {\r\n      onClose();\r\n    }\r\n  }\r\n\r\n  const clearSearch = () => {\r\n    reset({ ulb: null, name: '', });\r\n    onSearch({ ulb: null, name: '' })\r\n  };\r\n\r\n  const clearAll = (mobileView) => {\r\n    const mobileViewStyles = mobileView ? { margin: 0 } : {};\r\n    return (\r\n      <LinkLabel style={{ display: \"inline\", ...mobileViewStyles }} onClick={clearSearch}>\r\n        {t(\"ES_COMMON_CLEAR_SEARCH\")}\r\n      </LinkLabel>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit(onSubmitInput)}>\r\n      <div className=\"search-container\" style={{ width: \"auto\", marginLeft: isInboxPage ? \"24px\" : \"revert\" }}>\r\n        <div className=\"search-complaint-container\">\r\n          {(type === \"mobile\" || mobileView) && (\r\n            <div className=\"complaint-header\">\r\n              <h2>{t(\"ES_COMMON_SEARCH_BY\")}</h2>\r\n              <span onClick={onClose}>\r\n                <CloseSvg />\r\n              </span>\r\n            </div>\r\n          )}\r\n          <div className={\"complaint-input-container for-pt \" + (!isInboxPage ? \"for-search\" : \"\")} style={{ width: \"100%\" }}>\r\n            {searchFields\r\n              ?.map((input, index) => (\r\n                <div key={input.name} className=\"input-fields\">\r\n                  {/* <span className={index === 0 ? \"complaint-input\" : \"mobile-input\"}> */}\r\n                  <span className={\"mobile-input\"}>\r\n                    <Label>{t(input.label) + ` ${input.isMendatory ? \"*\" : \"\"}`}</Label>\r\n                    {getFields(input)}\r\n                  </span>\r\n                  {formState?.dirtyFields?.[input.name] ? (\r\n                    <span\r\n                      style={{ fontWeight: \"700\", color: \"rgba(212, 53, 28)\", paddingLeft: \"8px\", marginTop: \"-20px\", fontSize: \"12px\" }}\r\n                      className=\"inbox-search-form-error\"\r\n                    >\r\n                      {formState?.errors?.[input.name]?.message}\r\n                    </span>\r\n                  ) : null}\r\n                </div>\r\n              ))}\r\n\r\n            {/* {isInboxPage && ( */}\r\n            {/* // <div style={{ gridColumn: \"2/3\", textAlign: \"right\", paddingTop: \"10px\" }} className=\"input-fields\"> */}\r\n            {/* <div>{clearAll()}</div> */}\r\n            {/* // </div> */}\r\n            {/* )} */}\r\n\r\n            {type === \"desktop\" && !mobileView && (\r\n                <div style={{ maxWidth: \"unset\", marginLeft: \"unset\", marginTop: \"55px\"}} className=\"search-submit-wrapper\">\r\n                  <SubmitBar\r\n                    className=\"submit-bar-search\"\r\n                    label={t(\"ES_COMMON_SEARCH\")}\r\n                    // disabled={!!Object.keys(formState.errors).length || formValueEmpty()}\r\n                    submit\r\n                  />\r\n                  {/* style={{ paddingTop: \"16px\", textAlign: \"center\" }} className=\"clear-search\" */}\r\n                  <div>{clearAll()}</div>\r\n                </div>\r\n              )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {(type === \"mobile\" || mobileView) && (\r\n        <ActionBar className=\"clear-search-container\">\r\n          <button className=\"clear-search\" style={{ flex: 1 }}>\r\n            {clearAll(mobileView)}\r\n          </button>\r\n          <SubmitBar disabled={!!Object.keys(formState.errors).length} label={t(\"ES_COMMON_SEARCH\")} style={{ flex: 1 }} submit={true} />\r\n        </ActionBar>\r\n      )}\r\n    </form>\r\n  )\r\n\r\n}\r\n\r\nexport default Search;","import React from \"react\";\r\nimport { Card, DocumentIcon, PMBIcon } from \"@egovernments/digit-ui-react-components\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst EventLink = ({ title = \"CS_HEADER_PUBLIC_BRDCST\", links, icon = 'calender' }) => {\r\n  const { t } = useTranslation();\r\n\r\n  const GetLogo = () => (\r\n    <div className=\"header\" style={{ justifyContent: \"flex-start\" }}>\r\n      <span className=\"logo\" style={{ backgroundColor: \"#fff\" }}>\r\n      <PMBIcon/>\r\n      </span>\r\n      {\" \"}\r\n      <span className=\"text\">{t(title)}</span>\r\n    </div>\r\n  );\r\n  \r\nreturn (\r\n  <Card className=\"employeeCard filter inboxLinks\">\r\n    <div className=\"complaint-links-container\">\r\n      {GetLogo()}\r\n      <div className=\"body\">\r\n        {links.map(({ link, text, hyperlink = false, accessTo = [] }, index) => {\r\n          return (\r\n            <span className=\"link\" key={index}>\r\n              {hyperlink ? <a href={link}>{text}</a> : <Link to={link}>{text}</Link>}\r\n            </span>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  </Card>\r\n)\r\n};\r\n\r\nexport default EventLink;","import React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { CheckBox } from \"@egovernments/digit-ui-react-components\";\r\n\r\nconst StatusCount = ({ status, onAssignmentChange, searchParams }) => {\r\n  const { t } = useTranslation();\r\n\r\n  return (\r\n    <CheckBox\r\n      onChange={(e) => onAssignmentChange(e, status)}\r\n      checked={searchParams?.eventStatus?.filter(event => event === status)?.length > 0 ? true : false}\r\n      label={t(status)}\r\n      pageType={'employee'}\r\n    />\r\n  )\r\n}\r\n\r\nexport default StatusCount; ","import React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport StatusCount from \"./StatusCount\";\r\n\r\nconst statuses = [\r\n  \"ACTIVE\",\r\n  \"INACTIVE\"\r\n]\r\n\r\nconst Status = ({ onAssignmentChange, searchParams }) => {\r\n  const { t } = useTranslation();\r\n\r\n  return (\r\n    <div className=\"status-container\">\r\n      <div className=\"filter-label\">{t(\"ES_INBOX_STATUS\")}</div>\r\n      {statuses?.map((status, key) => (\r\n        <StatusCount key={key} status={status} onAssignmentChange={onAssignmentChange} searchParams={searchParams} />\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Status; ","import React, { useCallback, useState } from \"react\";\r\nimport { ActionBar, RemoveableTag, CloseSvg, Loader, DateRange, Localities, ApplyFilterBar, SubmitBar, Dropdown, RefreshIcon } from \"@egovernments/digit-ui-react-components\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport Status from \"./Status\";\r\n\r\nconst Filter = ({ type = \"desktop\", onClose, onSearch, onFilterChange, searchParams }) => {\r\n  const { t } = useTranslation();\r\n  const [localSearchParams, setLocalSearchParams] = useState(() => ({ ...searchParams }));\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const state = tenantId?.split('.')[0];\r\n  const { isLoading, data } = Digit.Hooks.useCommonMDMS(state, \"mseva\", [\"EventCategories\"]);\r\n\r\n  const clearAll = () => {\r\n    setLocalSearchParams({ eventCategory: null, eventStatus: [], range: { startDate: null, endDate: new Date(\"\"), title: \"\" } })\r\n    onFilterChange({ eventCategory: null, eventStatus: [], range: { startDate: null, endDate: new Date(\"\"), title: \"\" } });\r\n    onClose?.();\r\n  };\r\n\r\n  const applyLocalFilters = () => {\r\n    onFilterChange(localSearchParams);\r\n    onClose?.();\r\n  };\r\n  const handleChange = useCallback((data) => {\r\n    setLocalSearchParams((prevLocalSearchParams) => ({ ...prevLocalSearchParams, ...data }));\r\n  },[])\r\n\r\n  const onStatusChange = (e, type) => {\r\n    if (e.target.checked) handleChange({ eventStatus: [...(localSearchParams?.eventStatus || []), type] })\r\n    else handleChange({ eventStatus: localSearchParams?.eventStatus?.filter(status => status !== type) })\r\n  }\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <Loader />\r\n    );\r\n  }\r\n  return (\r\n    <div className=\"filter\">\r\n      <div className=\"filter-card\">\r\n        <div className=\"heading\">\r\n          <div className=\"filter-label\">{t(\"ES_COMMON_FILTER_BY\")}:</div>\r\n          <div className=\"clearAll\" onClick={clearAll}>\r\n            {t(\"ES_COMMON_CLEAR_ALL\")}\r\n          </div>\r\n          {type === \"desktop\" && (\r\n            <span className=\"clear-search\" onClick={clearAll}>\r\n              <RefreshIcon />\r\n            </span>\r\n          )}\r\n          {type === \"mobile\" && (\r\n            <span onClick={onClose}>\r\n              <CloseSvg />\r\n            </span>\r\n          )}\r\n        </div>\r\n        {/* <div className=\"filter-label\">{`${t(`EVENTS_CATEGORY_LABEL`)}`}</div> */}\r\n        {/* <Dropdown option={data?.mseva?.EventCategories} optionKey=\"code\" t={t} selected={localSearchParams?.eventCategory} select={val => handleChange({ eventCategory: val })} /> */}\r\n        <DateRange t={t} values={localSearchParams?.range} onFilterChange={handleChange} labelClass=\"filter-label\" />\r\n        <div>\r\n          <Status onAssignmentChange={onStatusChange} searchParams={localSearchParams} />\r\n        </div>\r\n        <div>\r\n          <SubmitBar style={{ width: '100%' }} onSubmit={() => applyLocalFilters()} label={t(\"ES_COMMON_APPLY\")} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter;","import React from \"react\";\r\nimport { format } from \"date-fns\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Loader } from \"@egovernments/digit-ui-react-components\";\r\nimport ApplicationTable from \"./ApplicationTable\";\r\nimport Search from \"./Search\";\r\nimport EventLink from \"./EventLink\";\r\nimport Filter from \"./Filter\";\r\n\r\nconst GetCell = (value) => <span className=\"\">{value}</span>;\r\n\r\nconst GetStatusCell = (value) => value === \"Active\" ? <span className=\"sla-cell-success\">{value}</span> : <span className=\"sla-cell-error\">{value}</span> \r\n\r\nconst DesktopInbox = ({ isLoading, data, t, onSearch, parentRoute, title, iconName, links, globalSearch, searchFields, searchParams, onFilterChange, pageSizeLimit, totalRecords, currentPage, onNextPage, onPrevPage, onPageSizeChange }) => {\r\n  const columns = React.useMemo(() => {\r\n    return [\r\n      {\r\n        Header: t(\"EVENTS_MESSAGE_LABEL\"),\r\n        accessor: \"name\",\r\n        Cell: ({ row }) => {\r\n         \r\n          return (\r\n            <div>\r\n              <span className=\"link\">\r\n                <Link to={`${parentRoute}/messages/inbox/details/${row.original.id}`}>{row.original[\"name\"]}</Link>\r\n              </span>\r\n            </div>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        Header: t(\"EVENTS_POSTING_DATE_LABEL\"),\r\n        accessor: (row) => row?.auditDetails?.createdTime ? GetCell(format(new Date(row?.auditDetails?.createdTime), 'dd/MM/yyyy')) : \"\",\r\n      },\r\n      {\r\n        Header: t(\"EVENTS_START_DATE_LABEL\"),\r\n        accessor: (row) => row?.eventDetails?.fromDate ? GetCell(format(new Date(row?.eventDetails?.fromDate), 'dd/MM/yyyy')) : \"\",\r\n      },\r\n      {\r\n        Header: t(\"EVENTS_END_DATE_LABEL\"),\r\n        accessor: (row) => row?.eventDetails?.toDate ? GetCell(format(new Date(row?.eventDetails?.toDate), \"dd/MM/yyyy\")) : \"\",\r\n      },\r\n      {\r\n        Header: t(\"EVENTS_POSTEDBY_LABEL\"),\r\n        accessor: row => GetCell(row?.user?.name || \"\")\r\n      },\r\n      {\r\n        Header: t(\"EVENTS_STATUS_LABEL\"),\r\n        accessor: row => GetStatusCell(t(row?.status)),\r\n      }\r\n    ]\r\n  })\r\n\r\n  let result;\r\n \r\n  if (isLoading) {\r\n    result = <Loader />\r\n  } else if (data?.length > 0) {\r\n    result = <ApplicationTable\r\n      t={t}\r\n      data={data}\r\n      columns={columns}\r\n      globalSearch={globalSearch}\r\n      onSearch={searchParams}\r\n      pageSizeLimit={pageSizeLimit}\r\n      totalRecords={totalRecords}\r\n      currentPage={currentPage}\r\n      onNextPage={onNextPage}\r\n      onPrevPage={onPrevPage}\r\n      onPageSizeChange={onPageSizeChange}\r\n      getCellProps={(cellInfo) => {\r\n        return {\r\n          style: {\r\n            minWidth: cellInfo.column.Header === t(\"ES_INBOX_APPLICATION_NO\") ? \"240px\" : \"\",\r\n            padding: \"20px 18px\",\r\n            fontSize: \"16px\",\r\n          },\r\n        };\r\n      }}\r\n    />\r\n  }\r\n\r\n  return (\r\n    <div className=\"inbox-container\">\r\n      <div className=\"filters-container\">\r\n      <EventLink title={title} icon={iconName} links={links} />\r\n        <div>\r\n          <Filter onFilterChange={onFilterChange} searchParams={searchParams} />\r\n        </div>\r\n      </div>\r\n      <div style={{ flex: 1 }}>\r\n        <Search\r\n          t={t}\r\n          onSearch={onSearch}\r\n          type=\"desktop\"\r\n          searchFields={searchFields}\r\n          isInboxPage={true}\r\n          searchParams={searchParams}\r\n        />\r\n        <div className=\"result\" style={{ marginLeft: \"24px\", flex: 1 }}>\r\n          {result}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DesktopInbox;","import React, { useState, useEffect } from \"react\";\r\nimport { Card, DetailsCard, Loader, PopUp, SearchAction, FilterAction } from \"@egovernments/digit-ui-react-components\";\r\nimport Filter from \"./Filter\";\r\nimport Search from \"./Search\";\r\nimport { areEqual } from \"../../utils\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n\r\nconst ApplicationCard = ({\r\n  searchFields,\r\n  searchParams,\r\n  onFilterChange,\r\n  onSearch,\r\n  t,\r\n  data,\r\n  responseData\r\n}) => {\r\n  const [type, setType] = useState(\"\");\r\n  const [popup, setPopup] = useState(false);\r\n  const [params, setParams] = useState(searchParams);\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const history = useHistory()\r\n  useEffect(() => {\r\n    if (type) setPopup(true);\r\n  }, [type]);\r\n\r\n  const selectParams = (param) => {\r\n    setParams((o) => ({ ...o, ...param }));\r\n  };\r\n\r\n  const handlePopupClose = () => {\r\n    setPopup(false);\r\n    setParams(searchParams);\r\n  };\r\n\r\n  const redirectToDetailsPage = (data) => {\r\n\r\n    const details = responseData?.find((item) => (areEqual(item?.user?.name, data[\"Posted By\"]) && areEqual(item.name, data[\"Title\"])));\r\n    if (details) {\r\n      history.push(`/digit-ui/employee/engagement/messages/inbox/details/${details?.id  }`,)}\r\n  }\r\n\r\n  let result;\r\n  if (data?.length === 0) {\r\n    result = (\r\n      <Card style={{ marginTop: 20 }}>\r\n        {t(\"ES_NO_PUBLIC_MESSAGES\")\r\n          .split(\"\\\\n\")\r\n          .map((text, index) => (\r\n            <p key={index} style={{ textAlign: \"center\" }}>\r\n              {text}\r\n            </p>\r\n          ))}\r\n      </Card>\r\n    );\r\n  }\r\n  else if (data && data?.length > 0) {\r\n    result = <DetailsCard data={data} handleSelect={() => { }} handleDetailCardClick={redirectToDetailsPage}/>\r\n  }\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"searchBox\">\r\n        {onSearch && (\r\n          <SearchAction\r\n            text=\"SEARCH\"\r\n            handleActionClick={() => {\r\n              setType(\"SEARCH\");\r\n              setPopup(true);\r\n            }}\r\n          />\r\n        )}\r\n        <FilterAction\r\n          text=\"FILTER\"\r\n          handleActionClick={() => {\r\n            setType(\"FILTER\");\r\n            setPopup(true);\r\n          }}\r\n        />\r\n      </div>\r\n      {result}\r\n      {popup && (\r\n        <PopUp>\r\n          {type === \"FILTER\" && (\r\n            <div className=\"popup-module\">\r\n              {\r\n                <Filter\r\n                  onFilterChange={onFilterChange}\r\n                  onClose={handlePopupClose}\r\n                  onSearch={onSearch}\r\n                  type=\"mobile\"\r\n                  searchParams={params}\r\n                />\r\n              }\r\n            </div>\r\n          )}\r\n          {type === \"SEARCH\" && (\r\n            <div className=\"popup-module\">\r\n              <Search\r\n                t={t}\r\n                type=\"mobile\"\r\n                onClose={handlePopupClose}\r\n                onSearch={onSearch}\r\n                searchParams={searchParams}\r\n                searchFields={searchFields}\r\n              />\r\n            </div>\r\n          )}\r\n        </PopUp>\r\n      )}\r\n    </React.Fragment>\r\n  )\r\n};\r\n\r\nexport default ApplicationCard;","import React from \"react\";\r\nimport { format, isValid } from \"date-fns\";\r\nimport ApplicationCard from \"./ApplicationCard\";\r\nimport EventLink from \"./EventLink\";\r\n\r\nconst GetStatusCell = (value) => value === \"Active\" ? <span className=\"sla-cell-success\">{value}</span> : <span className=\"sla-cell-error\">{value}</span> \r\n\r\nconst MobileInbox = ({ data, t, title, iconName, links, searchFields, searchParams, onFilterChange, onSearch, isLoading }) => {\r\n  const getData = () => {\r\n    return data?.\r\n    filter(event =>\r\n      (searchParams?.eventStatus?.length > 0 ? searchParams?.eventStatus?.includes(event.status) : true) &&\r\n      (searchParams?.eventName ? event.name?.toUpperCase().startsWith(searchParams?.eventName?.toUpperCase()) : true) &&\r\n      (searchParams?.ulb?.code ? event.tenantId === searchParams?.ulb?.code : true) &&\r\n      (searchParams?.eventCategory ? event.eventCategory === searchParams?.eventCategory?.code : true) &&\r\n      (isValid(searchParams?.range?.startDate) ? event.eventDetails?.fromDate >= new Date(searchParams?.range?.startDate).getTime() : true) &&\r\n      (isValid(searchParams?.range?.endDate) ? event.eventDetails?.toDate <= new Date(searchParams?.range?.endDate).getTime() : true))\r\n    .map((event) => {\r\n      return {\r\n        [t(\"PUBLIC_BRDCST_TITLE_LABEL\")]: event?.name,\r\n        [t(\"EVENTS_POSTING_DATE_LABEL\")]: format(new Date(event?.auditDetails?.createdTime), 'dd/MM/yyyy'),\r\n        [t(\"EVENTS_START_DATE_LABEL\")]: format(new Date(event?.eventDetails?.fromDate), 'dd/MM/yyyy'),\r\n        [t(\"EVENTS_END_DATE_LABEL\")]: format(new Date(event?.eventDetails?.toDate), 'dd/MM/yyyy'),\r\n        [t(\"EVENTS_POSTEDBY_LABEL\")]: event?.user?.name,\r\n        [t(\"EVENTS_STATUS_LABEL\")]: GetStatusCell(t(event?.status))\r\n      }\r\n    })\r\n  }\r\n  return (\r\n    <div style={{ padding: 0 }}>\r\n      <div className=\"inbox-container\">\r\n        <div className=\"filters-container\">\r\n          {/* {!isFstpOperator && !isSearch && <ApplicationLinks linkPrefix={parentRoute} isMobile={true} />} */}\r\n          <EventLink title={title} icon={iconName} links={links} />\r\n          <ApplicationCard\r\n            t={t}\r\n            data={getData()}\r\n            onFilterChange={onFilterChange}\r\n            // serviceRequestIdKey={isFstpOperator ? t(\"ES_INBOX_VEHICLE_LOG\") : DSO ? t(\"ES_INBOX_APPLICATION_NO\") : t(\"ES_INBOX_APPLICATION_NO\")}\r\n            // isFstpOperator={isFstpOperator}\r\n            isLoading={isLoading}\r\n            // isSearch={isSearch}\r\n            onSearch={onSearch}\r\n            // onSort={onSort}\r\n            searchParams={searchParams}\r\n            searchFields={searchFields}\r\n            responseData={data}\r\n            // linkPrefix={linkPrefix}\r\n            // removeParam={removeParam}\r\n            // sortParams={sortParams}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default MobileInbox;","import React, { useState, useCallback } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { format, isValid } from \"date-fns\";\r\nimport { Header } from \"@egovernments/digit-ui-react-components\";\r\nimport DesktopInbox from \"../../../components/Messages/DesktopInbox\";\r\nimport MobileInbox from \"../../../components/Messages/MobileInbox\";\r\n\r\nconst Inbox = ({ tenants, parentRoute }) => {\r\n  const { t } = useTranslation()\r\n  Digit.SessionStorage.set(\"ENGAGEMENT_TENANTS\", tenants);\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const [pageSize, setPageSize] = useState(10);\r\n  const [pageOffset, setPageOffset] = useState(0);\r\n  const [searchParams, setSearchParams] = useState({\r\n    eventStatus: [],\r\n    name: '',\r\n    range: {\r\n      startDate: null,\r\n      endDate: new Date(\"\"),\r\n      title: \"\"\r\n    },\r\n    ulb: tenants?.find(tenant => tenant?.code === tenantId)\r\n  });\r\n  let isMobile = window.Digit.Utils.browser.isMobile();\r\n  const { data, isLoading } = Digit.Hooks.events.useInbox(searchParams?.ulb?.code, {},\r\n    {\r\n      status: \"ACTIVE,INACTIVE\", eventTypes: \"BROADCAST\", limit: pageSize,\r\n      offset: pageOffset,\r\n    },\r\n    {\r\n      select: (data) => ({ events: data?.events, totalCount: data?.totalCount })\r\n    });\r\n\r\n  const onSearch = (params) => {\r\n    let updatedParams = { ...params };\r\n    if (!params?.ulb) {\r\n      updatedParams = { ...params, ulb: { code: tenantId } }\r\n    }\r\n    setSearchParams((prevParams) => ({ ...prevParams, ...updatedParams }));\r\n  }\r\n\r\n  const handleFilterChange = (data) => {\r\n    setSearchParams((prevParams) => ({ ...prevParams, ...data }))\r\n  }\r\n\r\n  const globalSearch = (rows, columnIds) => {\r\n    // return rows;\r\n    return rows?.filter(row =>\r\n      (searchParams?.eventStatus?.length > 0 ? searchParams?.eventStatus?.includes(row.original?.status) : true) &&\r\n      (searchParams?.name ? row.original?.name?.toUpperCase().startsWith(searchParams?.name.toUpperCase()) : true) &&\r\n      (searchParams?.ulb?.code ? row.original.tenantId === searchParams?.ulb?.code : true) &&\r\n      (searchParams?.eventCategory ? row.original.eventCategory === searchParams?.eventCategory?.code : true) &&\r\n      (isValid(searchParams?.range?.startDate) ? row.original.eventDetails?.fromDate >= new Date(searchParams?.range?.startDate).getTime() : true) &&\r\n      (isValid(searchParams?.range?.endDate) ? row.original.eventDetails?.toDate <= new Date(searchParams?.range?.endDate).getTime() : true))\r\n  }\r\n\r\n  const getSearchFields = () => {\r\n    return [\r\n      {\r\n        label: t(\"EVENTS_ULB_LABEL\"),\r\n        name: \"ulb\",\r\n        type: \"ulb\",\r\n      },\r\n      /* {\r\n        name: \"range\",\r\n        type: \"range\"\r\n      }, */\r\n      {\r\n        label: t(\"EVENTS_MESSAGE_LABEL\"),\r\n        name: \"name\"\r\n      }\r\n    ]\r\n  }\r\n\r\n  const links = [\r\n    {\r\n      text: t(\"NEW_PUBLIC_MESSAGE_BUTTON_LABEL\"),\r\n      link: \"/digit-ui/employee/engagement/messages/inbox/create\",\r\n    }\r\n  ]\r\n\r\n  const fetchNextPage = useCallback(() => {\r\n    setPageOffset((prevPageOffSet) => ((parseInt(prevPageOffSet) + parseInt(pageSize))));\r\n  }, [pageSize])\r\n\r\n  const fetchPrevPage = useCallback(() => {\r\n    setPageOffset((prevPageOffSet) => ((parseInt(prevPageOffSet) - parseInt(pageSize))));\r\n  }, [pageSize])\r\n\r\n  const handlePageSizeChange = (e) => {\r\n    setPageSize((prevPageSize) => (e.target.value));\r\n  };\r\n\r\n  if (isMobile) {\r\n    return (\r\n      <MobileInbox\r\n        data={data?.events}\r\n        searchParams={searchParams}\r\n        searchFields={getSearchFields()}\r\n        t={t}\r\n        onFilterChange={handleFilterChange}\r\n        onSearch={onSearch}\r\n        isLoading={isLoading}\r\n        title={\"EVENTS_PUBLIC_MESSAGE_NOTICE_HEADER\"}\r\n        iconName={\"calender\"}\r\n        links={links}\r\n      />\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Header>\r\n        {t(\"EVENTS_PUBLIC_MESSAGE_NOTICE_HEADER\")}\r\n        {Number(data?.length) ? <p className=\"inbox-count\">{Number(data?.length)}</p> : null}\r\n      </Header>\r\n      <DesktopInbox\r\n        t={t}\r\n        data={data?.events}\r\n        links={links}\r\n        parentRoute={parentRoute}\r\n        searchParams={searchParams}\r\n        onSearch={onSearch}\r\n        globalSearch={globalSearch}\r\n        searchFields={getSearchFields()}\r\n        onFilterChange={handleFilterChange}\r\n        pageSizeLimit={pageSize}\r\n        totalRecords={data?.totalCount}\r\n        currentPage={parseInt(pageOffset / pageSize)}\r\n        onNextPage={fetchNextPage}\r\n        onPrevPage={fetchPrevPage}\r\n        onPageSizeChange={handlePageSizeChange}\r\n        title={\"EVENTS_PUBLIC_MESSAGE_NOTICE_HEADER\"}\r\n        links={links}\r\n        isLoading={isLoading}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Inbox;","export const config = [\r\n  {\r\n    head: \"\",\r\n    body: [\r\n      {\r\n        type: \"form\",\r\n        withoutLabel: true,\r\n        component: \"MessageForm\",\r\n        nextStep: \"\",\r\n        route: \"\",\r\n        key: \"messageData\",\r\n      },\r\n      // {\r\n      //   type: \"text\",\r\n      //   label: \"EVENTS_DESCRIPTION_LABEL\",\r\n      //   isMandatory: true,\r\n      //   description: \"EVENTS_DESCRIPTION_TEXT\",\r\n      //   populators: {\r\n      //     name: \"description\",\r\n      //     className: \"fullWidth\",\r\n      //     validation: {\r\n      //       required: true,\r\n      //       maxLength: 500,\r\n      //     },\r\n      //     error: 'EVENTS_DESCRIPTION_ERROR_REQUIRED',\r\n      //   },\r\n      // },\r\n      // {\r\n      //   type: \"date\",\r\n      //   label: \"EVENTS_FROM_DATE_LABEL\",\r\n      //   isMandatory: true,\r\n      //   populators: {\r\n      //     name: \"fromDate\",\r\n      //     className: \"fullWidth\",\r\n      //     validation: {\r\n      //       required: true,\r\n      //     },\r\n      //     shouldUpdate: true,\r\n      //     error: \"EVENTS_FROM_DATE_ERROR_INVALID\",\r\n      //   },\r\n      // },\r\n      // {\r\n      //   type: \"form\",\r\n      //   key: \"SelectToDate\",\r\n      //   withoutLabel: true,\r\n      //   component: \"SelectToDate\",\r\n      //   key: \"toDate\",\r\n      // },\r\n      // {\r\n      //   type: \"time\",\r\n      //   label: \"EVENTS_FROM_TIME_LABEL\",\r\n      //   isMandatory: true,\r\n      //   populators: {\r\n      //     name: \"fromTime\",\r\n      //     className: \"fullWidth\",\r\n      //     validation: {\r\n      //       required: true,\r\n      //     },\r\n      //     error: \"EVENTS_FROM_TIME_ERROR_REQUIRED\",\r\n      //   },\r\n      // },\r\n      // {\r\n      //   type: \"time\",\r\n      //   label: \"EVENTS_TO_TIME_LABEL\",\r\n      //   isMandatory: true,\r\n      //   populators: {\r\n      //     name: \"toTime\",\r\n      //     className: \"fullWidth\",\r\n      //     validation: {\r\n      //       required: true,\r\n      //     },\r\n      //     error: \"EVENTS_TO_TIME_ERROR_REQUIRED\",\r\n      //   },\r\n      // },\r\n      // {\r\n      //   type: \"text\",\r\n      //   label: \"EVENTS_ADDRESS_LABEL\",\r\n      //   isMandatory: true,\r\n      //   populators: {\r\n      //     name: \"address\",\r\n      //     className: \"fullWidth\",\r\n      //     validation: {\r\n      //       required: true,\r\n      //     },\r\n      //     error: \"EVENTS_ADDRESS_ERROR_REQUIRED\",\r\n      //   },\r\n      // },\r\n      // {\r\n      //   type: \"component\",\r\n      //   component: \"SelectEventGeolocation\",\r\n      //   withoutLabel: true,\r\n      //   key: \"geoLocation\",\r\n      // },\r\n      // {\r\n      //   type: \"text\",\r\n      //   label: \"EVENTS_ORGANIZER_NAME_LABEL\",\r\n      //   populators: {\r\n      //     name: \"organizer\",\r\n      //     className: \"fullWidth\",\r\n      //     validation: {\r\n      //       pattern: /^[A-Za-z ]*$/,\r\n      //     },\r\n      //     error: \"EVENTS_ORGANIZER_ERROR\",\r\n      //   }\r\n      // },\r\n      // {\r\n      //   type: \"number\",\r\n      //   label: \"EVENTS_ENTRY_FEE_INR_LABEL\",\r\n      //   populators: {\r\n      //     name: \"fees\",\r\n      //     className: \"fullWidth\",\r\n      //     error: \"EVENTS_ENTRY_ERROR_REQUIRED\",\r\n      //   }\r\n      // },\r\n    ]\r\n  }\r\n] ","import { FormComposer, Header } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { Fragment, useEffect } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { convertDateToMaximumPossibleValue } from \"../../../../utils\";\r\nimport { config } from \"../../../../config/NewMessageConfig\";\r\n\r\n\r\n\r\nconst NewEvents = () => {\r\n  const { t } = useTranslation();\r\n  const history = useHistory();\r\n  const [mutationHappened, setMutationHappened, clear] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_MSG_MUTATION_HAPPENED\", false);\r\n  const [errorInfo, setErrorInfo, clearError] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_MSG_ERROR_DATA\", false);\r\n  const [successData, setsuccessData, clearSuccessData] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_MSG_MUTATION_SUCCESS_DATA\", false);\r\n\r\n  useEffect(() => {\r\n    setMutationHappened(false);\r\n    clearSuccessData();\r\n    clearError();\r\n  }, []);\r\n  const onSubmit = (data) => {\r\n    const { fromDate, toDate, description, name, documents } = data;\r\n    const details = {\r\n      events: [\r\n        {\r\n          recepient: null,\r\n          source: \"WEBAPP\",\r\n          eventType: \"BROADCAST\",\r\n          tenantId: data?.tenantId?.code,\r\n          description,\r\n          name,\r\n          eventDetails: {\r\n            documents,\r\n            fromDate: convertDateToMaximumPossibleValue(new Date(`${fromDate}`))?.getTime(),\r\n            toDate: convertDateToMaximumPossibleValue(new Date(`${toDate}`))?.getTime(),\r\n          }\r\n        }\r\n      ]\r\n    }\r\n    history.push(\"/digit-ui/employee/engagement/messages/response\", details)\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <Header>{t(\"ADD_NEW_PUBLIC_MESSAGE\")}</Header>\r\n      <FormComposer\r\n        config={config}\r\n        onSubmit={onSubmit}\r\n        label={t(\"ACTION_ADD_NEW_MESSAGE\")}\r\n      >\r\n      </FormComposer>\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default NewEvents;","import { ActionBar, Banner, Card, CardText, Loader, SubmitBar } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useQueryClient } from \"react-query\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst BannerPicker = (props) => {\r\n  const { t } = useTranslation();\r\n  return (\r\n    <Banner\r\n      message={t(props.message)}\r\n      applicationNumber={props?.data?.events?.[0]?.name}\r\n      //info={t(`MESSAGE_ADD_SUCCESS_MESSAGE_MAIN`)}\r\n      successful={props.isSuccess}\r\n    />\r\n  )\r\n}\r\n\r\nconst Response = (props) => {\r\n  const queryClient = useQueryClient();\r\n  const { t } = useTranslation();\r\n  const searchParams = Digit.Hooks.useQueryParams();\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const mutation = Digit.Hooks.events.useCreateEvent();\r\n  const updateEventMutation = Digit.Hooks.events.useUpdateEvent();\r\n  const { state } = props.location;\r\n  const [mutationHappened, setMutationHappened, clear] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_MSG_MUTATION_HAPPENED\", false);\r\n  const [successData, setsuccessData, clearSuccessData] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_MSG_MUTATION_SUCCESS_DATA\", false);\r\n  const [errorInfo, setErrorInfo, clearError] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_MSG_ERROR_DATA\", false);\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    if (updateEventMutation.data) setsuccessData(updateEventMutation.data);\r\n  }, [updateEventMutation.data]);\r\n\r\n\r\n  useEffect(() => {\r\n    if (mutation.data) setsuccessData(mutation.data);\r\n  }, [mutation.data]);\r\n\r\n  const onError = (error, variables) => {\r\n    setErrorInfo(error?.response?.data?.Errors[0]?.code || 'ERROR');\r\n    setMutationHappened(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const onSuccess = () => {\r\n      setMutationHappened(true);\r\n      queryClient.clear();\r\n    }\r\n    if (!mutationHappened) {\r\n      if (Boolean(searchParams?.delete) || Boolean(searchParams?.update)) {\r\n        updateEventMutation.mutate(state, {\r\n          onError,\r\n          onSuccess,\r\n        });\r\n        return;\r\n      }\r\n      mutation.mutate(state, {\r\n        onError,\r\n        onSuccess,\r\n      })\r\n    }\r\n  }, []);\r\n\r\n  if (searchParams?.delete || searchParams?.update) {\r\n    if (updateEventMutation.isLoading || (updateEventMutation.isIdle && !mutationHappened)) {\r\n      return <Loader />\r\n    }\r\n    return (\r\n      <Card>\r\n        <BannerPicker\r\n          t={t}\r\n          message={searchParams?.update ? (updateEventMutation.isSuccess || successData) ? 'ENGAGEMENT_PUBLIC_BRDCST_UPDATED' : 'ENG_PUBLIC_BRDCST_UPDATION_FAILED' : (updateEventMutation.isSuccess || successData) ? 'ENGAGEMENT_PUBLIC_BRDCST_DELETED' : 'ENGAGEMENT_PUBLIC_BRDCST_DELETION_FAILED'}\r\n          data={updateEventMutation.data || successData}\r\n          isSuccess={updateEventMutation?.isSuccess || successData}\r\n          isLoading={(updateEventMutation.isIdle && !mutationHappened) || updateEventMutation.isLoading}\r\n        />\r\n        <CardText>\r\n          {searchParams?.update ? t(`ENGAGEMENT_PUBLIC_BRDCST_MESSAGES`) : t(`ENGAGEMENT_PUBLIC_BRDCST_MESSAGES`)}\r\n        </CardText>\r\n        <ActionBar>\r\n          <Link to={\"/digit-ui/employee\"}>\r\n            <SubmitBar label={t(\"CORE_COMMON_GO_TO_HOME\")} />\r\n          </Link>\r\n        </ActionBar>\r\n      </Card>\r\n    )\r\n  }\r\n\r\n  if (mutation.isLoading || (mutation.isIdle && !mutationHappened)) {\r\n    return <Loader />\r\n  }\r\n  return (\r\n    <Card>\r\n      <BannerPicker\r\n        t={t}\r\n        message={mutation.isSuccess || successData ? `ENGAGEMENT_BROADCAST_MESSAGE_CREATED` : `ENGAGEMENT_BROADCAST_MESSAGE_FAILED`}\r\n        data={mutation.data || successData}\r\n        isSuccess={mutation.isSuccess || successData}\r\n        isLoading={(mutation.isIdle && !mutationHappened) || mutation.isLoading}\r\n      />\r\n      <ActionBar>\r\n        <Link to={\"/digit-ui/employee\"}>\r\n          <SubmitBar label={t(\"CORE_COMMON_GO_TO_HOME\")} />\r\n        </Link>\r\n      </ActionBar>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default Response;","import { FormComposer, Header, Loader } from \"@egovernments/digit-ui-react-components\";\r\nimport { format } from 'date-fns';\r\nimport React, { Fragment, useEffect, useMemo } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { handleTodaysDate, isNestedArray, reduceDocsArray } from \"../../../utils\";\r\nimport { config } from \"../../../config/NewMessageConfig\";\r\n\r\nconst EditMessage = () => {\r\n  const { t } = useTranslation();\r\n  const history = useHistory();\r\n  const { id: MessageId } = useParams();\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const { isLoading, data } = Digit.Hooks.events.useInbox(tenantId, {},\r\n    {\r\n      eventTypes: \"BROADCAST\",\r\n      ids: MessageId\r\n    },\r\n    {\r\n      select: (data) => data?.events?.[0]\r\n    });\r\n  const [mutationHappened, setMutationHappened, clear] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_MSG_MUTATION_HAPPENED\", false);\r\n  const [errorInfo, setErrorInfo, clearError] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_MSG_ERROR_DATA\", false);\r\n  const [successData, setsuccessData, clearSuccessData] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_MSG_MUTATION_SUCCESS_DATA\", false);\r\n\r\n  useEffect(() => {\r\n    setMutationHappened(false);\r\n    clearSuccessData();\r\n    clearError();\r\n  }, []);\r\n\r\n  const onSubmit = (formData) => {\r\n    const { fromDate, toDate, description, name, documents } = formData;\r\n\r\n\r\n    const finalDocuments = isNestedArray(documents) ? reduceDocsArray(documents) : documents;\r\n\r\n    const details = {\r\n      events: [\r\n        {\r\n          ...data,\r\n          source: \"WEBAPP\",\r\n          status: \"ACTIVE\",\r\n          eventType: \"BROADCAST\",\r\n          tenantId: formData?.tenantId?.code,\r\n          description,\r\n          name,\r\n          eventDetails: {\r\n            documents: finalDocuments,\r\n            fromDate: handleTodaysDate(`${fromDate}`),\r\n            toDate: handleTodaysDate(`${toDate}`),\r\n          }\r\n        }\r\n      ]\r\n    }\r\n    history.push(\"/digit-ui/employee/engagement/messages/response?update=true\", details)\r\n  }\r\n\r\n  const defaultValues = useMemo(() => {\r\n    const documents = data?.eventDetails?.documents\r\n    return {\r\n      name: data?.name,\r\n      description: data?.description,\r\n      documents: documents?.map(e => [e.fileName, { file: { name: e.fileName, type: e.documentType }, fileStoreId: { fileStoreId: e.fileStoreId, tenantId } }]),\r\n      fromDate: data ? format(new Date(data?.eventDetails?.fromDate), 'yyyy-MM-dd') : null,\r\n      toDate: data ? format(new Date(data?.eventDetails?.toDate), 'yyyy-MM-dd') : null,\r\n    }\r\n  }, [data])\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <Loader />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <Header>{t(\"EDIT_NEW_PUBLIC_MESSAGE\")}</Header>\r\n      <FormComposer\r\n        defaultValues={defaultValues}\r\n        config={config}\r\n        onSubmit={onSubmit}\r\n        label={t(\"ACTION_EDIT_MESSAGE\")}\r\n      >\r\n      </FormComposer>\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default EditMessage;","import { Dropdown, UploadFile } from \"@egovernments/digit-ui-react-components\";\r\nimport React from \"react\";\r\n\r\nexport const configPTApproverApplication = ({\r\n  t,\r\n  action,\r\n  approvers,\r\n  selectedApprover,\r\n  setSelectedApprover,\r\n  selectFile,\r\n  uploadedFile,\r\n  setUploadedFile,\r\n  assigneeLabel,\r\n  businessService,\r\n}) => {\r\n  return {\r\n    label: {\r\n      heading: `WF_${action?.action}_APPLICATION`,\r\n      submit: `WF_${businessService}_${action?.action}`,\r\n      cancel: \"ES_PT_COMMON_CANCEL\",\r\n    },\r\n    form: [\r\n      {\r\n        body: [\r\n          {\r\n            label: action.isTerminateState || action?.action === \"SENDBACKTOCITIZEN\" ? null : t(assigneeLabel || `WF_ROLE_${action.assigneeRoles?.[0]}`),\r\n            // isMandatory: !action.isTerminateState,\r\n            type: \"dropdown\",\r\n            populators: action.isTerminateState || action?.action === \"SENDBACKTOCITIZEN\" ? null : (\r\n              <Dropdown\r\n                option={approvers}\r\n                autoComplete=\"off\"\r\n                optionKey=\"name\"\r\n                id=\"fieldInspector\"\r\n                select={setSelectedApprover}\r\n                selected={selectedApprover}\r\n              />\r\n            ),\r\n          },\r\n          {\r\n            label: t(\"ES_PT_ACTION_COMMENTS\"),\r\n            type: \"textarea\",\r\n            populators: {\r\n              name: \"comments\",\r\n            },\r\n          },\r\n          {\r\n            label: `${t(\"ES_PT_ATTACH_FILE\")}${action.docUploadRequired ? \" *\" : \"\"}`,\r\n            populators: (\r\n              <UploadFile\r\n                id={\"workflow-doc\"}\r\n                onUpload={selectFile}\r\n                onDelete={() => {\r\n                  setUploadedFile(null);\r\n                }}\r\n                showHint={true}\r\n                hintText={t(\"PT_ATTACH_RESTRICTIONS_SIZE\")}\r\n                message={uploadedFile ? `1 ${t(`ES_PT_ACTION_FILEUPLOADED`)}` : t(`ES_PT_ACTION_NO_FILEUPLOADED`)}\r\n              />\r\n            ),\r\n          },\r\n        ],\r\n      },\r\n    ],\r\n  };\r\n};\r\n","import React from \"react\";\r\nimport { RadioButtons } from \"@egovernments/digit-ui-react-components\";\r\n\r\nexport const configPTAssessProperty = ({ t, action, financialYears, selectedFinancialYear, setSelectedFinancialYear }) => {\r\n  return {\r\n    label: {\r\n      heading: `WF_${action.action}_APPLICATION`,\r\n      submit: `WF_PT.CREATE_${action.action}`,\r\n      cancel: \"ES_PT_COMMON_CANCEL\",\r\n    },\r\n    form: [\r\n      {\r\n        body: [\r\n          {\r\n            label: t(\"ES_PT_FINANCIAL_YEARS\"),\r\n            isMandatory: true,\r\n            type: \"radio\",\r\n            populators: (\r\n              <RadioButtons options={financialYears} optionsKey=\"name\" onSelect={setSelectedFinancialYear} selectedOption={selectedFinancialYear} />\r\n            ),\r\n          },\r\n        ],\r\n      },\r\n    ],\r\n  };\r\n};\r\n","import { Dropdown, UploadFile } from \"@egovernments/digit-ui-react-components\";\r\nimport React from \"react\";\r\n\r\nexport const configTLApproverApplication = ({\r\n  t,\r\n  action,\r\n  approvers,\r\n  selectedApprover,\r\n  setSelectedApprover,\r\n  selectFile,\r\n  uploadedFile,\r\n  setUploadedFile,\r\n  assigneeLabel,\r\n  businessService,\r\n}) => {\r\n  let checkCondtions = true;\r\n  if (action?.action == \"SENDBACKTOCITIZEN\" || action?.action == \"APPROVE\") checkCondtions = false;\r\n  if (action.isTerminateState) checkCondtions = false;\r\n\r\n  return {\r\n    label: {\r\n      heading: `WF_${action?.action}_APPLICATION`,\r\n      submit: `WF_${businessService?.toUpperCase()}_${action?.action}`,\r\n      cancel: \"WF_EMPLOYEE_NEWTL_CANCEL\",\r\n    },\r\n    form: [\r\n      {\r\n        body: [\r\n          {\r\n            label: !checkCondtions ? null : t(\"WF_ASSIGNEE_NAME_LABEL\"),\r\n            placeholder: !checkCondtions ? null : t(\"WF_ASSIGNEE_NAME_PLACEHOLDER\"),\r\n            // isMandatory: false,\r\n            type: \"dropdown\",\r\n            populators: !checkCondtions ? null : (\r\n              <Dropdown\r\n                option={approvers}\r\n                autoComplete=\"off\"\r\n                optionKey=\"name\"\r\n                id=\"fieldInspector\"\r\n                select={setSelectedApprover}\r\n                selected={selectedApprover}\r\n              />\r\n            ),\r\n          },\r\n          {\r\n            label: t(\"WF_COMMON_COMMENTS\"),\r\n            type: \"textarea\",\r\n            populators: {\r\n              name: \"comments\",\r\n            },\r\n          },\r\n          {\r\n            label: t(\"TL_APPROVAL_CHECKLIST_BUTTON_UP_FILE\"),\r\n            populators: (\r\n              <UploadFile\r\n                id={\"workflow-doc\"}\r\n                // accept=\".jpg\"\r\n                onUpload={selectFile}\r\n                onDelete={() => {\r\n                  setUploadedFile(null);\r\n                }}\r\n                message={uploadedFile ? `1 ${t(`ES_PT_ACTION_FILEUPLOADED`)}` : t(`CS_ACTION_NO_FILEUPLOADED`)}\r\n              />\r\n            )\r\n          },\r\n          //   {\r\n          //     label: action.docUploadRequired ? t(\"ES_PT_UPLOAD_FILE\") : null,\r\n          //     populators: action.docUploadRequired ? (\r\n          //       <UploadFile\r\n          //         // accept=\".jpg\"\r\n          //         onUpload={selectFile}\r\n          //         onDelete={() => {\r\n          //           setUploadedFile(null);\r\n          //         }}\r\n          //         message={uploadedFile ? `1 ${t(`ES_PT_ACTION_FILEUPLOADED`)}` : t(`ES_PT_ACTION_NO_FILEUPLOADED`)}\r\n          //       />\r\n          //     ) : null,\r\n          //   },\r\n        ],\r\n      },\r\n    ],\r\n  };\r\n};\r\n","import { Dropdown, UploadFile } from \"@egovernments/digit-ui-react-components\";\r\nimport React from \"react\";\r\n\r\nexport const configBPAREGApproverApplication = ({\r\n    t,\r\n    action,\r\n    approvers,\r\n    selectedApprover,\r\n    setSelectedApprover,\r\n    selectFile,\r\n    uploadedFile,\r\n    setUploadedFile,\r\n    assigneeLabel,\r\n    businessService,\r\n    error\r\n}) => {\r\n    let checkCondtions = true;\r\n    if (action?.action == \"SENDBACKTOCITIZEN\") checkCondtions = false;\r\n    if (action.isTerminateState) checkCondtions = false;\r\n\r\n    return {\r\n        label: {\r\n            heading: `WF_${action?.action}_APPLICATION`,\r\n            submit: `WF_${businessService?.toUpperCase()}_${action?.action}`,\r\n            cancel: \"WF_EMPLOYEE_BPAREG_CANCEL\",\r\n        },\r\n        form: [\r\n            {\r\n                body: [\r\n                    {\r\n                        label: !checkCondtions ? null : t(\"WF_ASSIGNEE_NAME_LABEL\"),\r\n                        placeholder: !checkCondtions ? null : t(\"WF_ASSIGNEE_NAME_PLACEHOLDER\"),\r\n                        type: \"dropdown\",\r\n                        populators: !checkCondtions ? null : (\r\n                            <Dropdown\r\n                                option={approvers}\r\n                                autoComplete=\"off\"\r\n                                optionKey=\"name\"\r\n                                id=\"fieldInspector\"\r\n                                select={setSelectedApprover}\r\n                                selected={selectedApprover}\r\n                            />\r\n                        ),\r\n                    },\r\n                    {\r\n                        label: t(\"WF_COMMON_COMMENTS\"),\r\n                        type: \"textarea\",\r\n                        populators: {\r\n                            name: \"comments\",\r\n                        },\r\n                    },\r\n                    {\r\n                        label: t(\"BPA_APPROVAL_CHECKLIST_BUTTON_UP_FILE\"),\r\n                        populators: (\r\n                            <UploadFile\r\n                                id={\"workflow-doc\"}\r\n                                onUpload={selectFile}\r\n                                onDelete={() => {\r\n                                    setUploadedFile(null);\r\n                                }}\r\n                                message={uploadedFile ? `1 ${t(`ES_PT_ACTION_FILEUPLOADED`)}` : t(`CS_ACTION_NO_FILEUPLOADED`)}\r\n                                accept= \"image/*, .pdf, .png, .jpeg, .jpg\"\r\n                                iserror={error}\r\n                            />\r\n                        )\r\n                    },\r\n                ],\r\n            },\r\n        ],\r\n    };\r\n};\r\n","import { Dropdown, UploadFile } from \"@egovernments/digit-ui-react-components\";\r\nimport React from \"react\";\r\n\r\nexport const configBPAApproverApplication = ({\r\n  t,\r\n  action,\r\n  approvers,\r\n  selectedApprover,\r\n  setSelectedApprover,\r\n  selectFile,\r\n  uploadedFile,\r\n  setUploadedFile,\r\n  assigneeLabel,\r\n  businessService,\r\n  error\r\n}) => {\r\n  let isRejectOrRevocate = false;\r\n  if(action?.action == \"REVOCATE\" || action?.action == \"REJECT\" || action.action == \"SKIP_PAYMENT\" || action?.action == \"SEND_BACK_TO_CITIZEN\" || action?.action == \"APPROVE\") {\r\n    isRejectOrRevocate = true;\r\n  }\r\n\r\n  let isCommentRequired = false;\r\n  if(action?.action == \"REVOCATE\" || action?.action == \"REJECT\") {\r\n    isCommentRequired = true;\r\n  }\r\n  \r\n  return {\r\n    label: {\r\n      heading: `WF_${action?.action}_APPLICATION`,\r\n      submit: `WF_${businessService}_${action?.action}`,\r\n      cancel: \"BPA_CITIZEN_CANCEL_BUTTON\",\r\n    },\r\n    form: [\r\n      {\r\n        body: [\r\n          {\r\n            label: action.isTerminateState || isRejectOrRevocate ? null : t(assigneeLabel || `WF_ROLE_${action.assigneeRoles?.[0]}`),\r\n            type: \"dropdown\",\r\n            populators: action.isTerminateState || isRejectOrRevocate ? null : (\r\n              <Dropdown\r\n                option={approvers}\r\n                autoComplete=\"off\"\r\n                optionKey=\"name\"\r\n                id=\"fieldInspector\"\r\n                select={setSelectedApprover}\r\n                selected={selectedApprover}\r\n              />\r\n            ),\r\n          },\r\n          {\r\n            label: t(\"WF_COMMON_COMMENTS\"),\r\n            type: \"textarea\",\r\n            isMandatory: isCommentRequired,\r\n            populators: {\r\n              name: \"comments\",\r\n            },\r\n          },\r\n          {\r\n            label: `${t(\"WF_APPROVAL_UPLOAD_HEAD\")}`,\r\n            populators: (\r\n              <UploadFile\r\n                id={\"workflow-doc\"}\r\n                onUpload={selectFile}\r\n                onDelete={() => {\r\n                  setUploadedFile(null);\r\n                }}\r\n                message={uploadedFile ? `1 ${t(`ES_PT_ACTION_FILEUPLOADED`)}` : t(`CS_ACTION_NO_FILEUPLOADED`)}\r\n                accept= \"image/*, .pdf, .png, .jpeg, .jpg\"\r\n                iserror={error}\r\n              />\r\n            ),\r\n          },\r\n        ],\r\n      },\r\n    ],\r\n  };\r\n};\r\n","import { Dropdown, UploadFile } from \"@egovernments/digit-ui-react-components\";\r\nimport React from \"react\";\r\n\r\nexport const configNOCApproverApplication = ({\r\n  t,\r\n  action,\r\n  approvers,\r\n  selectedApprover,\r\n  setSelectedApprover,\r\n  selectFile,\r\n  uploadedFile,\r\n  setUploadedFile,\r\n  assigneeLabel,\r\n  businessService,\r\n  error\r\n}) => {\r\n\r\n  let isCommentRequired = false;\r\n  if(action?.action == \"REVOCATE\" || action?.action == \"REJECT\") {\r\n    isCommentRequired = true;\r\n  }\r\n\r\n  let isRejectOrRevocate = false;\r\n  if(action?.action == \"APPROVE\" || action?.action == \"REJECT\" || action.action == \"AUTO_APPROVE\" || action.action == \"AUTO_REJECT\") {\r\n    isRejectOrRevocate = true;\r\n  }\r\n\r\n  return {\r\n    label: {\r\n      heading: `WF_${action?.action}_APPLICATION`,\r\n      submit: `WF_${businessService}_${action?.action}`,\r\n      cancel: \"CORE_LOGOUTPOPUP_CANCEL\",\r\n    },\r\n    form: [\r\n      {\r\n        body: [\r\n          {\r\n            label: action.isTerminateState || isRejectOrRevocate ? null : t(assigneeLabel || `WF_ROLE_${action.assigneeRoles?.[0]}`),\r\n            type: \"dropdown\",\r\n            populators: action.isTerminateState || isRejectOrRevocate ? null : (\r\n              <Dropdown\r\n                option={approvers}\r\n                autoComplete=\"off\"\r\n                optionKey=\"name\"\r\n                id=\"fieldInspector\"\r\n                select={setSelectedApprover}\r\n                selected={selectedApprover}\r\n              />\r\n            ),\r\n          },\r\n          {\r\n            label: t(\"WF_COMMON_COMMENTS\"),\r\n            type: \"textarea\",\r\n            isMandatory: isCommentRequired,\r\n            populators: {\r\n              name: \"comments\",\r\n            },\r\n          },\r\n          {\r\n            label: `${t(\"WF_APPROVAL_UPLOAD_HEAD\")}`,\r\n            populators: (\r\n              <UploadFile\r\n                id={\"workflow-doc\"}\r\n                onUpload={selectFile}\r\n                onDelete={() => {\r\n                  setUploadedFile(null);\r\n                }}\r\n                showHint={true}\r\n                message={uploadedFile ? `1 ${t(`ES_PT_ACTION_FILEUPLOADED`)}` : t(`CS_ACTION_NO_FILEUPLOADED`)}\r\n                accept= \"image/*, .pdf, .png, .jpeg, .jpg\"\r\n                iserror={error}\r\n              />\r\n            ),\r\n          },\r\n        ],\r\n      },\r\n    ],\r\n  };\r\n};","import { Loader, Modal, FormComposer } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useState, useEffect } from \"react\";\r\n\r\nimport { configPTRejectApplication, configPTVerifyApplication, configPTApproverApplication, configPTAssessProperty } from \"../config\";\r\nimport * as predefinedConfig from \"../config\";\r\n\r\nconst Heading = (props) => {\r\n  return <h1 className=\"heading-m\">{props.label}</h1>;\r\n};\r\n\r\nconst Close = () => (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"#FFFFFF\">\r\n    <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\r\n    <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z\" />\r\n  </svg>\r\n);\r\n\r\nconst CloseBtn = (props) => {\r\n  return (\r\n    <div className=\"icon-bg-secondary\" onClick={props.onClick}>\r\n      <Close />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ActionModal = ({ t, action, tenantId, state, id, closeModal, submitAction, actionData, applicationData, businessService, moduleCode }) => {\r\n  const { data: approverData, isLoading: PTALoading } = Digit.Hooks.useEmployeeSearch(\r\n    tenantId,\r\n    {\r\n      roles: action?.assigneeRoles?.map?.((e) => ({ code: e })),\r\n      isActive: true,\r\n    },\r\n    { enabled: !action?.isTerminateState }\r\n  );\r\n  const { isLoading: financialYearsLoading, data: financialYearsData } = Digit.Hooks.pt.useMDMS(\r\n    tenantId,\r\n    businessService,\r\n    \"FINANCIAL_YEARLS\",\r\n    {},\r\n    {\r\n      details: {\r\n        tenantId: Digit.ULBService.getStateId(),\r\n        moduleDetails: [{ moduleName: \"egf-master\", masterDetails: [{ name: \"FinancialYear\", filter: \"[?(@.module == 'PT')]\" }] }],\r\n      },\r\n    }\r\n  );\r\n\r\n  const [config, setConfig] = useState({});\r\n  const [defaultValues, setDefaultValues] = useState({});\r\n  const [approvers, setApprovers] = useState([]);\r\n  const [selectedApprover, setSelectedApprover] = useState(null);\r\n  const [file, setFile] = useState(null);\r\n  const [uploadedFile, setUploadedFile] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const [financialYears, setFinancialYears] = useState([]);\r\n  const [selectedFinancialYear, setSelectedFinancialYear] = useState(null);\r\n  const [disableActionSubmit, setDisableActionSubmit] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (financialYearsData && financialYearsData[\"egf-master\"]) {\r\n      setFinancialYears(financialYearsData[\"egf-master\"]?.[\"FinancialYear\"]);\r\n    }\r\n  }, [financialYearsData]);\r\n\r\n  useEffect(() => {\r\n    setApprovers(approverData?.Employees?.map((employee) => ({ uuid: employee?.uuid, name: employee?.user?.name })));\r\n  }, [approverData]);\r\n\r\n  function selectFile(e) {\r\n    setFile(e.target.files[0]);\r\n  }\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      setError(null);\r\n      if (file) {\r\n        if (file.size >= 5242880) {\r\n          setError(t(\"CS_MAXIMUM_UPLOAD_SIZE_EXCEEDED\"));\r\n        } else {\r\n          try {\r\n            const response = await Digit.UploadServices.Filestorage(\"PT\", file, Digit.ULBService.getStateId());\r\n            if (response?.data?.files?.length > 0) {\r\n              setUploadedFile(response?.data?.files[0]?.fileStoreId);\r\n            } else {\r\n              setError(t(\"CS_FILE_UPLOAD_ERROR\"));\r\n            }\r\n          } catch (err) {\r\n            setError(t(\"CS_FILE_UPLOAD_ERROR\"));\r\n          }\r\n        }\r\n      }\r\n    })();\r\n  }, [file]);\r\n\r\n  function submit(data) {\r\n    if (!action?.showFinancialYearsModal) {\r\n      let workflow = { action: action?.action, comments: data?.comments, businessService, moduleName: moduleCode };\r\n      workflow[\"assignes\"] = action?.isTerminateState || !selectedApprover ? [] : [selectedApprover];\r\n      if (uploadedFile)\r\n        workflow[\"documents\"] = [\r\n          {\r\n            documentType: action?.action + \" DOC\",\r\n            fileName: file?.name,\r\n            fileStoreId: uploadedFile,\r\n          },\r\n        ];\r\n\r\n      submitAction({\r\n        Property: {\r\n          ...applicationData,\r\n          workflow,\r\n        },\r\n      });\r\n    } else {\r\n      submitAction({\r\n        customFunctionToExecute: action?.customFunctionToExecute,\r\n        Assessment: {\r\n          financialYear: selectedFinancialYear?.name,\r\n          propertyId: applicationData?.propertyId,\r\n          tenantId,\r\n          source: applicationData?.source,\r\n          channel: applicationData?.channel,\r\n          assessmentDate: Date.now(),\r\n        },\r\n      });\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (action) {\r\n      if (action?.showFinancialYearsModal) {\r\n        setConfig(\r\n          configPTAssessProperty({\r\n            t,\r\n            action,\r\n            financialYears,\r\n            selectedFinancialYear,\r\n            setSelectedFinancialYear,\r\n          })\r\n        );\r\n      } else {\r\n        setConfig(\r\n          configPTApproverApplication({\r\n            t,\r\n            action,\r\n            approvers,\r\n            selectedApprover,\r\n            setSelectedApprover,\r\n            selectFile,\r\n            uploadedFile,\r\n            setUploadedFile,\r\n            businessService,\r\n          })\r\n        );\r\n      }\r\n    }\r\n  }, [action, approvers, financialYears, selectedFinancialYear, uploadedFile]);\r\n\r\n  return action && config.form ? (\r\n    <Modal\r\n      headerBarMain={<Heading label={t(config.label.heading)} />}\r\n      headerBarEnd={<CloseBtn onClick={closeModal} />}\r\n      actionCancelLabel={t(config.label.cancel)}\r\n      actionCancelOnSubmit={closeModal}\r\n      actionSaveLabel={t(config.label.submit)}\r\n      actionSaveOnSubmit={() => {}}\r\n      isDisabled={!action.showFinancialYearsModal ? PTALoading || (action?.docUploadRequired && !uploadedFile) : !selectedFinancialYear}\r\n      formId=\"modal-action\"\r\n    >\r\n      {financialYearsLoading ? (\r\n        <Loader />\r\n      ) : (\r\n        <FormComposer\r\n          config={config.form}\r\n          noBoxShadow\r\n          inline\r\n          childrenAtTheBottom\r\n          onSubmit={submit}\r\n          defaultValues={defaultValues}\r\n          formId=\"modal-action\"\r\n          // isDisabled={!action.showFinancialYearsModal ? PTALoading || (!action?.isTerminateState && !selectedApprover?.uuid) : !selectedFinancialYear}\r\n        />\r\n      )}\r\n    </Modal>\r\n  ) : (\r\n    <Loader />\r\n  );\r\n};\r\n\r\nexport default ActionModal;\r\n","import { Loader, Modal, FormComposer } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useState, useEffect } from \"react\";\r\n\r\nimport { configTLApproverApplication } from \"../config\";\r\nimport * as predefinedConfig from \"../config\";\r\n\r\nconst Heading = (props) => {\r\n  return <h1 className=\"heading-m\">{props.label}</h1>;\r\n};\r\n\r\nconst Close = () => (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"#FFFFFF\">\r\n    <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\r\n    <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z\" />\r\n  </svg>\r\n);\r\n\r\nconst CloseBtn = (props) => {\r\n  return (\r\n    <div className=\"icon-bg-secondary\" onClick={props.onClick}>\r\n      <Close />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ActionModal = ({ t, action, tenantId, state, id, closeModal, submitAction, actionData, applicationData, businessService, moduleCode }) => {\r\n  const { data: approverData, isLoading: PTALoading } = Digit.Hooks.useEmployeeSearch(\r\n    tenantId,\r\n    {\r\n      roles: action?.assigneeRoles?.map?.((e) => ({ code: e })),\r\n      isActive: true,\r\n    },\r\n    { enabled: !action?.isTerminateState }\r\n  );\r\n  const { isLoading: financialYearsLoading, data: financialYearsData } = Digit.Hooks.pt.useMDMS(\r\n    tenantId,\r\n    businessService,\r\n    \"FINANCIAL_YEARLS\",\r\n    {},\r\n    {\r\n      details: {\r\n        tenantId: Digit.ULBService.getStateId(),\r\n        moduleDetails: [{ moduleName: \"egf-master\", masterDetails: [{ name: \"FinancialYear\", filter: \"[?(@.module == 'TL')]\" }] }],\r\n      },\r\n    }\r\n  );\r\n\r\n  const [config, setConfig] = useState({});\r\n  const [defaultValues, setDefaultValues] = useState({});\r\n  const [approvers, setApprovers] = useState([]);\r\n  const [selectedApprover, setSelectedApprover] = useState({});\r\n  const [file, setFile] = useState(null);\r\n  const [uploadedFile, setUploadedFile] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const [financialYears, setFinancialYears] = useState([]);\r\n  const [selectedFinancialYear, setSelectedFinancialYear] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (financialYearsData && financialYearsData[\"egf-master\"]) {\r\n      setFinancialYears(financialYearsData[\"egf-master\"]?.[\"FinancialYear\"]);\r\n    }\r\n  }, [financialYearsData]);\r\n\r\n  useEffect(() => {\r\n    setApprovers(approverData?.Employees?.map((employee) => ({ uuid: employee?.uuid, name: employee?.user?.name })));\r\n  }, [approverData]);\r\n\r\n  function selectFile(e) {\r\n    setFile(e.target.files[0]);\r\n  }\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      setError(null);\r\n      if (file) {\r\n        if (file.size >= 5242880) {\r\n          setError(t(\"CS_MAXIMUM_UPLOAD_SIZE_EXCEEDED\"));\r\n        } else {\r\n          try {\r\n            const response = await Digit.UploadServices.Filestorage(\"PT\", file, Digit.ULBService.getStateId());\r\n            if (response?.data?.files?.length > 0) {\r\n              setUploadedFile(response?.data?.files[0]?.fileStoreId);\r\n            } else {\r\n              setError(t(\"CS_FILE_UPLOAD_ERROR\"));\r\n            }\r\n          } catch (err) {\r\n            setError(t(\"CS_FILE_UPLOAD_ERROR\"));\r\n          }\r\n        }\r\n      }\r\n    })();\r\n  }, [file]);\r\n\r\n  function submit(data) {\r\n    let workflow = { action: action?.action, comments: data?.comments, businessService, moduleName: moduleCode };\r\n    applicationData = {\r\n      ...applicationData,\r\n      action: action?.action,\r\n      comment: data?.comments,\r\n      assignee: !selectedApprover?.uuid ? null : [selectedApprover?.uuid],\r\n      // assignee: action?.isTerminateState ? [] : [selectedApprover?.uuid],\r\n      wfDocuments: uploadedFile\r\n        ? [\r\n            {\r\n              documentType: action?.action + \" DOC\",\r\n              fileName: file?.name,\r\n              fileStoreId: uploadedFile,\r\n            },\r\n          ]\r\n        : null,\r\n    };\r\n    submitAction({\r\n      Licenses: [applicationData],\r\n    });\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (action) {\r\n      setConfig(\r\n        configTLApproverApplication({\r\n          t,\r\n          action,\r\n          approvers,\r\n          selectedApprover,\r\n          setSelectedApprover,\r\n          selectFile,\r\n          uploadedFile,\r\n          setUploadedFile,\r\n          businessService,\r\n        })\r\n      );\r\n    }\r\n  }, [action, approvers, financialYears, selectedFinancialYear, uploadedFile]);\r\n\r\n  return action && config.form ? (\r\n    <Modal\r\n      headerBarMain={<Heading label={t(config.label.heading)} />}\r\n      headerBarEnd={<CloseBtn onClick={closeModal} />}\r\n      actionCancelLabel={t(config.label.cancel)}\r\n      actionCancelOnSubmit={closeModal}\r\n      actionSaveLabel={t(config.label.submit)}\r\n      actionSaveOnSubmit={() => {}}\r\n      // isDisabled={!action.showFinancialYearsModal ? PTALoading || (!action?.isTerminateState && !selectedApprover?.uuid) : !selectedFinancialYear}\r\n      formId=\"modal-action\"\r\n    >\r\n      {financialYearsLoading ? (\r\n        <Loader />\r\n      ) : (\r\n        <FormComposer\r\n          config={config.form}\r\n          noBoxShadow\r\n          inline\r\n          childrenAtTheBottom\r\n          onSubmit={submit}\r\n          defaultValues={defaultValues}\r\n          formId=\"modal-action\"\r\n          // isDisabled={!action.showFinancialYearsModal ? PTALoading || (!action?.isTerminateState && !selectedApprover?.uuid) : !selectedFinancialYear}\r\n        />\r\n      )}\r\n    </Modal>\r\n  ) : (\r\n    <Loader />\r\n  );\r\n};\r\n\r\nexport default ActionModal;\r\n","import { Loader, Modal, FormComposer } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { configBPAREGApproverApplication } from \"../config\";\r\nimport * as predefinedConfig from \"../config\";\r\n\r\nconst Heading = (props) => {\r\n  return <h1 style={{marginLeft:\"22px\"}} className=\"heading-m BPAheading-m\">{props.label}</h1>;\r\n};\r\n\r\nconst Close = () => (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"#FFFFFF\">\r\n    <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\r\n    <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z\" />\r\n  </svg>\r\n);\r\n\r\nconst CloseBtn = (props) => {\r\n  return (\r\n    <div className=\"icon-bg-secondary\" onClick={props.onClick}>\r\n      <Close />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ActionModal = ({ t, action, tenantId, state, id, closeModal, submitAction, actionData, applicationData, businessService, moduleCode }) => {\r\n  const { data: approverData, isLoading: PTALoading } = Digit.Hooks.useEmployeeSearch(\r\n    tenantId,\r\n    {\r\n      roles: action?.assigneeRoles?.map?.((e) => ({ code: e })),\r\n      isActive: true,\r\n    },\r\n    { enabled: !action?.isTerminateState }\r\n  );\r\n\r\n  const [config, setConfig] = useState({});\r\n  const [defaultValues, setDefaultValues] = useState({});\r\n  const [approvers, setApprovers] = useState([]);\r\n  const [selectedApprover, setSelectedApprover] = useState({});\r\n  const [file, setFile] = useState(null);\r\n  const [uploadedFile, setUploadedFile] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const mobileView = Digit.Utils.browser.isMobile() ? true : false;\r\n\r\n  useEffect(() => {\r\n    setApprovers(approverData?.Employees?.map((employee) => ({ uuid: employee?.uuid, name: employee?.user?.name })));\r\n  }, [approverData]);\r\n\r\n  function selectFile(e) {\r\n    setFile(e.target.files[0]);\r\n  }\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      setError(null);\r\n      if (file) {\r\n        const allowedFileTypesRegex = /(.*?)(jpg|jpeg|png|image|pdf)$/i\r\n        if (file.size >= 5242880) {\r\n          setError(t(\"CS_MAXIMUM_UPLOAD_SIZE_EXCEEDED\"));\r\n        } else if (file?.type && !allowedFileTypesRegex.test(file?.type)) {\r\n          setError(t(`NOT_SUPPORTED_FILE_TYPE`))\r\n        } else {\r\n          try {\r\n            const response = await Digit.UploadServices.Filestorage(\"OBPS\", file, Digit.ULBService.getStateId() || tenantId?.split(\".\")[0]);\r\n            if (response?.data?.files?.length > 0) {\r\n              setUploadedFile(response?.data?.files[0]?.fileStoreId);\r\n            } else {\r\n              setError(t(\"CS_FILE_UPLOAD_ERROR\"));\r\n            }\r\n          } catch (err) {\r\n            setError(t(\"CS_FILE_UPLOAD_ERROR\"));\r\n          }\r\n        }\r\n      }\r\n    })();\r\n  }, [file]);\r\n\r\n  function submit(data) {\r\n    let workflow = { action: action?.action, comments: data?.comments, businessService, moduleName: moduleCode };\r\n    applicationData = {\r\n      ...applicationData,\r\n      action: action?.action,\r\n      comment: data?.comments,\r\n      assignee: !selectedApprover?.uuid ? null : [selectedApprover?.uuid],\r\n      wfDocuments: uploadedFile\r\n        ? [\r\n          {\r\n            documentType: action?.action + \" DOC\",\r\n            fileName: file?.name,\r\n            fileStoreId: uploadedFile,\r\n          },\r\n        ]\r\n        : null,\r\n    };\r\n    submitAction({\r\n      Licenses: [applicationData],\r\n    }, false, {isStakeholder: true, bpa: false});\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (action) {\r\n      setConfig(\r\n        configBPAREGApproverApplication({\r\n          t,\r\n          action,\r\n          approvers,\r\n          selectedApprover,\r\n          setSelectedApprover,\r\n          selectFile,\r\n          uploadedFile,\r\n          setUploadedFile,\r\n          businessService,\r\n          error\r\n        })\r\n      );\r\n    }\r\n  }, [action, approvers, uploadedFile, error]);\r\n\r\n  return action && config.form ? (\r\n    <Modal\r\n      headerBarMain={<Heading label={t(config.label.heading)} />}\r\n      headerBarEnd={<CloseBtn onClick={closeModal} />}\r\n      actionCancelLabel={t(config.label.cancel)}\r\n      actionCancelOnSubmit={closeModal}\r\n      actionSaveLabel={t(config.label.submit)}\r\n      actionSaveOnSubmit={() => { }}\r\n      formId=\"modal-action\"\r\n      isOBPSFlow={true}\r\n      popupStyles={mobileView?{width:\"720px\"}:{}}\r\n      style={!mobileView?{height: \"45px\", width:\"107px\",paddingLeft:\"0px\",paddingRight:\"0px\"}:{height:\"45px\",width:\"44%\"}}\r\n      popupModuleMianStyles={mobileView?{paddingLeft:\"5px\"}: {}}\r\n    >\r\n      {PTALoading ? (\r\n        <Loader />\r\n      ) : (\r\n        <FormComposer\r\n          config={config.form}\r\n          cardStyle={{marginLeft:\"0px\",marginRight:\"0px\", marginTop:\"-25px\"}}\r\n          className=\"BPAemployeeCard\"\r\n          noBoxShadow\r\n          inline\r\n          childrenAtTheBottom\r\n          onSubmit={submit}\r\n          defaultValues={defaultValues}\r\n          formId=\"modal-action\"\r\n        />\r\n      )}\r\n    </Modal>\r\n  ) : (\r\n    <Loader />\r\n  );\r\n};\r\n\r\nexport default ActionModal;\r\n","import { Loader, Modal, FormComposer } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useQueryClient } from \"react-query\";\r\nimport { configBPAApproverApplication } from \"../config\";\r\nimport * as predefinedConfig from \"../config\";\r\n\r\nconst Heading = (props) => {\r\n  return <h1 style={{marginLeft:\"22px\"}} className=\"heading-m BPAheading-m\">{props.label}</h1>;\r\n};\r\n\r\nconst Close = () => (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"#FFFFFF\">\r\n    <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\r\n    <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z\" />\r\n  </svg>\r\n);\r\n\r\nconst CloseBtn = (props) => {\r\n  return (\r\n    <div className=\"icon-bg-secondary\" onClick={props.onClick}>\r\n      <Close />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ActionModal = ({ t, action, tenantId, state, id, closeModal, submitAction, actionData, applicationDetails, applicationData, businessService, moduleCode,workflowDetails }) => {\r\n  const mutation1 = Digit.Hooks.obps.useObpsAPI(\r\n      applicationData?.landInfo?.address?.city ? applicationData?.landInfo?.address?.city : tenantId,\r\n      false\r\n    );\r\n   const { data: approverData, isLoading: PTALoading } = Digit.Hooks.useEmployeeSearch(\r\n    tenantId,\r\n    {\r\n      roles: workflowDetails?.data?.initialActionState?.nextActions?.filter(ele=>ele?.action==action?.action)?.[0]?.assigneeRoles?.map(role=>({code:role})),\r\n      isActive: true,\r\n    },\r\n    { enabled: !action?.isTerminateState }\r\n  );\r\n\r\n  const queryClient = useQueryClient();\r\n  const [config, setConfig] = useState({});\r\n  const [defaultValues, setDefaultValues] = useState({});\r\n  const [approvers, setApprovers] = useState([]);\r\n  const [selectedApprover, setSelectedApprover] = useState({});\r\n  const [file, setFile] = useState(null);\r\n  const [uploadedFile, setUploadedFile] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const [selectedFinancialYear, setSelectedFinancialYear] = useState(null);\r\n  const mobileView = Digit.Utils.browser.isMobile() ? true : false;\r\n\r\n  useEffect(() => {\r\n    setApprovers(approverData?.Employees?.map((employee) => ({ uuid: employee?.uuid, name: employee?.user?.name })));\r\n  }, [approverData]);\r\n\r\n  function selectFile(e) {\r\n    setFile(e.target.files[0]);\r\n  }\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      setError(null);\r\n      if (file) {\r\n        const allowedFileTypesRegex = /(.*?)(jpg|jpeg|png|image|pdf)$/i\r\n        if (file.size >= 5242880) {\r\n          setError(t(\"CS_MAXIMUM_UPLOAD_SIZE_EXCEEDED\"));\r\n        } else if (file?.type && !allowedFileTypesRegex.test(file?.type)) {\r\n          setError(t(`NOT_SUPPORTED_FILE_TYPE`))\r\n        } else {\r\n          try {\r\n            const response = await Digit.UploadServices.Filestorage(\"OBPS\", file, Digit.ULBService.getStateId() || tenantId?.split(\".\")[0]);\r\n            if (response?.data?.files?.length > 0) {\r\n              setUploadedFile(response?.data?.files[0]?.fileStoreId);\r\n            } else {\r\n              setError(t(\"CS_FILE_UPLOAD_ERROR\"));\r\n            }\r\n          } catch (err) {\r\n            setError(t(\"CS_FILE_UPLOAD_ERROR\"));\r\n          }\r\n        }\r\n      }\r\n    })();\r\n  }, [file]);\r\n\r\n  const getInspectionDocs = (docs) => {\r\n    let refinedDocs = [];\r\n    docs && docs.map((doc,ind) => {\r\n      refinedDocs.push({\r\n        \"documentType\":(doc.documentType+\"_\"+doc.documentType.split(\"_\")[1]).replaceAll(\"_\",\".\"),\r\n        \"fileStoreId\":doc.fileStoreId,\r\n        \"fileStore\":doc.fileStoreId,\r\n        \"fileName\":\"\",\r\n        \"dropDownValues\": {\r\n          \"value\": (doc.documentType+\"_\"+doc.documentType.split(\"_\")[1]).replaceAll(\"_\",\".\"),\r\n      }\r\n      })\r\n    })\r\n    return refinedDocs;\r\n  }\r\n\r\n  const getQuestion = (data) => {\r\n    let refinedQues = [];\r\n    var i;\r\n    for(i=0; i<data?.questionLength; i++)\r\n    {\r\n      refinedQues.push({\r\n        \"remarks\": data[`Remarks_${i}`],\r\n        \"question\": data?.questionList[i].question,\r\n        \"value\": data?.[`question_${i}`]?.code,\r\n      })\r\n    }\r\n    return refinedQues;\r\n  }\r\n\r\n  const getfeildInspection = (data) => {\r\n    let formdata = [], inspectionOb = [];\r\n    \r\n    if (data?.additionalDetails?.fieldinspection_pending?.length > 0) {\r\n      inspectionOb = data?.additionalDetails?.fieldinspection_pending\r\n    }\r\n\r\n    if(data.status == \"FIELDINSPECTION_INPROGRESS\") {\r\n      formdata = JSON.parse(sessionStorage.getItem(\"INSPECTION_DATA\"));\r\n      formdata?.length > 0 && formdata.map((ob,ind) => {\r\n        inspectionOb.push({\r\n          docs: getInspectionDocs(ob.Documents),\r\n          date: ob.InspectionDate,\r\n          questions: getQuestion(ob),\r\n          time: ob?.InspectionTime,\r\n        })\r\n      })\r\n      inspectionOb = inspectionOb.filter((ob) => ob.docs && ob.docs.length>0);\r\n    } else {\r\n      sessionStorage.removeItem(\"INSPECTION_DATA\")\r\n    }\r\n  \r\n    let fieldinspection_pending = [ ...inspectionOb];\r\n    return fieldinspection_pending;\r\n  }\r\n\r\n  const getDocuments = (applicationData) => {\r\n    let documentsformdata = JSON.parse(sessionStorage.getItem(\"BPA_DOCUMENTS\"));\r\n    let documentList = [];\r\n    documentsformdata.map(doc => {\r\n      if(doc?.uploadedDocuments?.[0]?.values?.length > 0) documentList = [...documentList, ...doc?.uploadedDocuments?.[0]?.values];\r\n      if(doc?.newUploadedDocs?.length > 0) documentList = [...documentList, ...doc?.newUploadedDocs]\r\n    });\r\n    return documentList;\r\n  }\r\n\r\n  const getPendingApprovals = () => {\r\n    const approvals = Digit.SessionStorage.get(\"OBPS_APPROVAL_CHECKS\");\r\n    const newApprovals = Digit.SessionStorage.get(\"OBPS_NEW_APPROVALS\");\r\n    let result = approvals?.reduce((acc, approval) => approval?.checked ? acc.push(approval?.label) && acc : acc, []);\r\n    result = result?.concat(newApprovals !== null?newApprovals.filter(ob => ob.label !== \"\").map(approval => approval?.label):[]);\r\n    return result;\r\n  }\r\n\r\n\r\n  function submit(data) {\r\n    let workflow = { action: action?.action, comments: data?.comments, businessService, moduleName: moduleCode };\r\n    applicationData = {\r\n      ...applicationData,\r\n      documents: getDocuments(applicationData),\r\n      additionalDetails: {...applicationData?.additionalDetails, fieldinspection_pending:getfeildInspection(applicationData), pendingapproval: getPendingApprovals() },\r\n       workflow:{\r\n        action: action?.action,\r\n        comment: data?.comments?.length > 0 ? data?.comments : null,\r\n        comments: data?.comments?.length > 0 ? data?.comments : null,\r\n        assignee: !selectedApprover?.uuid ? null : [selectedApprover?.uuid],\r\n        assignes: !selectedApprover?.uuid ? null : [selectedApprover?.uuid],\r\n        varificationDocuments: uploadedFile\r\n        ? [\r\n          {\r\n            documentType: action?.action + \" DOC\",\r\n            fileName: file?.name,\r\n            fileStoreId: uploadedFile,\r\n          },\r\n        ]\r\n        : null,\r\n      },\r\n      action: action?.action,\r\n      comment: data?.comments,\r\n      assignee: !selectedApprover?.uuid ? null : [selectedApprover?.uuid],\r\n      wfDocuments: uploadedFile\r\n        ? [\r\n          {\r\n            documentType: action?.action + \" DOC\",\r\n            fileName: file?.name,\r\n            fileStoreId: uploadedFile,\r\n          },\r\n        ]\r\n        : null,\r\n    };\r\n\r\n    const nocDetails = applicationDetails?.nocData?.map(noc => {\r\n      const uploadedDocuments = Digit.SessionStorage.get(noc?.nocType) || [];\r\n      return {\r\n        Noc: {\r\n          ...noc,\r\n          documents: [\r\n            ...(noc?.documents?noc?.documents:[]),\r\n            ...(uploadedDocuments?uploadedDocuments:[])\r\n          ]\r\n        }\r\n      }\r\n    })\r\n\r\n    let nocData = [];\r\n    if (nocDetails) {\r\n      nocDetails.map(noc => {\r\n        if (\r\n            noc?.Noc?.applicationStatus?.toUpperCase() != \"APPROVED\" &&\r\n            noc?.Noc?.applicationStatus?.toUpperCase() != \"AUTO_APPROVED\" &&\r\n            noc?.Noc?.applicationStatus?.toUpperCase() != \"REJECTED\" &&\r\n            noc?.Noc?.applicationStatus?.toUpperCase() != \"AUTO_REJECTED\" &&\r\n            noc?.Noc?.applicationStatus?.toUpperCase() != \"VOIDED\"\r\n          ) {\r\n            nocData.push(noc);\r\n          }\r\n      })\r\n    }\r\n\r\n    submitAction({\r\n      BPA:applicationData\r\n    }, nocData?.length > 0 ? nocData : false, {isStakeholder: false, bpa: true});\r\n  }\r\n\r\n\r\n  useEffect(() => {\r\n    if (action) {\r\n      setConfig(\r\n        configBPAApproverApplication({\r\n          t,\r\n          action,\r\n          approvers,\r\n          selectedApprover,\r\n          setSelectedApprover,\r\n          selectFile,\r\n          uploadedFile,\r\n          setUploadedFile,\r\n          businessService,\r\n          assigneeLabel: \"WF_ASSIGNEE_NAME_LABEL\",\r\n          error\r\n        })\r\n      );\r\n    }\r\n  }, [action, approvers, selectedFinancialYear, uploadedFile, error]);\r\n\r\n  return action && config.form ? (\r\n    <Modal\r\n      headerBarMain={<Heading label={t(config.label.heading)} />}\r\n      headerBarEnd={<CloseBtn onClick={closeModal} />}\r\n      actionCancelLabel={t(config.label.cancel)}\r\n      actionCancelOnSubmit={closeModal}\r\n      actionSaveLabel={t(config.label.submit)}\r\n      actionSaveOnSubmit={() => { }}\r\n      formId=\"modal-action\"\r\n      isOBPSFlow={true}\r\n      popupStyles={mobileView?{width:\"720px\"}:{}}\r\n      style={!mobileView?{minHeight: \"45px\", height: \"auto\", width:\"107px\",paddingLeft:\"0px\",paddingRight:\"0px\"}:{minHeight: \"45px\", height: \"auto\",width:\"44%\"}}\r\n      popupModuleMianStyles={mobileView?{paddingLeft:\"5px\"}: {}}\r\n    >\r\n      {PTALoading ? (\r\n        <Loader />\r\n      ) : (\r\n        <FormComposer\r\n          config={config.form}\r\n          cardStyle={{marginLeft:\"0px\",marginRight:\"0px\", marginTop:\"-25px\"}}\r\n          className=\"BPAemployeeCard\"\r\n          noBoxShadow\r\n          inline\r\n          childrenAtTheBottom\r\n          onSubmit={submit}\r\n          defaultValues={defaultValues}\r\n          formId=\"modal-action\"\r\n        />\r\n      )}\r\n    </Modal>\r\n  ) : (\r\n    <Loader />\r\n  );\r\n};\r\n\r\nexport default ActionModal;\r\n","import { Loader, Modal, FormComposer } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useQueryClient } from \"react-query\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { configNOCApproverApplication } from \"../config\";\r\nimport * as predefinedConfig from \"../config\";\r\n\r\nconst Heading = (props) => {\r\n  return <h1 style={{marginLeft:\"22px\"}} className=\"heading-m BPAheading-m\">{props.label}</h1>;\r\n};\r\n\r\nconst Close = () => (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"#FFFFFF\">\r\n    <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\r\n    <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z\" />\r\n  </svg>\r\n);\r\n\r\nconst CloseBtn = (props) => {\r\n  return (\r\n    <div className=\"icon-bg-secondary\" onClick={props.onClick}>\r\n      <Close />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ActionModal = ({ t, action, tenantId, state, id, closeModal, submitAction, actionData, applicationData, businessService, moduleCode }) => {\r\n \r\n  const { data: approverData, isLoading: PTALoading } = Digit.Hooks.useEmployeeSearch(\r\n    tenantId,\r\n    {\r\n      roles: action?.assigneeRoles?.map?.((e) => ({ code: e })),\r\n      isActive: true,\r\n    },\r\n    { enabled: !action?.isTerminateState }\r\n  );\r\n\r\n  const queryClient = useQueryClient();\r\n  const [config, setConfig] = useState({});\r\n  const [defaultValues, setDefaultValues] = useState({});\r\n  const [approvers, setApprovers] = useState([]);\r\n  const [selectedApprover, setSelectedApprover] = useState({});\r\n  const [file, setFile] = useState(null);\r\n  const [uploadedFile, setUploadedFile] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const mobileView = Digit.Utils.browser.isMobile() ? true : false;\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    setApprovers(approverData?.Employees?.map((employee) => ({ uuid: employee?.uuid, name: employee?.user?.name })));\r\n  }, [approverData]);\r\n\r\n  function selectFile(e) {\r\n    setFile(e.target.files[0]);\r\n  }\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      setError(null);\r\n      if (file) {\r\n        const allowedFileTypesRegex = /(.*?)(jpg|jpeg|png|image|pdf)$/i\r\n        if (file.size >= 5242880) {\r\n          setError(t(\"CS_MAXIMUM_UPLOAD_SIZE_EXCEEDED\"));\r\n        } else if (file?.type && !allowedFileTypesRegex.test(file?.type)) {\r\n          setError(t(`NOT_SUPPORTED_FILE_TYPE`))\r\n        } else {\r\n          try {\r\n            const response = await Digit.UploadServices.Filestorage(\"NOC\", file, Digit.ULBService.getStateId() || tenantId?.split(\".\")[0]);\r\n            if (response?.data?.files?.length > 0) {\r\n              setUploadedFile(response?.data?.files[0]?.fileStoreId);\r\n            } else {\r\n              setError(t(\"CS_FILE_UPLOAD_ERROR\"));\r\n            }\r\n          } catch (err) {\r\n            setError(t(\"CS_FILE_UPLOAD_ERROR\"));\r\n          }\r\n        }\r\n      }\r\n    })();\r\n  }, [file]);\r\n\r\n\r\n  function submit(data) {\r\n      let enteredDocs = JSON.parse(sessionStorage.getItem(\"NewNOCDocs\"));\r\n      let newDocs = applicationData?.documents?.length > 0 ? [...applicationData?.documents] : [];\r\n        enteredDocs.map((d,index) => {\r\n            newDocs.push(d);\r\n        })\r\n    applicationData = {\r\n      ...applicationData,\r\n       workflow:{\r\n        action: action?.action,\r\n        comment: data?.comments ? data?.comments : null,\r\n        assignee: !selectedApprover?.uuid ? null : [selectedApprover?.uuid],\r\n        documents: uploadedFile\r\n        ? [\r\n          {\r\n            documentType: action?.action + \" DOC\",\r\n            fileName: file?.name,\r\n            fileStoreId: uploadedFile,\r\n          },\r\n        ]\r\n        : null,\r\n      },\r\n      documents: newDocs,\r\n    };\r\n\r\n\r\n    submitAction({\r\n      Noc: applicationData,\r\n    }, false, {isNoc: true});\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (action) {\r\n      setConfig(\r\n        configNOCApproverApplication({\r\n          t,\r\n          action,\r\n          approvers,\r\n          selectedApprover,\r\n          setSelectedApprover,\r\n          selectFile,\r\n          uploadedFile,\r\n          setUploadedFile,\r\n          businessService,\r\n          assigneeLabel: \"WF_ASSIGNEE_NAME_LABEL\",\r\n          error\r\n        })\r\n      );\r\n    }\r\n  }, [action, approvers, uploadedFile, error]);\r\n\r\n  return action && config.form ? (\r\n    <Modal\r\n      headerBarMain={<Heading label={t(config.label.heading)} />}\r\n      headerBarEnd={<CloseBtn onClick={closeModal} />}\r\n      actionCancelLabel={t(config.label.cancel)}\r\n      actionCancelOnSubmit={closeModal}\r\n      actionSaveLabel={t(config.label.submit)}\r\n      actionSaveOnSubmit={() => { }}\r\n      formId=\"modal-action\"\r\n      isOBPSFlow={true}\r\n      popupStyles={mobileView?{width:\"720px\"}:{}}\r\n      style={!mobileView?{height: \"45px\", width:\"107px\",paddingLeft:\"0px\",paddingRight:\"0px\"}:{height:\"45px\",width:\"44%\"}}\r\n      popupModuleMianStyles={mobileView?{paddingLeft:\"5px\"}: {}}\r\n    >\r\n      {PTALoading ? (\r\n        <Loader />\r\n      ) : (\r\n        <FormComposer\r\n          config={config.form}\r\n          cardStyle={{marginLeft:\"0px\",marginRight:\"0px\", marginTop:\"-25px\"}}\r\n          className=\"BPAemployeeCard\"\r\n          noBoxShadow\r\n          inline\r\n          childrenAtTheBottom\r\n          onSubmit={submit}\r\n          defaultValues={defaultValues}\r\n          formId=\"modal-action\"\r\n        />\r\n      )}\r\n    </Modal>\r\n  ) : (\r\n    <Loader />\r\n  );\r\n};\r\n\r\nexport default ActionModal;","import React, { useState, useEffect } from \"react\";\r\nimport FSMActionModal from \"./FSMActionModal\";\r\nimport PTActionModal from \"./PTActionModal\";\r\nimport TLActionModal from \"./TLActionModal\";\r\nimport BPAREGActionModal from \"./BPAREGActionModal\";\r\nimport BPAActionModal from \"./BPAActionModal\";\r\nimport NOCActionModal from \"./NOCActionModal\";\r\n\r\nconst ActionModal = (props) => {\r\n  if (props?.businessService.includes(\"PT\")) {\r\n    return <PTActionModal {...props} />;\r\n  }\r\n\r\n  if (props?.businessService.includes(\"NewTL\") || props?.businessService.includes(\"TL\") || props?.businessService.includes(\"EDITRENEWAL\") || props?.businessService.includes(\"DIRECTRENEWAL\")) {\r\n    return <TLActionModal {...props} />;\r\n  }\r\n\r\n  if (props?.moduleCode.includes(\"BPAREG\")) {\r\n    return <BPAREGActionModal {...props} />;\r\n  }\r\n\r\n  if (props?.moduleCode.includes(\"BPA\")) {\r\n    return <BPAActionModal {...props} />;\r\n  }\r\n\r\n  if (props?.moduleCode.includes(\"NOC\")) {\r\n    return <NOCActionModal {...props} />;\r\n  }\r\n  // return <FSMActionModal {...props} />;\r\n};\r\n\r\nexport default ActionModal;\r\n","import React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { CardSubHeader, PDFSvg } from \"@egovernments/digit-ui-react-components\";\r\n\r\nfunction DocumentsPreview({ documents, svgStyles = {}, isSendBackFlow = false, isHrLine = false, titleStyles }) {\r\n    const { t } = useTranslation();\r\n    const isStakeholderApplication = window.location.href.includes(\"stakeholder\");\r\n\r\n    return (\r\n        <div style={{ marginTop: \"19px\" }}>\r\n            {!isStakeholderApplication && documents?.map((document, index) => (\r\n                <React.Fragment key={index}>\r\n                    {document?.title ? <CardSubHeader style={titleStyles ? titleStyles : { marginTop: \"32px\", marginBottom: \"8px\", color: \"#505A5F\", fontSize: \"24px\" }}>{t(document?.title)}</CardSubHeader> : null}\r\n                    <div style={{ display: \"flex\", flexWrap: \"wrap\", justifyContent: \"flex-start\" }}>\r\n                        {document?.values && document?.values.length > 0 ? document?.values?.map((value, index) => (\r\n                            <a target=\"_\" href={value?.url} style={{ minWidth: \"80px\", marginRight: \"10px\", maxWidth: \"100px\", height: \"auto\", minWidth: \"100px\" }} key={index}>\r\n                                <div style={{ display: \"flex\", justifyContent: \"center\" }}>\r\n                                    <PDFSvg />\r\n                                </div>\r\n                                <p style={{ marginTop: \"8px\", fontWeight: \"bold\", textAlign: \"center\", color: \"#505A5F\"  }}>{t(value?.title)}</p>\r\n                                {isSendBackFlow ? value?.documentType?.includes(\"NOC\") ? <p style={{ textAlign: \"center\" }}>{t(value?.documentType.split(\".\")[1])}</p> : <p style={{ textAlign: \"center\" }}>{t(value?.documentType)}</p> : \"\"}\r\n                            </a>\r\n                        )) : !(window.location.href.includes(\"citizen\")) && <div><p>{t(\"BPA_NO_DOCUMENTS_UPLOADED_LABEL\")}</p></div>}\r\n                    </div>\r\n                    {isHrLine && documents?.length != index + 1 ? <hr style={{ color: \"#D6D5D4\", backgroundColor: \"#D6D5D4\", height: \"2px\", marginTop: \"20px\", marginBottom: \"20px\" }} /> : null}\r\n                </React.Fragment>\r\n            ))}\r\n            {isStakeholderApplication && documents?.map((document, index) => (\r\n                <React.Fragment key={index}>\r\n                    {document?.title ? <CardSubHeader style={{ marginTop: \"32px\", marginBottom: \"8px\", color: \"#505A5F\", fontSize: \"24px\" }}>{t(document?.title)}</CardSubHeader> : null}\r\n                    <div>\r\n                        {document?.values && document?.values.length > 0 ? document?.values?.map((value, index) => (\r\n                            <a target=\"_\" href={value?.url} style={{ minWidth: svgStyles?.minWidth ? svgStyles?.minWidth : \"160px\", marginRight: \"20px\" }} key={index}>\r\n                                <div style={{ maxWidth: \"940px\", padding: \"8px\", borderRadius: \"4px\", border: \"1px solid #D6D5D4\", background: \"#FAFAFA\" }}>\r\n                                    <p style={{ marginTop: \"8px\", fontWeight: \"bold\", marginBottom: \"10px\" }}>{t(value?.title)}</p>\r\n                                    {value?.docInfo ? <div style={{ fontSize: \"12px\", color: \"#505A5F\", fontWeight: 400, lineHeight: \"15px\", marginBottom: \"10px\" }}>{`${t(value?.docInfo)}`}</div> : null}\r\n                                    <PDFSvg />\r\n                                    <p style={{ marginTop: \"8px\", fontSize: \"16px\", lineHeight: \"19px\", color: \"#505A5F\", fontWeight: \"400\", textAlign: \"center\", color: \"#505A5F\"  }}>{`${t(value?.title)}`}</p>\r\n                                </div>\r\n                            </a>\r\n                        )) : !(window.location.href.includes(\"citizen\")) && <div><p>{t(\"BPA_NO_DOCUMENTS_UPLOADED_LABEL\")}</p></div>}\r\n                    </div>\r\n                </React.Fragment>\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default DocumentsPreview;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n    CardLabel,\r\n    Dropdown,\r\n    LabelFieldPair,\r\n    MultiUploadWrapper,\r\n    CardSubHeader\r\n} from \"@egovernments/digit-ui-react-components\";\r\nimport DocumentsPreview from \"./DocumentsPreview\";\r\n\r\nconst BPADocuments = ({ t, formData, applicationData, docs, bpaActionsDetails }) => {\r\n    const applicationStatus = applicationData?.status || \"\";\r\n    const actions = bpaActionsDetails?.data?.nextActions || [];\r\n    const stateId = Digit.ULBService.getStateId();\r\n    const [documents, setDocuments] = useState(formData?.documents?.documents || []);\r\n    const [error, setError] = useState(null);\r\n    const [bpaTaxDocuments, setBpaTaxDocuments] = useState([]);\r\n    const [enableSubmit, setEnableSubmit] = useState(true)\r\n    const [checkRequiredFields, setCheckRequiredFields] = useState(false);\r\n    const [checkEnablingDocs, setCheckEnablingDocs] = useState(false);\r\n\r\n    const { isLoading: bpaDocsLoading, data: bpaDocs } = Digit.Hooks.obps.useMDMS(stateId, \"BPA\", [\"DocTypeMapping\"]);\r\n    const { isLoading: commonDocsLoading, data: commonDocs } = Digit.Hooks.obps.useMDMS(stateId, \"common-masters\", [\"DocumentType\"]);\r\n\r\n    useEffect(() => {\r\n        let filtredBpaDocs = [];\r\n        if (bpaDocs?.BPA?.DocTypeMapping) {\r\n            // filtredBpaDocs = bpaDocs?.BPA?.DocTypeMapping?.filter(data => (data.WFState == \"INPROGRESS\"))\r\n            filtredBpaDocs = bpaDocs?.BPA?.DocTypeMapping?.filter(data => (data.WFState == applicationData?.status ? applicationData?.status : \"INPROGRESS\" && data.RiskType == applicationData?.riskType && data.ServiceType == applicationData?.additionalDetails?.serviceType && data.applicationType == applicationData?.additionalDetails?.applicationType))\r\n        }\r\n        let documentsList = [];\r\n        filtredBpaDocs?.[0]?.docTypes?.forEach(doc => {\r\n            let code = doc.code; doc.dropdownData = []; doc.uploadedDocuments = [];\r\n            commonDocs?.[\"common-masters\"]?.DocumentType?.forEach(value => {\r\n                let values = value.code.slice(0, code.length);\r\n                if (code === values) {\r\n                    doc.hasDropdown = true;\r\n                    value.i18nKey = value.code;\r\n                    doc.dropdownData.push(value);\r\n                }\r\n            });\r\n            doc.uploadedDocuments[0] = {};\r\n            doc.uploadedDocuments[0].values = [];\r\n            docs?.[0]?.values?.map(upDocs => {\r\n                if (code === `${upDocs?.documentType?.split('.')[0]}.${upDocs?.documentType?.split('.')[1]}`) {\r\n                    doc.uploadedDocuments[0].values.push(upDocs)\r\n                }\r\n            })\r\n            documentsList.push(doc);\r\n        });\r\n        sessionStorage.setItem(\"BPA_DOCUMENTS\", JSON.stringify(documentsList));\r\n        setBpaTaxDocuments(documentsList);\r\n\r\n    }, [!bpaDocsLoading, !commonDocsLoading]);\r\n\r\n    useEffect(() => {\r\n        let count = 0;\r\n        bpaTaxDocuments.map(doc => {\r\n            let isRequired = false;\r\n            documents.map(data => {\r\n                if (doc.required && doc.code == `${data.documentType.split('.')[0]}.${data.documentType.split('.')[1]}`) {\r\n                    isRequired = true;\r\n                }\r\n            });\r\n            if (!isRequired && doc.required) {\r\n                count = count + 1;\r\n            }\r\n        });\r\n        if ((count == \"0\" || count == 0) && documents.length > 0) setEnableSubmit(false);\r\n        else setEnableSubmit(true);\r\n    }, [documents, checkRequiredFields])\r\n\r\n    useEffect(() => {\r\n        if ( applicationStatus === \"DOC_VERIFICATION_INPROGRESS\" && actions?.length > 0 ) setCheckEnablingDocs(true);\r\n        else setCheckEnablingDocs(false);\r\n    }, [applicationData, bpaActionsDetails])\r\n\r\n    return (\r\n        <div>\r\n            {bpaTaxDocuments?.map((document, index) => {\r\n                return (\r\n                    <div>\r\n                        <SelectDocument\r\n                            key={index}\r\n                            index={index}\r\n                            document={document}\r\n                            t={t}\r\n                            error={error}\r\n                            setError={setError}\r\n                            setDocuments={setDocuments}\r\n                            documents={documents}\r\n                            setCheckRequiredFields={setCheckRequiredFields}\r\n                            applicationStatus={applicationStatus}\r\n                            actions={actions}\r\n                            bpaTaxDocuments={bpaTaxDocuments}\r\n                            checkEnablingDocs={checkEnablingDocs}\r\n                        />\r\n                    </div>\r\n                );\r\n            })}\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction SelectDocument({\r\n    t,\r\n    document: doc,\r\n    setDocuments,\r\n    error,\r\n    setError,\r\n    documents,\r\n    setCheckRequiredFields,\r\n    index,\r\n    applicationStatus,\r\n    actions,\r\n    bpaTaxDocuments,\r\n    checkEnablingDocs\r\n}) {\r\n\r\n    const filteredDocument = documents?.filter((item) => item?.documentType?.includes(doc?.code))[0];\r\n    const tenantId = Digit.ULBService.getStateId();\r\n    const [selectedDocument, setSelectedDocument] = useState(\r\n        filteredDocument\r\n            ? { ...filteredDocument, active: true, code: filteredDocument?.documentType, i18nKey: filteredDocument?.documentType }\r\n            : doc?.dropdownData?.length === 1\r\n                ? doc?.dropdownData[0]\r\n                : {}\r\n    );\r\n    const [file, setFile] = useState(null);\r\n    const [uploadedFile, setUploadedFile] = useState(() => filteredDocument?.fileStoreId || null);\r\n    const [selectArrayFiles, SetSelectArrayFiles] = useState([]);\r\n    const handleSelectDocument = (value) => setSelectedDocument(value);\r\n    const allowedFileTypes = /(.*?)(jpg|jpeg|png|image|pdf)$/i;\r\n\r\n    function selectfiles(e) {\r\n        e && setFile(e.file);\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        if (selectedDocument?.code) {\r\n            setDocuments((prev) => {\r\n                const filteredDocumentsByDocumentType = prev?.filter((item) => item?.documentType !== selectedDocument?.code);\r\n                if (uploadedFile?.length === 0 || uploadedFile === null) return filteredDocumentsByDocumentType;\r\n                const filteredDocumentsByFileStoreId = filteredDocumentsByDocumentType?.filter((item) => item?.fileStoreId !== uploadedFile);\r\n                return [\r\n                    ...filteredDocumentsByFileStoreId,\r\n                    {\r\n                        documentType: selectedDocument?.code,\r\n                        fileStoreId: uploadedFile,\r\n                        documentUid: uploadedFile,\r\n                        fileName: file?.name || \"\",\r\n                        id: documents ? documents.find(x => x.documentType === selectedDocument?.code)?.id : undefined,\r\n                    },\r\n                ];\r\n            });\r\n        }\r\n    }, [uploadedFile, selectedDocument]);\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            if (selectArrayFiles.length > 0) {\r\n                sessionStorage.removeItem(\"BPA_DOCUMENTS\");\r\n                doc.newUploadedDocs = [];\r\n                selectArrayFiles.map(newDoc => {\r\n                    if (selectedDocument?.code) {\r\n                        doc.newUploadedDocs.push({\r\n                            documentType: selectedDocument?.code,\r\n                            fileStoreId: newDoc?.fileStoreId?.fileStoreId,\r\n                            documentUid: newDoc?.fileStoreId?.fileStoreId,\r\n                            tenantId: newDoc?.fileStoreId?.tenantId\r\n                        });\r\n                    }\r\n                })\r\n                bpaTaxDocuments[index] = doc;\r\n                sessionStorage.setItem(\"BPA_DOCUMENTS\", JSON.stringify(bpaTaxDocuments));\r\n            }\r\n        })();\r\n    }, [selectArrayFiles, selectedDocument]);\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n\r\n        })();\r\n    }, [file]);\r\n\r\n    const getData = (index, state) => {\r\n        let data = Object.fromEntries(state);\r\n        let newArr = Object.values(data);\r\n        if (Object.keys(data).length !== 0) SetSelectArrayFiles(newArr);\r\n        selectfiles(newArr[newArr.length - 1]);\r\n    }\r\n\r\n    return (\r\n        <div style={{ marginBottom: \"24px\", maxWidth: \"950px\", minWidth: \"280px\", background: \"#FAFAFA\", borderRadius: \"4px\", border: \"1px solid #D6D5D4\", padding: \"8px\" }}>\r\n            <CardSubHeader style={{ marginBottom: \"8px\", paddingBottom: \"9px\", color: \"#0B0C0C\", fontSize: \"16px\", lineHeight: \"19px\" }}>{`${t(doc?.code)}`}</CardSubHeader>\r\n            {doc?.uploadedDocuments?.length && <DocumentsPreview documents={doc?.uploadedDocuments} svgStyles={{ width: \"100px\", height: \"100px\", viewBox: \"0 0 25 25\", minWidth: \"100px\" }} />}\r\n            {\r\n                checkEnablingDocs ?\r\n                    <div style={{ marginTop: \"20px\" }}>\r\n                        <LabelFieldPair style={{width: \"100%\"}}>\r\n                            <CardLabel style={{marginTop:\"-10px\", width :\"100%\"}}>{doc?.required ? `${t(doc?.code)}* ` : `${t(doc?.code)}`}</CardLabel>\r\n                            <Dropdown\r\n                                className=\"form-field\"\r\n                                t={t}\r\n                                isMandatory={false}\r\n                                option={doc?.dropdownData}\r\n                                selected={selectedDocument}\r\n                                optionKey=\"i18nKey\"\r\n                                select={handleSelectDocument}\r\n                                style={{width: \"100%\"}}\r\n                            />\r\n                        </LabelFieldPair>\r\n                        <LabelFieldPair style={{width: \"100%\"}}>\r\n                            <CardLabel className=\"card-label-smaller\" style={{ width :\"100%\"}}></CardLabel>\r\n                            <div className=\"field\"  style={{width: \"100%\"}}>\r\n                                <MultiUploadWrapper\r\n                                    module=\"BPA\"\r\n                                    tenantId={tenantId}\r\n                                    getFormState={e => getData(index, e)}\r\n                                    t={t}\r\n                                    allowedFileTypesRegex={allowedFileTypes}\r\n                                    allowedMaxSizeInMB={5}\r\n                                    acceptFiles= \"image/*, .pdf, .png, .jpeg, .jpg\"\r\n                                />\r\n                            </div>\r\n                        </LabelFieldPair>\r\n                    </div> : null\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default BPADocuments;\r\n","import { StatusTable, Row, CardHeader, CardSectionHeader } from \"@egovernments/digit-ui-react-components\";\r\nimport React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport DocumentsPreview from \"./DocumentsPreview\";\r\n\r\nconst getDocuments = (fiDocuments) => {\r\n    const returnDocuments = [{\r\n        title: \"BPA_DOCUMENT_DETAILS_LABEL\",\r\n        values: fiDocuments?.map(doc => ({\r\n            title: doc?.documentType?.replaceAll('.', '_'),\r\n            documentType: doc?.documentType,\r\n            documentUid: doc?.documentUid,\r\n            fileStoreId: doc?.fileStoreId,\r\n            id: doc?.id,\r\n            url: doc?.url\r\n        }))\r\n    }];\r\n    return returnDocuments;\r\n};\r\n\r\nfunction InspectionReport({ fiReport, isCitizen=false }) {\r\n    const { t } = useTranslation();\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <div style={{ marginTop: \"10px\" }}>\r\n            {isCitizen?<CardHeader style={{fontSize: \"24px\"}}>{`${t(`BPA_FI_REPORT`)}`}</CardHeader>:\r\n            <CardSectionHeader style={{fontSize: \"24px\"}}>{`${t(`BPA_FI_REPORT`)}`}</CardSectionHeader>}\r\n                {fiReport.map((fiData, index) =>\r\n                    <div style={{ background: \"#FAFAFA\", border: \"1px solid #D6D5D4\", padding: \"8px\", borderRadius: \"4px\", maxWidth: \"950px\", minWidth: \"280px\", marginBottom: \"24px\" }}>\r\n                        <StatusTable>\r\n                            <CardSectionHeader style={{fontSize: \"20px\"}}>{fiReport?.length == 1 ? `${t(`BPA_FI_REPORT`)}` : `${t(`BPA_FI_REPORT`)} - ${index + 1}`}</CardSectionHeader>\r\n                            <Row className=\"border-none\" label={`${t(`BPA_FI_DATE_LABEL`)}`} text={fiData?.date ? (fiData.date.includes(\"-\")?  `${fiData.date?.split(\"-\")[2]}/${fiData.date?.split(\"-\")[1]}/${fiData.date?.split(\"-\")[0]}` : fiData?.date) : \"NA\"} />\r\n                            <Row className=\"border-none\" label={`${t(`BPA_FI_TIME_LABEL`)}`} text={fiData?.time ? fiData?.time : \"NA\"} />\r\n                            {fiData?.questions?.length &&\r\n                                fiData?.questions?.map((qstn) =>\r\n                                    <div style={{ background: \"white\", border: \"1px solid #D6D5D4\", padding: \"8px\", borderRadius: \"4px\", marginTop: \"10px\" }}>\r\n                                        <Row className=\"border-none\" label={`${t(`${qstn.question}`)}`} text={qstn?.value ? qstn?.value : \"NA\"} />\r\n                                        <Row className=\"border-none\" label={`${t(`BPA_ENTER_REMARKS`)}`} text={qstn.remarks ? qstn.remarks : \"NA\"} />\r\n                                    </div>)}\r\n                            <DocumentsPreview documents={getDocuments(fiData?.docs)} svgStyles={{ width: \"100px\", height: \"100px\", viewBox: \"0 0 25 25\", minWidth: \"100px\" }} />\r\n                        </StatusTable>\r\n                    </div>)}\r\n            </div>\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\nexport default InspectionReport;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  CardLabel,\r\n  MultiUploadWrapper,\r\n  StatusTable,\r\n  Row,\r\n  LabelFieldPair\r\n} from \"@egovernments/digit-ui-react-components\";\r\nimport DocumentsPreview from \"./DocumentsPreview\";\r\n\r\nfunction SelectDocument({\r\n  t,\r\n  document: doc,\r\n  setNocDocuments,\r\n  setError,\r\n  nocDocuments\r\n}) {\r\n  const filteredDocument = nocDocuments?.filter((item) => item?.documentType?.includes(doc?.code))[0];\r\n  const tenantId = Digit.ULBService.getStateId();\r\n  const [selectedDocument, setSelectedDocument] = useState();\r\n  const [file, setFile] = useState(null);\r\n  const [uploadedFile, setUploadedFile] = useState(() => filteredDocument?.fileStoreId || null);\r\n  const handleSelectDocument = (value) => setSelectedDocument(value);\r\n  const allowedFileTypes = /(.*?)(jpg|jpeg|png|image|pdf)$/i;\r\n\r\n  function selectfile(e) {\r\n    e && setFile(e.file);\r\n  }\r\n\r\n  useEffect(() => {\r\n      if (doc?.dropdownData?.[0]?.code) {\r\n          setNocDocuments((prev) => {\r\n              const filteredDocumentsByDocumentType = prev?.filter((item) => item?.documentType !== doc?.dropdownData?.[0]?.code);\r\n\r\n              if (uploadedFile?.length === 0 || uploadedFile === null) {\r\n                  return filteredDocumentsByDocumentType;\r\n              }\r\n\r\n              const filteredDocumentsByFileStoreId = filteredDocumentsByDocumentType?.filter((item) => item?.fileStoreId !== uploadedFile);\r\n              return [\r\n                  ...filteredDocumentsByFileStoreId,\r\n                  {\r\n                      documentType: doc?.dropdownData?.[0].code,\r\n                      fileStoreId: uploadedFile,\r\n                      documentUid: uploadedFile,\r\n                      fileName: file?.name || \"\",\r\n                  },\r\n              ];\r\n          });\r\n      }\r\n  }, [uploadedFile]);\r\n\r\n\r\n  useEffect(() => {\r\n      (async () => {\r\n          setError(null);\r\n          if (file) {\r\n              const allowedFileTypesRegex = /(.*?)(jpg|jpeg|png|image|pdf)$/i\r\n              if (file.size >= 5242880) {\r\n                setError(t(\"CS_MAXIMUM_UPLOAD_SIZE_EXCEEDED\"));\r\n              } else if (file?.type && !allowedFileTypesRegex.test(file?.type)) {\r\n                setError(t(`NOT_SUPPORTED_FILE_TYPE`))\r\n              } else {\r\n                  try {\r\n                      setUploadedFile(null);\r\n                      const response = await Digit.UploadServices.Filestorage(\"PT\", file, Digit.ULBService.getStateId());\r\n                      if (response?.data?.files?.length > 0) {\r\n                          setUploadedFile(response?.data?.files[0]?.fileStoreId);\r\n                      } else {\r\n                          setError(t(\"CS_FILE_UPLOAD_ERROR\"));\r\n                      }\r\n                  } catch (err) {\r\n                      setError(t(\"CS_FILE_UPLOAD_ERROR\"));\r\n                  }\r\n              }\r\n          }\r\n      })();\r\n  }, [file]);\r\n\r\n  const getData =(state) => {\r\n    let data = Object.fromEntries(state);\r\n    let newArr = Object.values(data);\r\n    selectfile(newArr[newArr.length-1]);\r\n  }\r\n\r\n  return (\r\n      <div style={{/*  border: \"1px solid #D6D5D4\", padding: \"16px 0px 16px 8px\", background: \"#FAFAFA\", borderRadius: \"5px\", marginBottom: \"24px\", display: \"flex\" */ }}>\r\n        <LabelFieldPair style={{width: \"98%\", marginRight: \"10px\"}}>\r\n          <CardLabel style={{width: \"100%\"}}>{doc?.required ? `${t(\"TL_BUTTON_UPLOAD FILE\")}*` : `${t(\"TL_BUTTON_UPLOAD FILE\")}`}</CardLabel>\r\n          <div className=\"field\" style={{width: \"100%\"}}>\r\n            <MultiUploadWrapper\r\n              module=\"NOC\"\r\n              tenantId={tenantId}\r\n              getFormState={e => getData(e)}\r\n              t={t}\r\n              allowedFileTypesRegex={allowedFileTypes}\r\n              allowedMaxSizeInMB={5}\r\n              acceptFiles=\"image/*, .pdf, .png, .jpeg, .jpg\"\r\n            />\r\n          </div>\r\n        </LabelFieldPair>\r\n      </div>\r\n  );\r\n}\r\nconst NOCDocuments = ({ t, noc, docs, isNoc, applicationData,NOCdata, bpaActionsDetails }) => {\r\n  const tenantId = Digit.ULBService.getStateId();\r\n  const stateId = Digit.ULBService.getStateId();\r\n  const bpaApplicationStatus = applicationData?.status || \"\";\r\n  const actions = bpaActionsDetails?.data?.nextActions || [];\r\n  const { isLoading: nocDocsLoading, data: nocDocs } = Digit.Hooks.obps.useMDMS(stateId, \"NOC\", [\"DocumentTypeMapping\"], { enabled: isNoc });\r\n  const { isLoading: bpaDocsLoading, data: bpaDocs } = Digit.Hooks.obps.useMDMS(stateId, \"BPA\", [\"DocTypeMapping\"], { enabled: !isNoc });\r\n  const { isLoading: commonDocsLoading, data: commonDocs } = Digit.Hooks.obps.useMDMS(stateId, \"common-masters\", [\"DocumentType\"]);\r\n  const [commonDocMaping, setCommonDocMaping] = useState([]);\r\n  const [nocTaxDocuments, setNocTaxDocuments] = useState([]);\r\n  const [checkEnablingDocs, setCheckEnablingDocs] = useState(false);\r\n  const [nocDocuments, setNocDocuments] = Digit.Hooks.useSessionStorage(noc?.nocType, []);\r\n  const [error, setError] = useState(null);\r\n  const isEmployee = window.location.href.includes(\"/employee/\")\r\n\r\n  useEffect(() => {\r\n    setCommonDocMaping(commonDocs?.[\"common-masters\"]?.DocumentType);\r\n  }, [commonDocs]);\r\n\r\n  useEffect(() => {\r\n    let documents = [];\r\n    let filteredData\r\n    if (isNoc) {\r\n      filteredData = nocDocs?.NOC?.DocumentTypeMapping?.filter((data => {\r\n        return data?.applicationType === noc?.applicationType && data?.nocType === noc?.nocType\r\n      }));\r\n    }\r\n    else {\r\n      filteredData = bpaDocs?.BPA?.DocTypeMapping?.filter(data => (data.WFState == applicationData?.status && data.RiskType == applicationData?.riskType && data.ServiceType == applicationData?.additionalDetails?.serviceType && data.applicationType == applicationData?.additionalDetails?.applicationType))\r\n    }\r\n    if (filteredData?.[0]?.docTypes?.[0]) {\r\n      filteredData[0].docTypes[0].nocType = filteredData[0].nocType;\r\n      filteredData[0].docTypes[0].additionalDetails = {\r\n          submissionDetails: noc?.additionalDetails,\r\n          applicationStatus: noc?.applicationStatus,\r\n          appNumberLink: noc?.applicationNo,\r\n          nocNo: noc?.nocNo\r\n      }\r\n      documents.push(filteredData[0].docTypes[0]);\r\n    }\r\n    let documentsList = [];\r\n    if (documents && documents.length > 0) {\r\n      documents.map((doc) => {\r\n        let code = doc.documentType;\r\n        let nocType = doc.nocType;\r\n        doc.dropdownData = [];\r\n        commonDocMaping?.forEach((value) => {\r\n          let values = value.code.slice(0, code?.length);\r\n          if (code === values) {\r\n            doc.hasDropdown = true;\r\n            doc.dropdownData.push(value);\r\n          }\r\n        });\r\n        documentsList.push(doc);\r\n      });\r\n      setNocTaxDocuments(documentsList);\r\n    }\r\n  }, [nocDocs, commonDocMaping]);\r\n\r\n  useEffect(() => {\r\n    if (bpaApplicationStatus === 'NOC_VERIFICATION_INPROGRESS' && actions?.length > 0) setCheckEnablingDocs(true);\r\n    else setCheckEnablingDocs(false);\r\n  }, [applicationData, bpaActionsDetails])\r\n\r\n  return (\r\n    <div style={{ border: \"1px solid #D6D5D4\", padding: \"16px 0px 16px 8px\", background: \"#FAFAFA\", borderRadius: \"5px\", marginBottom: \"24px\", maxWidth:\"950px\"/*  display: \"flex\" */ }}>\r\n      <StatusTable>\r\n      <Row label={isEmployee ? `${t(`BPA_${noc?.nocType}_HEADER`)}` : t(`BPA_${noc?.nocType}_HEADER`)} labelStyle={{fontSize: \"20px\",width:\"150%\"}}/>\r\n      {NOCdata && NOCdata.map((noc,index) => {\r\n        if (noc?.value) {\r\n          if (noc?.field == \"STATUS\") {\r\n            return <Row className=\"border-none\"  label={isEmployee ? `${t(noc?.title)}` : t(noc?.title)} text={noc?.value?t(noc?.value):t(\"CS_NA\")} textStyle = {(noc?.value == \"APPROVED\" || noc?.value == \"AUTO_APPROVED\") ? {color: \"#00703C\"} : {color : \"#D4351C\"}}/>\r\n          } else {\r\n            return <Row className=\"border-none\"  label={isEmployee ? `${t(noc?.title)}` : t(noc?.title)} text={noc?.value?t(noc?.value):t(\"CS_NA\")} />\r\n          }\r\n        }\r\n      })}\r\n      </StatusTable>\r\n      <DocumentsPreview documents={docs} svgStyles={{ width: \"80px\", height: \"100px\", viewBox: \"0 0 25 25\", minWidth: \"80px\" }}/>\r\n      {checkEnablingDocs && nocTaxDocuments?.map((document, index) => {\r\n        return (\r\n          <SelectDocument\r\n            key={index}\r\n            document={document}\r\n            t={t}\r\n            error={error}\r\n            setError={setError}\r\n            setNocDocuments={setNocDocuments}\r\n            nocDocuments={nocDocuments}\r\n            checkEnablingDocs={checkEnablingDocs}\r\n          />\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NOCDocuments;","import { CheckBox, LinkButton, TextInput,Close, CardSubHeader } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useEffect, useState } from \"react\";\r\n\r\nconst PermissionCheck = ({ permissions, t }) => {\r\n  const [approvalChecks, setApprovalChecks, clearApprovals] = Digit.Hooks.useSessionStorage(\"OBPS_APPROVAL_CHECKS\", permissions?.map(permission => ({ label: permission, checked: false }))); //useState(() => permissions?.map(permission => ({ label: permission, checked: false })))\r\n  const [newApprovals,  setNewApprovals, clearNewApprovals] = Digit.Hooks.useSessionStorage('OBPS_NEW_APPROVALS', []);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      Digit.SessionStorage.del(\"OBPS_NEW_APPROVALS\");\r\n      Digit.SessionStorage.del(\"OBPS_APPROVAL_CHECKS\");\r\n    }\r\n  }, [])\r\n\r\n  const handleAdd = () => {\r\n    setNewApprovals([...newApprovals, { label: '' }]);\r\n  }\r\n\r\n  const handleRemove = (index) => {\r\n    const values = [...newApprovals];\r\n            values.splice(index, 1);\r\n            setNewApprovals([...values]);     \r\n  }\r\n\r\n  const handleChange = (event, index) => {\r\n    setNewApprovals(() => {\r\n      return newApprovals?.map((approval, id) => {\r\n        if (index === id) {\r\n          return {\r\n            label: event?.target?.value,\r\n          }\r\n        }\r\n        return approval;\r\n      })\r\n    })\r\n  }\r\n\r\n  const handleCheck = (event, label, index) => {\r\n    const isChecked = event.target.checked;\r\n    setApprovalChecks(() => {\r\n      return approvalChecks?.map((approval, id) => {\r\n        if (index === id) {\r\n          return {\r\n            ...approval,\r\n            checked: isChecked\r\n          }\r\n        }\r\n        return approval;\r\n      })\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <CardSubHeader style={{ marginBottom: \"16px\", fontSize: \"24px\" }}>{t(\"BPA_PERMIT_CONDITIONS\")}</CardSubHeader>\r\n      {approvalChecks?.map((permission, index) => (\r\n        <CheckBox\r\n          key={index}\r\n          styles={{ margin: \"20px 0 40px\",maxWidth:\"70%\" }}\r\n          label={permission?.label}\r\n          checked={permission?.checked}\r\n          onChange={(event => handleCheck(event, permission?.label, index))}\r\n          isLabelFirst={true}\r\n          index={index}\r\n        />\r\n      ))}\r\n      {newApprovals?.map((approval, index) => (\r\n       <div> <TextInput key={index} value={approval?.label} onChange={event => handleChange(event, index)} textInputStyle={{maxWidth: \"830px\", width: \"830px\"}} placeholder={\"Enter permit conditions..........\"} />\r\n         {<LinkButton\r\n          label={\r\n            <div>\r\n              <span>\r\n              <Close style={{float: \"right\", position: \"relative\", bottom: \"32px\", marginTop: \"-21px\", marginRight: \"35%\" }}/>\r\n              </span>\r\n            </div>\r\n          }\r\n          style={{ }}\r\n          onClick={(e) => handleRemove(index)}\r\n        />}\r\n       </div>\r\n      ))}\r\n      <LinkButton style={{ color: \"#f47738\", maxWidth: \"10%\", /* float: \"right\", marginTop: \"-50px\", */ marginRight: \"3%\" }} label={t(`BPA_ADD_MORE`)} onClick={handleAdd} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PermissionCheck;","import React, { useState, useEffect } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { CardSubHeader, PDFSvg } from \"@egovernments/digit-ui-react-components\";\r\n\r\n// const PDFSvg = ({ width = 34, height = 34, style, viewBox = \"0 0 34 34\" }) => (\r\n//   <svg style={style} xmlns=\"http://www.w3.org/2000/svg\" width={width} height={height} viewBox={viewBox} fill=\"gray\">\r\n//     <path d=\"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5v1zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5v3zm4-3H19v1h1.5V11H19v2h-1.5V7h3v1.5zM9 9.5h1v-1H9v1zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm10 5.5h1v-3h-1v3z\" />\r\n//   </svg>\r\n// );\r\n\r\nfunction PropertyDocuments({ documents, svgStyles = {}, isSendBackFlow=false }) {\r\n  const { t } = useTranslation();\r\n  const [filesArray, setFilesArray] = useState(() => [] );\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const [pdfFiles, setPdfFiles] = useState({});\r\n\r\n  useEffect(() => {\r\n    let acc = [];\r\n    documents?.forEach((element, index, array) => {\r\n      acc = [...acc, ...(element.values?element.values:[])];\r\n    });\r\n    setFilesArray(acc?.map((value) => value?.fileStoreId));\r\n  }, [documents]);\r\n\r\n  useEffect(() => {\r\n    if(filesArray?.length)\r\n   { \r\n     Digit.UploadServices.Filefetch(filesArray, Digit.ULBService.getStateId()).then((res) => {\r\n      setPdfFiles(res?.data);\r\n     });\r\n    }\r\n  }, [filesArray]);\r\n\r\n  const checkLocation = window.location.href.includes(\"employee/tl\") || window.location.href.includes(\"/obps\");\r\n  const isStakeholderApplication = window.location.href.includes(\"stakeholder\");\r\n\r\n  return (\r\n    <div style={{ marginTop: \"19px\" }}>\r\n      {!isStakeholderApplication && documents?.map((document, index) => (\r\n        <React.Fragment key={index}>\r\n          {document?.title ? <CardSubHeader style={checkLocation ? { marginTop: \"32px\", marginBottom: \"18px\", color: \"#0B0C0C, 100%\", fontSize: \"24px\", lineHeight: \"30px\" } : { marginTop: \"32px\", marginBottom: \"8px\", color: \"#505A5F\", fontSize: \"24px\" }}>{t(document?.title)}</CardSubHeader>: null}\r\n          <div style={{ display: \"flex\", flexWrap: \"wrap\", justifyContent: \"flex-start\" }}>\r\n            {document?.values && document?.values.length>0 ? document?.values?.map((value, index) => (\r\n              <a target=\"_\" href={pdfFiles[value.fileStoreId]?.split(\",\")[0]} style={{ minWidth: \"80px\", marginRight: \"10px\", maxWidth: \"100px\", height: \"auto\" }} key={index}>\r\n                <div style={{ display: \"flex\", justifyContent: \"center\" }}>\r\n                  <PDFSvg />\r\n                </div>\r\n                <p style={checkLocation ? { marginTop: \"8px\", fontWeight: \"bold\", fontSize: \"16px\", lineHeight: \"19px\", color: \"#505A5F\", textAlign: \"center\" } : { marginTop: \"8px\", fontWeight: \"bold\" }}>{t(value?.title)}</p>\r\n               {isSendBackFlow? value?.documentType?.includes(\"NOC\")?<p style={{textAlign:\"center\"}}>{t(value?.documentType.split(\".\")[1])}</p> :<p style={{textAlign:\"center\"}}>{t(value?.documentType)}</p>:\"\"}\r\n              </a>\r\n            )):!(window.location.href.includes(\"citizen\"))&& <div><p>{t(\"BPA_NO_DOCUMENTS_UPLOADED_LABEL\")}</p></div>}\r\n          </div>\r\n        </React.Fragment>\r\n      ))}\r\n      {isStakeholderApplication && documents?.map((document, index) => (\r\n        <React.Fragment key={index}>\r\n          {document?.title ? <CardSubHeader style={{ marginTop: \"32px\", marginBottom: \"8px\", color: \"#505A5F\", fontSize: \"24px\" }}>{t(document?.title)}</CardSubHeader> : null} \r\n          <div>\r\n            {document?.values && document?.values.length>0 ? document?.values?.map((value, index) => (\r\n              <a target=\"_\" href={pdfFiles[value.fileStoreId]?.split(\",\")[0]} style={{ minWidth: svgStyles?.minWidth ? svgStyles?.minWidth : \"160px\", marginRight: \"20px\" }} key={index}>\r\n                <div  style={{maxWidth: \"940px\", padding: \"8px\", borderRadius: \"4px\", border: \"1px solid #D6D5D4\", background: \"#FAFAFA\"}}>\r\n                  <p style={{ marginTop: \"8px\", fontWeight: \"bold\", marginBottom: \"10px\" }}>{t(value?.title)}</p>\r\n                  {value?.docInfo ? <div style={{fontSize: \"12px\", color: \"#505A5F\", fontWeight: 400, lineHeight: \"15px\", marginBottom: \"10px\"}}>{`${t(value?.docInfo)}`}</div> : null}\r\n                  <PDFSvg />\r\n                  {/* <div>{decodeURIComponent(pdfFiles[value.fileStoreId]?.split(\",\")[0].split(\"?\")[0].split(\"/\").pop().slice(13))}</div> */}\r\n                  <p style={{ marginTop: \"8px\", fontSize: \"16px\", lineHeight: \"19px\", color: \"#505A5F\", fontWeight: \"400\" }}>{`${t(value?.title)}`}</p> \r\n                </div>\r\n              </a>\r\n            )):!(window.location.href.includes(\"citizen\"))&& <div><p>{t(\"BPA_NO_DOCUMENTS_UPLOADED_LABEL\")}</p></div>}\r\n          </div>\r\n        </React.Fragment>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PropertyDocuments;\r\n","import React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { StatusTable, Row, BreakLine } from \"@egovernments/digit-ui-react-components\";\r\n\r\nfunction PropertyEstimates({ taxHeadEstimatesCalculation }) {\r\n  const { taxHeadEstimates } = taxHeadEstimatesCalculation;\r\n  const { t } = useTranslation();\r\n\r\n  return (\r\n    <div style={{ marginTop: \"40px\" }}>\r\n      <StatusTable>\r\n        <Row label={t(\"ES_PT_TITLE_TAX_HEADS\")} text={t(\"ES_PT_TITLE_AMOUNT\")} className=\"border-none\" textStyle={{ fontWeight: \"bold\" }} />\r\n        <BreakLine style={{ margin: \"16px 0\", width: \"40%\" }} />\r\n        {taxHeadEstimates?.map((estimate, index) => {\r\n          return (\r\n            <Row\r\n              key={t(estimate.taxHeadCode)}\r\n              label={t(estimate.taxHeadCode)}\r\n              text={` ${estimate.estimateAmount}` || \"N/A\"}\r\n              last={index === taxHeadEstimates?.length - 1}\r\n              className=\"border-none\"\r\n              textStyle={{ color: \"#505A5F\" }}\r\n              labelStyle={{ color: \"#505A5F\" }}\r\n            />\r\n          );\r\n        })}\r\n        <BreakLine style={{ margin: \"16px 0\", width: \"40%\" }} />\r\n        <Row\r\n          label={t(\"ES_PT_TITLE_TOTAL_DUE_AMOUNT\")}\r\n          text={` ${taxHeadEstimatesCalculation?.totalAmount}` || \"N/A\"}\r\n          className=\"border-none\"\r\n          textStyle={{ fontSize: \"24px\", fontWeight: \"bold\" }}\r\n        />\r\n      </StatusTable>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PropertyEstimates;\r\n","import React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { CardSubHeader, StatusTable, Row, CardSectionHeader } from \"@egovernments/digit-ui-react-components\";\r\n\r\nfunction PropertyFloors({ floors }) {\r\n  const { t } = useTranslation();\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {floors.map((floor) => (\r\n        <div key={t(floor?.title)} style={{ marginTop: \"19px\" }}>\r\n          <CardSubHeader style={{ marginBottom: \"8px\", color: \"#505A5F\", fontSize: \"24px\" }}>{t(floor?.title)}</CardSubHeader>\r\n          {floor?.values?.map((value, index) => {\r\n            return (\r\n              <React.Fragment key={index}>\r\n                <CardSectionHeader style={{ marginBottom: \"16px\", color: \"#505A5F\", fontSize: \"16px\", marginTop: index !== 0 ? \"16px\" : \"revert\" }}>\r\n                  {t(value.title)}\r\n                </CardSectionHeader>\r\n                <StatusTable style={{ position: \"relative\", padding: \"8px\" }}>\r\n                  <div\r\n                    style={{ border: \"1px solid #D6D5D4\", padding: \"16px\", marginTop: \"8px\", borderRadius: \"4px\", background: \"#FAFAFA\", maxWidth: \"100%\" }}\r\n                  >\r\n                  {value?.values?.map((value, index) => {\r\n                    if (value.map === true && value.value !== \"N/A\") {\r\n                      return <Row key={t(value.title)} label={t(value.title)} text={<img src={t(value.value)} alt=\"\" />} />;\r\n                    }\r\n                    return (\r\n                      <Row\r\n                        key={t(value.title)}\r\n                        label={t(value.title)}\r\n                        text={t(value.value) || \"N/A\"}\r\n                        last={index === value?.values?.length - 1}\r\n                        caption={value.caption}\r\n                        className=\"border-none\"\r\n                      />\r\n                    );\r\n                  })}\r\n                  </div>\r\n                </StatusTable>\r\n              </React.Fragment>\r\n            );\r\n          })}\r\n        </div>\r\n      ))}\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default PropertyFloors;\r\n","import { CardSubHeader, Row, StatusTable } from \"@egovernments/digit-ui-react-components\";\r\nimport React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nfunction PropertyOwners({ owners }) {\r\n  const { t } = useTranslation();\r\n\r\n  const checkLocation = true;\r\n  const checkOwnerLength = owners?.length || 1;\r\n  let cardStyles = { marginTop: \"19px\" };\r\n  let statusTableStyles = { position: \"relative\", padding: \"8px\" };\r\n  let rowContainerStyle = { justifyContent: \"space-between\", fontSize: \"16px\", lineHeight: \"19px\", color: \"#0B0C0C\" };\r\n  if (checkLocation && Number(checkOwnerLength) > 1) {\r\n    cardStyles = {\r\n      marginTop: \"19px\",\r\n      background: \"#FAFAFA\",\r\n      border: \"1px solid #D6D5D4\",\r\n      borderRadius: \"4px\",\r\n      padding: \"8px\",\r\n      lineHeight: \"19px\",\r\n      maxWidth: \"600px\",\r\n      minWidth: \"280px\",\r\n    };\r\n  } else if (checkLocation && !(Number(checkOwnerLength) > 1)) {\r\n    cardStyles = { marginTop: \"19px\", lineHeight: \"19px\", maxWidth: \"600px\", minWidth: \"280px\" };\r\n    statusTableStyles = { position: \"relative\", marginTop: \"19px\" };\r\n  }\r\n\r\n  if (window.location.href.includes(\"obps\")) {\r\n    cardStyles = { ...cardStyles, maxWidth: \"950px\" };\r\n    cardStyles = { ...cardStyles, maxWidth: \"950px\" };\r\n    rowContainerStyle = {};\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {owners.map((owner, index) => (\r\n        <div key={t(owner?.title)} style={cardStyles}>\r\n          {/* TODO, Later will move to classes */}\r\n          <CardSubHeader\r\n            style={\r\n              checkLocation && Number(checkOwnerLength) > 1\r\n                ? { marginBottom: \"8px\", paddingBottom: \"9px\", color: \"#0B0C0C\", fontSize: \"16px\", lineHeight: \"19px\" }\r\n                : { marginBottom: \"8px\", color: \"#505A5F\", fontSize: \"24px\" }\r\n            }\r\n          >\r\n            {checkLocation && Number(checkOwnerLength) > 1 ? `${t(owner?.title)} ${index + 1}` : t(owner?.title)}\r\n          </CardSubHeader>\r\n          <React.Fragment key={index}>\r\n            <StatusTable style={statusTableStyles}>\r\n              <div\r\n                style={{\r\n                  maxWidth: \"640px\",\r\n                  top: 0,\r\n                  left: 0,\r\n                  bottom: 0,\r\n                  right: 0,\r\n                  width: \"auto\",\r\n                }}\r\n              ></div>\r\n              {owner?.values?.map((value, index) => {\r\n                if (value.map === true && value.value !== \"N/A\") {\r\n                  return <Row key={t(value.title)} label={t(value.title)} text={<img src={t(value.value)} alt=\"\" />} />;\r\n                }\r\n                return (\r\n                  <span>\r\n                    <Row\r\n                      key={t(value.title)}\r\n                      label={!checkLocation ? t(value.title) : `${t(value.title)}`}\r\n                      text={t(value.value) || \"N/A\"}\r\n                      last={index === value?.values?.length - 1}\r\n                      caption={value.caption}\r\n                      className=\"border-none\"\r\n                      textStyle={value.textStyle}\r\n                      // TODO, Later will move to classes\r\n                      rowContainerStyle={rowContainerStyle}\r\n                    />\r\n                  </span>\r\n                );\r\n              })}\r\n            </StatusTable>\r\n          </React.Fragment>\r\n        </div>\r\n      ))}\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default PropertyOwners;\r\n","import { StatusTable, Row, PDFSvg, CardLabel, CardSubHeader } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { Fragment } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nconst ScruntinyDetails = ({ scrutinyDetails, paymentsList=[] }) => {\r\n  const { t } = useTranslation();\r\n  let count = 0;\r\n  const getTextValues = (data) => {\r\n    if (data?.value && data?.isTransLate) return <span style={{color: \"#00703C\"}}>{t(data?.value)}</span>;\r\n    else if (data?.value && data?.isTransLate) return t(data?.value);\r\n    else if (data?.value) return data?.value;\r\n    else t(\"NA\");\r\n  }\r\n  return (\r\n    <Fragment>\r\n      {!scrutinyDetails?.isChecklist && <div style={{ background: \"#FAFAFA\", border: \"1px solid #D6D5D4\", padding: \"8px\", borderRadius: \"4px\", maxWidth: \"950px\", minWidth: \"280px\" }}>\r\n        <StatusTable>\r\n          <div>\r\n            {scrutinyDetails?.values?.map((value, index) => {\r\n              if (value?.isUnit) return <Row className=\"border-none\" textStyle={value?.value === \"Paid\"?{color:\"darkgreen\"}:(value?.value === \"Unpaid\"?{color:\"red\"}:{})} key={`${value.title}`} label={`${t(`${value.title}`)}`} text={value?.value ? `${getTextValues(value)} ${t(value?.isUnit)}` : t(\"NA\")} labelStyle={value?.isHeader ? {fontSize: \"20px\"} : {}}/>\r\n              else if (value?.isHeader && !value?.isUnit) return <CardSubHeader style={{fontSize: \"20px\", paddingBottom: \"10px\"}}>{t(value?.title)}</CardSubHeader>\r\n              else if (value?.isSubTitle && !value?.isUnit) return <CardSubHeader style={{fontSize: \"20px\", paddingBottom: \"10px\", margin: \"0px\"}}>{t(value?.title)}</CardSubHeader>\r\n              else return <Row className=\"border-none\" textStyle={value?.value === \"Paid\"?{color:\"darkgreen\"}:(value?.value === \"Unpaid\"?{color:\"red\"}:{})} key={`${value.title}`} label={`${t(`${value.title}`)}`} text={getTextValues(value)} labelStyle={value?.isHeader ? {fontSize: \"20px\"} : {}}/>\r\n            })}\r\n            {scrutinyDetails?.permit?.map((value,ind) => {\r\n              return <CardLabel style={{fontWeight:\"400\"}}>{value?.title}</CardLabel>\r\n            })}\r\n          </div>\r\n          <div>\r\n            {scrutinyDetails?.scruntinyDetails?.map((report, index) => {\r\n              return (\r\n                <Fragment>\r\n                  <Row className=\"border-none\" label={`${t(report?.title)}`} labelStyle={{width:\"150%\"}} />\r\n                  <a href={report?.value}> <PDFSvg /> </a>\r\n                  <p style={{ margin: \"8px 0px\", fontWeight: \"bold\", fontSize: \"16px\", lineHeight: \"19px\", color: \"#505A5F\" }}>{t(report?.text)}</p>\r\n                </Fragment>\r\n              )\r\n            })}\r\n          </div>\r\n        </StatusTable>\r\n      </div>}\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default ScruntinyDetails;","import React, { Fragment, useMemo } from \"react\";\r\nimport { Table, StatusTable, Row, CardSubHeader, CardSectionHeader } from \"@egovernments/digit-ui-react-components\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nconst SubOccupancyTable = ({ edcrDetails, applicationData }) => {\r\n  const { t } = useTranslation();\r\n  const isMobile = window.Digit.Utils.browser.isMobile();\r\n\r\n  const tableHeader = [\r\n    {\r\n      name: \"BPA_TABLE_COL_FLOOR\",\r\n      id: \"Floor\",\r\n    },\r\n    {\r\n      name: \"BPA_TABLE_COL_LEVEL\",\r\n      id: \"Level\",\r\n    },\r\n    {\r\n      name: \"BPA_TABLE_COL_OCCUPANCY\",\r\n      id: \"Occupancy\",\r\n    },\r\n    {\r\n      name: \"BPA_TABLE_COL_BUILDUPAREA\",\r\n      id: \"BuildupArea\",\r\n    },\r\n    {\r\n      name: \"BPA_TABLE_COL_FLOORAREA\",\r\n      id: \"FloorArea\",\r\n    },\r\n    {\r\n      name: \"BPA_TABLE_COL_CARPETAREA\",\r\n      id: \"CarpetArea\",\r\n    }\r\n  ]\r\n\r\n  const accessData = (plot) => {\r\n    const name = plot;\r\n    return (originalRow, rowIndex, columns) => {\r\n      return originalRow[name];\r\n    }\r\n  }\r\n\r\n\r\n  const tableColumns = useMemo(\r\n    () => {\r\n      return tableHeader.map((ob) => ({\r\n        Header: t(`${ob.name}`),\r\n        accessor: accessData(ob.id),\r\n        id: ob.id\r\n      }));\r\n    });\r\n\r\n  function getFloorData(block) {\r\n    let floors = [];\r\n    block?.building?.floors.map((ob) => {\r\n      floors.push({\r\n        Floor: t(`BPA_FLOOR_NAME_${ob.number}`),\r\n        Level: ob.number,\r\n        Occupancy: t(`${ob.occupancies?.[0]?.type}`),\r\n        BuildupArea: ob.occupancies?.[0]?.builtUpArea,\r\n        FloorArea: ob.occupancies?.[0]?.floorArea || 0,\r\n        CarpetArea: ob.occupancies?.[0]?.CarpetArea || 0,\r\n        key: t(`BPA_FLOOR_NAME_${ob.number}`),\r\n      });\r\n    });\r\n    return floors;\r\n  }\r\n\r\n  const stringReplaceAll = (str = \"\", searcher = \"\", replaceWith = \"\") => {\r\n    if (searcher == \"\") return str;\r\n    while (str.includes(searcher)) {\r\n      str = str.replace(searcher, replaceWith);\r\n    }\r\n    return str;\r\n  };\r\n\r\n  function getSubOccupancyValues(index) {\r\n    let values = applicationData?.landInfo?.unit;\r\n    let returnValue = \"\";\r\n    if (values?.length > 0) {\r\n      let splitArray = values[index]?.usageCategory?.split(',');\r\n      if (splitArray?.length) {\r\n        const returnValueArray = splitArray.map(data => data ? `${t(`BPA_SUBOCCUPANCYTYPE_${stringReplaceAll(data?.toUpperCase(), \"-\", \"_\")}`)}` : \"NA\");\r\n        returnValue = returnValueArray.join(', ')\r\n      }\r\n    }\r\n    return returnValue ? returnValue : \"NA\";\r\n  }\r\n  \r\n  return (\r\n    <Fragment>\r\n      <div style={{ background: \"#FAFAFA\", border: \"1px solid #D6D5D4\", padding: \"8px\", borderRadius: \"4px\", maxWidth: \"950px\", minWidth: \"280px\" }}>\r\n        <StatusTable>\r\n          {edcrDetails?.values?.map((value, index) => {\r\n            if (value?.isHeader) return <CardSubHeader style={{fontSize: \"20px\", paddingBottom: \"10px\"}}>{t(value?.title)}</CardSubHeader>\r\n            else return <Row className=\"border-none\" labelStyle={{width: \"100%\", fontSize: \"20px\"}} key={`${value.title}`} label={`${t(`${value.title}`)}`} text={value?.value ? value?.value : \"\"} />\r\n          })}\r\n        </StatusTable>\r\n\r\n        {edcrDetails?.subOccupancyTableDetails?.[0]?.value?.planDetail?.blocks.map((block, index) => (\r\n          <div key={index} style={edcrDetails?.subOccupancyTableDetails?.[0]?.value?.planDetail?.blocks?.length > 0 ? {marginBottom: \"30px\", background: \"#FAFAFA\", border: \"1px solid #D6D5D4\", padding: \"8px\", borderRadius: \"4px\", maxWidth: \"950px\", minWidth: \"280px\"} : {marginBottom: \"30px\"}}>\r\n            <CardSubHeader style={{ marginBottom: \"8px\", paddingBottom: \"9px\", color: \"#0B0C0C\", fontSize: \"18px\", lineHeight: \"19px\" }}>{t(\"BPA_BLOCK_SUBHEADER\")} {index + 1}</CardSubHeader>\r\n            <StatusTable>\r\n              <Row className=\"border-none\" textStyle={{wordBreak:\"break-word\"}} label={`${t(\"BPA_SUB_OCCUPANCY_LABEL\")}`} text={getSubOccupancyValues(index)}></Row>\r\n            </StatusTable>\r\n            <div style={window.location.href.includes(\"citizen\") || isMobile?{overflow:\"scroll\"}:{ maxWidth: \"950px\", maxHeight: \"280px\" }}>\r\n              <Table\r\n                className=\"customTable table-fixed-first-column table-border-style\"\r\n                t={t}\r\n                disableSort={false}\r\n                autoSort={true}\r\n                manualPagination={false}\r\n                isPaginationRequired={false}\r\n                initSortId=\"S N \"\r\n                data={getFloorData(block)}\r\n                columns={tableColumns}\r\n                getCellProps={(cellInfo) => { return { style: {} } }}\r\n              />\r\n            </div>\r\n          </div>))}\r\n      </div>\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default SubOccupancyTable;","import React from \"react\";\r\n\r\nconst Reason = ({ headComment, otherComment }) => (\r\n  <div className=\"checkpoint-comments-wrap\">\r\n    <h4>{headComment}</h4>\r\n    <p>{otherComment}</p>\r\n  </div>\r\n);\r\n\r\nexport default Reason;\r\n","import React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { TelePhone, DisplayPhotos } from \"@egovernments/digit-ui-react-components\";\r\nimport Reason from \"./Reason\";\r\n\r\nconst TLCaption = ({ data,OpenImage  }) => {\r\n  const { t } = useTranslation();\r\n  return (\r\n    <div>\r\n      {data.date && <p>{data.date}</p>}\r\n      <p>{data.name}</p>\r\n      {data.mobileNumber && <TelePhone mobile={data.mobileNumber} />}\r\n      {data.source && <p>{t(\"ES_APPLICATION_DETAILS_APPLICATION_CHANNEL_\" + data.source.toUpperCase())}</p>}\r\n      {data.comment && <Reason otherComment={data?.otherComment} headComment={data?.comment}></Reason>}\r\n      {data?.wfComment ? <div>{data?.wfComment?.map( e => \r\n      <div className=\"TLComments\">\r\n        <h3>{t(\"WF_COMMON_COMMENTS\")}</h3>\r\n        <p>{e}</p>\r\n      </div>\r\n      )}</div> : null}\r\n      {data?.thumbnailsToShow?.thumbs?.length > 0 ? <div className=\"TLComments\">\r\n      <h3>{t(\"CS_COMMON_ATTACHMENTS\")}</h3>\r\n      <DisplayPhotos srcs={data?.thumbnailsToShow.thumbs} onClick={(src, index) => {OpenImage(src, index,data?.thumbnailsToShow)}} />\r\n    </div> : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TLCaption;\r\n","\r\nimport React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { CardSubHeader, StatusTable, Row, CardSectionHeader } from \"@egovernments/digit-ui-react-components\";\r\n\r\nfunction TLTradeAccessories({ units }) {\r\n  const { t } = useTranslation();\r\n  return (\r\n    <React.Fragment>\r\n      {units.map((unit, index) => (\r\n        // TODO, Later will move to classes\r\n        <div key={t(unit?.title)} style={{ marginTop: \"19px\", background: \"#FAFAFA\", border: \"1px solid #D6D5D4\", borderRadius: \"4px\", padding: \"8px\", lineHeight: \"19px\", maxWidth: \"600px\", minWidth: \"280px\" }}>\r\n          <CardSubHeader style={{ marginBottom: \"8px\", paddingBottom: \"9px\", color: \"#0B0C0C\", fontSize: \"16px\", lineHeight: \"19px\" }}>{`${t(unit?.title)} ${index + 1}`}</CardSubHeader>\r\n          <React.Fragment key={index}>\r\n            <StatusTable style={{ position: \"relative\", marginTop: \"19px\" }}>\r\n              <div\r\n                style={{\r\n                  position: \"absolute\",\r\n                  maxWidth: \"640px\",\r\n                  top: 0,\r\n                  left: 0,\r\n                  bottom: 0,\r\n                  right: 0,\r\n                  width: \"auto\",\r\n                }}\r\n              ></div>\r\n              {unit?.values?.map((value, index) => {\r\n                if (value.map === true && value.value !== \"N/A\") {\r\n                  return <Row key={t(value.title)} label={t(value.title)} text={<img src={t(value.value)} alt=\"\" />} />;\r\n                }\r\n                return (\r\n                  <Row\r\n                    key={t(value.title)}\r\n                    label={`${t(value.title)}:`}\r\n                    text={t(value.value) || \"N/A\"}\r\n                    last={index === value?.values?.length - 1}\r\n                    caption={value.caption}\r\n                    className=\"border-none\"\r\n                    // TODO, Later will move to classes\r\n                    rowContainerStyle={{justifyContent: \"space-between\", fontSize: \"16px\", lineHeight: \"19px\", color: \"#0B0C0C\"}}\r\n                  />\r\n                );\r\n              })}\r\n            </StatusTable>\r\n          </React.Fragment>\r\n        </div>\r\n      ))}\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default TLTradeAccessories;\r\n","import React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { CardSubHeader, StatusTable, Row, CardSectionHeader } from \"@egovernments/digit-ui-react-components\";\r\n\r\nfunction TLTradeUnits({ units }) {\r\n  const { t } = useTranslation();\r\n  return (\r\n    <React.Fragment>\r\n      {units.map((unit, index) => (\r\n        // TODO, Later will move to classes\r\n        <div key={t(unit?.title)} style={{ marginTop: \"19px\", background: \"#FAFAFA\", border: \"1px solid #D6D5D4\", borderRadius: \"4px\", padding: \"8px\", lineHeight: \"19px\", maxWidth: \"600px\", minWidth: \"280px\" }}>\r\n          <CardSubHeader style={{ marginBottom: \"9px\", paddingBottom: \"9px\", color: \"#0B0C0C\", fontSize: \"16px\", lineHeight: \"19px\" }}>{`${t(unit?.title)} ${index + 1}`}</CardSubHeader>\r\n          <React.Fragment key={index}>\r\n            <StatusTable style={{ position: \"relative\", marginTop: \"19px\" }}>\r\n              <div\r\n                style={{\r\n                  position: \"absolute\",\r\n                  maxWidth: \"640px\",\r\n                  top: 0,\r\n                  left: 0,\r\n                  bottom: 0,\r\n                  right: 0,\r\n                  width: \"auto\"\r\n                }}\r\n              ></div>\r\n              {unit?.values?.map((value, index) => {\r\n                if (value.map === true && value.value !== \"N/A\") {\r\n                  return <Row key={t(value.title)} label={t(value.title)} text={<img src={t(value.value)} alt=\"\" />} />;\r\n                }\r\n                return (\r\n                  <Row\r\n                    key={t(value.title)}\r\n                    label={`${t(value.title)}:`}\r\n                    text={t(value.value) || \"NA\"}\r\n                    last={index === value?.values?.length - 1}\r\n                    caption={value.caption}\r\n                    className=\"border-none\"\r\n                    // TODO, Later will move to classes\r\n                    rowContainerStyle={{justifyContent: \"space-between\", fontSize: \"16px\", lineHeight: \"19px\", color: \"#0B0C0C\"}}\r\n                  />\r\n                );\r\n              })}\r\n            </StatusTable>\r\n          </React.Fragment>\r\n        </div>\r\n      ))}\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default TLTradeUnits;\r\n","import {\r\n  BreakLine,\r\n  Card, CardSectionHeader, CardSubHeader, CheckPoint, ConnectingCheckPoints, Loader, Row, StatusTable\r\n} from \"@egovernments/digit-ui-react-components\";\r\nimport React, { Fragment } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\nimport BPADocuments from \"./BPADocuments\";\r\nimport InspectionReport from \"./InspectionReport\";\r\nimport NOCDocuments from \"./NOCDocuments\";\r\nimport PermissionCheck from \"./PermissionCheck\";\r\nimport PropertyDocuments from \"./PropertyDocuments\";\r\nimport PropertyEstimates from \"./PropertyEstimates\";\r\nimport PropertyFloors from \"./PropertyFloors\";\r\nimport PropertyOwners from \"./PropertyOwners\";\r\nimport ScruntinyDetails from \"./ScruntinyDetails\";\r\nimport SubOccupancyTable from \"./SubOccupancyTable\";\r\nimport TLCaption from \"./TLCaption\";\r\nimport TLTradeAccessories from \"./TLTradeAccessories\";\r\nimport TLTradeUnits from \"./TLTradeUnits\";\r\nimport DocumentsPreview from \"./DocumentsPreview\";\r\n\r\nfunction ApplicationDetailsContent({\r\n  applicationDetails,\r\n  workflowDetails,\r\n  isDataLoading,\r\n  applicationData,\r\n  businessService,\r\n  timelineStatusPrefix,\r\n  showTimeLine=true,\r\n  statusAttribute = \"status\",\r\n  paymentsList\r\n}) {\r\n  const { t } = useTranslation();\r\n\r\n  function OpenImage(imageSource, index,thumbnailsToShow){\r\n    window.open(thumbnailsToShow?.fullImage?.[0],\"_blank\");\r\n  }\r\n\r\n  const getTimelineCaptions = (checkpoint) => {\r\n    if (checkpoint.state === \"OPEN\" || checkpoint.status === \"INITIATED\" && !(window.location.href.includes(\"/obps/\"))) {\r\n      const caption = {\r\n        date: Digit.DateUtils.ConvertTimestampToDate(applicationData?.auditDetails?.createdTime),\r\n        source: applicationData?.channel || \"\",\r\n      };\r\n      return <TLCaption data={caption} />;\r\n    } \r\n    else if(window.location.href.includes(\"/obps/\") || window.location.href.includes(\"/noc/\"))\r\n    {\r\n      const caption = {\r\n        date: checkpoint?.auditDetails?.lastModified,\r\n        name: checkpoint?.assignes?.[0]?.name,\r\n        mobileNumber: checkpoint?.assignes?.[0]?.mobileNumber,\r\n        comment: t(checkpoint?.comment),\r\n        wfComment : checkpoint.wfComment,\r\n        thumbnailsToShow : checkpoint?.thumbnailsToShow,\r\n      };\r\n      return <TLCaption data={caption} OpenImage={OpenImage} />;\r\n    }\r\n    else {\r\n      const caption = {\r\n        date: Digit.DateUtils?.ConvertTimestampToDate(applicationData?.auditDetails?.lastModifiedTime),\r\n        // name: checkpoint?.assigner?.name,\r\n        name: checkpoint?.assignes?.[0]?.name,\r\n        // mobileNumber: checkpoint?.assigner?.mobileNumber,\r\n        wfComment : checkpoint?.wfComment,\r\n        mobileNumber: checkpoint?.assignes?.[0]?.mobileNumber,\r\n      };\r\n      return <TLCaption data={caption} />;\r\n    }\r\n  };\r\n\r\n  const getTranslatedValues = (dataValue, isNotTranslated) => {\r\n    if (dataValue) {\r\n      return !isNotTranslated ? t(dataValue) : dataValue;\r\n    } else {\r\n      return t(\"NA\");\r\n    }\r\n  };\r\n\r\n  const checkLocation =\r\n    window.location.href.includes(\"employee/tl\") || window.location.href.includes(\"employee/obps\") || window.location.href.includes(\"employee/noc\");\r\n  const isNocLocation = window.location.href.includes(\"employee/noc\");\r\n  const isBPALocation = window.location.href.includes(\"employee/obps\");\r\n\r\n  const getRowStyles = () => {\r\n    if (window.location.href.includes(\"employee/obps\") || window.location.href.includes(\"employee/noc\")) {\r\n      return { justifyContent: \"space-between\", fontSize: \"16px\", lineHeight: \"19px\", color: \"#0B0C0C\" };\r\n    } else if (checkLocation) {\r\n      return { justifyContent: \"space-between\", fontSize: \"16px\", lineHeight: \"19px\", color: \"#0B0C0C\" };\r\n    } else {\r\n      return {};\r\n    }\r\n  };\r\n\r\n  const getTableStyles = () => {\r\n    if (window.location.href.includes(\"employee/obps\") || window.location.href.includes(\"employee/noc\")) {\r\n      return { position: \"relative\", marginTop: \"19px\" };\r\n    } else if (checkLocation) {\r\n      return { position: \"relative\", marginTop: \"19px\" };\r\n    } else {\r\n      return {};\r\n    }\r\n  };\r\n\r\n  const getMainDivStyles = () => {\r\n    if (window.location.href.includes(\"employee/obps\") || window.location.href.includes(\"employee/noc\")) {\r\n      return { lineHeight: \"19px\", maxWidth: \"950px\", minWidth: \"280px\" };\r\n    } else if (checkLocation) {\r\n      return { lineHeight: \"19px\", maxWidth: \"600px\", minWidth: \"280px\" };\r\n    } else {\r\n      return {};\r\n    }\r\n  };\r\n\r\n  const getTextValue = (value) => {\r\n    if (value?.skip) return value.value;\r\n    else if(value?.isUnit) return value?.value ? `${getTranslatedValues(value?.value, value?.isNotTranslated)} ${t(value?.isUnit)}` : t(\"N/A\");\r\n    else return value?.value ? getTranslatedValues(value?.value, value?.isNotTranslated) : t(\"N/A\");\r\n  }\r\n\r\n  return (\r\n    <Card style={{ position: \"relative\" }} className={\"employeeCard-override\"}>\r\n      {applicationDetails?.applicationDetails?.map((detail, index) => (\r\n        <React.Fragment key={index}>\r\n          <div style={getMainDivStyles()}>\r\n            {index === 0 && !detail.asSectionHeader ? (\r\n              <CardSubHeader style={{ marginBottom: \"16px\", fontSize: \"24px\" }}>{t(detail.title)}</CardSubHeader>\r\n            ) : (\r\n              <React.Fragment>\r\n                <CardSectionHeader\r\n                  style={\r\n                    index == 0 && checkLocation\r\n                      ? { marginBottom: \"16px\", fontSize: \"24px\" }\r\n                      : { marginBottom: \"16px\", marginTop: \"32px\", fontSize: \"24px\" }\r\n                  }\r\n                >\r\n                  {isNocLocation ? `${t(detail.title)}` : t(detail.title)}\r\n                  {detail?.Component ? <detail.Component /> : null}\r\n                </CardSectionHeader>\r\n              </React.Fragment>\r\n            )}\r\n            {/* TODO, Later will move to classes */}\r\n            <StatusTable style={getTableStyles()}>\r\n              {detail?.title &&\r\n                !detail?.title.includes(\"NOC\") &&\r\n                detail?.values?.map((value, index) => {\r\n                  if (value.map === true && value.value !== \"N/A\") {\r\n                    return <Row key={t(value.title)} label={t(value.title)} text={<img src={t(value.value)} alt=\"\" />} />;\r\n                  }\r\n                  if (value?.isLink == true)\r\n                  {\r\n                    return (\r\n                      <Row\r\n                        key={t(value.title)}\r\n                        label={window.location.href.includes(\"tl\") ? <div style={{width:\"200%\"}}><Link to={value?.to}><span className=\"link\" style={{color: \"#F47738\"}}>{t(value?.title)}</span></Link></div> : isNocLocation || isBPALocation ? `${t(value.title)}` : t(value.title)}\r\n                        text={<div><Link to={value?.to}><span className=\"link\" style={{color: \"#F47738\"}}>{value?.value}</span></Link></div>}\r\n                        last={index === detail?.values?.length - 1}\r\n                        caption={value.caption}\r\n                        className=\"border-none\"\r\n                        rowContainerStyle={getRowStyles()}\r\n                      />\r\n                    );\r\n                  }\r\n                  return (\r\n                    <Row\r\n                      key={t(value.title)}\r\n                      label={isNocLocation || isBPALocation ? `${t(value.title)}` : t(value.title)}\r\n                      text={getTextValue(value)}\r\n                      last={index === detail?.values?.length - 1}\r\n                      caption={value.caption}\r\n                      className=\"border-none\"\r\n                      // TODO, Later will move to classes\r\n                      rowContainerStyle={getRowStyles()}\r\n                    />\r\n                  );\r\n                })}\r\n            </StatusTable>\r\n          </div>\r\n          {detail?.belowComponent && <detail.belowComponent />}\r\n          {detail?.additionalDetails?.inspectionReport && <ScruntinyDetails scrutinyDetails={detail?.additionalDetails} paymentsList={paymentsList}/>}\r\n          {applicationDetails?.applicationData?.additionalDetails?.fieldinspection_pending?.length > 0 && detail?.additionalDetails?.fiReport && (\r\n            <InspectionReport fiReport={applicationDetails?.applicationData?.additionalDetails?.fieldinspection_pending} />\r\n          )}\r\n          {/* {detail?.additionalDetails?.FIdocuments && detail?.additionalDetails?.values?.map((doc,index) => (\r\n            <div key={index}>\r\n            {doc.isNotDuplicate && <div> \r\n             <StatusTable>\r\n             <Row label={t(doc?.documentType)}></Row>\r\n             <OBPSDocument value={detail?.additionalDetails?.values} Code={doc?.documentType} index={index}/> \r\n             <hr style={{color:\"#cccccc\",backgroundColor:\"#cccccc\",height:\"2px\",marginTop:\"20px\",marginBottom:\"20px\"}}/>\r\n             </StatusTable>\r\n             </div>}\r\n             </div>\r\n          )) } */}\r\n          {detail?.additionalDetails?.floors && <PropertyFloors floors={detail?.additionalDetails?.floors} />}\r\n          {detail?.additionalDetails?.owners && <PropertyOwners owners={detail?.additionalDetails?.owners} />}\r\n          {detail?.additionalDetails?.units && <TLTradeUnits units={detail?.additionalDetails?.units} />}\r\n          {detail?.additionalDetails?.accessories && <TLTradeAccessories units={detail?.additionalDetails?.accessories} />}\r\n          {detail?.additionalDetails?.permissions && workflowDetails?.data?.nextActions?.length > 0 && (\r\n            <PermissionCheck applicationData={applicationDetails?.applicationData} t={t} permissions={detail?.additionalDetails?.permissions} />\r\n          )}\r\n          {detail?.additionalDetails?.obpsDocuments && (\r\n            <BPADocuments\r\n              t={t}\r\n              applicationData={applicationDetails?.applicationData}\r\n              docs={detail.additionalDetails.obpsDocuments}\r\n              bpaActionsDetails={workflowDetails}\r\n            />\r\n          )}\r\n          {detail?.additionalDetails?.noc && (\r\n            <NOCDocuments\r\n              t={t}\r\n              isNoc={true}\r\n              NOCdata={detail.values}\r\n              applicationData={applicationDetails?.applicationData}\r\n              docs={detail.additionalDetails.noc}\r\n              noc={detail.additionalDetails?.data}\r\n              bpaActionsDetails={workflowDetails}\r\n            />\r\n          )}\r\n          {detail?.additionalDetails?.scruntinyDetails && <ScruntinyDetails scrutinyDetails={detail?.additionalDetails} />}\r\n          {detail?.additionalDetails?.buildingExtractionDetails && <ScruntinyDetails scrutinyDetails={detail?.additionalDetails} />}\r\n          {detail?.additionalDetails?.subOccupancyTableDetails && (\r\n            <SubOccupancyTable edcrDetails={detail?.additionalDetails} applicationData={applicationDetails?.applicationData} />\r\n          )}\r\n          {detail?.additionalDetails?.documentsWithUrl && <DocumentsPreview documents={detail?.additionalDetails?.documentsWithUrl} />}\r\n          {detail?.additionalDetails?.documents && <PropertyDocuments documents={detail?.additionalDetails?.documents} />}\r\n          {detail?.additionalDetails?.taxHeadEstimatesCalculation && (\r\n            <PropertyEstimates taxHeadEstimatesCalculation={detail?.additionalDetails?.taxHeadEstimatesCalculation} />\r\n          )}\r\n        </React.Fragment>\r\n      ))}\r\n      {showTimeLine && workflowDetails?.data?.timeline?.length > 0 && (\r\n        <React.Fragment>\r\n          <BreakLine />\r\n          {(workflowDetails?.isLoading || isDataLoading) && <Loader />}\r\n          {!workflowDetails?.isLoading && !isDataLoading && (\r\n            <Fragment>\r\n              <CardSectionHeader style={{ marginBottom: \"16px\", marginTop: \"32px\" }}>\r\n                {t(\"ES_APPLICATION_DETAILS_APPLICATION_TIMELINE\")}\r\n              </CardSectionHeader>\r\n              {workflowDetails?.data?.timeline && workflowDetails?.data?.timeline?.length === 1 ? (\r\n                <CheckPoint\r\n                  isCompleted={true}\r\n                  label={t(`${timelineStatusPrefix}${workflowDetails?.data?.timeline[0]?.state}`)}\r\n                  customChild={getTimelineCaptions(workflowDetails?.data?.timeline[0])}\r\n                />\r\n              ) : (\r\n                <ConnectingCheckPoints>\r\n                  {workflowDetails?.data?.timeline &&\r\n                    workflowDetails?.data?.timeline.map((checkpoint, index, arr) => {\r\n                      return (\r\n                        <React.Fragment key={index}>\r\n                          <CheckPoint\r\n                            keyValue={index}\r\n                            isCompleted={index === 0}\r\n                            info={checkpoint.comment}\r\n                            label={t(\r\n                              `${timelineStatusPrefix}${\r\n                                checkpoint?.performedAction === \"REOPEN\" ? checkpoint?.performedAction : checkpoint?.[statusAttribute]\r\n                              }`\r\n                            )}\r\n                            customChild={getTimelineCaptions(checkpoint)}\r\n                          />\r\n                        </React.Fragment>\r\n                      );\r\n                    })}\r\n                </ConnectingCheckPoints>\r\n              )}\r\n            </Fragment>\r\n          )}\r\n        </React.Fragment>\r\n      )}\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default ApplicationDetailsContent;\r\n","import React from \"react\";\r\nimport { Toast } from \"@egovernments/digit-ui-react-components\";\r\n\r\nfunction ApplicationDetailsToast({ t, showToast, closeToast, businessService }) {\r\n  if (businessService?.includes(\"NewTL\") || businessService?.includes(\"TL\") || businessService?.includes(\"EDITRENEWAL\")) {\r\n    let label = \"\";\r\n    switch (showToast?.action?.action) {\r\n      case \"SENDBACK\":\r\n        label = showToast?.key === \"error\" ? showToast?.error?.message : t(\"TL_SENDBACK_CHECKLIST_MESSAGE_HEAD\");\r\n        break;\r\n      case \"FORWARD\":\r\n        label = showToast?.key === \"error\" ? showToast?.error?.message : t(\"TL_FORWARD_SUCCESS_MESSAGE_MAIN\");\r\n        break;\r\n      case \"APPROVE\":\r\n        label = showToast?.key === \"error\" ? showToast?.error?.message : t(\"TL_APPROVAL_CHECKLIST_MESSAGE_HEAD\");\r\n        break;\r\n      case \"SENDBACKTOCITIZEN\":\r\n        label = showToast?.key === \"error\" ? showToast?.error?.message : t(\"TL_SENDBACK_TOCITIZEN_CHECKLIST_MESSAGE_HEAD\");\r\n        break;\r\n      case \"REJECT\":\r\n        label = showToast?.key === \"error\" ? showToast?.error?.message : t(\"TL_APPROVAL_REJ_MESSAGE_HEAD\");\r\n        break;\r\n      case \"RESUBMIT\":\r\n        label = showToast?.key === \"error\" ? showToast?.error?.message : t(\"TL_APPLICATION_RESUBMIT_SUCCESS_MESSAGE_MAIN\");\r\n        break;\r\n      case \"CANCEL\":\r\n        label = showToast?.key === \"error\" ? showToast?.error?.message : t(\"TL_TL_CANCELLED_MESSAGE_HEAD\");\r\n        break;\r\n      default:\r\n        label = showToast?.key === \"error\" ? showToast?.error?.message : t(`ES_${businessService}_${showToast?.action?.action}_UPDATE_SUCCESS`);\r\n    }\r\n    return <React.Fragment>{showToast && <Toast error={showToast.key === \"error\"} label={label} onClose={closeToast} />}</React.Fragment>;\r\n  } else if (businessService?.includes(\"BPA\") || businessService?.includes(\"BPA_LOW\") || businessService?.includes(\"BPA_OC\")) {\r\n    const getMessage = (messages = []) => {\r\n      let returnValue = messages[0];\r\n      if(messages?.length == 2) returnValue = businessService?.includes(\"BPA_OC\") ? t(messages[1]) : t(messages [0]);\r\n      else returnValue = t(messages[0]);\r\n      return returnValue;\r\n    }\r\n    let label = \"\";\r\n    switch (showToast?.action?.action) {\r\n      case \"REVOCATE\":\r\n        label = showToast?.key === \"error\" ? showToast?.error?.message : getMessage([\"BPA_APPROVAL_REVOCATED_MESSAGE_HEAD\", \"BPA_APPROVAL_OC_REVOCATED_MESSAGE_HEAD\"]);\r\n        break;\r\n      case \"VERIFY_AND_FORWARD\":\r\n        label = showToast?.key === \"error\" ? showToast?.error?.message : getMessage([\"BPA_FORWARD_SUCCESS_MESSAGE_MAIN\"]);\r\n        break;\r\n      case \"SEND_BACK_TO_CITIZEN\":\r\n        label = showToast?.key === \"error\" ? showToast?.error?.message : getMessage([\"BPA_SENDBACK_SUCCESS_MESSAGE_MAIN\"]);\r\n        break;\r\n      case \"APPROVE\":\r\n        label = showToast?.key === \"error\" ? showToast?.error?.message : getMessage([\"BPA_APPROVAL_CHECKLIST_MESSAGE_HEAD\"]);\r\n        break;\r\n      case \"REJECT\":\r\n        label = showToast?.key === \"error\" ? showToast?.error?.message : getMessage([\"BPA_APPROVAL_REJECTED_MESSAGE_HEAD\", \"BPA_OC_APPROVAL_REJECTED_MESSAGE_HEAD\"]);\r\n        break;\r\n      case \"FORWARD\":\r\n        label = showToast?.key === \"error\" ? showToast?.error?.message : getMessage([\"BPA_FORWARD_SUCCESS_MESSAGE_MAIN\"]);\r\n        break;\r\n      case \"SEND_BACK_FOR_DOCUMENT_VERIFICATION\":\r\n      case \"SEND_BACK_FOR_FIELD_INSPECTION\":\r\n        label = showToast?.key === \"error\" ? showToast?.error?.message : getMessage([\"BPA_SENDBACK_SUCCESS_MESSAGE_MAIN\"]);\r\n        break;\r\n      default:\r\n        label = showToast?.key === \"error\" ? showToast?.error?.message : t(`ES_${businessService}_${showToast?.action?.action}_UPDATE_SUCCESS`);\r\n    }\r\n    return <React.Fragment>{showToast && <Toast error={showToast.key === \"error\"} label={label} onClose={closeToast} />}</React.Fragment>;\r\n  } else {\r\n    const label = showToast?.key === \"error\" ? showToast?.error?.message : `ES_${businessService}_${showToast?.action?.action}_UPDATE_SUCCESS`;\r\n    return <React.Fragment>{showToast && <Toast error={showToast.key === \"error\"} label={t(label)} onClose={closeToast} />}</React.Fragment>;\r\n  }\r\n}\r\n\r\nexport default ApplicationDetailsToast;\r\n","import React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { SubmitBar, ActionBar, Menu } from \"@egovernments/digit-ui-react-components\";\r\n\r\nfunction ApplicationDetailsActionBar({ workflowDetails, displayMenu, onActionSelect, setDisplayMenu, businessService, forcedActionPrefix,ActionBarStyle={},MenuStyle={} }) {\r\n  const { t } = useTranslation();\r\n  let user = Digit.UserService.getUser();\r\n  if (window.location.href.includes(\"/obps\") || window.location.href.includes(\"/noc\")) {\r\n    const userInfos = sessionStorage.getItem(\"Digit.citizen.userRequestObject\");\r\n    const userInfo = userInfos ? JSON.parse(userInfos) : {};\r\n    user = userInfo?.value;\r\n  }\r\n  const userRoles = user?.info?.roles?.map((e) => e.code);\r\n  let isSingleButton = false;\r\n  let isMenuBotton = false;\r\n\r\n  let actions = workflowDetails?.data?.actionState?.nextActions?.filter((e) => {\r\n    return userRoles.some((role) => e.roles?.includes(role)) || !e.roles;\r\n  });\r\n\r\n  if (((window.location.href.includes(\"/obps\") || window.location.href.includes(\"/noc\")) && actions?.length == 1) || (actions?.[0]?.redirectionUrl?.pathname.includes(\"/pt/property-details/\")) && actions?.length == 1) {\r\n    isMenuBotton = false;\r\n    isSingleButton = true; \r\n  } else if (actions?.length > 0) {\r\n    isMenuBotton = true; \r\n    isSingleButton = false;\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {!workflowDetails?.isLoading && isMenuBotton && !isSingleButton && (\r\n        <ActionBar style={{...ActionBarStyle}}>\r\n          {displayMenu && workflowDetails?.data?.actionState?.nextActions ? (\r\n            <Menu\r\n              localeKeyPrefix={forcedActionPrefix || `WF_EMPLOYEE_${businessService?.toUpperCase()}`}\r\n              options={actions}\r\n              optionKey={\"action\"}\r\n              t={t}\r\n              onSelect={onActionSelect}\r\n              style={MenuStyle}\r\n            />\r\n          ) : null}\r\n          <SubmitBar label={t(\"WF_TAKE_ACTION\")} onSubmit={() => setDisplayMenu(!displayMenu)} />\r\n        </ActionBar>\r\n      )}\r\n      {!workflowDetails?.isLoading && !isMenuBotton && isSingleButton && (\r\n        <ActionBar style={{...ActionBarStyle}}>\r\n          <button\r\n              style={{ color: \"#FFFFFF\", fontSize: \"19px\" }}\r\n              className={\"submit-bar\"}\r\n              name={actions?.[0]?.action}\r\n              value={actions?.[0]?.action}\r\n              onClick={(e) => { onActionSelect(actions?.[0] || {})}}>\r\n              {t(`${forcedActionPrefix || `WF_EMPLOYEE_${businessService?.toUpperCase()}`}_${actions?.[0]?.action}`)}\r\n            </button>\r\n        </ActionBar>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default ApplicationDetailsActionBar;\r\n","import { Card, ButtonSelector, CardText, CardSubHeader, Modal, CardSectionHeader, Row } from \"@egovernments/digit-ui-react-components\";\r\nimport React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nconst Close = () => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"#FFFFFF\">\r\n      <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\r\n      <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z\" />\r\n    </svg>\r\n  );\r\n  \r\nconst CloseBtn = (props) => {\r\n    return (\r\n      <div className=\"icon-bg-secondary\" onClick={props.onClick}>\r\n        <Close />\r\n      </div>\r\n    );\r\n  };\r\n\r\nfunction ApplicationDetailsWarningPopup({ action,workflowDetails,businessService,isWarningPop,closeWarningPopup  }) {\r\nconst { t } = useTranslation();\r\nconst isMobile = window.Digit.Utils.browser.isMobile();\r\nreturn (\r\n    <React.Fragment>\r\n    <Modal\r\n      headerBarMain={<h1 className=\"heading-m\">{t(\"PT_DUES_ARE_PENDING\")}</h1>}\r\n      headerBarEnd={\r\n        <CloseBtn\r\n          onClick={() => {\r\n            closeWarningPopup();\r\n          }}\r\n        />\r\n      }\r\n      hideSubmit={true}\r\n      isDisabled={false}\r\n      popupStyles={isMobile ? {} : { width: \"29%\", marginTop: \"auto\" }}\r\n    >\r\n   <Card>\r\n        <div style={{marginBottom:\"30px\"}}>\r\n          <h1>{t(\"PT_YOU_HAVE\")} {action?.AmountDueForPay} {t(\"PT_DUE_WARNING_MSG2\")}</h1>\r\n        </div>\r\n       <Row rowContainerStyle={{display:\"flex\"}} labelStyle={{fontSize:\"24px\",fontWeight:\"700\",marginRight:\"10%\"}} textStyle={{fontSize:\"24px\",fontWeight:\"700\",marginBottom:\"20px\"}} label={`${t(\"PT_AMOUNT_DUE\")}`} text={`${t(action?.AmountDueForPay)}`} />\r\n        <div style={{ width: \"100%\", display: \"flex\", justifyContent: \"flex-end\" }}>\r\n          <ButtonSelector theme=\"border\" label={t('ES_PT_COMMON_CANCEL')} onSubmit={closeWarningPopup} style={{ marginLeft: \"10px\" }} />\r\n          <ButtonSelector label={t('PT_COLLECT')} onSubmit={() => window.location.assign(`${window.location.origin}${action?.redirectionUrl?.pathname}`)} style={{ marginLeft: \"10px\" }} />\r\n        </div>\r\n      </Card>\r\n   </Modal>\r\n  )\r\n    </React.Fragment>\r\n)\r\n}\r\n\r\nexport default ApplicationDetailsWarningPopup;","import React, { useEffect, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useQueryClient } from \"react-query\";\r\n\r\nimport { Loader } from \"@egovernments/digit-ui-react-components\";\r\n\r\nimport ActionModal from \"./Modal\";\r\n\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport ApplicationDetailsContent from \"./components/ApplicationDetailsContent\";\r\nimport ApplicationDetailsToast from \"./components/ApplicationDetailsToast\";\r\nimport ApplicationDetailsActionBar from \"./components/ApplicationDetailsActionBar\";\r\nimport ApplicationDetailsWarningPopup from \"./components/ApplicationDetailsWarningPopup\";\r\n\r\nconst ApplicationDetails = (props) => {\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const state = Digit.ULBService.getStateId();\r\n  const { t } = useTranslation();\r\n  const history = useHistory();\r\n  let { id: applicationNumber } = useParams();\r\n  const [displayMenu, setDisplayMenu] = useState(false);\r\n  const [selectedAction, setSelectedAction] = useState(null);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [isEnableLoader, setIsEnableLoader] = useState(false);\r\n  const [isWarningPop, setWarningPopUp ] = useState(false);\r\n\r\n  const {\r\n    applicationDetails,\r\n    showToast,\r\n    setShowToast,\r\n    isLoading,\r\n    isDataLoading,\r\n    applicationData,\r\n    mutate,\r\n    nocMutation,\r\n    workflowDetails,\r\n    businessService,\r\n    closeToast,\r\n    moduleCode,\r\n    timelineStatusPrefix,\r\n    forcedActionPrefix,\r\n    statusAttribute,\r\n    ActionBarStyle,\r\n    MenuStyle,\r\n    paymentsList,\r\n    showTimeLine=true,\r\n  } = props;\r\n  useEffect(() => {\r\n    if (showToast) {\r\n      workflowDetails.revalidate();\r\n    }\r\n  }, [showToast]);\r\n\r\n  function onActionSelect(action) {\r\n    if (action) {\r\n      if(action?.isWarningPopUp){\r\n        setWarningPopUp(true);\r\n      }\r\n      else if (action?.redirectionUrll) {\r\n        window.location.assign(`${window.location.origin}/digit-ui/employee/payment/collect/${action?.redirectionUrll?.pathname}`);\r\n      } else if (!action?.redirectionUrl) {\r\n        setShowModal(true);\r\n      } else {\r\n        history.push({\r\n          pathname: action.redirectionUrl?.pathname,\r\n          state: { ...action.redirectionUrl?.state },\r\n        });\r\n      }\r\n    } \r\n    setSelectedAction(action);\r\n    setDisplayMenu(false);\r\n  }\r\n\r\n  const queryClient = useQueryClient();\r\n\r\n  const closeModal = () => {\r\n    setSelectedAction(null);\r\n    setShowModal(false);\r\n  };\r\n\r\n  const closeWarningPopup = () => {\r\n    setWarningPopUp(false);\r\n  }\r\n\r\n  const submitAction = async (data, nocData = false, isOBPS = {}) => {\r\n    setIsEnableLoader(true);\r\n    if (typeof data?.customFunctionToExecute === \"function\") {\r\n      data?.customFunctionToExecute({ ...data });\r\n    }\r\n    if (nocData !== false && nocMutation) {\r\n      const nocPrmomises = nocData?.map(noc => {\r\n        return nocMutation?.mutateAsync(noc)\r\n      })\r\n      try {\r\n        setIsEnableLoader(true);\r\n        const values = await Promise.all(nocPrmomises);\r\n        values && values.map((ob) => {\r\n          Digit.SessionStorage.del(ob?.Noc?.[0]?.nocType);\r\n        })\r\n      }\r\n      catch (err) {\r\n        setIsEnableLoader(false);\r\n        let errorValue = err?.response?.data?.Errors?.[0]?.code ? t(err?.response?.data?.Errors?.[0]?.code) : err?.response?.data?.Errors?.[0]?.message || err;\r\n        closeModal();\r\n        setShowToast({ key: \"error\", error: {message: errorValue}});\r\n        setTimeout(closeToast, 5000);\r\n        return;\r\n      }\r\n    }\r\n    if (mutate) {\r\n      setIsEnableLoader(true);\r\n      mutate(data, {\r\n        onError: (error, variables) => {\r\n          setIsEnableLoader(false);\r\n          setShowToast({ key: \"error\", error });\r\n          setTimeout(closeToast, 5000);\r\n        },\r\n        onSuccess: (data, variables) => {\r\n          setIsEnableLoader(false);\r\n          if (isOBPS?.bpa) {\r\n            data.selectedAction = selectedAction;\r\n            history.replace(`/digit-ui/employee/obps/response`, { data: data });\r\n          }\r\n          if (isOBPS?.isStakeholder) {\r\n            data.selectedAction = selectedAction;\r\n            history.push(`/digit-ui/employee/obps/stakeholder-response`, { data: data });\r\n          }\r\n          if (isOBPS?.isNoc) {\r\n            history.push(`/digit-ui/employee/noc/response`, { data: data });\r\n          }\r\n          setShowToast({ key: \"success\", action: selectedAction });\r\n          setTimeout(closeToast, 5000);\r\n          queryClient.clear();\r\n          queryClient.refetchQueries(\"APPLICATION_SEARCH\");\r\n        },\r\n      });\r\n    }\r\n\r\n    closeModal();\r\n  };\r\n\r\n  if (isLoading || isEnableLoader) {\r\n    return <Loader />;\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {!isLoading ? (\r\n        <React.Fragment>\r\n          <ApplicationDetailsContent\r\n            applicationDetails={applicationDetails}\r\n            workflowDetails={workflowDetails}\r\n            isDataLoading={isDataLoading}\r\n            applicationData={applicationData}\r\n            businessService={businessService}\r\n            timelineStatusPrefix={timelineStatusPrefix}\r\n            statusAttribute={statusAttribute}\r\n            paymentsList={paymentsList}\r\n            showTimeLine={showTimeLine}\r\n          />\r\n          {showModal ? (\r\n            <ActionModal\r\n              t={t}\r\n              action={selectedAction}\r\n              tenantId={tenantId}\r\n              state={state}\r\n              id={applicationNumber}\r\n              applicationDetails={applicationDetails}\r\n              applicationData={applicationDetails?.applicationData}\r\n              closeModal={closeModal}\r\n              submitAction={submitAction}\r\n              actionData={workflowDetails?.data?.timeline}\r\n              businessService={businessService}\r\n              workflowDetails={workflowDetails}\r\n              moduleCode={moduleCode}\r\n            />\r\n          ) : null}\r\n          {isWarningPop ? (\r\n            <ApplicationDetailsWarningPopup \r\n            action={selectedAction}\r\n            workflowDetails={workflowDetails}\r\n            businessService={businessService}\r\n            isWarningPop={isWarningPop}\r\n            closeWarningPopup={closeWarningPopup}\r\n            />\r\n          ) : null}\r\n          <ApplicationDetailsToast t={t} showToast={showToast} closeToast={closeToast} businessService={businessService} />\r\n          <ApplicationDetailsActionBar\r\n            workflowDetails={workflowDetails}\r\n            displayMenu={displayMenu}\r\n            onActionSelect={onActionSelect}\r\n            setDisplayMenu={setDisplayMenu}\r\n            businessService={businessService}\r\n            forcedActionPrefix={forcedActionPrefix}\r\n            ActionBarStyle={ActionBarStyle}\r\n            MenuStyle={MenuStyle}\r\n          />\r\n        </React.Fragment>\r\n      ) : (\r\n        <Loader />\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default ApplicationDetails;\r\n","import { Modal, Text } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useState, useEffect } from \"react\";\r\n\r\nconst Heading = ({ t, heading }) => {\r\n    return <h1 className=\"heading-m\">{`${t(heading)}`}</h1>;\r\n};\r\n\r\n\r\nconst Close = () => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"#FFFFFF\">\r\n        <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\r\n        <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z\" />\r\n    </svg>\r\n);\r\n\r\nconst CloseBtn = (props) => {\r\n    return (\r\n        <div className=\"icon-bg-secondary\" onClick={props.onClick}>\r\n            <Close />\r\n        </div>\r\n    );\r\n};\r\n\r\nconst ConfirmationQuestion = ({ t, title }) => (\r\n\r\n    <div className=\"confirmation_box\">\r\n        <span> {`${t('CONFIRM_DELETE_MSG')} `} <b>{` ${title}`}</b> </span>\r\n        \r\n    </div>\r\n\r\n);\r\n\r\nconst Confirmation = ({\r\n    t,\r\n    heading,\r\n    docName,\r\n    closeModal,\r\n    actionCancelLabel,\r\n    actionCancelOnSubmit,\r\n    actionSaveLabel,\r\n    actionSaveOnSubmit,\r\n}) => {\r\n    return (\r\n        <Modal\r\n            headerBarMain={<Heading t={t} heading={heading} />}\r\n            headerBarEnd={<CloseBtn onClick={closeModal} />}\r\n            actionCancelLabel={t(actionCancelLabel)}\r\n            actionCancelOnSubmit={actionCancelOnSubmit}\r\n            actionSaveLabel={t(actionSaveLabel)}\r\n            actionSaveOnSubmit={actionSaveOnSubmit}\r\n            formId=\"modal-action\"\r\n        >\r\n            <ConfirmationQuestion t={t} title={docName} />\r\n        </Modal>\r\n    )\r\n}\r\n\r\nexport default Confirmation\r\n","import { Header, ActionBar, SubmitBar, PDFSvg, Menu, GenericFileIcon, Loader } from '@egovernments/digit-ui-react-components';\r\nimport React, { useState ,useEffect} from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nimport Confirmation from '../Modal/Confirmation';\r\nimport { format } from \"date-fns\";\r\nimport { openUploadedDocument } from '../../utils';\r\n\r\n\r\nconst renderMultipleDocuments = (documents) => {\r\n  let isMobile = window.Digit.Utils.browser.isMobile();\r\n  if (!documents && !documents.length) return null;\r\n  return (\r\n    <div style={{ display: 'flex', flexDirection: isMobile ? 'column':'row', gap: isMobile ? '40px' : '100px'}}>\r\n      {documents.map(({ fileStoreId, fileName }) => (\r\n        <div className=\"documentDetails_pdf\">\r\n          <div style={{ width: '100px' }} onClick={() => openUploadedDocument(fileStoreId, fileName)}>\r\n            <GenericFileIcon />\r\n            <span className=\"cell-text\">{fileName?.split(10)}</span>\r\n          </div>\r\n        </div>\r\n      ))\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Actions = ['EDIT', 'DELETE']\r\nconst getUlbName = (tenantId) => {\r\n  let ulbName = tenantId?.split('.')[1];\r\n  ulbName = `${ulbName?.[0]?.toUpperCase()}${ulbName?.slice(1)} `;\r\n  return ulbName;\r\n}\r\nconst DocumentDetails = () => {\r\n  let isMobile = window.Digit.Utils.browser.isMobile();\r\n  const { id } = useParams();\r\n  const { t } = useTranslation();\r\n  const history = useHistory();\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [displayMenu, setDisplayMenu] = useState(false);\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const { isLoading, data } = Digit.Hooks.events.useEventDetails(tenantId, { ids: id }, {\r\n  });\r\n    const [mutationHappened, setMutationHappened, clear] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_MSG_MUTATION_HAPPENED\", false);\r\n  const [errorInfo, setErrorInfo, clearError] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_MSG_ERROR_DATA\", false);\r\n  const [successData, setsuccessData, clearSuccessData] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_MSG_MUTATION_SUCCESS_DATA\", false);\r\n\r\n  useEffect(() => {\r\n    setMutationHappened(false);\r\n    clearSuccessData();\r\n    clearError();\r\n  }, []);\r\n\r\n  function onActionSelect(action) {\r\n    // setSelectedAction(action);\r\n    if (action === \"EDIT\") {\r\n      history.push(`/digit-ui/employee/engagement/messages/inbox/edit/${id}`)\r\n    }\r\n    if (action === \"DELETE\") {\r\n      setShowModal(true);\r\n    }\r\n    setDisplayMenu(false);\r\n  }\r\n\r\n  const handleDelete = () => {\r\n    const finalData = (({ uploadedFilesData, ...ogData }) => ogData)(data?.applicationData)\r\n    const details = {\r\n      events: [\r\n        {\r\n          ...finalData,\r\n          status: \"CANCELLED\",\r\n        },\r\n      ],\r\n    };\r\n    history.push(\"/digit-ui/employee/engagement/messages/response?delete=true\", details);\r\n  };\r\n\r\n  function onModalCancel() {\r\n    setShowModal(false)\r\n  }\r\n\r\n  if (isLoading) {\r\n    return <Loader />\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {showModal ? <Confirmation\r\n        t={t}\r\n        heading={'CONFIRM_DELETE_PUB_BRCST'}\r\n        docName={data?.applicationData?.name}\r\n        closeModal={() => setShowModal(!showModal)}\r\n        actionCancelLabel={'CS_COMMON_CANCEL'}\r\n        actionCancelOnSubmit={onModalCancel}\r\n        actionSaveLabel={'ES_COMMON_Y_DEL'}\r\n        actionSaveOnSubmit={handleDelete}\r\n      />\r\n\r\n        : null}\r\n      <Header>{t(`CS_HEADER_PUBLIC_BRDCST`)}</Header>\r\n\r\n      <div className=\"notice_and_circular_main gap-ten\">\r\n        <div className=\"documentDetails_wrapper\">\r\n          <div className=\"documentDetails_row_items\"><p className=\"documentDetails_title\">{`${t(\"EVENTS_ULB_LABEL\")}:`}</p> <p>{getUlbName(data?.tenantId)}</p> </div>\r\n          <div className=\"documentDetails_row_items\"><p className=\"documentDetails_title\">{`${t(\"PUBLIC_BRDCST_TITLE_LABEL\")}:`}</p> <p>{data?.applicationData?.name}</p> </div>\r\n          <div className=\"documentDetails_row_items\"><p className=\"documentDetails_title\">{`${t(\"EVENTS_COMMENTS_LABEL\")}:`}</p> <p className=\"documentDetails__description\">{data?.applicationData?.description?.length ? data?.applicationData?.description : 'NA'}</p> </div>\r\n          <div className=\"documentDetails_row_items\"><p className=\"documentDetails_title\">{`${t(\"EVENTS_FROM_DATE_LABEL\")}:`}</p> <p>{data?.applicationData?.eventDetails?.fromDate ? format(new Date(data?.applicationData?.eventDetails?.fromDate), 'dd/MM/yyyy') : null}</p> </div>\r\n          <div className=\"documentDetails_row_items\"><p className=\"documentDetails_title\">{`${t(\"EVENTS_TO_DATE_LABEL\")}:`}</p> <p>{data?.applicationData?.eventDetails?.toDate ? format(new Date(data?.applicationData?.eventDetails?.toDate), 'dd/MM/yyyy') : null}</p> </div>\r\n          <span className=\"documentDetails_subheader\">{`${t('CS_COMMON_DOCUMENTS')}`}</span>\r\n          {data?.applicationData?.eventDetails?.documents?.length ? renderMultipleDocuments(data?.applicationData?.eventDetails?.documents) : \"NA\"}\r\n        </div>\r\n      </div>\r\n      <ActionBar>\r\n        {displayMenu ? (\r\n          <Menu\r\n            style={{ width: isMobile ? 'full' : '240px' }}\r\n            localeKeyPrefix={\"ES_CE\"}\r\n            options={Actions}\r\n            t={t}\r\n            onSelect={onActionSelect}\r\n          />\r\n        ) : null}\r\n        <SubmitBar label={t(\"ES_COMMON_TAKE_ACTION\")} onSubmit={() => setDisplayMenu(!displayMenu)} />\r\n      </ActionBar>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DocumentDetails;\r\n","import React from \"react\"\r\nimport { Switch } from \"react-router-dom\"\r\nimport { PrivateRoute } from \"@egovernments/digit-ui-react-components\"\r\nimport Inbox from \"./Inbox\"\r\nimport NewMessage from \"./NewMessage\"\r\nimport Response from \"./NewMessage/Response\"\r\nimport EditMessage from \"./EditMessage\"\r\nimport MessageDetails from \"./MessageDetails\"\r\nimport DocumentDetails from \"../../../components/Messages/DocumentDetails\"\r\n\r\nconst Messages = ({match:{path} = {}, tenants, parentRoute}) => {\r\n    return <Switch>\r\n        <PrivateRoute path={`${path}/create`} component={props => <NewMessage {...props} />} />\r\n        <PrivateRoute path={`${path}/inbox/create`} component={props => <NewMessage {...props} />} />\r\n        <PrivateRoute path={`${path}/inbox/details/:id`} component={props => <DocumentDetails {...props} />} />\r\n        <PrivateRoute path={`${path}/inbox/edit/:id`} component={props => <EditMessage {...props} />} />\r\n        <PrivateRoute path={`${path}/inbox`} component={props => <Inbox {...props} tenants={tenants} parentRoute={parentRoute} />} />\r\n        <PrivateRoute path={`${path}/response`} component={(props) => <Response {...props} />} />\r\n\r\n    </Switch>\r\n}\r\n\r\nexport default Messages","import { TextInput, CardLabel, LabelFieldPair, Dropdown, Loader, LocationSearch, CardLabelError } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { Fragment, useMemo } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Controller } from \"react-hook-form\";\r\nimport { alphabeticalSortFunctionForTenantsBasedOnName } from \"../../utils\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nconst EventForm = ({ onSelect, config, formData, register, control, errors }) => {\r\n  const { t } = useTranslation();\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const state = tenantId?.split('.')[0];\r\n  const ulbs = Digit.SessionStorage.get(\"ENGAGEMENT_TENANTS\");\r\n  const userInfo = Digit.UserService.getUser().info;\r\n  const userUlbs = ulbs.filter(ulb => userInfo?.roles?.some(role => role?.tenantId === ulb?.code)).sort(alphabeticalSortFunctionForTenantsBasedOnName)\r\n  const getDefaultUlb = () => {\r\n    if (formData?.defaultTenantId) {\r\n      return ulbs?.find(ulb => ulb?.code === formData?.defaultTenantId);\r\n    }\r\n    if(tenantId){\r\n      return ulbs?.find(ulb => ulb?.code === tenantId)\r\n    }\r\n    return userUlbs?.length === 1 ? userUlbs?.[0] : null\r\n  }\r\n  const { isLoading, data } = Digit.Hooks.useCommonMDMS(state, \"mseva\", [\"EventCategories\"]);\r\n\r\n  const location = useLocation();\r\n  const isInEditFormMode = useMemo(()=>{\r\n    if(location.pathname.includes('/engagement/event/edit-event')) return true;\r\n    return false;\r\n  },[location.pathname])\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <Loader />\r\n    );\r\n  }\r\n  \r\n  return (\r\n    <Fragment>\r\n      <LabelFieldPair>\r\n        <CardLabel className=\"card-label-smaller\">{`${t(`EVENTS_ULB_LABEL`)} *`}</CardLabel>\r\n        <div className=\"field\">\r\n          <Controller\r\n            control={control}\r\n            defaultValue={getDefaultUlb()}\r\n            name=\"tenantId\"\r\n            rules={{ required: true }}\r\n            render={({ onChange, value }) => <Dropdown option={userUlbs} selected={value} disable={isInEditFormMode ? true : userUlbs?.length === 1} optionKey=\"code\" t={t} select={onChange} />}\r\n          />\r\n          {errors && errors['tenantId'] && <CardLabelError>{t(`EVENTS_TENANT_ERROR_REQUIRED`)}</CardLabelError>}\r\n        </div>\r\n      </LabelFieldPair>\r\n      <LabelFieldPair>\r\n        <CardLabel className=\"card-label-smaller\">{`${t(`EVENTS_NAME_LABEL`)} *`}</CardLabel>\r\n        <div className=\"field\">\r\n          <Controller\r\n            defaultValue={formData?.name}\r\n            render={({ onChange, ref, value }) => <TextInput value={value} type=\"text\" name=\"name\" onChange={onChange} inputRef={ref} />}\r\n            name=\"name\"\r\n            rules={{ required: true , maxLength:66}}\r\n            control={control}\r\n          />\r\n           {errors && errors?.name && errors?.name?.type===\"required\" && <CardLabelError>{t(`EVENTS_COMMENTS_ERROR_REQUIRED`)}</CardLabelError>}\r\n          {errors && errors?.name && errors?.name?.type===\"maxLength\" && <CardLabelError>{t(`EVENTS_MAXLENGTH_66_CHARS_REACHED`)}</CardLabelError>}\r\n        </div>\r\n      </LabelFieldPair>\r\n      <LabelFieldPair>\r\n        <CardLabel className=\"card-label-smaller\">{`${t(`EVENTS_CATEGORY_LABEL`)} *`}</CardLabel>\r\n        <div className=\"field\">\r\n          <Controller\r\n            name=\"eventCategory\"\r\n            control={control}\r\n            defaultValue={formData?.category ? data?.mseva?.EventCategories.filter(category => category.code === formData?.category)?.[0] : null}\r\n            rules={{ required: true }}\r\n            render={({ onChange, ref, value }) => <Dropdown inputRef={ref} option={data?.mseva?.EventCategories} optionKey=\"code\" t={t} select={onChange} selected={value} />}\r\n          />\r\n          {errors && errors['eventCategory'] && <CardLabelError>{t(`EVENTS_CATEGORY_ERROR_REQUIRED`)}</CardLabelError>}\r\n        </div>\r\n      </LabelFieldPair>\r\n    </Fragment>\r\n  )\r\n};\r\n\r\nexport default EventForm;","import { TextInput, CardLabel, LabelFieldPair, Dropdown, Loader, LocationSearch, CardLabelError, TextArea, MultiUploadWrapper } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { Fragment, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Controller } from \"react-hook-form\";\r\nimport { isValid } from 'date-fns';\r\nimport compareAsc from 'date-fns/compareAsc';\r\nimport { convertDateToMaximumPossibleValue } from \"../../utils\";\r\n\r\n\r\nconst allowedFileTypes = /(.*?)(jpg|jpeg|png|image|pdf|msword|openxmlformats-officedocument)$/i;\r\n\r\nconst MessageForm = ({ onSelect, config, formData, register, control, errors, setError }) => {\r\n  const { t } = useTranslation();\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const state = tenantId?.split('.')[0];\r\n  const ulbs = Digit.SessionStorage.get(\"ENGAGEMENT_TENANTS\");\r\n  const { isLoading, data } = Digit.Hooks.useCommonMDMS(state, \"mseva\", [\"EventCategories\"]);\r\n\r\n  const stateId = Digit.ULBService.getStateId()\r\n  const userUlbs = ulbs.filter(ulb => ulb?.code === tenantId);\r\n\r\n  const isValidFromDate = (date) => {\r\n    const fromDate = convertDateToMaximumPossibleValue(new Date(`${formData?.fromDate}`)) // make it maximum possible value\r\n    const todaysDate = new Date();\r\n    if (!isValid(fromDate)) return false;\r\n    if (fromDate.getTime() < todaysDate.getTime()) {\r\n      setError('fromDate', { type: 'isValidFromDate' }, { shouldFocus: true });\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  const isValidToDate = (date) => {\r\n    const fromDate = convertDateToMaximumPossibleValue(new Date(`${formData?.fromDate}`))\r\n    const toDate = convertDateToMaximumPossibleValue(new Date(`${formData?.toDate}`));\r\n    const todaysDate = new Date();\r\n    if (!isValid(toDate)) return false;\r\n    if (toDate.getTime() < todaysDate.getTime() || (toDate.getTime() < fromDate.getTime())) {\r\n      setError('toDate', { type: 'isValidToDate' }, { shouldFocus: true });\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <Loader />\r\n    );\r\n  }\r\n  return (\r\n    <Fragment>\r\n      <LabelFieldPair>\r\n        <CardLabel className=\"card-label-smaller\">{`${t(`EVENTS_ULB_LABEL`)} *`}</CardLabel>\r\n        <div className=\"field\">\r\n          <Controller\r\n            control={control}\r\n            defaultValue={userUlbs?.length === 1 ? userUlbs?.[0] : null}\r\n            name=\"tenantId\"\r\n            rules={{ required: true }}\r\n            render={({ onChange, value }) => <Dropdown option={userUlbs} selected={value} disable={userUlbs?.length === 1} optionKey=\"code\" t={t} select={onChange} />}\r\n          />\r\n          {errors && errors['tenantId'] && <CardLabelError>{t(`EVENTS_TENANT_ERROR_REQUIRED`)}</CardLabelError>}\r\n        </div>\r\n      </LabelFieldPair>\r\n      <LabelFieldPair>\r\n        <CardLabel className=\"card-label-smaller\">{`${t(`PUBLIC_BRDCST_TITLE_LABEL`)} *`}</CardLabel>\r\n        <div className=\"field\">\r\n          <Controller\r\n            defaultValue={formData?.name}\r\n            render={({ onChange, ref, value }) => <TextInput value={value} type=\"text\" name=\"name\" onChange={onChange} inputRef={ref} />}\r\n            name=\"name\"\r\n            rules={{ required: true, maxLength: 66 }}\r\n            control={control}\r\n          />\r\n          {errors && errors?.name && errors?.name?.type === \"required\" && <CardLabelError>{t(`EVENTS_COMMENTS_ERROR_REQUIRED`)}</CardLabelError>}\r\n          {errors && errors?.name && errors?.name?.type === \"maxLength\" && <CardLabelError>{t(`EVENTS_MAXLENGTH_66_CHARS_REACHED`)}</CardLabelError>}\r\n        </div>\r\n      </LabelFieldPair>\r\n      <LabelFieldPair style={{ marginBottom: \"24px\" }}>\r\n        <CardLabel className=\"card-label-smaller\">{`${t(`EVENTS_COMMENTS_LABEL`)} *`}</CardLabel>\r\n        <div className=\"field\">\r\n          <Controller\r\n            name=\"description\"\r\n            control={control}\r\n            defaultValue={formData?.category ? data?.mseva?.EventCategories.filter(category => category.code === formData?.category)?.[0] : null}\r\n            rules={{ required: true, maxLength: 500 }}\r\n            render={({ onChange, ref, value }) => <TextArea inputRef={ref} value={value} name=\"description\" onChange={onChange} hintText={t('PUBLIC_BRDCST_MSG_LENGTH')} />}\r\n          />\r\n          {errors && errors?.description && errors?.description?.type === \"required\" && <CardLabelError>{t(`EVENTS_COMMENTS_ERROR_REQUIRED`)}</CardLabelError>}\r\n          {errors && errors?.description && errors?.description?.type === \"maxLength\" && <CardLabelError>{t(`EVENTS_MAXLENGTH_REACHED`)}</CardLabelError>}\r\n        </div>\r\n      </LabelFieldPair>\r\n      <LabelFieldPair style={{ marginBottom: \"24px\" }}>\r\n        <CardLabel className=\"card-label-smaller\">{`${t(`EVENTS_ATTACHMENT_LABEL`)}`}</CardLabel>\r\n        <div className=\"field\">\r\n          <Controller\r\n            name=\"documents\"\r\n            control={control}\r\n            // defaultValue={formData?.category ? data?.mseva?.EventCategories.filter(category => category.code === formData?.category)?.[0] : null}\r\n            rules={{ required: false }}\r\n            render={({ onChange, ref, value = [] }) => {\r\n              function getFileStoreData(filesData) {\r\n                const numberOfFiles = filesData.length\r\n                let finalDocumentData = []\r\n                if (numberOfFiles > 0) {\r\n                  filesData.forEach(value => {\r\n                    finalDocumentData.push({\r\n                      fileName: value?.[0],\r\n                      fileStoreId: value?.[1]?.fileStoreId?.fileStoreId,\r\n                      documentType: value?.[1]?.file?.type\r\n                    })\r\n                  })\r\n                }\r\n                onChange(finalDocumentData)\r\n              }\r\n              return <MultiUploadWrapper\r\n                t={t}\r\n                module=\"engagement\"\r\n                tenantId={stateId}\r\n                getFormState={getFileStoreData}\r\n                showHintBelow={true}\r\n                setuploadedstate={value}\r\n                allowedFileTypesRegex={allowedFileTypes}\r\n                allowedMaxSizeInMB={5}\r\n                hintText={t(\"DOCUMENTS_ATTACH_RESTRICTIONS_SIZE\")}\r\n              />\r\n            }\r\n            }\r\n          />\r\n          {/* {errors && errors['description'] && <CardLabelError>{t(`EVENTS_COMMENTS_ERROR_REQUIRED`)}</CardLabelError>} */}\r\n        </div>\r\n      </LabelFieldPair>\r\n      <LabelFieldPair>\r\n        <CardLabel className=\"card-label-smaller\">{`${t(`PUBLIC_BRDCST_FROM_DATE_LABEL`)} *`}</CardLabel>\r\n        <div className=\"field\">\r\n          <Controller\r\n            control={control}\r\n            name=\"fromDate\"\r\n            defaultValue={formData?.fromDate}\r\n            rules={{ required: true, validate: { isValidFromDate } }}\r\n            render={({ onChange, value }) => <TextInput type=\"date\" isRequired={true} onChange={onChange} defaultValue={value} />}\r\n          />\r\n          {errors && errors?.fromDate && errors?.fromDate?.type === \"required\" && <CardLabelError>{t(`EVENTS_FROM_DATE_ERROR_REQUIRED`)}</CardLabelError>}\r\n          {errors && errors?.fromDate && errors?.fromDate?.type === \"isValidFromDate\" && <CardLabelError>{t(`EVENTS_FROM_DATE_ERROR_INVALID`)}</CardLabelError>}\r\n        </div>\r\n      </LabelFieldPair>\r\n      <LabelFieldPair>\r\n        <CardLabel className=\"card-label-smaller\">{`${t(`PUBLIC_BRDCST_TO_DATE_LABEL`)} *`}</CardLabel>\r\n        <div className=\"field\">\r\n          <Controller\r\n            control={control}\r\n            name=\"toDate\"\r\n            defaultValue={formData?.toDate}\r\n            rules={{ required: true, validate: { isValidToDate } }}\r\n            render={({ onChange, value }) => <TextInput type=\"date\" isRequired={true} onChange={onChange} defaultValue={value} />}\r\n          />\r\n          {errors && errors?.toDate && errors?.toDate?.type === \"required\" && <CardLabelError>{t(`EVENTS_TO_DATE_ERROR_REQUIRED`)}</CardLabelError>}\r\n          {errors && errors?.toDate && errors?.toDate?.type === \"isValidToDate\" && <CardLabelError>{t(`EVENTS_TO_DATE_ERROR_INVALID`)}</CardLabelError>}\r\n        </div>\r\n      </LabelFieldPair>\r\n    </Fragment>\r\n  )\r\n};\r\n\r\nexport default MessageForm;","import React, { Fragment } from \"react\";\r\nimport { CardLabel, LabelFieldPair, LocationSearch } from \"@egovernments/digit-ui-react-components\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nconst SelectGeolocation = ({ onSelect, config, formData }) => {\r\n  const { t } = useTranslation();\r\n  const onChange = (pincode, position) => {\r\n    onSelect(config?.key, position)\r\n  }\r\n  return (\r\n    <Fragment>\r\n      <LabelFieldPair>\r\n        <CardLabel className=\"card-label-smaller\">{`${t(`EVENTS_GEOLOCATION_LABEL`)}`}</CardLabel>\r\n        <div className=\"field\">\r\n          <LocationSearch position={{ latitude: formData?.geoLocation?.latitude, longitude: formData?.geoLocation?.longitude }} onChange={onChange} />\r\n        </div>\r\n      </LabelFieldPair>\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default SelectGeolocation; ","import React, { Fragment } from \"react\";\r\nimport { TextInput, CardLabel, LabelFieldPair, Dropdown, Loader, LocationSearch, CardLabelError } from \"@egovernments/digit-ui-react-components\";\r\nimport { Controller } from \"react-hook-form\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { isValid, format, startOfToday } from 'date-fns';\r\n\r\nconst SelectToDate = ({ onSelect, config, formData, register, control, errors, setError }) => {\r\n  const { t } = useTranslation();\r\n  const isValidDate = (date) => {\r\n    if (!isValid(new Date(formData?.fromDate)) || !isValid(new Date(date))) return false;\r\n    if (new Date(`${formData?.fromDate} ${formData?.fromTime}`) < new Date()) {\r\n      setError('fromDate', { type: 'isValidFromDate' }, { shouldFocus: true });\r\n      return false;\r\n    }\r\n    if (new Date(`${date} ${formData?.toTime}`) < new Date()) return false;\r\n    return new Date(`${formData?.fromDate} ${formData?.fromTime}`) <= new Date(`${date} ${formData?.toTime}`);\r\n  }\r\n  return (\r\n    <Fragment>\r\n      <LabelFieldPair>\r\n        <CardLabel className=\"card-label-smaller\">{`${t(`EVENTS_TO_DATE_LABEL`)} *`}</CardLabel>\r\n        <div className=\"field\">\r\n          <Controller\r\n            control={control}\r\n            name=\"toDate\"\r\n            defaultValue={formData?.toDate}\r\n            rules={{ required: true, validate: { isValidDate: isValidDate }}}\r\n            render={({ onChange, value }) => <TextInput type=\"date\" isRequired={true} onChange={onChange} defaultValue={value} />}\r\n          />\r\n          {errors && errors?.toDate && errors?.toDate?.type === \"required\" && <CardLabelError>{t(`EVENTS_TO_DATE_ERROR_REQUIRED`)}</CardLabelError>}\r\n          {errors && errors?.toDate && errors?.toDate?.type === \"isValidDate\" && <CardLabelError>{t(`EVENTS_TO_DATE_ERROR_INVALID`)}</CardLabelError>}\r\n        </div>\r\n      </LabelFieldPair>\r\n    </Fragment>\r\n  )\r\n};\r\n\r\nexport default SelectToDate;","import React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { openUploadedDocument, downloadDocument } from \"../../utils\";\r\n\r\nconst renderSingleViewAndDownloadButton = (t, documents) => {\r\n  if (!documents?.length) return null;\r\n  const { fileStoreId, fileName } = documents?.[0];\r\n  return (\r\n    <div className=\"display-flex-gap-2\">\r\n      {fileStoreId && fileStoreId.length ? (\r\n        <span className=\"link\" onClick={() => openUploadedDocument(fileStoreId, fileName)}>\r\n          {\" \"}\r\n          {t(\"CE_DOCUMENT_VIEW_LINK\")}{\" \"}\r\n        </span>\r\n      ) : null}\r\n      {fileStoreId && fileStoreId.length ? (\r\n        <span className=\"link\" onClick={() => downloadDocument(fileStoreId, fileName)}>\r\n          {\" \"}\r\n          {t(\"CE_DOCUMENT_DOWNLOAD_LINK\")}{\" \"}\r\n        </span>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst renderMultipleViewAndDownloadButtons = (t, documents) => {\r\n  if (!documents.length) return null;\r\n  return (\r\n    <div className=\"broadcastnotifications_actionswrapper-multi\">\r\n      {documents.map(({ fileName, fileStoreId }, index) => {\r\n        return (\r\n          <div className=\"display-flex-gap-2\">\r\n            {fileName.length ? <p>{fileName} : </p> : null}\r\n            {fileStoreId.length ? (\r\n              <span className=\"link\" onClick={() => openUploadedDocument(fileStoreId, fileName)}>\r\n                {\" \"}\r\n                {t(\"CE_DOCUMENT_VIEW_LINK\")}{\" \"}\r\n              </span>\r\n            ) : null}\r\n            {fileStoreId.length ? (\r\n              <span className=\"link\" onClick={() => downloadDocument(fileStoreId, fileName)}>\r\n                {\" \"}\r\n                {t(\"CE_DOCUMENT_DOWNLOAD_LINK\")}{\" \"}\r\n              </span>\r\n            ) : null}\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst BroadcastWhatsNewCard = ({ header, actions, eventNotificationText, timePastAfterEventCreation, timeApproxiamationInUnits, ...props }) => {\r\n  const { t } = useTranslation();\r\n  const uploadedDocuments = props.eventDetails.documents;\r\n  const getTransformedLocale = (label) => {\r\n    if (typeof label === \"number\") return label;\r\n    return label && label.toUpperCase().replace(/[.:-\\s\\/]/g, \"_\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"WhatsNewCard\">\r\n      <h2>{t(header)}</h2>\r\n      <p>{eventNotificationText}</p>\r\n      {actions?.map((i) => (\r\n        <a href={i?.actionUrl}>{`${t(`CS_COMMON_${getTransformedLocale(i?.code)}`)}`}</a>\r\n      ))}\r\n      {uploadedDocuments?.length > 1\r\n        ? renderMultipleViewAndDownloadButtons(t, uploadedDocuments)\r\n        : renderSingleViewAndDownloadButton(t, uploadedDocuments)}\r\n      <p>{timePastAfterEventCreation + ` ${t(timeApproxiamationInUnits)}`}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BroadcastWhatsNewCard;\r\n","import { Card, CardCaption, Header, Loader, OnGroundEventCard, WhatsNewCard } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Redirect, useHistory, useLocation } from \"react-router-dom\";\r\nimport BroadcastWhatsNewCard from \"../../components/Messages/BroadcastWhatsNewCard\";\r\n\r\nconst NotificationsAndWhatsNew = ({ variant, parentRoute }) => {\r\n  const { t } = useTranslation();\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n\r\n  const tenantId = Digit.ULBService.getCitizenCurrentTenant();\r\n  const {\r\n    data: { unreadCount: preVisitUnseenNotificationCount } = {},\r\n    isSuccess: preVisitUnseenNotificationCountLoaded,\r\n    refetch,\r\n  } = Digit.Hooks.useNotificationCount({\r\n    tenantId,\r\n    config: {\r\n      enabled: !!Digit.UserService?.getUser()?.access_token,\r\n    },\r\n  });\r\n\r\n  const { mutate, isSuccess } = Digit.Hooks.useClearNotifications();\r\n\r\n  useEffect(() => {\r\n    isSuccess ? refetch() : false;\r\n  }, [isSuccess]);\r\n\r\n  useEffect(() => (preVisitUnseenNotificationCount && tenantId ? mutate({ tenantId }) : null), [tenantId, preVisitUnseenNotificationCount]);\r\n\r\n  const { data: EventsData, isLoading: EventsDataLoading } = Digit.Hooks.useEvents({ tenantId, variant });\r\n\r\n  // if (!Digit.UserService?.getUser()?.access_token) {\r\n  //     return <Redirect to={{ pathname: `/digit-ui/citizen/login`, state: { from: location.pathname + location.search } }} />\r\n  // }\r\n\r\n  if (EventsDataLoading) return <Loader />;\r\n\r\n  if (EventsData?.length === 0) {\r\n    return (\r\n      <div className=\"CitizenEngagementNotificationWrapper\">\r\n        <Header>{`${t(\"CS_HEADER_NOTIFICATIONS\")}`}</Header>\r\n        <h1>Nothing to show</h1>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const VariantWiseRender = () => {\r\n    switch (variant) {\r\n      case \"notifications\":\r\n        return <Header>{`${t(\"CS_HEADER_NOTIFICATIONS\")} ${preVisitUnseenNotificationCount ? `(${preVisitUnseenNotificationCount})` : \"\"}`}</Header>;\r\n\r\n      case \"whats-new\":\r\n        return <Header>{t(\"CS_HEADER_WHATSNEW\")}</Header>;\r\n\r\n      default:\r\n        return <Redirect to={{ pathname: `/digit-ui/citizen`, state: { from: location.pathname + location.search } }} />;\r\n    }\r\n  };\r\n\r\n  function onEventCardClick(id) {\r\n    history.push(parentRoute + \"/events/details/\" + id);\r\n  }\r\n\r\n  return (\r\n    <div className=\"CitizenEngagementNotificationWrapper\">\r\n      <VariantWiseRender />\r\n      {EventsData?.length ? (\r\n        EventsData.map((DataParamsInEvent) =>\r\n          DataParamsInEvent?.eventType === \"EVENTSONGROUND\" ? (\r\n            <OnGroundEventCard onClick={onEventCardClick} {...DataParamsInEvent} />\r\n          ) : DataParamsInEvent?.eventType === \"BROADCAST\" ? (\r\n            <BroadcastWhatsNewCard {...DataParamsInEvent} />\r\n          ) : (\r\n            <WhatsNewCard {...DataParamsInEvent} />\r\n          )\r\n        )\r\n      ) : (\r\n        <Card>\r\n          <CardCaption>{t(\"COMMON_INBOX_NO_DATA\")}</CardCaption>\r\n        </Card>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotificationsAndWhatsNew;\r\n","import { Card, CardCaption, Header, Loader, OnGroundEventCard } from \"@egovernments/digit-ui-react-components\";\r\nimport React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Redirect, useHistory, useLocation } from \"react-router-dom\";\r\n\r\nconst EventsListOnGround = ({ variant, parentRoute }) => {\r\n  const { t } = useTranslation();\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n\r\n  const tenantId = Digit.ULBService.getCitizenCurrentTenant();\r\n  const { data: { unreadCount: preVisitUnseenEventsCount } = {}, isSuccess: preVisitUnseenEventsCountLoaded } = Digit.Hooks.useNotificationCount({\r\n    tenantId,\r\n    config: {\r\n      enabled: !!Digit.UserService?.getUser()?.access_token,\r\n    },\r\n  });\r\n\r\n  const { data: EventsData, isLoading: EventsDataLoading } = Digit.Hooks.useEvents({ tenantId, variant });\r\n\r\n  if (!Digit.UserService?.getUser()?.access_token) {\r\n    localStorage.clear();\r\n    sessionStorage.clear();\r\n    return <Redirect to={{ pathname: `/digit-ui/citizen/login`, state: { from: location.pathname + location.search } }} />;\r\n  }\r\n\r\n  if (EventsDataLoading || !preVisitUnseenEventsCountLoaded) return <Loader />;\r\n\r\n  function onEventCardClick(id) {\r\n    history.push(parentRoute + \"/events/details/\" + id);\r\n  }\r\n\r\n  return (\r\n    <div className=\"CitizenEngagementNotificationWrapper\">\r\n      <Header>{`${t(\"EVENTS_EVENTS_HEADER\")}(${EventsData?.length})`}</Header>\r\n      {EventsData.length ? (\r\n        EventsData.map((DataParamsInEvent) => <OnGroundEventCard onClick={onEventCardClick} {...DataParamsInEvent} />)\r\n      ) : (\r\n        <Card>\r\n          <CardCaption>{t(\"COMMON_INBOX_NO_DATA\")}</CardCaption>\r\n        </Card>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EventsListOnGround;\r\n","import React, { Fragment, useState ,useEffect} from \"react\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Header, Card, CardSectionHeader, PDFSvg, Loader, StatusTable, Menu, ActionBar, SubmitBar, Modal, CardText } from \"@egovernments/digit-ui-react-components\";\r\nimport ApplicationDetailsTemplate from \"../../../../../templates/ApplicationDetails\";\r\n\r\nconst Heading = (props) => {\r\n  return <h1 className=\"heading-m\">{props.label}</h1>;\r\n};\r\n\r\nconst Close = () => (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"#FFFFFF\">\r\n    <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\r\n    <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z\" />\r\n  </svg>\r\n);\r\n\r\nconst CloseBtn = (props) => {\r\n  return (\r\n    <div className=\"icon-bg-secondary\" onClick={props.onClick}>\r\n      <Close />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst EventDetails = () => {\r\n  const { id } = useParams();\r\n  const { t } = useTranslation();\r\n  const history = useHistory();\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [displayMenu, setDisplayMenu] = useState(false);\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const { isLoading, data } = Digit.Hooks.events.useEventDetails(tenantId, { ids: id });\r\n\r\n  const [mutationHappened, setMutationHappened, clear] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_EVENT_MUTATION_HAPPENED\", false);\r\n  const [errorInfo, setErrorInfo, clearError] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_EVENT_ERROR_DATA\", false);\r\n  const [successData, setsuccessData, clearSuccessData] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_EVENT_MUTATION_SUCCESS_DATA\", false);\r\n\r\n  useEffect(() => {\r\n    setMutationHappened(false);\r\n    clearSuccessData();\r\n    clearError();\r\n  }, []);\r\n\r\n  function onActionSelect(action) {\r\n    // setSelectedAction(action);\r\n    if (action === \"EDIT\") {\r\n      history.push(`/digit-ui/employee/engagement/event/edit-event/${id}`)\r\n    }\r\n    if (action === \"DELETE\") {\r\n      setShowModal(true);\r\n    }\r\n    setDisplayMenu(false);\r\n  }\r\n\r\n  const handleDelete = () => {\r\n    const details = {\r\n      events: [\r\n        {\r\n          ...data?.applicationData,\r\n          status: \"CANCELLED\",\r\n        },\r\n      ],\r\n    };\r\n    history.push(\"/digit-ui/employee/engagement/event/response?delete=true\", details);\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <Header>{t(\"ES_TITLE_APPLICATION_DETAILS\")}</Header>\r\n      <ApplicationDetailsTemplate\r\n        applicationData={data?.applicationData}\r\n        applicationDetails={data}\r\n        isLoading={isLoading}\r\n        isDataLoading={isLoading}\r\n      // workflowDetails={workflowDetails}\r\n      // businessService={\r\n      //   workflowDetails?.data?.applicationBusinessService\r\n      //     ? workflowDetails?.data?.applicationBusinessService\r\n      //     : data?.applicationData?.businessService\r\n      // }\r\n      />\r\n      <ActionBar>\r\n        {displayMenu ? (\r\n          <Menu\r\n            localeKeyPrefix={\"ES_EVENT\"}\r\n            options={['EDIT', 'DELETE']}\r\n            t={t}\r\n            onSelect={onActionSelect}\r\n          />\r\n        ) : null}\r\n        <SubmitBar label={t(\"ES_COMMON_TAKE_ACTION\")} onSubmit={() => setDisplayMenu(!displayMenu)} />\r\n      </ActionBar>\r\n      {showModal &&\r\n        <Modal\r\n          headerBarMain={<Heading label={t('ES_EVENT_DELETE_POPUP_HEADER')} />}\r\n          headerBarEnd={<CloseBtn onClick={() => setShowModal(false)} />}\r\n          actionCancelLabel={t(\"CS_COMMON_CANCEL\")}\r\n          actionCancelOnSubmit={() => setShowModal(false)}\r\n          actionSaveLabel={t('ES_EVENT_DELETE')}\r\n          actionSaveOnSubmit={handleDelete}\r\n        >\r\n          <Card style={{ boxShadow: \"none\" }}>\r\n            <CardText>{t(`ES_EVENT_DELETE_TEXT`)}</CardText>\r\n          </Card>\r\n        </Modal>\r\n      }\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default EventDetails;","import React from 'react'\r\nimport {\r\n    TextInput,\r\n    SearchIconSvg,\r\n\r\n} from \"@egovernments/digit-ui-react-components\";\r\n\r\nconst Searchbar = ({searchValue, onChange, handleKeyPress, handleSearch, t}) => {\r\n \r\n\r\n    return (\r\n        <div>\r\n            <TextInput \r\n            className=\"searchInput\" \r\n            placeholder={t(\"CE_SERACH_DOCUMENTS\")} \r\n            value={searchValue}\r\n            onChange={(ev) => onChange(ev.target.value)} \r\n            signature={true}\r\n            signatureImg={<SearchIconSvg className=\"signature-img\" onClick={() => handleSearch()}/>}\r\n            onKeyPress={handleKeyPress}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Searchbar;\r\n","import { useEffect, useState } from \"react\";\r\nexport const useDebounce = (value, delay) => {\r\n    const [debouncedValue, setDebouncedValue] = useState(value);\r\n\r\n    useEffect(\r\n      () => {\r\n        const handler = setTimeout(() => {\r\n          setDebouncedValue(value);\r\n        }, delay);\r\n        \r\n        return () => {\r\n          clearTimeout(handler);\r\n        };\r\n      },\r\n      [value, delay]\r\n    );\r\n    return debouncedValue;\r\n  }","import React from 'react'\r\nimport {\r\n  Card,\r\n  CardCaption,\r\n  CardHeader,\r\n  CardText,\r\n  LinkButton,\r\n  DownloadImgIcon,\r\n  ViewsIcon,\r\n  ExternalLinkIcon,\r\n  GenericFileIcon,\r\n  PDFSvg\r\n} from \"@egovernments/digit-ui-react-components\";\r\nimport { format } from 'date-fns';\r\nimport { getFileSize } from '../../utils';\r\nimport { downloadDocument, openDocumentLink, openUploadedDocument } from '../../utils';\r\n\r\n\r\nconst DocumentCard = ({ documentTitle, documentSize = 2.3, lastModifiedData, description, filestoreId, documentLink, t }) => {\r\n  let isMobile = window.Digit.Utils.browser.isMobile();\r\n\r\n\r\n  return (\r\n    <div className=\"notice_and_circular_main\">\r\n      <div className=\"notice_and_circular_image\">\r\n        <GenericFileIcon height={`${isMobile ? 66 : 100}`} width={`${isMobile ? 53 : 100}`} />\r\n      </div>\r\n      <div className=\"notice_and_circular_content\">\r\n        <div className=\"notice_and_circular_heading_mb\">\r\n          <CardHeader>{documentTitle}</CardHeader>\r\n          {documentSize ? <CardCaption>{getFileSize(documentSize)}</CardCaption> : null}\r\n        </div>\r\n        <div className=\"notice_and_circular_caption\">\r\n          <CardCaption>{`${t(`CE_DCOUMENT_UPLOADED_ON`)} ${lastModifiedData ? format(new Date(lastModifiedData), \"do MMMM yyyy\") : \"-\"}`}</CardCaption>\r\n        </div>\r\n        <div className=\"notice_and_circular_text\">\r\n          <CardText>\r\n            {description?.length ? description : \"NA\"}\r\n          </CardText>\r\n        </div>\r\n        <div className=\"view_download_main\">\r\n          {filestoreId && filestoreId.length ? <LinkButton\r\n\r\n            label={\r\n              <div className=\"views\" onClick={() => openUploadedDocument(filestoreId ? filestoreId : null, documentTitle)}>\r\n                <ViewsIcon />\r\n                <p>{t(`CE_DOCUMENT_VIEW_LINK`)}</p>\r\n              </div>\r\n            }\r\n          /> : null\r\n          }\r\n          {documentLink && documentLink.length ?\r\n            (<LinkButton\r\n\r\n              label={\r\n                <div className=\"views\" onClick={() => openDocumentLink(documentLink, documentTitle)}>\r\n                  <ExternalLinkIcon />\r\n                  <p>{t(`CE_DOCUMENT_OPEN_LINK`)}</p>\r\n                </div>\r\n              }\r\n            />) : null\r\n          }\r\n          {filestoreId && filestoreId.length ?\r\n            <LinkButton\r\n              label={\r\n                <div className=\"views download_views_padding\" >\r\n                  <DownloadImgIcon />\r\n                  <p>{t(`CE_DOCUMENT_DOWNLOAD_LINK`)}</p>\r\n                </div>\r\n              }\r\n              onClick={() => downloadDocument(filestoreId ? filestoreId : null, documentTitle)}\r\n            /> : null\r\n          }\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DocumentCard;\r\n","import { AppContainer, Card, CardCaption, Header, Loader } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport DocumentCard from \"../../../components/Documents/DocumentCard\";\r\nimport Searchbar from \"../../../components/Documents/Searchbar\";\r\nimport { useDebounce } from \"../../../hooks/useDebounce\";\r\n\r\nconst DocumentList = ({ match }) => {\r\n  const { t } = useTranslation();\r\n  const { category, count } = match.params;\r\n  const tenantIds = Digit.ULBService.getCitizenCurrentTenant();\r\n  const [pageSize, setPageSize] = useState(20);\r\n  const [pageOffset, setPageOffset] = useState(0);\r\n  const [searchValue, setSearchValue] = useState();\r\n\r\n  const debouncedSearchQuery = useDebounce(searchValue, 700);\r\n  const { data: filteredDocs, isLoading: isLoadingDocs } = Digit.Hooks.engagement.useDocSearch(\r\n    { name: debouncedSearchQuery, category, tenantIds, limit: pageSize },\r\n    {\r\n      select: (data) => {\r\n        return data?.Documents?.map(({ uuid, name, category, documentLink, description, auditDetails, fileSize, filestoreId }) => ({\r\n          docId: uuid,\r\n          name,\r\n          category,\r\n          description,\r\n          documentLink,\r\n          createdTime: auditDetails?.createdTime,\r\n          fileSize,\r\n          filestoreId,\r\n        }));\r\n      },\r\n    }\r\n  );\r\n\r\n  const handleKeyPress = async (event) => {\r\n    if (event.key === \"Enter\") {\r\n      if (searchValue.length) {\r\n        setSearchValue(\"\");\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleSearch = async (event) => {\r\n    if (searchValue.length) {\r\n      setSearchValue(\"\");\r\n    }\r\n  };\r\n\r\n  if (isLoadingDocs) {\r\n    <Loader />;\r\n  }\r\n\r\n  return (\r\n    <AppContainer>\r\n      <Header>{`${t(`${category}`)} (${count ? count : \"-\"})`}</Header>\r\n      <div className=\"documentContainerPadding\">\r\n        <div>\r\n          <Searchbar searchValue={searchValue} handleKeyPress={handleKeyPress} handleSearch={handleSearch} onChange={setSearchValue} t={t} />\r\n        </div>\r\n        {isLoadingDocs ? (\r\n          <Loader />\r\n        ) : filteredDocs && filteredDocs.length ? (\r\n          renderDocsList(filteredDocs, t)\r\n        ) : (\r\n          <Card>\r\n            <CardCaption>{t(\"COMMON_INBOX_NO_DATA\")}</CardCaption>\r\n          </Card>\r\n        )}\r\n      </div>\r\n    </AppContainer>\r\n  );\r\n};\r\n\r\nexport default DocumentList;\r\n\r\nexport const renderDocsList = (documents, t) =>\r\n  documents.map(({ name, createdTime, description, documentLink, fileSize, filestoreId }, index) => (\r\n    <DocumentCard\r\n      key={index}\r\n      documentTitle={name}\r\n      documentSize={fileSize}\r\n      lastModifiedData={createdTime}\r\n      description={description}\r\n      documentLink={documentLink}\r\n      filestoreId={filestoreId}\r\n      t={t}\r\n    />\r\n  ));\r\n","import { AppContainer, Card, CardCaption, Header, Loader, PrevIcon } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Searchbar from \"../../../components/Documents/Searchbar\";\r\nimport { useDebounce } from \"../../../hooks/useDebounce\";\r\nimport { renderDocsList } from \"./DocumentList\";\r\n\r\nconst Accordion = ({ t, title, count, onClick, children }) => {\r\n  const [isOpen, setOpen] = React.useState(false);\r\n\r\n  return (\r\n    <div className=\"accordion-wrapper\" onClick={() => onClick(title, count)}>\r\n      <div className={`accordion-title ${isOpen ? \"open\" : \"\"}`} onClick={() => setOpen(!isOpen)}>\r\n        {`${t(title)} (${count})`}\r\n        <PrevIcon />\r\n      </div>\r\n      <div className={`accordion-item ${!isOpen ? \"collapsed\" : \"\"}`}>\r\n        <div className=\"accordion-content\">{children}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst DocumentCategories = ({ t, parentRoute }) => {\r\n  const history = useHistory();\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n  const tenantIds = Digit.ULBService.getCitizenCurrentTenant();\r\n\r\n  const debouncedSearchQuery = useDebounce(searchValue, 700);\r\n\r\n  const { data, isLoading } = Digit.Hooks.engagement.useDocSearch(\r\n    { name: debouncedSearchQuery, tenantIds },\r\n    {\r\n      select: (data) => {\r\n        const mappedDocuments = data?.Documents?.map(({ uuid, name, category, documentLink, description, auditDetails, fileSize, filestoreId }) => ({\r\n          docId: uuid,\r\n          name,\r\n          category,\r\n          description,\r\n          documentLink,\r\n          createdTime: auditDetails?.createdTime,\r\n          fileSize,\r\n          filestoreId,\r\n        }));\r\n        return {\r\n          documentList: mappedDocuments,\r\n          statusCount: data?.statusCount,\r\n        };\r\n      },\r\n    }\r\n  );\r\n\r\n  if (!Digit.UserService?.getUser()?.access_token) {\r\n    return <Redirect to={{ pathname: `/digit-ui/citizen/login`, state: { from: location.pathname + location.search } }} />;\r\n  }\r\n\r\n  const showDocuments = (category, count) => {\r\n    history.push(`documents/list/${category}/${count}`);\r\n  };\r\n\r\n  const handleKeyPress = (event) => {\r\n    if (event.key === \"Enter\") {\r\n      setSearchValue(\"\");\r\n    }\r\n  };\r\n\r\n  const handleSearch = (event) => {\r\n    setSearchValue(\"\");\r\n  };\r\n\r\n  /*  if (isLoading) {\r\n     return <Loader />\r\n   } */\r\n  return (\r\n    <AppContainer>\r\n      <Header>{t(\"DOCUMENTS_DOCUMENT_HEADER\")}</Header>\r\n      <div className=\"Docs_CardWrapper\">\r\n        <Searchbar searchValue={searchValue} handleKeyPress={handleKeyPress} handleSearch={handleSearch} onChange={setSearchValue} t={t} />\r\n        <hr style={{ color: \"#ccc\" }} />\r\n        {isLoading ? (\r\n          <Loader />\r\n        ) : (\r\n          <div className=\"wrapper\">\r\n            {searchValue.length && data?.documentList?.length ? (\r\n              renderDocsList(data.documentList, t)\r\n            ) : data?.statusCount && data?.statusCount?.length ? (\r\n              data?.statusCount?.map(({ category, count }, index) => {\r\n                return <Accordion t={t} title={category} count={count} key={index} onClick={showDocuments} />;\r\n              })\r\n            ) : (\r\n              <Card>\r\n                <CardCaption>{t(\"COMMON_INBOX_NO_DATA\")}</CardCaption>\r\n              </Card>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </AppContainer>\r\n  );\r\n};\r\n\r\nexport default DocumentCategories;\r\n","import {\r\n  AppContainer, Card,\r\n  CardCaption, Header, Loader\r\n} from \"@egovernments/digit-ui-react-components\";\r\nimport React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport DocumentCard from \"../../../components/Documents/DocumentCard\";\r\n\r\nconst ViewDocument = ({ match }) => {\r\n  const { t } = useTranslation()\r\n  const { applicationNumber: uuid, tenantId } = Digit.Hooks.useQueryParams();\r\n  const { data, isLoading, } = Digit.Hooks.engagement.useDocSearch({ uuid, tenantId }, {\r\n    select: (data) => {\r\n      const mappedDocuments = data?.Documents?.map((\r\n        { uuid,\r\n          name,\r\n          category,\r\n          documentLink,\r\n          description,\r\n          auditDetails,\r\n          fileSize,\r\n          filestoreId,\r\n        }\r\n      ) => ({\r\n        docId: uuid,\r\n        name,\r\n        category,\r\n        description,\r\n        documentLink,\r\n        createdTime: auditDetails?.createdTime,\r\n        fileSize,\r\n        filestoreId\r\n      }))\r\n      return {\r\n        documentList: mappedDocuments,\r\n        statusCount: data?.statusCount\r\n      };\r\n    }\r\n  });\r\n  \r\n  /* \r\n    Logic to view image on load of screen\r\n    if (data?.documentList?.[0]?.filestoreId) {\r\n      openUploadedDocument(data?.documentList?.[0]?.filestoreId, \"mSeva\");\r\n    } else if (data?.documentList?.[0]?.documentLink) {\r\n      window.open(data?.documentList?.[0]?.documentLink,)\r\n    }\r\n   */\r\n\r\n  const { documentList = [] } = data || {};\r\n  const { name = false, createdTime, description, documentLink, fileSize, filestoreId } = documentList?.[0] || {};\r\n\r\n  return (\r\n    <AppContainer>\r\n      <Header>{`${t(`COMMON_VIEW_DOC`)}`}</Header>\r\n      {isLoading && <Loader />}\r\n      {name && <DocumentCard\r\n        key={1}\r\n        documentTitle={name}\r\n        documentSize={fileSize}\r\n        lastModifiedData={createdTime}\r\n        description={description}\r\n        documentLink={documentLink}\r\n        filestoreId={filestoreId}\r\n        t={t}\r\n      />}\r\n      {!name && !isLoading && <Card>\r\n        <CardCaption>{t(\"COMMON_DOC_DATA_NOT_FOUND\")}</CardCaption>\r\n      </Card>}\r\n    </AppContainer>\r\n  );\r\n};\r\n\r\nexport default ViewDocument;\r\n\r\n","import { Banner, Card, Loader, CardText, ActionBar, SubmitBar } from \"@egovernments/digit-ui-react-components\";\r\nimport { useQueryClient } from \"react-query\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst getMessage = (mutation) => {\r\n  if (mutation.isSuccess) return mutation.data?.Surveys?.[0]?.uuid;\r\n  return \"\";\r\n};\r\n\r\n\r\nconst BannerPicker = (props) => {\r\n  const { t } = useTranslation();\r\n  return (\r\n    <Banner\r\n      message={props.mutation.isSuccess ? t(`SURVEY_RESPONSE_SUBMITED`) : t(\"SURVEY_RESPONSE_FAILED\")}\r\n      applicationNumber={getMessage(props.mutation)}\r\n      info={props.mutation.isSuccess ? props.surveyTitle : \"\"}\r\n      // info={props.mutation.isSuccess ? \"nipun\" : \"abcd\"}\r\n      \r\n      successful={props.mutation.isSuccess}\r\n      whichSvg={\"tick\"}\r\n      // svg={() => <TickMark fillColor=\"green\" />}\r\n    />\r\n  );\r\n};\r\n\r\nconst Acknowledgement = (props) => {\r\n  const queryClient = useQueryClient();\r\n  const { t } = useTranslation();\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const mutation = Digit.Hooks.survey.useSubmitResponse();\r\n  const { state } = props.location;\r\n  const surveyTitlev1 = state?.AnswerEntity?.surveyTitle;\r\n  \r\n  useEffect(() => {\r\n    const onSuccess = () => {\r\n      queryClient.clear();\r\n    };\r\n    mutation.mutate(state, {\r\n      onSuccess,\r\n    });\r\n  }, []);\r\n\r\n  if (mutation.isLoading && !mutation.isIdle) {\r\n    return <Loader />;\r\n  }\r\n  \r\n  const survey = mutation.data?.Surveys?.[0];\r\n  \r\n  return (\r\n    <Card>\r\n      <BannerPicker t={t} mutation={mutation} surveyTitle={surveyTitlev1}/>\r\n      <CardText>\r\n        {mutation.isSuccess ?\r\n          // ? t(`SURVEY_FORM_CREATION_MESSAGE`, {\r\n          //     surveyName: survey?.title,\r\n          //     fromDate: Digit.DateUtils.ConvertTimestampToDate(survey?.startDate),\r\n          //     toDate: Digit.DateUtils.ConvertTimestampToDate(survey?.endDate),\r\n          //   })\r\n          t(\"SURVEY_FORM_RESPONSE_MESSAGE\")\r\n          : null}\r\n      </CardText>\r\n      <ActionBar>\r\n        <Link to={\"/digit-ui/citizen/engagement/surveys/list\"}>\r\n          <SubmitBar label={t(\"CORE_COMMON_GO_TO_HOME\")} />\r\n        </Link>\r\n      </ActionBar>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default Acknowledgement;\r\n","import React from \"react\"\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Switch, useLocation, Route } from \"react-router-dom\";\r\nimport { BackButton, PrivateRoute } from \"@egovernments/digit-ui-react-components\";\r\nimport DocumentCategories from \"./Documents/DocumentCategories\";\r\nimport ViewDocument from \"./Documents/ViewDocument\";\r\nimport Response from './CitizenSurvey/Response';\r\n\r\nconst CitizenApp = ({ path, url, userType, tenants}) => {\r\n    const location = useLocation();\r\n    const { t } = useTranslation();\r\n    const NotificationsOrWhatsNew = Digit.ComponentRegistryService.getComponent(\"NotificationsAndWhatsNew\")\r\n    const Events = Digit.ComponentRegistryService.getComponent(\"EventsListOnGround\")\r\n    const EventDetails = Digit.ComponentRegistryService.getComponent(\"EventDetails\")\r\n    const Documents = Digit.ComponentRegistryService.getComponent(\"DocumentList\")\r\n    const SurveyList = Digit.ComponentRegistryService.getComponent(\"SurveyList\")\r\n    const FillSurvey = Digit.ComponentRegistryService.getComponent('FillSurvey')\r\n    const ShowSurvey = Digit.ComponentRegistryService.getComponent('ShowSurvey')\r\n    return (\r\n      <React.Fragment>\r\n        <BackButton>{t(\"CS_COMMON_BACK\")}</BackButton>\r\n        <Switch>\r\n          <Route\r\n            path={`${path}/notifications`}\r\n            component={() => <NotificationsOrWhatsNew variant=\"notifications\" parentRoute={path} />}\r\n          />\r\n          <PrivateRoute\r\n            path={`${path}/whats-new`}\r\n            component={() => <NotificationsOrWhatsNew variant=\"whats-new\" parentRoute={path} />}\r\n          />\r\n          <PrivateRoute\r\n            exact\r\n            path={`${path}/events`}\r\n            component={() => <Events variant=\"events\" parentRoute={path} />}\r\n          />\r\n          <PrivateRoute\r\n            path={`${path}/events/details/:id`}\r\n            component={() => <EventDetails parentRoute={path} />}\r\n          />\r\n          <PrivateRoute path={`${path}/docs`} component={() => <DocumentCategories t={t} {...{ path }} />} />\r\n          <PrivateRoute path={`${path}/documents/viewDocument`} component={() => <ViewDocument t={t} {...{ path }} />} />\r\n          <PrivateRoute path={`${path}/documents/list/:category/:count`} component={(props) => <Documents {...props} />} />\r\n          <PrivateRoute path={`${path}/surveys/list`} component={(props) => <SurveyList {...props} />} />\r\n          <PrivateRoute path={`${path}/surveys/fill-survey`} component={(props) => <FillSurvey {...props} />} />\r\n          <PrivateRoute path={`${path}/surveys/submit-response`} component={(props) => <Response {...props} />} />\r\n          <PrivateRoute path={`${path}/surveys/show-survey`} component={(props) => <ShowSurvey {...props} />} />\r\n        </Switch>\r\n      </React.Fragment>\r\n    );\r\n};\r\nexport default CitizenApp","import { Clock, Header, Loader, MapMarker, OnGroundEventCard } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useMemo } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Redirect, useHistory, useLocation, useParams } from \"react-router-dom\";\r\n\r\nconst EventDetails = () => {\r\n  const { t } = useTranslation();\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n  const { id: EventId } = useParams();\r\n\r\n  const tenantId = Digit.ULBService.getCitizenCurrentTenant();\r\n\r\n  const { data: EventsData, isLoading: EventsDataLoading } = Digit.Hooks.useEvents({ tenantId, variant: \"events\" });\r\n\r\n  if (!Digit.UserService?.getUser()?.access_token) {\r\n    localStorage.clear();\r\n    sessionStorage.clear();\r\n    return <Redirect to={{ pathname: `/digit-ui/citizen/login`, state: { from: location.pathname + location.search } }} />;\r\n  }\r\n\r\n  function onGroundEventCardPropsForEventDetails(DataParamsInEvent) {\r\n    const { eventCategory, name, onGroundEventDate, onGroundEventMonth, onGroundEventTimeRange } = DataParamsInEvent;\r\n    return { eventCategory: t(eventCategory), showEventCatergory: true, name, onGroundEventDate, onGroundEventMonth, onGroundEventTimeRange };\r\n  }\r\n\r\n  const FilteredEventForThisPage = useMemo(() => (!EventsDataLoading ? EventsData?.filter((i) => i.id === EventId)[0] : null), [\r\n    EventsDataLoading,\r\n    EventsData,\r\n  ]);\r\n\r\n  if (EventsDataLoading) return <Loader />;\r\n  return (\r\n    <div className=\"CitizenEngagementNotificationWrapper\">\r\n      <Header>{t(\"ES_TITLE_APPLICATION_DETAILS\")}</Header>\r\n      <OnGroundEventCard {...onGroundEventCardPropsForEventDetails(FilteredEventForThisPage)} />\r\n      <div className=\"OnGroundEventDetailsCard\">\r\n        <p className=\"cardCaptionBodyS\">{FilteredEventForThisPage?.description}</p>\r\n        <div className=\"eventAddressAndDirection\">\r\n          <span>\r\n            <MapMarker />\r\n            <div>\r\n              <p>{FilteredEventForThisPage?.eventDetails?.address}</p>\r\n              {FilteredEventForThisPage?.eventDetails?.latitude && FilteredEventForThisPage?.eventDetails?.longitude ? (\r\n                <a\r\n                  className=\"direction\"\r\n                  target=\"_blank\"\r\n                  href={`https://www.google.com/maps/search/?api=1&query=${FilteredEventForThisPage?.eventDetails?.latitude}%2C${FilteredEventForThisPage?.eventDetails?.longitude}`}\r\n                >\r\n                  {t(\"CS_COMMON_GET_DIRECTIONS\")}\r\n                </a>\r\n              ) : null}\r\n            </div>\r\n          </span>\r\n        </div>\r\n        <div className=\"eventTimeRange\">\r\n          <Clock />\r\n          <p>{FilteredEventForThisPage?.onGroundEventTimeRange}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EventDetails;\r\n","export const documentsFormConfig = [\r\n  {\r\n    body: [\r\n      {\r\n        type: \"form\",\r\n        key: \"ULB\",\r\n        component: \"EngagementDocSelectULB\",\r\n        withoutLabel: true,\r\n      },\r\n      {\r\n        type: \"form\",\r\n        key: \"documentName\",\r\n        component: \"EnagementDocName\",\r\n        withoutLabel: true,\r\n      },\r\n      {\r\n        type: \"form\",\r\n        key: \"docCategory\",\r\n        component: \"EngagementDocCategory\",\r\n        withoutLabel: true,\r\n      },\r\n      {\r\n        type: \"form\",\r\n        key: \"description\",\r\n        component: \"EngagementDocDescription\",\r\n        withoutLabel: true,\r\n      },\r\n      {\r\n        type: \"form\",\r\n        key: \"document\",\r\n        component: \"EngagementDocUploadDocument\",\r\n        withoutLabel: true,\r\n        inputs: [{ name: \"\" }],\r\n      },\r\n    ],\r\n  },\r\n];\r\n","import React, { useState } from \"react\";\r\nimport { FormComposer, Header } from \"@egovernments/digit-ui-react-components\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { documentsFormConfig } from \"../../../config/doc-create\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst Documents = () => {\r\n  const { t } = useTranslation();\r\n  const history = useHistory();\r\n  const [canSubmit, setSubmitValve] = useState(false);\r\n\r\n  const onFormValueChange = (setValue, formData, formState) => {\r\n    if (\r\n      formData?.documentName &&\r\n      formData?.docCategory &&\r\n      (formData?.document.filestoreId || formData?.document.documentLink) &&\r\n      formData?.ULB?.length\r\n    ) {\r\n      setSubmitValve(true);\r\n    } else {\r\n      setSubmitValve(false);\r\n    }\r\n  };\r\n\r\n  const onSubmit = (data) => {  \r\n    const DocumentEntity = {\r\n      name: data.documentName,\r\n      description: data?.description.length ? data.description : \"\",\r\n      category: data.docCategory?.name,\r\n      documentLink: data.document?.documentLink,\r\n      filestoreId: data.document?.filestoreId?.fileStoreId,\r\n      fileSize: data.document?.filestoreId?.fileSize,\r\n      fileType: data.document?.filestoreId?.fileType,\r\n      tenantIds: data.ULB.map((e) => e.code),\r\n    };\r\n\r\n    history.push(\"/digit-ui/employee/engagement/documents/response\", { DocumentEntity });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n     <Header>{t(\"ES_ENGAGEMENT_DOCUMENTS\")}</Header>\r\n    <FormComposer\r\n     // heading={t(\"ES_ENGAGEMENT_DOCUMENTS\")}\r\n     label={t(\"ES_COMMON_APPLICATION_SUBMIT\")}\r\n     config={documentsFormConfig}\r\n     onSubmit={onSubmit}\r\n     fieldStyle={{}}\r\n     onFormValueChange={onFormValueChange}\r\n     isDisabled={!canSubmit}\r\n     />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Documents;\r\n","export const documentsFormConfig = [\r\n    {\r\n      body: [\r\n        {\r\n          type: \"form\",\r\n          key: \"ULB\",\r\n          component: \"EngagementULBDropdown\",\r\n          withoutLabel: true,\r\n        },\r\n        {\r\n          type: \"form\",\r\n          key: \"documentName\",\r\n          component: \"EnagementDocName\",\r\n          withoutLabel: true,\r\n        },\r\n        {\r\n          type: \"form\",\r\n          key: \"docCategory\",\r\n          component: \"EngagementDocCategory\",\r\n          withoutLabel: true,\r\n        },\r\n        {\r\n          type: \"form\",\r\n          key: \"description\",\r\n          component: \"EngagementDocDescription\",\r\n          withoutLabel: true,\r\n        },\r\n        {\r\n          type: \"form\",\r\n          key: \"document\",\r\n          component: \"EngagementDocUploadDocument\",\r\n          withoutLabel: true,\r\n          inputs: [{ name: \"\" }],\r\n        },\r\n      ],\r\n    },\r\n  ];\r\n  ","import React, { useState, useCallback } from \"react\";\r\nimport { Card, Header, LabelFieldPair, CardLabel, TextInput, Dropdown, FormComposer, SubmitBar, ActionBar } from \"@egovernments/digit-ui-react-components\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { documentsFormConfig } from \"../../../config/doc-update\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n\r\nconst Documents = (props) => {\r\n  const { t } = useTranslation();\r\n  const history = useHistory();\r\n  const [canSubmit, setSubmitValve] = useState(false);\r\n\r\n  const onFormValueChange = useCallback(\r\n    (setValue, updatedFormData, formState) => {\r\n      if (\r\n        updatedFormData?.documentName &&\r\n        updatedFormData?.docCategory &&\r\n        (updatedFormData?.document.filestoreId || updatedFormData?.document.documentLink) &&\r\n        updatedFormData?.ULB && Object.keys(updatedFormData?.ULB).length\r\n      ) {\r\n        setSubmitValve(true);\r\n      } else {\r\n        setSubmitValve(false);\r\n      }\r\n    },\r\n    [],\r\n  )\r\n\r\n  const update = (data) => {\r\n    const fileSize = data.document?.filestoreId?.fileSize ? data.document?.filestoreId?.fileSize : props.location.state?.DocumentEntity?.fileSize;\r\n    const fileType = data.document?.filestoreId?.fileType ? data.document?.filestoreId?.fileType : props.location.state?.DocumentEntity?.fileType;\r\n    const DocumentEntity = {\r\n      ...props.location?.state?.DocumentEntity,\r\n      name: data.documentName,\r\n      description: data?.description.length ? data.description : \"\",\r\n      category: data.docCategory?.name,\r\n      filestoreId: data.document?.filestoreId?.fileStoreId,\r\n      fileSize,\r\n      fileType,\r\n      documentLink: data.document?.documentLink,\r\n      tenantId: data?.ULB?.code,\r\n    };\r\n\r\n    delete DocumentEntity.ULB;\r\n    delete DocumentEntity.docCategory;\r\n    delete DocumentEntity.documentName;\r\n    history.push(\"/digit-ui/employee/engagement/documents/update-response\", { DocumentEntity });\r\n  };\r\n  return (\r\n    <React.Fragment>\r\n      <Header>{t(\"ES_ENGAGEMENT_EDIT_DOC\")}</Header>\r\n      <FormComposer\r\n        label={t(\"ES_COMMON_UPDATE\")}\r\n        config={documentsFormConfig}\r\n        onSubmit={(data) => {\r\n          update(data);\r\n        }}\r\n        fieldStyle={{}}\r\n        onFormValueChange={onFormValueChange}\r\n        defaultValues={props.location.state?.DocumentEntity}\r\n        isDisabled={!canSubmit}\r\n      />\r\n\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Documents;\r\n","import { Banner, Card, Loader, CardText, SubmitBar, ActionBar } from \"@egovernments/digit-ui-react-components\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useQueryClient } from \"react-query\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nconst getMessage = (mutation) => {\r\n  if (mutation.isSuccess) return mutation.data?.Documents?.[0]?.uuid;\r\n  return \"\";\r\n};\r\n\r\nconst BannerPicker = (props) => {\r\n  const { t } = useTranslation();\r\n  return (\r\n    <Banner\r\n      message={props.isSuccess ? t(`ENGAGEMENT_DOC_CREATED`) : t(\"ENGAGEMENT_DOC_FAILURE\")}\r\n      applicationNumber={getMessage(props.mutation)}\r\n      info={props.isSuccess ? t(\"ENGAGEMENT_DOCUMENT_ID\") : \"\"}\r\n      successful={props.isSuccess}\r\n    />\r\n  );\r\n};\r\n\r\nconst Response = (props) => {\r\n  const queryClient = useQueryClient();\r\n  const { t } = useTranslation();\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const mutation = Digit.Hooks.engagement.useDocCreate();\r\n  const { state } = props.location;\r\n\r\n  useEffect(() => {\r\n    const onSuccess = () => {\r\n      queryClient.clear();\r\n    };\r\n    mutation.mutate(state, {\r\n      onSuccess,\r\n    });\r\n  }, []);\r\n\r\n  if (mutation.isLoading || mutation.isIdle) {\r\n    return <Loader />;\r\n  }\r\n\r\n  return (\r\n   <div> \r\n    <Card>\r\n      <BannerPicker t={t} data={mutation.data} mutation={mutation} isSuccess={mutation.isSuccess} isLoading={mutation.isIdle || mutation.isLoading} />\r\n    </Card>\r\n    <ActionBar>\r\n    <Link to={\"/digit-ui/employee\"}>\r\n      <SubmitBar label={t(\"CORE_COMMON_GO_TO_HOME\")} />\r\n    </Link>\r\n  </ActionBar>\r\n </div> \r\n  );\r\n};\r\n\r\nexport default Response;\r\n","import { Banner, Card, Loader, ActionBar, SubmitBar } from \"@egovernments/digit-ui-react-components\";\r\nimport { useQueryClient } from \"react-query\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst getMessage = (mutation) => {\r\n  if (mutation.isSuccess) return mutation.data?.Documents?.[0]?.uuid;\r\n  return \"\";\r\n};\r\n\r\nconst BannerPicker = (props) => {\r\n  const { t } = useTranslation();\r\n  return (\r\n    <Banner\r\n      message={props.isSuccess ? t(`ENGAGEMENT_DOC_UPDATED`) : t(\"ENGAGEMENT_DOC_UPDATE_FAILURE\")}\r\n      applicationNumber={getMessage(props.mutation)}\r\n      info={props.isSuccess ? t(\"ENGAGEMENT_DOCUMENT_ID\") : \"\"}\r\n      successful={props.isSuccess}\r\n    />\r\n  );\r\n};\r\n\r\nconst Response = (props) => {\r\n  const queryClient = useQueryClient();\r\n  const { t } = useTranslation();\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const mutation = Digit.Hooks.engagement.useDocUpdate();\r\n  const { state } = props.location;\r\n\r\n  useEffect(() => {\r\n    const onSuccess = () => {\r\n      queryClient.clear();\r\n    };\r\n\r\n    mutation.mutate(state, {\r\n      onSuccess,\r\n    });\r\n  }, []);\r\n\r\n  if (mutation.isLoading || mutation.isIdle) {\r\n    return <Loader />;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n\r\n      <Card>\r\n        <BannerPicker t={t} data={mutation.data} mutation={mutation} isSuccess={mutation.isSuccess} isLoading={mutation.isIdle || mutation.isLoading} />\r\n      </Card>\r\n      <ActionBar>\r\n        <Link to={\"/digit-ui/employee\"}>\r\n          <SubmitBar label={t(\"CORE_COMMON_GO_TO_HOME\")} />\r\n        </Link>\r\n      </ActionBar>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Response;\r\n","import { Banner, Card, Loader, ActionBar, SubmitBar } from \"@egovernments/digit-ui-react-components\";\r\nimport { useQueryClient } from \"react-query\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst getMessage = (mutation) => {\r\n  if (mutation.isSuccess) return mutation.data?.Documents?.uuid;\r\n  return \"\";\r\n};\r\n\r\nconst BannerPicker = (props) => {\r\n  const { t } = useTranslation();\r\n  return (\r\n    <Banner\r\n      message={props.isSuccess ? t(`ENGAGEMENT_DOC_DELETED`) : t(\"ENGAGEMENT_DOC_DELETE_FAILURE\")}\r\n      applicationNumber={props.mutation?.isSuccess ? props.uuid : ''}\r\n      info={props.isSuccess ? t(\"ENGAGEMENT_DOCUMENT_ID\") : \"\"}\r\n      successful={props.isSuccess}\r\n    />\r\n  );\r\n};\r\n\r\nconst Response = (props) => {\r\n  const queryClient = useQueryClient();\r\n  const { t } = useTranslation();\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const mutation = Digit.Hooks.engagement.useDocDelete();\r\n  const { state } = props.location;\r\n\r\n  useEffect(() => {\r\n    const onSuccess = () => {\r\n      queryClient.clear();\r\n    };\r\n\r\n    mutation.mutate(state, {\r\n      onSuccess,\r\n    });\r\n  }, []);\r\n\r\n  if (mutation.isLoading || mutation.isIdle) {\r\n    return <Loader />;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Card>\r\n        <BannerPicker t={t} data={mutation.data} mutation={mutation} uuid={state?.DocumentEntity?.uuid} isSuccess={mutation.isSuccess} isLoading={mutation.isIdle || mutation.isLoading} />\r\n      </Card>\r\n      <ActionBar>\r\n        <Link to={\"/digit-ui/employee\"}>\r\n          <SubmitBar label={t(\"CORE_COMMON_GO_TO_HOME\")} />\r\n        </Link>\r\n      </ActionBar>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Response;\r\n","import React from \"react\";\r\nimport { Table } from \"@egovernments/digit-ui-react-components\";\r\n\r\nconst DocumentNotificationTable = ({\r\n  t,\r\n  data,\r\n  columns,\r\n  globalSearch,\r\n  onSearch,\r\n  getCellProps,\r\n  pageSizeLimit,\r\n  totalRecords,\r\n  currentPage,\r\n  onNextPage,\r\n  onPrevPage,\r\n  onPageSizeChange,\r\n  onSort,\r\n  sortParams\r\n}) => {\r\n  return (\r\n    <Table\r\n      t={t}\r\n      data={data}\r\n      columns={columns}\r\n      onSearch={onSearch}\r\n      globalSearch={globalSearch}\r\n      manualGlobalFilter={true}\r\n      manualPagination={true}\r\n      currentPage={currentPage}\r\n      onNextPage={onNextPage}\r\n      onPrevPage={onPrevPage}\r\n      pageSizeLimit={pageSizeLimit}\r\n      onPageSizeChange={onPageSizeChange}\r\n      getCellProps={getCellProps}\r\n      totalRecords={totalRecords}\r\n      onSort={onSort}\r\n      sortParams={sortParams}\r\n    />\r\n  )\r\n}\r\n\r\nexport default DocumentNotificationTable;\r\n","import React, { useMemo } from \"react\";\r\nimport { useForm, Controller } from \"react-hook-form\";\r\nimport { TextInput, Label, SubmitBar, LinkLabel, ActionBar, CloseSvg, Dropdown } from \"@egovernments/digit-ui-react-components\";\r\nimport { alphabeticalSortFunctionForTenantsBasedOnName } from \"../../utils\";\r\n\r\nconst Search = ({ onSearch, searchParams, searchFields, type, onClose, isInboxPage, t }) => {\r\n    const { register, handleSubmit, formState, reset, watch, control } = useForm({\r\n        defaultValues: searchParams,\r\n    });\r\n    const mobileView = innerWidth <= 640;\r\n    const ulbs = Digit.SessionStorage.get(\"ENGAGEMENT_TENANTS\");\r\n    const tenantId = Digit.ULBService.getCurrentTenantId();\r\n\r\n    const userInfo = Digit.UserService.getUser().info;\r\n    const userUlbs = ulbs.filter(ulb => userInfo?.roles?.some(role => role?.tenantId === ulb?.code)).sort(alphabeticalSortFunctionForTenantsBasedOnName);\r\n\r\n\r\n    const selectedTenat = useMemo(() => {\r\n        const filtered = ulbs.filter((item) => item.code === tenantId)\r\n        return filtered;\r\n    }, [tenantId, ulbs])\r\n\r\n    const getFields = (input) => {\r\n        switch (input.type) {\r\n            case \"ulb\":\r\n                return (\r\n                    <Controller\r\n                    rules={{ required: true }}\r\n                        defaultValue={selectedTenat?.[0]}\r\n                        render={props => (\r\n                            <Dropdown\r\n                                option={userUlbs}\r\n                                optionKey={\"i18nKey\"}\r\n                                selected={props.value}\r\n                                select={props.onChange}\r\n                                t={t}\r\n                            />\r\n                        )}\r\n                        name={input.name}\r\n                        control={control}\r\n\r\n                    />\r\n                )\r\n            default:\r\n                return (\r\n                    <Controller\r\n                        render={(props) => <TextInput onChange={props.onChange} value={props.value} />}\r\n                        name={input.name}\r\n                        control={control}\r\n                        defaultValue={null}\r\n                    />\r\n                )\r\n        }\r\n    }\r\n\r\n    const onSubmitInput = (data) => {\r\n        // searchFields.forEach((field) => {\r\n        //   if (!data[field.name]) data.delete.push(field.name);\r\n        // });\r\n\r\n        onSearch(data);\r\n        if (type === \"mobile\") {\r\n            onClose();\r\n        }\r\n    }\r\n\r\n    const clearSearch = () => {\r\n        reset({ name: '', ulbs: { code: tenantId.code }, postedBy: \"\" });\r\n        onSearch({ name: '', ulbs: { code: tenantId.code }, postedBy: \"\" })\r\n    };\r\n\r\n    const clearAll = (mobileView) => {\r\n        const mobileViewStyles = mobileView ? { margin: 0 } : {};\r\n        return (\r\n            <LinkLabel style={{ display: \"inline\", ...mobileViewStyles }} onClick={clearSearch}>\r\n                {t(\"ES_COMMON_CLEAR_SEARCH\")}\r\n            </LinkLabel>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit(onSubmitInput)}>\r\n            <div className=\"search-container\" style={{ width: \"auto\", marginLeft: isInboxPage ? \"24px\" : \"revert\" }}>\r\n                <div className=\"search-complaint-container\">\r\n                    {(type === \"mobile\" || mobileView) && (\r\n                        <div className=\"complaint-header\">\r\n                            <h2>{t(\"ES_COMMON_SEARCH_BY\")}</h2>\r\n                            <span onClick={onClose}>\r\n                                <CloseSvg />\r\n                            </span>\r\n                        </div>\r\n                    )}\r\n                    <div className={\"complaint-input-container for-pt \" + (!isInboxPage ? \"for-search\" : \"\")} style={{ width: \"100%\" }}>\r\n                        {searchFields\r\n                            ?.map((input, index) => (\r\n                                <div key={input.name} className=\"input-fields\">\r\n                                    {/* <span className={index === 0 ? \"complaint-input\" : \"mobile-input\"}> */}\r\n                                    <span className={\"mobile-input\"}>\r\n                                        <Label>{t(input.label) + ` ${input.isMendatory ? \"*\" : \"\"}`}</Label>\r\n                                        {getFields(input)}\r\n                                    </span>\r\n                                    {formState?.dirtyFields?.[input.name] ? (\r\n                                        <span\r\n                                            style={{ fontWeight: \"700\", color: \"rgba(212, 53, 28)\", paddingLeft: \"8px\", marginTop: \"-20px\", fontSize: \"12px\" }}\r\n                                            className=\"inbox-search-form-error\"\r\n                                        >\r\n                                            {formState?.errors?.[input.name]?.message}\r\n                                        </span>\r\n                                    ) : null}\r\n                                </div>\r\n                            ))}\r\n\r\n                        {/* {isInboxPage && ( */}\r\n                        {/* // <div style={{ gridColumn: \"2/3\", textAlign: \"right\", paddingTop: \"10px\" }} className=\"input-fields\"> */}\r\n                        {/* <div>{clearAll()}</div> */}\r\n                        {/* // </div> */}\r\n                        {/* )} */}\r\n\r\n                        {type === \"desktop\" && !mobileView && (\r\n                            <div style={{ maxWidth: \"unset\", marginLeft: \"unset\" }} className=\"search-submit-wrapper\">\r\n                                <SubmitBar\r\n                                    className=\"submit-bar-search\"\r\n                                    label={t(\"ES_COMMON_SEARCH\")}\r\n                                    // disabled={!!Object.keys(formState.errors).length || formValueEmpty()}\r\n                                    submit\r\n                                />\r\n                            </div>\r\n                        )}\r\n                        {type === \"desktop\" && !mobileView && (\r\n                            <div className=\"document-clear-all\">{clearAll()}</div>)\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            {(type === \"mobile\" || mobileView) && (\r\n                <ActionBar className=\"clear-search-container\">\r\n                    <button className=\"clear-search\" style={{ flex: 1 }}>\r\n                        {clearAll(mobileView)}\r\n                    </button>\r\n                    <SubmitBar disabled={!!Object.keys(formState.errors).length} label={t(\"ES_COMMON_SEARCH\")} style={{ flex: 1 }} submit={true} />\r\n                </ActionBar>\r\n            )}\r\n        </form>\r\n    )\r\n\r\n}\r\n\r\nexport default Search;","import React, { useState } from \"react\";\r\nimport { CloseSvg, Loader, SubmitBar, Dropdown, RefreshIcon } from \"@egovernments/digit-ui-react-components\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\n\r\nconst Filter = ({ type = \"desktop\", onClose, onSearch, onFilterChange, searchParams }) => {\r\n    const { t } = useTranslation();\r\n    const [localSearchParams, setLocalSearchParams] = useState(() => ({ ...searchParams }));\r\n    const tenantId = Digit.ULBService.getCurrentTenantId();\r\n    const stateId = tenantId?.split('.')[0];\r\n    const currrentUlb = Digit.ULBService.getCurrentUlb();\r\n    const { data: categoryData, isLoading } = Digit.Hooks.engagement.useMDMS(stateId, \"DocumentUploader\", [\"UlbLevelCategories\"], {\r\n        select: (d) => {\r\n            const data = d?.DocumentUploader?.UlbLevelCategories?.filter?.((e) => e.ulb === currrentUlb.code);\r\n            return data[0].categoryList.map((category) => ({ category }));\r\n        },\r\n    });\r\n\r\n    const clearAll = () => {\r\n        setLocalSearchParams({ category: null, name: null, postedBy: null, })\r\n        onFilterChange({ category: null, name: null, postedBy: null, });\r\n        onClose?.();\r\n    };\r\n\r\n    const applyLocalFilters = () => {\r\n        onFilterChange(localSearchParams);\r\n        onClose?.();\r\n    };\r\n    const handleChange = (data) => {\r\n        setLocalSearchParams({ ...localSearchParams, ...data });\r\n    };\r\n\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <Loader />\r\n        );\r\n    }\r\n    return (\r\n        <div className=\"filter\">\r\n            <div className=\"filter-card\">\r\n                <div className=\"heading\">\r\n                    <div className=\"filter-label\">{t(\"ES_COMMON_FILTER_BY\")}:</div>\r\n                    <div className=\"clearAll\" onClick={clearAll}>\r\n                        {t(\"ES_COMMON_CLEAR_ALL\")}\r\n                    </div>\r\n                    {type === \"desktop\" && (\r\n                        <span className=\"clear-search\" onClick={clearAll}>\r\n                            <RefreshIcon />\r\n                        </span>\r\n                    )}\r\n                    {type === \"mobile\" && (\r\n                        <span onClick={onClose}>\r\n                            <CloseSvg />\r\n                        </span>\r\n                    )}\r\n                </div>\r\n                <div className=\"filter-label\">{`${t('DOCUMENTS_CATEGORY_CARD_LABEL')}`}</div>\r\n                <Dropdown\r\n                    option={categoryData}\r\n                    optionKey={\"category\"}\r\n                    selected={localSearchParams}\r\n                    select={value => {\r\n                        handleChange(value)\r\n                    }\r\n                    }\r\n                    t={t}\r\n                />\r\n                <div>\r\n                    <SubmitBar style={{ width: '100%' }} onSubmit={() => applyLocalFilters()} label={t(\"ES_COMMON_APPLY\")} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter;","import React from \"react\";\r\nimport { Card, Loader } from \"@egovernments/digit-ui-react-components\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport EventLink from \"../Events/EventLink\";\r\nimport DocumentNotificationTable from \"./DocumentNotificationTable\";\r\nimport Search from \"./Search\";\r\nimport Filter from \"./Filter\";\r\nimport { openDocumentLink, openUploadedDocument } from \"../../utils\";\r\n\r\n\r\n\r\nconst getDocumentDetailsPath = (document) => {\r\n  return {\r\n    pathname: `inbox/details/${document.name}`,\r\n    state: { details: document }\r\n  }\r\n\r\n}\r\n\r\nconst GetCell = (value) => <span className=\"cell-text styled-cell\">{value}</span>;\r\nconst getDocumentDetails = (value = \"\", link, t) => <span className=\"document-table-docs-columns\"><Link className=\"link\" to={link} >{value.length ? value : t('CE_DOCUMENT_TITLE')}</Link></span>\r\nconst getDocumentCell = (name = \"mSeva\", link, docLink, t) => (\r\n  <span className=\"document-table-docs-columns\" >\r\n    {link?.length ? <span className=\"link\" onClick={() => openUploadedDocument(link, name)} > {t('CE_DOCUMENT_VIEW_LINK')} </span> : null}\r\n    {docLink.length ? <span className=\"link\" onClick={() => openDocumentLink(docLink, name)}> {t('CE_DOCUMENT_OPEN_LINK')} </span> : null}\r\n  </span>);\r\n\r\n\r\nconst DocumentDesktopInbox = ({ isLoading, data, t, onSearch, title, iconName, links, onSort, sortParams, globalSearch, searchFields, searchParams, onFilterChange, pageSizeLimit, totalRecords, currentPage, onNextPage, onPrevPage, onPageSizeChange }) => {\r\n  const columns = React.useMemo(() => [\r\n    {\r\n      Header: t('CE_TABLE_DOCUMENT_NAME'),\r\n      accessor: (row) => getDocumentDetails(row?.name, getDocumentDetailsPath(row), t),\r\n    },\r\n    {\r\n      Header: t('DOCUMENTS_CATEGORY_CARD_LABEL'),\r\n      accessor: (row) => GetCell(row?.category ? t(`${row?.category}`) : \"\")\r\n    },\r\n    {\r\n      Header: t('CE_TABLE_DOCUMENT_LINK'),\r\n      accessor: (row) => getDocumentCell(row?.name, row.filestoreId, row.documentLink || \"\", t)\r\n    },\r\n    {\r\n      Header: t('CE_TABLE_DOCUMENT_POSTED_BY'),\r\n      accessor: (row) => GetCell(row.postedBy)\r\n    },\r\n\r\n  ], [])\r\n\r\n  let result;\r\n  if (isLoading) {\r\n    result = <Loader />;\r\n  } else if (!data || data?.length === 0) {\r\n    result = (\r\n      <Card style={{ marginTop: 20, display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>\r\n        {t(\"CE_DOCUMENTS_NOT_FOUND\")}<br />\r\n        <Link className=\"link\" to={`/digit-ui/employee/engagement/documents/inbox/new-doc`}>{t('NEW_DOCUMENT_TEXT')}</Link>\r\n      </Card>\r\n    );\r\n  } else if (data?.length > 0) {\r\n    result = (\r\n      <DocumentNotificationTable\r\n        t={t}\r\n        data={data}\r\n        columns={columns}\r\n        onSort={onSort}\r\n        sortParams={sortParams}\r\n        globalSearch={globalSearch}\r\n        onSearch={searchParams}\r\n        pageSizeLimit={pageSizeLimit}\r\n        totalRecords={totalRecords}\r\n        currentPage={currentPage}\r\n        onNextPage={onNextPage}\r\n        onPrevPage={onPrevPage}\r\n        onPageSizeChange={onPageSizeChange}\r\n        getCellProps={(cellInfo) => {\r\n          return {\r\n            style: {\r\n              minWidth: cellInfo.column.Header === t(\"CE_TABLE_DOCUMENT_NAME\") ? \"240px\" : \"\",\r\n              padding: \"20px 18px\",\r\n              fontSize: \"16px\",\r\n            },\r\n          };\r\n        }}\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"inbox-container\">\r\n      <div className=\"filters-container\">\r\n        <EventLink title={title} icon={iconName} links={links} />\r\n        <div>\r\n          <Filter onFilterChange={onFilterChange} searchParams={searchParams} />\r\n        </div>\r\n      </div>\r\n      <div style={{ flex: 1 }}>\r\n        <Search\r\n          t={t}\r\n          onSearch={onSearch}\r\n          type=\"desktop\"\r\n          searchFields={searchFields}\r\n          isInboxPage={true}\r\n          searchParams={searchParams}\r\n        />\r\n        <div className=\"result\" style={{ marginLeft: \"24px\", flex: 1 }}>\r\n          {result}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DocumentDesktopInbox;","import React, { useState, useEffect } from \"react\";\r\nimport { Card, DetailsCard, Loader, PopUp, SearchAction, FilterAction } from \"@egovernments/digit-ui-react-components\";\r\nimport Filter from \"./Filter\";\r\nimport Search from \"./Search\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nimport { areEqual } from \"../../utils\";\r\n\r\nconst ApplicationCard = ({\r\n  searchFields,\r\n  searchParams,\r\n  onFilterChange,\r\n  onSearch,\r\n  t,\r\n  data,\r\n  responseData,\r\n}) => {\r\n  const [type, setType] = useState(\"\");\r\n  const [popup, setPopup] = useState(false);\r\n  const [params, setParams] = useState(searchParams);\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const history = useHistory()\r\n  useEffect(() => {\r\n    if (type) setPopup(true);\r\n  }, [type]);\r\n\r\n  const selectParams = (param) => {\r\n    setParams((o) => ({ ...o, ...param }));\r\n  };\r\n\r\n  const handlePopupClose = () => {\r\n    setPopup(false);\r\n    setParams(searchParams);\r\n  };\r\n\r\n  const redirectToDetailsPage = (data) => {\r\n    const details = responseData?.find((item) => (areEqual(item.postedBy, data[\"Posted By\"]) && areEqual(item.name, data[\"Document Name\"])));\r\n    if (details) {\r\n      history.push(`/digit-ui/employee/engagement/documents/inbox/details/${details?.name}`, { details })\r\n    }\r\n  }\r\n\r\n  let result;\r\n  if (data?.length === 0) {\r\n    result = (\r\n      <Card style={{ marginTop: 20, display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>\r\n        {t(\"CE_DOCUMENTS_NOT_FOUND\")}<br />\r\n        <Link className=\"link\" to={`/digit-ui/employee/engagement/documents/inbox/new-doc`}>{t('NEW_DOCUMENT_TEXT')}</Link>\r\n      </Card>\r\n    );\r\n  }\r\n  else if (data && data?.length > 0) {\r\n    result = <DetailsCard data={data} handleSelect={() => { }} handleDetailCardClick={redirectToDetailsPage} />\r\n  }\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"searchBox\">\r\n        {onSearch && (\r\n          <SearchAction\r\n            text=\"SEARCH\"\r\n            handleActionClick={() => {\r\n              setType(\"SEARCH\");\r\n              setPopup(true);\r\n            }}\r\n          />\r\n        )}\r\n        <FilterAction\r\n          text=\"FILTER\"\r\n          handleActionClick={() => {\r\n            setType(\"FILTER\");\r\n            setPopup(true);\r\n          }}\r\n        />\r\n      </div>\r\n      {result}\r\n      {popup && (\r\n        <PopUp>\r\n          {type === \"FILTER\" && (\r\n            <div className=\"popup-module\">\r\n              {\r\n                <Filter\r\n                  onFilterChange={onFilterChange}\r\n                  onClose={handlePopupClose}\r\n                  onSearch={onSearch}\r\n                  type=\"mobile\"\r\n                  searchParams={params}\r\n                />\r\n              }\r\n            </div>\r\n          )}\r\n          {type === \"SEARCH\" && (\r\n            <div className=\"popup-module\">\r\n              <Search\r\n                t={t}\r\n                type=\"mobile\"\r\n                onClose={handlePopupClose}\r\n                onSearch={onSearch}\r\n                searchParams={searchParams}\r\n                searchFields={searchFields}\r\n              />\r\n            </div>\r\n          )}\r\n        </PopUp>\r\n      )}\r\n    </React.Fragment>\r\n  )\r\n};\r\n\r\nexport default ApplicationCard;","import React from \"react\";\r\nimport { Link } from 'react-router-dom'\r\nimport ApplicationCard from \"./ApplicationCard\";\r\nimport EventLink from \"../Events/EventLink\";\r\nimport { openDocumentLink, openUploadedDocument } from \"../../utils\";\r\n\r\n\r\n\r\nconst MobileInbox = ({ data, t, title, iconName, links, searchFields, searchParams, onFilterChange, onSearch, isLoading }) => {\r\n  const getData = () => {\r\n    return data?.\r\n      filter(document =>\r\n        (searchParams?.tenantIds?.length > 0 ? searchParams?.tenantIds?.includes(document.tenantId) : true) &&\r\n        (searchParams?.name ? document.name?.toUpperCase().startsWith(searchParams?.name?.toUpperCase()) : true) &&\r\n        (searchParams?.postedBy ? document.postedBy?.trim()?.toLowerCase() === searchParams?.postedBy?.trim()?.toLowerCase() : true) &&\r\n        (searchParams?.category ? document.category === searchParams?.category : true))\r\n      .map((document) => {\r\n        return {\r\n          [t(\"CE_TABLE_DOCUMENT_NAME\")]: document?.name,\r\n          [t(\"DOCUMENTS_CATEGORY_CARD_LABEL\")]: t(`${document?.category}`),\r\n          [t(\"CE_TABLE_DOCUMENT_LINK\")]: \r\n          <div className=\"mobileInbox_attachments\">\r\n          { document?.filestoreId ? <div className=\"link\" onClick={(ev)=> {openUploadedDocument(document.filestoreId, document.name)}}>{t('CE_DOCUMENT_VIEW_LINK')}</div> : null}\r\n          { document?.documentLink ? <div className=\"link\" onClick={(ev)=> { openDocumentLink(document.documentLink, document.name)}}>{t('CE_DOCUMENT_OPEN_LINK')}</div> : null}\r\n          </div>\r\n          , \r\n          [t(\"CE_TABLE_DOCUMENT_POSTED_BY\")]: document?.postedBy\r\n        }\r\n      })\r\n  }\r\n\r\n\r\n  return (\r\n    <div style={{ padding: 0 }}>\r\n      <div className=\"inbox-container\">\r\n        <div className=\"filters-container\">\r\n          {/* {!isFstpOperator && !isSearch && <ApplicationLinks linkPrefix={parentRoute} isMobile={true} />} */}\r\n          <EventLink title={title} icon={iconName} links={links} />\r\n          <ApplicationCard\r\n            t={t}\r\n            data={getData()}\r\n            onFilterChange={onFilterChange}\r\n            // serviceRequestIdKey={isFstpOperator ? t(\"ES_INBOX_VEHICLE_LOG\") : DSO ? t(\"ES_INBOX_APPLICATION_NO\") : t(\"ES_INBOX_APPLICATION_NO\")}\r\n            // isFstpOperator={isFstpOperator}\r\n            isLoading={isLoading}\r\n            // isSearch={isSearch}\r\n            onSearch={onSearch}\r\n            // onSort={onSort}\r\n            searchParams={searchParams}\r\n            searchFields={searchFields}\r\n            responseData={data}\r\n          // linkPrefix={linkPrefix}\r\n          // removeParam={removeParam}\r\n          // sortParams={sortParams}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default MobileInbox;","import React, { useEffect, useState, useCallback } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Header } from \"@egovernments/digit-ui-react-components\";\r\nimport DesktopInbox from \"../../../../components/Documents/DesktopInbox\";\r\nimport MobileInbox from \"../../../../components/Documents/MobileInbox\";\r\n\r\n\r\n\r\nconst Inbox = ({ tenants }) => {\r\n    const { t } = useTranslation()\r\n    Digit.SessionStorage.set(\"ENGAGEMENT_TENANTS\", tenants);\r\n    const tenantId = Digit.ULBService.getCurrentTenantId();\r\n    const [searchParams, setSearchParams] = useState({\r\n        tenantIds: tenantId,\r\n        offset: 0,\r\n        limit: 10\r\n    });\r\n\r\n    let isMobile = window.Digit.Utils.browser.isMobile();\r\n    const { data: response, isLoading } = Digit.Hooks.engagement.useDocSearch(searchParams, {\r\n        select: ({ Documents, totalCount }) => ({ documentsList: Documents, totalCount })\r\n\r\n    });\r\n\r\n    const onSearch = (params) => {\r\n        const tenantIds = params?.ulbs?.code?.length ? params?.ulbs?.code : tenantId\r\n        const { name, postedBy } = params;\r\n        setSearchParams((prevSearchParams) => ({ ...prevSearchParams, name, postedBy, tenantIds }));\r\n    }\r\n\r\n    const handleFilterChange = (data) => {\r\n        setSearchParams((prevSearchParams) => ({ ...prevSearchParams, ...data }));\r\n    }\r\n\r\n    const fetchNextPage = useCallback(() => {\r\n        setSearchParams((prevSearchParams) => ({...prevSearchParams, offset: (parseInt(prevSearchParams?.offset) + parseInt(prevSearchParams?.limit))}));\r\n        \r\n    }, [])\r\n\r\n    const fetchPrevPage = () => {\r\n        setSearchParams((prevSearchParams) => ({...prevSearchParams, offset: (parseInt(prevSearchParams?.offset) - parseInt(prevSearchParams?.limit))}));\r\n    };\r\n\r\n    const handlePageSizeChange = (e) => {\r\n        setSearchParams((prevSearchParams) => ({...prevSearchParams, limit:e.target.value}));\r\n    };\r\n\r\n    useEffect(() => {\r\n        setSearchParams((prevSearchParams) => ({ ...prevSearchParams, tenantIds: tenantId }))\r\n    }, [tenantId])\r\n\r\n    const getSearchFields = () => {\r\n        return [\r\n            {\r\n                label: t('LABEL_FOR_ULB'),\r\n                name: \"ulbs\",\r\n                type: \"ulb\",\r\n            },\r\n            {\r\n                label: t('DOCUMENTS_DOCUMENT_HEADER'),\r\n                name: \"name\"\r\n            },\r\n            {\r\n                label: t('CE_TABLE_DOCUMENT_POSTED_BY'),\r\n                name: \"postedBy\"\r\n            }\r\n        ]\r\n    }\r\n\r\n    const links = [\r\n        {\r\n            text: t('NEW_DOCUMENT_TEXT'),\r\n            link: \"/digit-ui/employee/engagement/documents/inbox/new-doc\",\r\n        }\r\n    ]\r\n    if (isMobile) {\r\n        return (\r\n            <MobileInbox\r\n                data={response?.documentsList}\r\n                searchParams={searchParams}\r\n                searchFields={getSearchFields()}\r\n                t={t}\r\n                onFilterChange={handleFilterChange}\r\n                onSearch={onSearch}\r\n                isLoading={isLoading}\r\n                title={\"DOCUMENTS_DOCUMENT_HEADER\"}\r\n                iconName={\"document\"}\r\n                links={links}\r\n            />\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Header>\r\n                {t(\"DOCUMENTS_DOCUMENT_HEADER\")}\r\n                {Number(response?.totalCount) ? <p className=\"inbox-count\">{Number(response?.totalCount)}</p> : null}\r\n            </Header>\r\n\r\n            <DesktopInbox\r\n                t={t}\r\n                isLoading={isLoading}\r\n                data={response?.documentsList}\r\n                links={links}\r\n                searchParams={searchParams}\r\n                onSearch={onSearch}\r\n                //  globalSearch={globalSearch}\r\n                searchFields={getSearchFields()}\r\n                onFilterChange={handleFilterChange}\r\n                pageSizeLimit={searchParams?.limit}\r\n                totalRecords={response?.totalCount}\r\n                title={\"DOCUMENTS_DOCUMENT_HEADER\"}\r\n                iconName={\"document\"}\r\n                links={links}\r\n                currentPage={parseInt(searchParams.offset / searchParams.limit)}\r\n                onNextPage={fetchNextPage}\r\n                onPrevPage={fetchPrevPage}\r\n                onPageSizeChange={handlePageSizeChange}\r\n            //onSort={handleSortBy}\r\n            //sortParams={sortParams}\r\n            />\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Inbox;","import { Clock } from '@egovernments/digit-ui-react-components'\r\nimport React from 'react'\r\nimport {format, formatDistanceToNow} from \"date-fns\";\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nconst SurveyListCard = ({header, about, activeTime, postedAt, responseStatus, hasResponded, onCardClick }) => {\r\n    const {t} = useTranslation()\r\n    return (\r\n        <div className=\"WhatsNewCard\" onClick={onCardClick}>\r\n            <h2>{header}</h2>\r\n            <p>{about}</p>\r\n            <div className=\"surveyListclockDiv\">\r\n                <Clock /> <span>{`Active till ${format(new Date(activeTime), \"do MMM HH:mm\")}`}</span>\r\n            </div>\r\n            <div className=\"surveyListstatus\">\r\n                <p>{formatDistanceToNow(new Date(postedAt),{addSuffix:true})}</p>\r\n                <span className={hasResponded ? 'surveyLisResponded' : 'surveyLisNotResponded'}>{t(responseStatus)}</span>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SurveyListCard;","import { Header, Loader } from \"@egovernments/digit-ui-react-components\";\r\nimport React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport SurveyListCard from \"../../../components/Surveys/SurveyListCard\";\r\nconst isActive = (startDate, endDate) => {\r\n  const currentDate = new Date().getTime();\r\n  if (startDate < currentDate && currentDate <= endDate) {\r\n    return true;\r\n  }\r\n  return false;\r\n};\r\n\r\nconst SurveyList = () => {\r\n  const { t } = useTranslation();\r\n  const history = useHistory();\r\n  const tenantIds = Digit.ULBService.getCitizenCurrentTenant();\r\n\r\n  const { data, isLoading: isLoadingSurveys } = Digit.Hooks.survey.useSearch(\r\n    { tenantIds },\r\n    {\r\n      select: ({ Surveys }) => {\r\n        // const allSurveys = Surveys.map((survey) => ({ hasResponded: false, responseStatus: \"CS_SURVEY_YT_TO_RESPOND\", ...survey }));\r\n\r\n        const allSurveys = Surveys.map((survey) => {\r\n          const isSurveyActive = isActive(survey.startDate, survey.endDate);\r\n          let resStatus = \"\";\r\n          if (isSurveyActive && survey.hasResponded) resStatus = \"CS_SURVEY_RESPONDED\";\r\n          else if (isSurveyActive) resStatus = \"CS_SURVEY_YT_TO_RESPOND\";\r\n          else resStatus = \"CANNOT_RESPOND_MSG\";\r\n          return { hasResponded: false, responseStatus: resStatus, ...survey };\r\n        });\r\n        //why hasResoponded always set to false here\r\n        const activeSurveysList = [];\r\n        const inactiveSurveysList = [];\r\n        for (let survey of allSurveys) {\r\n          if (survey.status === \"ACTIVE\" && isActive(survey.startDate, survey.endDate)) {\r\n            activeSurveysList.push(survey);\r\n          } else {\r\n            inactiveSurveysList.push(survey);\r\n          }\r\n        }\r\n        return {\r\n          activeSurveysList,\r\n          inactiveSurveysList,\r\n        };\r\n      },\r\n    }\r\n  );\r\n\r\n  // const handleCardClick = (details) => {\r\n  //     history.push(\"/digit-ui/citizen/engagement/surveys/fill-survey\", details);\r\n  // };\r\n\r\n  //trying to implement like this-> If user already responded then open ShowSurvey\r\n  const handleCardClick = (details) => {\r\n    if (!details.hasResponded) {\r\n      history.push(\"/digit-ui/citizen/engagement/surveys/fill-survey\", details);\r\n    } else {\r\n      history.push(\"/digit-ui/citizen/engagement/surveys/show-survey\", details);\r\n    }\r\n  };\r\n\r\n  if (isLoadingSurveys) {\r\n    return <Loader />;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Header>{`${t(\"CS_COMMON_SURVEYS\")} (${data?.activeSurveysList.length})`}</Header>\r\n\r\n      {data?.activeSurveysList && data.activeSurveysList.length ? (\r\n        data.activeSurveysList.map((data, index) => {\r\n          return (\r\n            <div className=\"surveyListCardMargin\">\r\n              <SurveyListCard\r\n                header={data.title}\r\n                about={data.description}\r\n                activeTime={data.endDate}\r\n                postedAt={data.auditDetails.createdTime}\r\n                responseStatus={data.responseStatus}\r\n                hasResponsed={data.status}\r\n                key={index}\r\n                onCardClick={() => handleCardClick(data)}\r\n              />\r\n            </div>\r\n          );\r\n        })\r\n      ) : (\r\n        <div className=\"centered-message\">\r\n          <p>{t(\"CS_NO_ACTIVE_SURVEYS\")}</p>\r\n        </div>\r\n      )}\r\n\r\n      <Header>{`${t(\"CS_COMMON_INACTIVE_SURVEYS\")} (${data.inactiveSurveysList.length})`}</Header>\r\n\r\n      {data?.inactiveSurveysList && data.inactiveSurveysList.length ? (\r\n        data.inactiveSurveysList.map((data, index) => {\r\n          return (\r\n            <div className=\"surveyListCardMargin\">\r\n              <SurveyListCard\r\n                header={data.title}\r\n                about={data.description}\r\n                activeTime={data.endDate}\r\n                postedAt={data.auditDetails.createdTime}\r\n                responseStatus={data.responseStatus}\r\n                hasResponsed={data.status}\r\n                key={index}\r\n              />\r\n            </div>\r\n          );\r\n        })\r\n      ) : (\r\n        <div className=\"centered-message\">\r\n          <p>{t(`CS_NO_INACTIVE_SURVEYS`)}</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SurveyList;\r\n","import { Header, ActionBar, SubmitBar, ExternalLinkIcon, Menu, GenericFileIcon, LinkButton } from '@egovernments/digit-ui-react-components';\r\nimport React, { useState } from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { openDocumentLink, openUploadedDocument } from '../../utils';\r\nimport Confirmation from '../Modal/Confirmation';\r\n\r\n\r\nconst Actions = ['EDIT_DOCUMENT', 'DELETE']\r\nconst getUlbName = (tenantId) => {\r\n    let ulbName = tenantId?.split('.')[1];\r\n    ulbName = `${ulbName[0]?.toUpperCase()}${ulbName?.slice(1)} `;\r\n    return ulbName;\r\n}\r\nconst DocumentDetails = ({ location, match, history, }) => {\r\n    let isMobile = window.Digit.Utils.browser.isMobile();\r\n    const { t } = useTranslation();\r\n    const { details } = location?.state;\r\n    const [displayMenu, setDisplayMenu] = React.useState(false);\r\n    const [showModal, setShowModal] = useState(false);\r\n\r\n    const { data: ulbArray, isLoading: loading } = Digit.Hooks.useTenants();\r\n    const currrentUlb = Digit.ULBService.getCurrentUlb();\r\n    const stateId = Digit.ULBService.getStateId();\r\n    const { data: categoryOptions, isLoading } = Digit.Hooks.engagement.useMDMS(stateId, \"DocumentUploader\", [\"UlbLevelCategories\"], {\r\n        select: (d) => {\r\n            const data = d?.DocumentUploader?.UlbLevelCategories?.filter?.((e) => e.ulb === currrentUlb.code);\r\n            return data[0].categoryList.map((name) => ({ name }));\r\n        },\r\n    });\r\n\r\n\r\n    function onActionSelect(action) {\r\n        setDisplayMenu(false);\r\n\r\n        if (action?.includes('EDIT')) {\r\n            const DocumentEntity = {\r\n                tenantIds: details?.tenantId,\r\n                documentName: details?.name,\r\n                docCategory: categoryOptions?.filter((item) => item.name === details?.category)?.[0],\r\n                document: {\r\n                    filestoreId: { fileStoreId: details?.filestoreId },\r\n                    documentLink: details?.documentLink\r\n                },\r\n                ULB: {code:details?.tenantId},\r\n                ...details\r\n            }\r\n            history.push({\r\n                pathname: `/digit-ui/employee/engagement/documents/inbox/update`,\r\n                state: { DocumentEntity }\r\n            })\r\n        }\r\n\r\n        if (action?.includes('DELETE')) {\r\n            setShowModal(true)\r\n        }\r\n    }\r\n\r\n    function onModalSubmit() {\r\n        setShowModal(false)\r\n        const DocumentEntity = {\r\n            ...details\r\n        }\r\n        history.push({\r\n            pathname: `/digit-ui/employee/engagement/documents/delete-response`,\r\n            state: { DocumentEntity }\r\n        })\r\n    }\r\n\r\n    function onModalCancel() {\r\n        setShowModal(false)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {showModal ? <Confirmation\r\n                t={t}\r\n                heading={'CONFIRM_DELETE_DOC'}\r\n                docName={details?.name}\r\n                closeModal={() => setShowModal(!showModal)}\r\n                actionCancelLabel={'CS_COMMON_CANCEL'}\r\n                actionCancelOnSubmit={onModalCancel}\r\n                actionSaveLabel={'ES_COMMON_Y_DEL'}\r\n                actionSaveOnSubmit={onModalSubmit}\r\n            />\r\n\r\n                : null}\r\n            <Header>{t(`CE_DOCUMENT_DETAILS`)}</Header>\r\n            <div className=\"notice_and_circular_main gap-ten\">\r\n                <div className=\"documentDetails_wrapper\">\r\n                    <div className=\"documentDetails_row_items\"><p className=\"documentDetails_title\">{`${t('ULB')}:`}</p> <p>{getUlbName(details?.tenantId)}</p> </div>\r\n                    <div className=\"documentDetails_row_items\"><p className=\"documentDetails_title\">{`${t('DOCUMENT_NAME')}:`}</p> <p>{details?.name}</p> </div>\r\n                    <div className=\"documentDetails_row_items\"><p className=\"documentDetails_title\">{`${t('DOCUMENT_CATEGORY')}:`}</p> <p>{t(details?.category)}</p> </div>\r\n                    <div className=\"documentDetails_row_items\"><p className=\"documentDetails_title\">{`${t('DCOUMENT_DESCRIPTION')}:`}</p> <p className=\"documentDetails__description\">{details?.description?.length ? details?.description : 'NA'}</p> </div>\r\n                    {/* <div className=\"documentDetails_row_items\"><p className=\"documentDetails_title\">{`${t('ES_COMMON_LINK_LABEL')}:`}</p>\r\n                        {details?.documentLink ? <LinkButton\r\n                            label={\r\n                                <div className=\"link\" onClick={() => openDocumentLink(details?.documentLink, details?.name)}>\r\n                                    <p>{t(`CE_DOCUMENT_OPEN_LINK`)}</p>\r\n                                </div>\r\n                            }\r\n                        /> : 'NA'}\r\n                    </div> */}\r\n                    {details?.filestoreId ? <div className=\"documentDetails_pdf\">\r\n                        <span className=\"documentDetails_subheader\">{`${t('Document')}`}</span>\r\n                        <div style={{ width: '100px' }} onClick={() => openUploadedDocument(details?.filestoreId, details?.name)}>\r\n                            <GenericFileIcon />\r\n                        </div>\r\n\r\n                    </div>\r\n                        : null\r\n                    }\r\n                </div>\r\n            </div>\r\n            <ActionBar>\r\n                {displayMenu ? (\r\n                    <Menu\r\n                        style={{ width: isMobile ? 'full' : '240px' }}\r\n                        localeKeyPrefix={\"ES_CE\"}\r\n                        options={Actions}\r\n                        t={t}\r\n                        onSelect={onActionSelect}\r\n                    />\r\n                ) : null}\r\n                <SubmitBar label={t(\"ES_COMMON_TAKE_ACTION\")} onSubmit={() => setDisplayMenu(!displayMenu)} />\r\n            </ActionBar>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DocumentDetails;\r\n","import React, { Fragment, useMemo } from \"react\"\r\nimport { FilterFormField, Loader, Dropdown} from \"@egovernments/digit-ui-react-components\";\r\nimport { Controller } from \"react-hook-form\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nconst FilterFormFieldsComponent = ({statuses, isInboxLoading, registerRef, controlFilterForm, setFilterFormValue, filterFormState, getFilterFormValue, localitiesForEmployeesCurrentTenant, loadingLocalitiesForEmployeesCurrentTenant}) => {\r\n  const { t } = useTranslation()\r\n   /**\r\n     * ToDo how to display default value correctly ask @egov-saurabh\r\n     */\r\n  \r\n  return <>\r\n    <FilterFormField>\r\n      <Controller\r\n          name=\"status\"\r\n          control={controlFilterForm}\r\n          render={({ref, onChange, value}) => {\r\n            return <>\r\n              <div className=\"filter-label\">{t(\"CS_SURVEY_STATUS\")}</div>\r\n              <Dropdown inputRef={ref} option={statuses} optionKey=\"code\" t={t} select={onChange}\r\n                selected={value}\r\n                />\r\n            </>\r\n          }\r\n        }\r\n        />\r\n    </FilterFormField>\r\n  </>\r\n}\r\n\r\nexport default FilterFormFieldsComponent","import React, { Fragment, useMemo  } from \"react\"\r\nimport { CardLabelError, Dropdown, SearchField, TextInput } from \"@egovernments/digit-ui-react-components\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport {Controller } from \"react-hook-form\";\r\nimport { alphabeticalSortFunctionForTenantsBasedOnName } from \"../../../../utils\";\r\n\r\nconst SearchFormFieldsComponents = ({ registerRef, controlSearchForm, searchFormState }) => {\r\n    const { t } = useTranslation()\r\n    const ulbs = Digit.SessionStorage.get(\"ENGAGEMENT_TENANTS\");\r\n    const tenantId = Digit.ULBService.getCurrentTenantId();\r\n    const userInfo = Digit.SessionStorage.get(\"citizen.userRequestObject\")\r\n    const userUlbs = ulbs.filter(ulb => userInfo?.info?.roles?.some(role => role?.tenantId === ulb?.code)).sort(alphabeticalSortFunctionForTenantsBasedOnName);\r\n    const selectedTenat = useMemo(() => {\r\n        const filtered = ulbs.filter((item) => item.code === tenantId)\r\n        return filtered;\r\n    }, [ulbs])\r\n    \r\n    /**\r\n     * ToDo how to display default value correctly ask @egov-saurabh\r\n     */\r\n    \r\n    return <>\r\n        <SearchField>\r\n            <label>{t(\"LABEL_FOR_ULB\")}</label>\r\n            \r\n            <Controller\r\n                rules={{ required: true }}\r\n                defaultValue={selectedTenat?.[0]}\r\n                render={props => (\r\n                    <Dropdown\r\n                        option={userUlbs}\r\n                        optionKey={\"i18nKey\"}\r\n                        selected={props.value}\r\n                        select={(e) => props.onChange(e)}\r\n                        t={t}\r\n                    />\r\n                )}\r\n                name={\"tenantIds\"}\r\n                control={controlSearchForm}\r\n\r\n            />\r\n            \r\n        </SearchField>\r\n        <SearchField>\r\n            <label>{t(\"CS_SURVEY_NAME\")}</label>\r\n            <TextInput name=\"title\" type=\"text\" inputRef={registerRef({\r\n                maxLength: {\r\n                    value: 60,\r\n                    message: t(\"EXCEEDS_60_CHAR_LIMIT\")\r\n                },\r\n            })} />\r\n            <CardLabelError>\r\n                {searchFormState?.errors?.[\"title\"]?.message}\r\n            </CardLabelError>\r\n        </SearchField>\r\n        <SearchField>\r\n            <label>{t(\"EVENTS_POSTEDBY_LABEL\")}</label>\r\n            <TextInput name=\"postedBy\" type=\"text\" inputRef={registerRef({\r\n                maxLength: {\r\n                    value: 30,\r\n                    message: t(\"EXCEEDS_30_CHAR_LIMIT\")\r\n                },\r\n            })} />\r\n            <CardLabelError>\r\n                {searchFormState?.errors?.[\"postedBy\"]?.message}\r\n            </CardLabelError>\r\n        </SearchField>\r\n    </>\r\n}\r\n\r\nexport default SearchFormFieldsComponents","import React, { Fragment, useMemo } from \"react\"\r\nimport { Link } from \"react-router-dom\";\r\nimport { format } from \"date-fns\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nconst useInboxTableConfig = ({ parentRoute, onPageSizeChange, formState, totalCount, table, dispatch }) => {\r\n    const GetCell = (value) => <span className=\"cell-text styled-cell\">{value}</span>;\r\n    const GetStatusCell = (value) => value?.toLowerCase() === \"active\" ? <span className=\"sla-cell-success\">{value}</span> : <span className=\"sla-cell-error\">{value}</span>\r\n    const { t } = useTranslation()\r\n\r\n    const tableColumnConfig = useMemo(() => {\r\n        return [\r\n            {\r\n                Header: t(\"CS_SURVEY_TITLE\"),\r\n                accessor: \"uuid\",\r\n                Cell: ({ row }) => {\r\n                    return (\r\n                        <div>\r\n                            <Link to={`${parentRoute}/surveys/inbox/details/${row.original[\"uuid\"]}`}>\r\n                                <span className=\"link\">{row.original[\"title\"]}</span>\r\n                            </Link>\r\n                        </div>\r\n                    );\r\n                },\r\n            },\r\n            {\r\n                Header: t(\"EVENTS_START_DATE_LABEL\"),\r\n                accessor: \"startDate\",\r\n                Cell: ({ row }) => row.original?.startDate ? GetCell(format(new Date(row.original?.startDate), 'dd/MM/yyyy')) : \"\"\r\n            },\r\n            {\r\n                Header: t(\"EVENTS_END_DATE_LABEL\"),\r\n                accessor: \"endDate\",\r\n                Cell: ({ row }) => row.original?.endDate ? GetCell(format(new Date(row.original?.endDate), 'dd/MM/yyyy')) : \"\"\r\n            },\r\n            {\r\n                Header: t(\"CS_RESPONSE_COUNT\"),\r\n                accessor: \"answersCount\",\r\n                Cell: ({ row }) => row.original?.answersCount ? GetCell(Number(row.original?.answersCount)) : \"-\"\r\n            },\r\n            {\r\n                Header: t(\"EVENTS_STATUS_LABEL\"),\r\n                accessor: \"status\",\r\n                Cell: ({row}) => GetStatusCell(row.original?.status),\r\n            },\r\n            {\r\n                Header: t(\"EVENTS_POSTEDBY_LABEL\"),\r\n                accessor: (row) =>  row.postedBy,\r\n            },\r\n            {\r\n                Header: t(\"CS_SURVEY_RESULTS\"),\r\n                //accessor: \"uuid\",\r\n                accessor: \"results\",\r\n                Cell: ({ row }) => {\r\n                    return (\r\n                        <div style={{\"display\":\"flex\",\"justifyContent\":\"center\"}}>\r\n                            <Link to={`${parentRoute}/surveys/inbox/results/${row.original[\"uuid\"]}`}>\r\n                                <span  className=\"link\"> \r\n                                    <svg width=\"20\" height=\"18\" viewBox=\"0 0 20 18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                    <path d=\"M5.5 18H0V6H5.5V18ZM12.75 0H7.25V18H12.75V0ZM20 8H14.5V18H20V8Z\" fill=\"#F47738\"/>\r\n                                    </svg> \r\n                                </span>\r\n                            </Link>\r\n                        </div>\r\n                    );\r\n                },\r\n            }\r\n        ]\r\n    })\r\n\r\n    return {\r\n        getCellProps: (cellInfo) => {\r\n            return {\r\n                style: {\r\n                    padding: \"20px 18px\",\r\n                    fontSize: \"16px\"\r\n                }\r\n            }\r\n        },\r\n        disableSort: false,\r\n        autoSort: false,\r\n        manualPagination: true,\r\n        initSortI: \"endDate\",\r\n        onPageSizeChange: onPageSizeChange,\r\n        currentPage: formState.tableForm?.offset / formState.tableForm?.limit,\r\n        onNextPage: () => dispatch({ action: \"mutateTableForm\", data: { ...formState.tableForm, offset: (parseInt(formState.tableForm?.offset) + parseInt(formState.tableForm?.limit)) } }),\r\n        onPrevPage: () => dispatch({ action: \"mutateTableForm\", data: { ...formState.tableForm, offset: (parseInt(formState.tableForm?.offset) - parseInt(formState.tableForm?.limit)) } }),\r\n        pageSizeLimit: formState.tableForm?.limit,\r\n        // onSort: onSort,\r\n        // sortParams: [{id: getValues(\"sortBy\"), desc: getValues(\"sortOrder\") === \"DESC\" ? true : false}],\r\n        totalRecords: totalCount,\r\n        onSearch: formState?.searchForm?.message,\r\n        // globalSearch: {searchForItemsInTable},\r\n        // searchQueryForTable,\r\n        data: table,\r\n        columns: tableColumnConfig,\r\n        noResultsMessage:\"CS_NO_SURVEYS_FOUND\"\r\n    }\r\n}\r\n\r\nexport default useInboxTableConfig","import { useTranslation } from \"react-i18next\";\r\nimport { format } from \"date-fns\";\r\nconst useInboxMobileCardsData = ({parentRoute, table }) => {\r\n    const { t } = useTranslation()\r\n\r\n    /**\r\n     * Todo : after creating surveys details page handle serviceRequestIdKey\r\n     */\r\n    const dataForMobileInboxCards = table?.map(({ title, startDate, endDate, answersCount, status, postedBy}) => ({\r\n            [t(\"CS_SURVEY_TITLE\")]: title,\r\n            [t(\"EVENTS_START_DATE_LABEL\")]: format(new Date(startDate), 'dd/MM/yyyy'),\r\n            [t(\"EVENTS_END_DATE_LABEL\")]: format(new Date(endDate), 'dd/MM/yyyy'),\r\n            [t(\"CS_RESPONSE_COUNT\")]: answersCount,\r\n            [t(\"EVENTS_STATUS_LABEL\")]: status,\r\n            [t(\"EVENTS_POSTEDBY_LABEL\")]: postedBy,\r\n    }))\r\n\r\n    return ({ data:dataForMobileInboxCards, linkPrefix:`${parentRoute}/inbox/`, serviceRequestIdKey:t(\"TL_COMMON_TABLE_COL_APP_NO\")})\r\n\r\n}\r\n\r\nexport default useInboxMobileCardsData","import React, { Fragment, useCallback, useMemo, useReducer } from \"react\"\r\nimport { InboxComposer, DocumentIcon } from \"@egovernments/digit-ui-react-components\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport FilterFormFieldsComponent from \"./FilterFieldsComponent\";\r\nimport SearchFormFieldsComponents from \"./SearchFieldsComponents\";\r\nimport useInboxTableConfig from \"./useInboxTableConfig\";\r\nimport useInboxMobileCardsData from \"./useInboxMobileDataCard\";\r\n// import { useHistory } from \"react-router-dom\";\r\nconst Inbox = ({ parentRoute }) => {\r\n\r\n  const { t } = useTranslation()\r\n  // const history = useHistory()\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const ulbs = Digit.SessionStorage.get(\"ENGAGEMENT_TENANTS\");\r\n  const userInfo = Digit.UserService.getUser().info;\r\n  const userUlbs = ulbs\r\n    .filter((ulb) => userInfo?.roles?.some((role) => role?.tenantId === ulb?.code))\r\n    \r\n  const statuses = [\r\n    { code: \"ALL\", name: `${t(\"ES_COMMON_ALL\")}` },\r\n    { code: \"ACTIVE\", name: `${t(\"ES_COMMON_ACTIVE\")}` },\r\n    { code: \"INACTIVE\", name: `${t(\"ES_COMMON_INACTIVE\")}` }\r\n  ]\r\n\r\n  const searchFormDefaultValues = {\r\n    // tenantIds: tenantId,\r\n    tenantIds:userUlbs[0],\r\n    postedBy: \"\",\r\n    title: \"\"\r\n  }\r\n\r\n  const filterFormDefaultValues = {\r\n    status: statuses[0]\r\n  }\r\n  const tableOrderFormDefaultValues = {\r\n    sortBy: \"\",\r\n    limit: 10,\r\n    offset: 0,\r\n    sortOrder: \"DESC\"\r\n  }\r\n\r\n  function formReducer(state, payload) {\r\n    switch (payload.action) {\r\n      case \"mutateSearchForm\":\r\n        Digit.SessionStorage.set(\"CITIZENSURVEY.INBOX\", { ...state, searchForm: payload.data })\r\n        return { ...state, searchForm: payload.data };\r\n      case \"mutateFilterForm\":\r\n        Digit.SessionStorage.set(\"CITIZENSURVEY.INBOX\", { ...state, filterForm: payload.data })\r\n        return { ...state, filterForm: payload.data };\r\n      case \"mutateTableForm\":\r\n        Digit.SessionStorage.set(\"CITIZENSURVEY.INBOX\", { ...state, tableForm: payload.data })\r\n        return { ...state, tableForm: payload.data };\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n  const InboxObjectInSessionStorage = Digit.SessionStorage.get(\"CITIZENSURVEY.INBOX\")\r\n  \r\n  const onSearchFormReset = (setSearchFormValue) => {\r\n    setSearchFormValue(\"postedBy\", \"\")\r\n    setSearchFormValue(\"title\", \"\")\r\n    setSearchFormValue(\"tenantIds\", tenantId)\r\n    dispatch({ action: \"mutateSearchForm\", data: searchFormDefaultValues })\r\n  }\r\n\r\n  const onFilterFormReset = (setFilterFormValue) => {\r\n    setFilterFormValue(\"status\", statuses[0])\r\n    dispatch({ action: \"mutateFilterForm\", data: filterFormDefaultValues })\r\n  }\r\n\r\n  const formInitValue = useMemo(() => {\r\n    return InboxObjectInSessionStorage || {\r\n      filterForm: filterFormDefaultValues,\r\n      searchForm: searchFormDefaultValues,\r\n      tableForm: tableOrderFormDefaultValues\r\n    }\r\n  }\r\n    , [Object.values(InboxObjectInSessionStorage?.filterForm || {}), Object.values(InboxObjectInSessionStorage?.searchForm || {}), Object.values(InboxObjectInSessionStorage?.tableForm || {})])\r\n\r\n  const [formState, dispatch] = useReducer(formReducer, formInitValue)\r\n  const onPageSizeChange = (e) => {\r\n    dispatch({ action: \"mutateTableForm\", data: { ...formState.tableForm, limit: e.target.value } })\r\n  }\r\n\r\n  const { data: { Surveys, TotalCount } = {}, isLoading: isInboxLoading, } = Digit.Hooks.survey.useSurveyInbox(formState)\r\n\r\n  const PropsForInboxLinks = {\r\n    logoIcon: <DocumentIcon />,\r\n    headerText: \"CS_COMMON_SURVEYS\",\r\n    links: [{\r\n      text: t(\"CS_COMMON_NEW_SURVEY\"),\r\n      link: \"/digit-ui/employee/engagement/surveys/inbox/create\",\r\n    }]\r\n  }\r\n\r\n  const SearchFormFields = useCallback(({ registerRef, searchFormState, controlSearchForm }) => <SearchFormFieldsComponents {...{ registerRef, searchFormState, controlSearchForm }} />, [])\r\n\r\n  const FilterFormFields = useCallback(\r\n    ({ registerRef, controlFilterForm, setFilterFormValue, getFilterFormValue }) => <FilterFormFieldsComponent\r\n      {...{\r\n        statuses,\r\n        registerRef,\r\n        controlFilterForm,\r\n        setFilterFormValue,\r\n        filterFormState: formState?.filterForm,\r\n        getFilterFormValue,\r\n      }} />\r\n    , [statuses])\r\n\r\n    \r\n  const onSearchFormSubmit = (data) => {\r\n    data.hasOwnProperty(\"\") ? delete data?.[\"\"] : null\r\n    dispatch({ action: \"mutateSearchForm\", data })\r\n  }\r\n\r\n  const onFilterFormSubmit = (data) => {\r\n    data.hasOwnProperty(\"\") ? delete data?.[\"\"] : null\r\n    dispatch({ action: \"mutateFilterForm\", data })\r\n  }\r\n\r\n  const propsForSearchForm = { SearchFormFields, onSearchFormSubmit, searchFormDefaultValues: formState?.searchForm, resetSearchFormDefaultValues: searchFormDefaultValues, onSearchFormReset }\r\n\r\n  const propsForFilterForm = { FilterFormFields, onFilterFormSubmit, filterFormDefaultValues: formState?.filterForm, resetFilterFormDefaultValues: filterFormDefaultValues, onFilterFormReset }\r\n\r\n  const propsForInboxTable = useInboxTableConfig({ ...{ parentRoute, onPageSizeChange, formState, totalCount: TotalCount, table: Surveys, noResultsMessage: \"CS_SURVEYS_NOT_FOUND\", dispatch } })\r\n\r\n  const propsForInboxMobileCards = useInboxMobileCardsData({parentRoute, table:Surveys})\r\n  \r\n  return <InboxComposer {...{ isInboxLoading, PropsForInboxLinks, ...propsForSearchForm, ...propsForFilterForm, propsForInboxMobileCards, propsForInboxTable, formState }}></InboxComposer>\r\n\r\n}\r\n\r\nexport default Inbox","import { CardLabelError, Dropdown, RemoveableTag, TextInput } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { Fragment, useMemo } from \"react\";\r\nimport { Controller } from \"react-hook-form\";\r\n\r\nimport { alphabeticalSortFunctionForTenantsBasedOnName } from \"../../../utils/index\";\r\nconst SurveyDetailsForms = ({ t, registerRef, controlSurveyForm, surveyFormState, surveyFormData, disableInputs, enableDescriptionOnly }) => {\r\n  const ulbs = Digit.SessionStorage.get(\"ENGAGEMENT_TENANTS\");\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const userInfo = Digit.UserService.getUser().info;\r\n  const userUlbs = ulbs\r\n    .filter((ulb) => userInfo?.roles?.some((role) => role?.tenantId === ulb?.code))\r\n    .sort(alphabeticalSortFunctionForTenantsBasedOnName);\r\n  const selectedTenat = useMemo(() => {\r\n    const filtered = ulbs.filter((item) => item.code === tenantId);\r\n    return filtered;\r\n  }, [ulbs]);\r\n\r\n  return (\r\n    <div className=\"surveydetailsform-wrapper\">\r\n      <span className=\"surveyformfield\">\r\n        <label>{`${t(\"LABEL_FOR_ULB\")} * :`}</label>\r\n        <Controller\r\n          name=\"tenantIds\"\r\n          control={controlSurveyForm}\r\n          defaultValue={selectedTenat}\r\n          rules={{ required: true }}\r\n          render={(props) => {\r\n            const renderRemovableTokens = useMemo(\r\n              () =>\r\n                props?.value?.map((ulb, index) => {\r\n                  return (\r\n                    <RemoveableTag\r\n                      key={index}\r\n                      text={ulb.name}\r\n                      onClick={() => {\r\n                        props.onChange(props?.value?.filter((loc) => loc.code !== ulb.code));\r\n                      }}\r\n                    />\r\n                  );\r\n                }),\r\n              [props?.value]\r\n            );\r\n            return (\r\n              <div style={{ display: \"grid\", gridAutoFlow: \"row\" }}>\r\n                <Dropdown\r\n                  allowMultiselect={true}\r\n                  optionKey={\"i18nKey\"}\r\n                  option={userUlbs}\r\n                  select={(e) => {\r\n                    props.onChange([...(surveyFormData(\"tenantIds\")?.filter?.((f) => e.code !== f?.code) || []), e]);\r\n                  }}\r\n                  selected={props?.value}\r\n                  keepNull={true}\r\n                  disable={disableInputs}\r\n                  t={t}\r\n                />\r\n                <div className=\"tag-container\">{renderRemovableTokens}</div>\r\n              </div>\r\n            );\r\n          }}\r\n        />\r\n        {surveyFormState?.errors?.tenantIds && <CardLabelError>{t(\"ES_ERROR_REQUIRED\")}</CardLabelError>}\r\n      </span>\r\n\r\n      <span className=\"surveyformfield\">\r\n        <label>{t(\"CS_SURVEY_NAME\")}</label>\r\n        <TextInput\r\n          name=\"title\"\r\n          type=\"text\"\r\n          inputRef={registerRef({\r\n            required: t(\"ES_ERROR_REQUIRED\"),\r\n            maxLength: {\r\n              value: 60,\r\n              message: t(\"EXCEEDS_60_CHAR_LIMIT\"),\r\n            },\r\n            pattern:{\r\n              value: /^[A-Za-z_-][A-Za-z0-9_\\ -]*$/,\r\n              message: t(\"ES_SURVEY_DONT_START_WITH_NUMBER\")\r\n            }\r\n          })}\r\n          disable={disableInputs}\r\n        />\r\n        {surveyFormState?.errors?.title && <CardLabelError>{surveyFormState?.errors?.[\"title\"]?.message}</CardLabelError>}\r\n      </span>\r\n      <span className=\"surveyformfield\">\r\n        <label>{t(\"CS_SURVEY_DESCRIPTION\")}</label>\r\n        <TextInput\r\n          name=\"description\"\r\n          type=\"text\"\r\n          inputRef={registerRef({\r\n            required: t(\"ES_ERROR_REQUIRED\"),\r\n            maxLength: {\r\n              value: 250,\r\n              message: t(\"EXCEEDS_250_CHAR_LIMIT\"),\r\n            },\r\n            pattern:{\r\n              value: /^[A-Za-z_-][A-Za-z0-9_\\ -]*$/,\r\n              message: t(\"ES_SURVEY_DONT_START_WITH_NUMBER\")\r\n            }\r\n          })}\r\n          disable={enableDescriptionOnly ?  !enableDescriptionOnly : disableInputs}\r\n        />\r\n        {surveyFormState?.errors?.description && <CardLabelError>{surveyFormState?.errors?.[\"description\"]?.message}</CardLabelError>}\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SurveyDetailsForms;\r\n","import { CheckBox, CloseSvg } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useEffect, useMemo, useState } from \"react\";\r\nimport { useDebounce } from \"../../../../hooks/useDebounce\";\r\n\r\nconst Checkboxes = ({ t, options = checkboxlist, updateOption, addOption, removeOption,isPartiallyEnabled,createNewSurvey,formDisabled }) => {\r\n  return (\r\n    <div className=\"options_checkboxes\">\r\n      {options.map((title, index) => (\r\n        <CheckBoxOption key={index} index={index} title={title} updateOption={updateOption} removeOption={removeOption}/>\r\n      ))}\r\n      <div>\r\n        <button className=\"unstyled-button link\" type=\"button\" disabled={!createNewSurvey && formDisabled} onClick={() => addOption()}>\r\n          {t(\"CS_COMMON_ADD_OPTION\")}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Checkboxes;\r\n\r\nconst CheckBoxOption = ({ index, title, updateOption, removeOption }) => {\r\n  const [optionTitle, setOptionTitle] = useState(title);\r\n  const [isFocused, setIsFocused] = useState(false);\r\n\r\n  useEffect(() => {\r\n      updateOption({ value: optionTitle, id: index });   \r\n  }, [optionTitle]);\r\n\r\n  return (\r\n    <div className=\"optioncheckboxwrapper\">\r\n      <CheckBox />\r\n      <input\r\n        type=\"text\"\r\n        value={optionTitle}\r\n        onChange={(ev) => setOptionTitle(ev.target.value)}\r\n        onBlur={() => setIsFocused(false)}\r\n        onFocus={() => setIsFocused(true)}\r\n        className={isFocused ? \"simple_editable-input\" : \"simple_readonly-input\"}\r\n      />\r\n      <div className=\"pointer\" onClick={()=> removeOption(index)}>\r\n        <CloseSvg/>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { CloseSvg } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useEffect, useMemo, useState } from \"react\";\r\nimport { useDebounce } from \"../../../../hooks/useDebounce\";\r\n\r\nconst MultipleChoice = ({ t, options = checkboxlist, updateOption, addOption, removeOption,createNewSurvey,isPartiallyEnabled,formDisabled }) => {\r\n  return (\r\n    <div className=\"options_checkboxes\">\r\n      {options.map((title, index) => (\r\n        <RadioButtonOption key={index} index={index} title={title} updateOption={updateOption} removeOption={removeOption} />\r\n      ))}\r\n      <div>\r\n        <button className=\"unstyled-button link\" type=\"button\" disabled={!createNewSurvey && formDisabled} onClick={() => addOption()}>\r\n          {t(\"CS_COMMON_ADD_OPTION\")}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MultipleChoice;\r\n\r\nconst RadioButtonOption = ({ index, title, updateOption, removeOption }) => {\r\n  const [optionTitle, setOptionTitle] = useState(title);\r\n  const [isFocused, setIsFocused] = useState(false);\r\n\r\n  useEffect(() => {\r\n      updateOption({ value: optionTitle, id: index });\r\n  }, [optionTitle]);\r\n\r\n  return (\r\n    <div className=\"optionradiobtnwrapper\">\r\n      <input type=\"radio\" className=\"customradiobutton\" />\r\n      <input\r\n        type=\"text\"\r\n        value={optionTitle}\r\n        onChange={(ev) => setOptionTitle(ev.target.value)}\r\n        onBlur={() => setIsFocused(false)}\r\n        onFocus={() => setIsFocused(true)}\r\n        className={isFocused ? \"simple_editable-input\" : \"simple_readonly-input\"}\r\n      />\r\n      <div className=\"pointer\" onClick={() => removeOption(index)}>\r\n        <CloseSvg />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { DatePicker, Dropdown, CheckBox, TextArea, TextInput, CardLabelError } from \"@egovernments/digit-ui-react-components\";\r\nimport { DustbinIcon } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useFormContext } from \"react-hook-form\";\r\nimport TimePicker from \"react-time-picker\";\r\nimport Checkboxes from \"./AnswerTypes/Checkboxes\";\r\nimport MultipleChoice from \"./AnswerTypes/MultipleChoice\";\r\n\r\nconst answerTypeEnum = {\r\n  \"Short Answer\": \"SHORT_ANSWER_TYPE\",\r\n  Paragraph: \"LONG_ANSWER_TYPE\",\r\n  \"Multiple Choice\": \"MULTIPLE_ANSWER_TYPE\",\r\n  \"Check Boxes\": \"CHECKBOX_ANSWER_TYPE\",\r\n  Date: \"DATE_ANSWER_TYPE\",\r\n  Time: \"TIME_ANSWER_TYPE\",\r\n};\r\n\r\nconst dropdownOptions = [\r\n  {\r\n    title: \"Short Answer\",\r\n    value: \"SHORT_ANSWER_TYPE\",\r\n  },\r\n  {\r\n    title: \"Multiple Choice\",\r\n    value: \"MULTIPLE_ANSWER_TYPE\",\r\n  },\r\n  {\r\n    title: \"Check Boxes\",\r\n    value: \"CHECKBOX_ANSWER_TYPE\",\r\n  },\r\n  {\r\n    title: \"Paragraph\",\r\n    value: \"LONG_ANSWER_TYPE\",\r\n  },\r\n  {\r\n    title: \"Date\",\r\n    value: \"DATE_ANSWER_TYPE\",\r\n  },\r\n  {\r\n    title: \"Time\",\r\n    value: \"TIME_ANSWER_TYPE\",\r\n  },\r\n];\r\n\r\nconst NewSurveyForm = ({ t, index, questionStatement, type, required, options, disableInputs, dispatch,isPartiallyEnabled,addOption,formDisabled}) => {\r\n  const [surveyQuestionConfig, setSurveyQuestionConfig] = useState({ questionStatement, type, required, options:[\"option 1\"] });\r\n  const { register, formState  } = useFormContext();\r\n\r\n  const handleAddOption = () =>\r\n    setSurveyQuestionConfig((prevState) => {\r\n      const updatedState = { ...prevState };\r\n      updatedState.options.push(`option ${updatedState.options.length + 1}`);\r\n      return updatedState;\r\n    });\r\n  const handleUpdateOption = ({ value, id }) => {\r\n    setSurveyQuestionConfig((prevState) => {\r\n      const updatedState = { ...prevState };\r\n      updatedState.options.splice(id, 1, value);\r\n      return updatedState;\r\n    });\r\n  };\r\n  const handleRemoveOption = (id) => {\r\n    if (surveyQuestionConfig.options.length === 1) return;\r\n    setSurveyQuestionConfig((prevState) => {\r\n      const updatedState = { ...prevState };\r\n      updatedState.options.splice(id, 1);\r\n      return updatedState;\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"updateForm\", payload: { index: index, formConfig: surveyQuestionConfig } });\r\n  }, [surveyQuestionConfig]);\r\n\r\n  const renderAnswerComponent = (type) => {\r\n    switch (type) {\r\n      case \"Paragraph\":\r\n        return <TextArea value=\"LONG ANSWER\"/>;\r\n      case \"Date\":\r\n        return <DatePicker stylesForInput={{ width: \"calc(100% - 290px)\" }}/>;\r\n      case \"Time\":\r\n        return <TimePicker />;\r\n      case \"Multiple Choice\":\r\n        return (\r\n          <MultipleChoice\r\n            t={t}\r\n            addOption={handleAddOption}\r\n            updateOption={handleUpdateOption}\r\n            removeOption={handleRemoveOption}\r\n            options={surveyQuestionConfig?.options}\r\n            createNewSurvey={addOption}\r\n            isPartiallyEnabled={isPartiallyEnabled}\r\n            formDisabled={formDisabled}\r\n          />\r\n        );\r\n      case \"Check Boxes\":\r\n        return (\r\n          <Checkboxes\r\n            t={t}\r\n            addOption={handleAddOption}\r\n            updateOption={handleUpdateOption}\r\n            removeOption={handleRemoveOption}\r\n            options={surveyQuestionConfig?.options}\r\n            isPartiallyEnabled={isPartiallyEnabled}\r\n            createNewSurvey={addOption}\r\n            formDisabled={formDisabled}\r\n          />\r\n        );\r\n      default:\r\n        return <TextInput value=\"SHORT ANSWER\" />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"newSurveyForm_wrapper\">\r\n      <span className=\"newSurveyForm_quesno\">{`${t(\"CS_COMMON_QUESTION\")} ${index + 1}`}</span>\r\n      <span className=\"newSurveyForm_mainsection\">\r\n        <div className=\"newSurveyForm_questions\">\r\n          <div style={{width: \"80%\"}}>\r\n            <TextInput\r\n              placeholder={t(\"CS_COMMON_TYPE_QUESTION\")}\r\n              value={surveyQuestionConfig.questionStatement}\r\n              onChange={(ev) => {\r\n                setSurveyQuestionConfig((prevState) => ({ ...prevState, questionStatement: ev.target.value }));\r\n              }}\r\n              textInputStyle={{width: \"100%\"}}\r\n              name={`QUESTION_SURVEY_${index}`}\r\n              disable={disableInputs}\r\n              inputRef={register({\r\n                required: t(\"ES_ERROR_REQUIRED\"),\r\n                maxLength: {\r\n                  value: 60,\r\n                  message: t(\"EXCEEDS_60_CHAR_LIMIT\"),\r\n                },\r\n                pattern:{\r\n                  value: /^[A-Za-z_-][A-Za-z0-9_\\ -]*$/,\r\n                  message: t(\"ES_SURVEY_DONT_START_WITH_NUMBER\")\r\n                }\r\n              })}\r\n            />\r\n            {formState?.errors?.title && <CardLabelError>{formState?.errors?.[`QUESTION_SURVEY_${index}`]?.message}</CardLabelError>}\r\n          </div>\r\n          <Dropdown\r\n            option={dropdownOptions}\r\n            select={(ev) => {\r\n              setSurveyQuestionConfig((prevState) => ({ ...prevState, type: ev.title }));\r\n            }}\r\n            selected={surveyQuestionConfig.type || {title: \"Short Answer\",value: \"SHORT_ANSWER_TYPE\"}}\r\n            optionKey=\"title\"\r\n            disable={disableInputs}\r\n          />\r\n        </div>\r\n        <div className=\"newSurveyForm_answer\">{renderAnswerComponent(surveyQuestionConfig.type)}</div>\r\n        <div className=\"newSurveyForm_actions\">\r\n          <div>\r\n            <CheckBox\r\n              onChange={(e) => setSurveyQuestionConfig((prevState) => ({ ...prevState, required: !prevState.required }))}\r\n              checked={surveyQuestionConfig.required}\r\n              label={t(\"CS_COMMON_REQUIRED\")}\r\n              pageType={\"employee\"}\r\n              disable={disableInputs}\r\n            />\r\n          </div>\r\n          <div className=\"newSurveyForm_seprator\" />\r\n          <div className={`pointer ${disableInputs ? 'disabled-btn':''}`} onClick={() => dispatch({ type: \"removeForm\", payload: { index } })}>\r\n            <DustbinIcon />\r\n          </div>\r\n        </div>\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NewSurveyForm;\r\n","import React, { useEffect, useReducer } from \"react\";\r\nimport NewSurveyForm from \"./NewSurveyForm\";\r\n\r\nconst SurveyFormsMaker = ({ t, formsConfig, setSurveyConfig, disableInputs,isPartiallyEnabled,addOption,formDisabled}) => {\r\nconst defaultFormsConfig = {\r\n  question: \"\",\r\n  answerType: \"Short Answer\",\r\n  required: false,\r\n  options: [],\r\n};\r\n\r\nconst initialSurveyFormState = [defaultFormsConfig];\r\n\r\nconst surveyFormReducer = (state, { type, payload }) => {\r\n  switch (type) {\r\n    case \"addNewForm\":\r\n      const newSurveyQues = [...state, defaultFormsConfig];\r\n      payload.setSurveyConfig(\"questions\", newSurveyQues);\r\n      return newSurveyQues;\r\n    case \"updateForm\":\r\n      const updatedSurveyQues = [...state];\r\n      updatedSurveyQues.splice(payload.index, 1, payload);\r\n      payload.setSurveyConfig(\"questions\", updatedSurveyQues);\r\n      return updatedSurveyQues;\r\n    case \"removeForm\":\r\n      if (state.length === 1) return state;\r\n      const copyOfSate = [...state];\r\n      copyOfSate.splice(payload.index, 1);\r\n      payload.setSurveyConfig(\"questions\", copyOfSate);\r\n      return copyOfSate;\r\n  }\r\n};\r\n\r\n  const [surveyState, dispatch] = useReducer(surveyFormReducer, formsConfig ? formsConfig : initialSurveyFormState);\r\n\r\n  const passingSurveyConfigInDispatch = ({ type, payload }) => {\r\n    dispatch({ type, payload: { ...payload, setSurveyConfig } });\r\n  };\r\n\r\n  const renderPreviewForms = () => {\r\n    return surveyState.length\r\n      ? surveyState.map((config, index) => (\r\n          <NewSurveyForm key={index} {...config} addOption={addOption} t={t} index={index} disableInputs={disableInputs} dispatch={passingSurveyConfigInDispatch} isPartiallyEnabled={isPartiallyEnabled} formDisabled={formDisabled} />\r\n        ))\r\n      : null;\r\n  };\r\n\r\n  return (\r\n    <div className=\"surveyformslist_wrapper\">\r\n      <div className=\"heading\">{t(\"CS_SURVEYS_QUESTIONS\")}</div>\r\n      {renderPreviewForms()}\r\n      <div className=\"pointer\">\r\n        <button \r\n          // disabled={surveyState.length >= 30 ? \"true\":\"\"}\r\n          className={`unstyled-button link ${disableInputs ? \"disabled-btn\" : \"\"} ${surveyState.length >= 30 ? \"disabled-btn\":\"\"} `}\r\n          type=\"button\"\r\n          onClick={() => passingSurveyConfigInDispatch({ type: \"addNewForm\" })}\r\n        >\r\n          {t(\"CS_COMMON_ADD_QUESTION\")}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SurveyFormsMaker;\r\n","import React, { useEffect } from \"react\";\r\nimport { CardLabelError, TextInput, RadioButtons } from \"@egovernments/digit-ui-react-components\";\r\nimport { Controller, useFormContext } from \"react-hook-form\";\r\n\r\nconst SurveySettingsForms = ({ t, controlSurveyForm, surveyFormState, disableInputs, enableEndDateTimeOnly }) => {\r\n  const formErrors = surveyFormState?.errors;\r\n  const { getValues } = useFormContext()\r\n  const currentTs = new Date().getTime()\r\n  const isValidFromDate = (enteredValue) => {\r\n    const enteredTs = new Date(enteredValue).getTime()\r\n    const toDate = getValues(\"toDate\") ? new Date(getValues(\"toDate\")).getTime() : new Date().getTime()\r\n    // return ( toDate > enteredTs && enteredTs >= currentTs ) ? true : false \r\n    return ( toDate > enteredTs ) ? true : false \r\n    \r\n  };\r\n  const isValidToDate = (enteredValue) => {\r\n    const enteredTs = new Date(enteredValue).getTime()\r\n    const fromDate = getValues(\"fromDate\") ? new Date(getValues(\"fromDate\")).getTime() : new Date().getTime()\r\n    return ( enteredTs > fromDate && enteredTs > currentTs ) ? true : false \r\n  };\r\n  const isValidFromTime = () => true;\r\n  const isValidToTime = () => true;\r\n\r\n  return (\r\n    <div className=\"surveydetailsform-wrapper\">\r\n      <div className=\"heading\">{t(\"CS_COMMON_SETTINGS\")}</div>\r\n      <span className=\"surveyformfield\">\r\n        <label>{t(\"LABEL_SURVEY_START_DATE\")}</label>\r\n        <Controller\r\n          control={controlSurveyForm}\r\n          name=\"fromDate\"\r\n          defaultValue={surveyFormState?.fromDate}\r\n          rules={{ required: true, validate: { isValidFromDate } }}\r\n          render={({ onChange, value }) => <TextInput type=\"date\" onChange={onChange} defaultValue={value} disable={disableInputs}/>}\r\n        />\r\n        {formErrors && formErrors?.fromDate && formErrors?.fromDate?.type === \"required\" && (\r\n          <CardLabelError>{t(`EVENTS_TO_DATE_ERROR_REQUIRED`)}</CardLabelError>\r\n        )}\r\n        {formErrors && formErrors?.fromDate && formErrors?.fromDate?.type === \"isValidFromDate\" && (\r\n          <CardLabelError>{t(`EVENTS_TO_DATE_ERROR_INVALID`)}</CardLabelError>\r\n        )}\r\n      </span>\r\n\r\n      <span className=\"surveyformfield\">\r\n        <label>{t(\"LABEL_SURVEY_START_TIME\")}</label>\r\n        <Controller\r\n          control={controlSurveyForm}\r\n          name=\"fromTime\"\r\n          defaultValue={surveyFormState?.fromTime}\r\n          rules={{ required: true, validate: { isValidFromTime } }}\r\n          render={({ onChange, value }) => <TextInput type=\"time\" onChange={onChange} defaultValue={value} disable={disableInputs} />}\r\n        />\r\n        {formErrors && formErrors?.fromTime && formErrors?.fromTime?.type === \"required\" && (\r\n          <CardLabelError>{t(`EVENTS_TO_DATE_ERROR_REQUIRED`)}</CardLabelError>\r\n        )}\r\n        {formErrors && formErrors?.fromTime && formErrors?.fromTime?.type === \"isValidFromDate\" && (\r\n          <CardLabelError>{t(`EVENTS_TO_DATE_ERROR_INVALID`)}</CardLabelError>\r\n        )}\r\n      </span>\r\n\r\n      <span className=\"surveyformfield\">\r\n        <label>{t(\"LABEL_SURVEY_END_DATE\")}</label>\r\n        <Controller\r\n          control={controlSurveyForm}\r\n          name=\"toDate\"\r\n          defaultValue={surveyFormState?.toDate}\r\n          rules={{ required: true, validate: { isValidToDate } }}\r\n          render={({ onChange, value }) => <TextInput type=\"date\" onChange={onChange} defaultValue={value} disable={enableEndDateTimeOnly ? !enableEndDateTimeOnly : disableInputs}/>}\r\n        />\r\n        {formErrors && formErrors?.toDate && formErrors?.toDate?.type === \"required\" && (\r\n          <CardLabelError>{t(`EVENTS_TO_DATE_ERROR_REQUIRED`)}</CardLabelError>\r\n        )}\r\n        {formErrors && formErrors?.toDate && formErrors?.toDate?.type === \"isValidToDate\" && (\r\n          <CardLabelError>{t(`EVENTS_TO_DATE_ERROR_INVALID`)}</CardLabelError>\r\n        )}{\" \"}\r\n      </span>\r\n\r\n      <span className=\"surveyformfield\">\r\n        <label>{t(\"LABEL_SURVEY_END_TIME\")}</label>\r\n\r\n        <Controller\r\n          control={controlSurveyForm}\r\n          name=\"toTime\"\r\n          defaultValue={surveyFormState?.toTime}\r\n          rules={{ required: true, validate: { isValidToTime } }}\r\n          render={({ onChange, value }) => <TextInput type=\"time\" onChange={onChange} defaultValue={value} disable={enableEndDateTimeOnly ? !enableEndDateTimeOnly : disableInputs}/>}\r\n        />\r\n        {formErrors && formErrors?.toTime && formErrors?.toTime?.type === \"required\" && (\r\n          <CardLabelError>{t(`EVENTS_TO_DATE_ERROR_REQUIRED`)}</CardLabelError>\r\n        )}\r\n        {formErrors && formErrors?.toTime && formErrors?.toTime?.type === \"isValidToDate\" && (\r\n          <CardLabelError>{t(`EVENTS_TO_DATE_ERROR_INVALID`)}</CardLabelError>\r\n        )}\r\n      </span>\r\n      <span className=\"surveyformfield\">\r\n        <label>{t(\"LABEL_SURVEY_EMAIL_MOBILE\")}</label>\r\n        <Controller\r\n          control={controlSurveyForm}\r\n          name=\"collectCitizenInfo\"\r\n          defaultValue={surveyFormState?.collectCitizenInfo}\r\n          rules={{ required: true }}\r\n          render={({ onChange, value }) => (\r\n            <RadioButtons\r\n              onSelect={onChange}\r\n              selectedOption={value}\r\n              optionsKey=\"name\"\r\n              options={[\r\n                { code: true, name: t(\"ES_COMMON_YES\") },\r\n                { code: false, name: t(\"ES_COMMON_NO\") },\r\n              ]}\r\n              disabled={disableInputs}\r\n            />\r\n          )}\r\n        />\r\n        {formErrors && formErrors?.collectCitizenInfo && formErrors?.collectCitizenInfo?.type === \"required\" && (\r\n          <CardLabelError>{t(`EVENTS_TO_DATE_ERROR_REQUIRED`)}</CardLabelError>\r\n        )}\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SurveySettingsForms;\r\n","import { ActionBar, Card, SubmitBar } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { FormProvider, useForm } from \"react-hook-form\";\r\n\r\nimport SurveyDetailsForms from \"./SurveyDetailsForms\";\r\nimport SurveyFormsMaker from \"./SurveyFormsMaker\";\r\nimport SurveySettingsForms from \"./SurveySettingsForm\";\r\n\r\nconst CreateNewSurvey = ({ t, initialFormValues, onSubmit, isFormDisabled = false }) => {\r\n  const {\r\n    register: registerRef,\r\n    control: controlSurveyForm,\r\n    handleSubmit: handleSurveyFormSubmit,\r\n    setValue: setSurveyFormValue,\r\n    getValues: getSurveyFormValues,\r\n    reset: resetSurveyForm,\r\n    formState: surveyFormState,\r\n    clearErrors: clearSurveyFormsErrors,\r\n    ...methods\r\n  } = useForm({\r\n    defaultValues: initialFormValues,\r\n  });\r\n\r\n  useEffect(() => {\r\n    registerRef(\"questions\");\r\n  }, []);\r\n\r\n  return (\r\n    <div style={{margin:\"8px\"}}>\r\n      <FormProvider {...{\r\n        register: registerRef,\r\n        control: controlSurveyForm,\r\n        handleSubmit: handleSurveyFormSubmit,\r\n        setValue: setSurveyFormValue,\r\n        getValues: getSurveyFormValues,\r\n        reset: resetSurveyForm,\r\n        formState: surveyFormState,\r\n        clearErrors: clearSurveyFormsErrors,\r\n        ...methods\r\n      }}>\r\n        <form onSubmit={handleSurveyFormSubmit(onSubmit)}>\r\n          <Card>\r\n            <SurveyDetailsForms\r\n              t={t}\r\n              registerRef={registerRef}\r\n              controlSurveyForm={controlSurveyForm}\r\n              surveyFormState={surveyFormState}\r\n              surveyFormData={getSurveyFormValues}\r\n            />\r\n            <SurveyFormsMaker t={t} setSurveyConfig={setSurveyFormValue} addOption={true} />\r\n            <SurveySettingsForms t={t} controlSurveyForm={controlSurveyForm} surveyFormState={surveyFormState} />\r\n          </Card>\r\n\r\n          <ActionBar>\r\n            <SubmitBar label={t(\"CS_CREATE_SURVEY\")} submit=\"submit\" />\r\n          </ActionBar>\r\n        </form>\r\n      </FormProvider>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreateNewSurvey;\r\n","import { CloseSvg, FormComposer, Header } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { Fragment, useEffect } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport CreateNewSurvey from \"../../../components/Surveys/SurveyForms\";\r\n\r\nexport const answerTypeEnum = {\r\n  \"Short Answer\": \"SHORT_ANSWER_TYPE\",\r\n  Paragraph: \"LONG_ANSWER_TYPE\",\r\n  \"Multiple Choice\": \"MULTIPLE_ANSWER_TYPE\",\r\n  \"Check Boxes\": \"CHECKBOX_ANSWER_TYPE\",\r\n  Date: \"DATE_ANSWER_TYPE\",\r\n  Time: \"TIME_ANSWER_TYPE\",\r\n};\r\n\r\n\r\n/**TODO NRJ-egov handle this by setting correct state inside the surveyFormMaker */\r\nexport const mapQuestions = (questions =[]) =>{\r\n  if(!questions.length) return;\r\n  return questions.map(({formConfig},index)=>{\r\n      const {options:choices, questionStatement,required, type:stringType} = formConfig;\r\n\r\n      const finalQuestion = {questionStatement, required, type:answerTypeEnum[stringType]};\r\n      if(stringType === \"Multiple Choice\" || stringType ===\"Check Boxes\") {\r\n        finalQuestion[\"options\"] = choices;\r\n      }\r\n      return finalQuestion;\r\n    })\r\n}\r\n\r\nconst NewSurveys = () => {\r\n  const { t } = useTranslation();\r\n  const history = useHistory();\r\n  \r\n  const onSubmit = (data) => {\r\n    const { collectCitizenInfo, title, description, tenantIds, fromDate, toDate, fromTime, toTime, questions } = data;\r\n    const mappedQuestions = mapQuestions(questions);\r\n    const details = {\r\n      SurveyEntity: {\r\n        tenantIds: tenantIds.map(({code})=>(code)),\r\n        title,\r\n        description,\r\n        collectCitizenInfo: collectCitizenInfo.code,\r\n        startDate: new Date(`${fromDate} ${fromTime}`).getTime(),\r\n        endDate: new Date(`${toDate} ${toTime}`).getTime(),\r\n        questions:mappedQuestions\r\n      },\r\n    };\r\n    history.push(\"/digit-ui/employee/engagement/surveys/create-response\", details)\r\n  };\r\n\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const ulbs = Digit.SessionStorage.get(\"ENGAGEMENT_TENANTS\");\r\n  const userInfo = Digit.UserService.getUser().info;\r\n  const userUlbs = ulbs\r\n    .filter((ulb) => userInfo?.roles?.some((role) => role?.tenantId === ulb?.code))\r\n    \r\n \r\n  const defaultValues = {\r\n    fromDate: \"\",\r\n    fromTime: \"\",\r\n    toDate: \"\",\r\n    toTime: \"\",\r\n    questions: {},\r\n    collectCitizenInfo: \"\",\r\n    // tenantIds:[]\r\n    tenantIds:userUlbs,\r\n  };\r\n\r\n  const stylesForForm = {\r\n    marginLeft:'-20px',\r\n  }\r\n  \r\n  return (\r\n    <Fragment>\r\n      {/* <Header>{t(\"CS_COMMON_SURVEYS\")}</Header> */}\r\n      <Header>{t(\"CREATE_NEW_SURVEY\")}</Header>\r\n      <div style={stylesForForm}>\r\n        <CreateNewSurvey t={t} onSubmit={onSubmit} initialFormValues={defaultValues} />\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default NewSurveys;\r\n","import { Banner, Card, Loader, CardText, ActionBar, SubmitBar,Menu } from \"@egovernments/digit-ui-react-components\";\r\nimport { useQueryClient } from \"react-query\";\r\nimport React, { useEffect,useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Link,useHistory } from \"react-router-dom\";\r\nconst getMessage = (mutation) => {\r\n  if (mutation.isSuccess) return mutation.data?.Surveys?.[0]?.uuid;\r\n  return \"\";\r\n};\r\n\r\nconst BannerPicker = (props) => {\r\n  const { t } = useTranslation();\r\n  return (\r\n    <Banner\r\n      message={props.mutation.isSuccess ? t(`SURVEY_FORM_CREATED`) : t(\"SURVEY_FORM_FAILURE\")}\r\n      applicationNumber={getMessage(props.mutation)}\r\n      info={props.mutation.isSuccess ? t(\"SURVEY_FORM_ID\") : \"\"}\r\n      successful={props.mutation.isSuccess}\r\n    />\r\n  );\r\n};\r\n\r\nconst Acknowledgement = (props) => {\r\n  const queryClient = useQueryClient();\r\n  const { t } = useTranslation();\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const mutation = Digit.Hooks.survey.useCreate();\r\n  const { state } = props.location;\r\n  const history = useHistory();\r\n  const [isActionClicked,setIsActionClicked] = useState(false) \r\n  useEffect(() => {\r\n    const onSuccess = () => {\r\n      queryClient.clear();\r\n      window.history.replaceState(null, 'CREATE_SURVEY_STATE')\r\n    };\r\n    if(!!state){\r\n      mutation.mutate(state, {\r\n        onSuccess,\r\n      })\r\n    };\r\n  }, []);\r\n\r\n  if (mutation.isLoading && !mutation.isIdle) {\r\n    return <Loader />;\r\n  }\r\n\r\n\r\n  const survey = mutation.data?.Surveys?.[0];\r\n \r\n  const handleActionClick = () => {\r\n    setIsActionClicked((prevState => {\r\n      return !prevState\r\n    }))\r\n  }\r\n  // const actionClickHandler = (option) => {\r\n  //   if(option === \"Go Back to home\") history.push(\"/digit-ui/employee\")\r\n  //   else if(option === \"Create another survey\") history.push(\"/digit-ui/employee/engagement/surveys/create\")\r\n  // }\r\n\r\n   const actionClickHandler = (option) => {\r\n    if(option === t(\"GO_BACK_TO_HOME\")) history.push(\"/digit-ui/employee\")\r\n    else if(option === t(\"CREATE_ANOTHER_SURVEY\")) history.push(\"/digit-ui/employee/engagement/surveys/create\")\r\n  }\r\n  return (\r\n    <Card>\r\n      <BannerPicker\r\n        t={t}\r\n        mutation={mutation}\r\n      />\r\n      <CardText>\r\n        {mutation.isSuccess \r\n          ? t(`SURVEY_FORM_CREATION_MESSAGE`, {\r\n              surveyName: survey?.title,\r\n              fromDate: Digit.DateUtils.ConvertTimestampToDate(survey?.startDate),\r\n              toDate: Digit.DateUtils.ConvertTimestampToDate(survey?.endDate),\r\n            })\r\n          : null}\r\n      </CardText>\r\n      \r\n       {/* <ActionBar>\r\n        <Link to={\"/digit-ui/employee\"}>\r\n          <SubmitBar label=\"Action\" />\r\n        </Link>\r\n      </ActionBar> */}\r\n\r\n      <ActionBar>\r\n        <button onClick={handleActionClick}>\r\n          <SubmitBar label=\"Action\" />\r\n          {/* {isActionClicked && <Menu options={[\"Go Back to home\",\"Create another survey\"]} onSelect={actionClickHandler}></Menu>} */}\r\n          {isActionClicked && <Menu options={[t(\"GO_BACK_TO_HOME\"),t(\"CREATE_ANOTHER_SURVEY\")]} onSelect={actionClickHandler}></Menu>}\r\n        </button>\r\n      </ActionBar>\r\n      \r\n\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default Acknowledgement;","import { Banner, Card, Loader, ActionBar, SubmitBar } from \"@egovernments/digit-ui-react-components\";\r\nimport { useQueryClient } from \"react-query\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst getMessage = (mutation) => {\r\n  if (mutation.isSuccess) return mutation.data?.Documents?.[0]?.uuid;\r\n  return \"\";\r\n};\r\n\r\nconst BannerPicker = (props) => {\r\n  const { t } = useTranslation();\r\n  return (\r\n    <Banner\r\n      message={props.isSuccess ? t(`ENGAGEMENT_SURVEY_UPDATED`) : t(\"ENGAGEMENT_SURVEY_UPDATE_FAILURE\")}\r\n      applicationNumber={getMessage(props.mutation)}\r\n      info={props.isSuccess ? t(\"SURVEY_FORM_ID\") : \"\"}\r\n      successful={props.isSuccess}\r\n    />\r\n  );\r\n};\r\n\r\nconst Response = (props) => {\r\n  const queryClient = useQueryClient();\r\n  const { t } = useTranslation();\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const mutation = Digit.Hooks.survey.useUpdate();\r\n  const { state } = props.location;\r\n\r\n  useEffect(() => {\r\n    const onSuccess = () => {\r\n      queryClient.clear();\r\n      window.history.replaceState(null, 'UPDATE_SURVEY_STATE')\r\n    };\r\n    if(!!state){\r\n      mutation.mutate(state, {\r\n        onSuccess,\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  if (mutation.isLoading || mutation.isIdle) {\r\n    return <Loader />;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n\r\n      <Card>\r\n        <BannerPicker t={t} data={mutation.data} mutation={mutation} isSuccess={mutation.isSuccess} isLoading={mutation.isIdle || mutation.isLoading} />\r\n      </Card>\r\n      <ActionBar>\r\n        <Link to={\"/digit-ui/employee\"}>\r\n          <SubmitBar label={t(\"CORE_COMMON_GO_TO_HOME\")} />\r\n        </Link>\r\n      </ActionBar>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Response;\r\n","import { Banner, Card, Loader, ActionBar, SubmitBar } from \"@egovernments/digit-ui-react-components\";\r\nimport { useQueryClient } from \"react-query\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst getMessage = (mutation) => {\r\n  if (mutation.isSuccess) return mutation.data?.Documents?.uuid;\r\n  return \"\";\r\n};\r\n\r\nconst BannerPicker = (props) => {\r\n  const { t } = useTranslation();\r\n  return (\r\n    <Banner\r\n      message={props.isSuccess ? t(`ENGAGEMENT_SURVEY_DELETED`) : t(\"ENGAGEMENT_SURVEY_DELETE_FAILURE\")}\r\n      applicationNumber={props.mutation?.isSuccess ? props.uuid : ''}\r\n      info={props.isSuccess ? t(\"SURVEY_FORM_ID\") : \"\"}\r\n      successful={props.isSuccess}\r\n    />\r\n  );\r\n};\r\n\r\nconst Response = (props) => {\r\n  const queryClient = useQueryClient();\r\n  const { t } = useTranslation();\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const mutation = Digit.Hooks.survey.useDelete();\r\n  const { state } = props.location;\r\n\r\n  useEffect(() => {\r\n    const onSuccess = () => {\r\n      queryClient.clear();\r\n      window.history.replaceState(null, 'DELETE_SURVEY_STATE')\r\n    };\r\n    if(!!state){\r\n      mutation.mutate(state, {\r\n        onSuccess,\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  if (mutation.isLoading || mutation.isIdle) {\r\n    return <Loader />;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Card>\r\n        <BannerPicker t={t} data={mutation.data} mutation={mutation} uuid={state?.DocumentEntity?.uuid} isSuccess={mutation.isSuccess} isLoading={mutation.isIdle || mutation.isLoading} />\r\n      </Card>\r\n      <ActionBar>\r\n        <Link to={\"/digit-ui/employee\"}>\r\n          <SubmitBar label={t(\"CORE_COMMON_GO_TO_HOME\")} />\r\n        </Link>\r\n      </ActionBar>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Response;\r\n","import { ActionBar, Card, SubmitBar, Menu } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useForm,FormProvider } from \"react-hook-form\";\r\n\r\nimport SurveyDetailsForms from \"../SurveyForms/SurveyDetailsForms\";\r\nimport SurveyFormsMaker from \"../SurveyForms/SurveyFormsMaker\";\r\nimport SurveySettingsForms from \"../SurveyForms/SurveySettingsForm\";\r\n\r\nconst EditSurveyForms = ({ t, onEdit, menuOptions, initialSurveysConfig, isFormDisabled, isPartiallyEnabled, displayMenu, setDisplayMenu, onActionSelect ,isSurveyActive}) => {\r\n  const {\r\n    register: registerRef,\r\n    control: controlSurveyForm,\r\n    handleSubmit: handleSurveyFormSubmit,\r\n    setValue: setSurveyFormValue,\r\n    getValues: getSurveyFormValues,\r\n    reset: resetSurveyForm,\r\n    formState: surveyFormState,\r\n    clearErrors: clearSurveyFormsErrors,\r\n  } = useForm({\r\n    defaultValues: initialSurveysConfig,\r\n  });\r\n\r\n  useEffect(() => {\r\n    registerRef(\"questions\");\r\n  }, []);\r\n  return (\r\n    <FormProvider {...{register: registerRef,\r\n    control: controlSurveyForm,\r\n    handleSubmit: handleSurveyFormSubmit,\r\n    setValue: setSurveyFormValue,\r\n    getValues: getSurveyFormValues,\r\n    reset: resetSurveyForm,\r\n    formState: surveyFormState,\r\n    clearErrors: clearSurveyFormsErrors}}>\r\n      <form onSubmit={handleSurveyFormSubmit(onEdit)}>\r\n        <Card>\r\n          <SurveyDetailsForms\r\n            t={t}\r\n            registerRef={registerRef}\r\n            controlSurveyForm={controlSurveyForm}\r\n            surveyFormState={surveyFormState}\r\n            disableInputs={isFormDisabled}\r\n            enableDescriptionOnly={isPartiallyEnabled}\r\n            surveyFormData={getSurveyFormValues}\r\n          />\r\n          <SurveyFormsMaker t={t} setSurveyConfig={setSurveyFormValue} disableInputs={isFormDisabled} formsConfig={initialSurveysConfig.questions} isPartiallyEnabled={isPartiallyEnabled} formDisabled={isFormDisabled}/>\r\n          <SurveySettingsForms\r\n            t={t}\r\n            controlSurveyForm={controlSurveyForm}\r\n            surveyFormState={surveyFormState}\r\n            disableInputs={isFormDisabled}\r\n            enableEndDateTimeOnly={isPartiallyEnabled}\r\n          />\r\n          <span className=\"edit-action-btn\">\r\n\r\n          {!isSurveyActive && !isFormDisabled && <SubmitBar label={t(\"CS_EDIT_SURVEY\")} submit=\"submit\" disabled={isPartiallyEnabled ? !isPartiallyEnabled : isFormDisabled} /> }\r\n          {isPartiallyEnabled && isSurveyActive && <SubmitBar label={t(\"CS_EDIT_SURVEY\")} submit=\"submit\" disabled={isPartiallyEnabled ? !isPartiallyEnabled : isFormDisabled} />}\r\n\r\n          </span>\r\n        </Card>\r\n      </form>\r\n      <ActionBar>\r\n        {displayMenu ? (\r\n          <Menu localeKeyPrefix={\"ES_SURVEY\"} options={menuOptions} t={t} onSelect={onActionSelect} />\r\n        ) : null}\r\n        <SubmitBar label={t(\"ES_COMMON_TAKE_ACTION\")} onSubmit={() => setDisplayMenu(!displayMenu)} />\r\n      </ActionBar>\r\n    </FormProvider>\r\n  );\r\n};\r\n\r\nexport default EditSurveyForms;\r\n","import React from \"react\";\r\nimport { Modal, Card, CardText } from \"@egovernments/digit-ui-react-components\";\r\n\r\nconst Heading = (props) => {\r\n  return <h1 className=\"heading-m\">{props.t(props.heading)}</h1>;\r\n};\r\n\r\nconst Close = () => (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"#FFFFFF\">\r\n    <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\r\n    <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z\" />\r\n  </svg>\r\n);\r\n\r\nconst CloseBtn = (props) => {\r\n  return (\r\n    <div className=\"icon-bg-secondary\" onClick={props.onClick}>\r\n      <Close />\r\n    </div>\r\n  );\r\n};\r\n// {`${t(\"CONFIRM_DELETE_MSG\")} `}\r\nconst ConfirmationQuestion = ({ t, title }) => (\r\n  <div className=\"confirmation_box\">\r\n    <span>\r\n      {\" \"}\r\n      {t(\"CONFIRM_DELETE_MSG_NEW\")} <b>{` ${title}`}</b>{t(\"COMPLETELY_DELETE\")} <br/><br />{t(\"COMPLETELY_DELETE_WARN_MSG\")} \r\n    </span>\r\n  </div>\r\n);\r\n\r\nconst DeleteModal = ({ t, heading, surveyTitle, closeModal, actionCancelLabel, actionCancelOnSubmit, actionSaveLabel, actionSaveOnSubmit }) => {\r\n  return (\r\n    <Modal\r\n      headerBarMain={<Heading t={t} heading={heading} />}\r\n      headerBarEnd={<CloseBtn onClick={closeModal} />}\r\n      actionCancelLabel={t(actionCancelLabel)}\r\n      actionCancelOnSubmit={actionCancelOnSubmit}\r\n      actionSaveLabel={t(actionSaveLabel)}\r\n      actionSaveOnSubmit={actionSaveOnSubmit}\r\n      formId=\"modal-action\"\r\n    >\r\n      <ConfirmationQuestion t={t} title={surveyTitle} />\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default DeleteModal;\r\n","import React from \"react\";\r\nimport { Modal, Card, CardText, TextInput, CardLabelError } from \"@egovernments/digit-ui-react-components\";\r\nimport { Controller, useForm } from \"react-hook-form\";\r\n\r\nconst Heading = (props) => {\r\n  return <h1 className=\"heading-m\">{props.t(props.heading)}</h1>;\r\n};\r\n\r\nconst Close = () => (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"#FFFFFF\">\r\n    <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\r\n    <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z\" />\r\n  </svg>\r\n);\r\n\r\nconst CloseBtn = (props) => {\r\n  return (\r\n    <div className=\"icon-bg-secondary\" onClick={props.onClick}>\r\n      <Close />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst isValidFromDate = () => true;\r\nconst isValidToDate = () => true;\r\nconst isValidFromTime = () => true;\r\nconst isValidToTime = () => true;\r\n\r\nconst MarkActiveModal = ({\r\n  t,\r\n  heading,\r\n  surveyTitle,\r\n  initialValues,\r\n  onSubmit,\r\n  closeModal,\r\n  actionCancelLabel,\r\n  actionCancelOnSubmit,\r\n  actionSaveLabel,\r\n  actionSaveOnSubmit,\r\n}) => {\r\n  const { fromDate, fromTime, toDate, toTime } = initialValues;\r\n  const { control: controlSurveyForm, handleSubmit: handleSurveySettingSubmit, formState: surveyFormState } = useForm({\r\n    defaultValues: {\r\n      fromDate,\r\n      fromTime,\r\n      toDate,\r\n      toTime,\r\n    },\r\n  });\r\n  const formErrors = surveyFormState?.errors;\r\n  return (\r\n    <Modal\r\n      headerBarMain={<Heading t={t} heading={heading} />}\r\n      headerBarEnd={<CloseBtn onClick={closeModal} />}\r\n      actionCancelLabel={t(actionCancelLabel)}\r\n      actionCancelOnSubmit={actionCancelOnSubmit}\r\n      actionSaveLabel={t(actionSaveLabel)}\r\n      actionSaveOnSubmit={handleSurveySettingSubmit(actionSaveOnSubmit)}\r\n      formId=\"modal-action\"\r\n      headerBarMainStyle={{marginLeft:\"20px\"}}\r\n    >\r\n      \r\n      <Card style={{ boxShadow: \"none\" }}>\r\n        <p>{t(\"CONFIRM_ACTIVE_SURVEY_MSG\")} <br/> {surveyTitle} {t(\"CONFIRM_ACTIVE_SURVEY_MSG_END\")}</p><br/>\r\n        <form onSubmit={handleSurveySettingSubmit(onSubmit)}>\r\n          <span className=\"surveyformfield\">\r\n            <label>{t(\"LABEL_SURVEY_START_DATE\")}</label>\r\n            <Controller\r\n              control={controlSurveyForm}\r\n              name=\"fromDate\"\r\n              defaultValue={surveyFormState?.fromDate}\r\n              rules={{ required: true, validate: { isValidFromDate } }}\r\n              render={({ onChange, value }) => <TextInput type=\"date\" isRequired={true} onChange={onChange} defaultValue={value} />}\r\n            />\r\n            {formErrors && formErrors?.fromDate && formErrors?.fromDate?.type === \"required\" && (\r\n              <CardLabelError>{t(`EVENTS_TO_DATE_ERROR_REQUIRED`)}</CardLabelError>\r\n            )}\r\n            {formErrors && formErrors?.fromDate && formErrors?.fromDate?.type === \"isValidToDate\" && (\r\n              <CardLabelError>{t(`EVENTS_TO_DATE_ERROR_INVALID`)}</CardLabelError>\r\n            )}\r\n          </span>\r\n\r\n          <span className=\"surveyformfield\">\r\n            <label>{t(\"LABEL_SURVEY_START_TIME\")}</label>\r\n            <Controller\r\n              control={controlSurveyForm}\r\n              name=\"fromTime\"\r\n              defaultValue={surveyFormState?.fromTime}\r\n              rules={{ required: true, validate: { isValidFromTime } }}\r\n              render={({ onChange, value }) => <TextInput type=\"time\" isRequired={true} onChange={onChange} defaultValue={value} />}\r\n            />\r\n            {formErrors && formErrors?.fromTime && formErrors?.fromTime?.type === \"required\" && (\r\n              <CardLabelError>{t(`EVENTS_TO_DATE_ERROR_REQUIRED`)}</CardLabelError>\r\n            )}\r\n            {formErrors && formErrors?.fromTime && formErrors?.fromTime?.type === \"isValidToDate\" && (\r\n              <CardLabelError>{t(`EVENTS_TO_DATE_ERROR_INVALID`)}</CardLabelError>\r\n            )}\r\n          </span>\r\n\r\n          <span className=\"surveyformfield\">\r\n            <label>{t(\"LABEL_SURVEY_END_DATE\")}</label>\r\n            <Controller\r\n              control={controlSurveyForm}\r\n              name=\"toDate\"\r\n              defaultValue={surveyFormState?.toDate}\r\n              rules={{ required: true, validate: { isValidToDate } }}\r\n              render={({ onChange, value }) => <TextInput type=\"date\" isRequired={true} onChange={onChange} defaultValue={value} />}\r\n            />\r\n            {formErrors && formErrors?.toDate && formErrors?.toDate?.type === \"required\" && (\r\n              <CardLabelError>{t(`EVENTS_TO_DATE_ERROR_REQUIRED`)}</CardLabelError>\r\n            )}\r\n            {formErrors && formErrors?.toDate && formErrors?.toDate?.type === \"isValidToDate\" && (\r\n              <CardLabelError>{t(`EVENTS_TO_DATE_ERROR_INVALID`)}</CardLabelError>\r\n            )}{\" \"}\r\n          </span>\r\n\r\n          <span className=\"surveyformfield\">\r\n            <label>{t(\"LABEL_SURVEY_END_TIME\")}</label>\r\n\r\n            <Controller\r\n              control={controlSurveyForm}\r\n              name=\"toTime\"\r\n              defaultValue={surveyFormState?.toTime}\r\n              rules={{ required: true, validate: { isValidToTime } }}\r\n              render={({ onChange, value }) => <TextInput type=\"time\" isRequired={true} onChange={onChange} defaultValue={value} />}\r\n            />\r\n            {formErrors && formErrors?.toTime && formErrors?.toTime?.type === \"required\" && (\r\n              <CardLabelError>{t(`EVENTS_TO_DATE_ERROR_REQUIRED`)}</CardLabelError>\r\n            )}\r\n            {formErrors && formErrors?.toTime && formErrors?.toTime?.type === \"isValidToDate\" && (\r\n              <CardLabelError>{t(`EVENTS_TO_DATE_ERROR_INVALID`)}</CardLabelError>\r\n            )}\r\n          </span>\r\n        </form>\r\n      </Card>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default MarkActiveModal;\r\n","import React from \"react\";\r\nimport { Modal, Card, CardText } from \"@egovernments/digit-ui-react-components\";\r\n\r\nconst Heading = (props) => {\r\n  return <h1 className=\"heading-m\">{props.t(props.heading)}</h1>;\r\n};\r\n\r\nconst Close = () => (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"#FFFFFF\">\r\n    <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\r\n    <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z\" />\r\n  </svg>\r\n);\r\n\r\nconst CloseBtn = (props) => {\r\n  return (\r\n    <div className=\"icon-bg-secondary\" onClick={props.onClick}>\r\n      <Close />\r\n    </div>\r\n  );\r\n};\r\n//{`${t(\"CONFIRM_INACTIVE_SURVEY_MSG\")} `}\r\nconst ConfirmationQuestion = ({ t, title }) => (\r\n  <div className=\"confirmation_box\">\r\n    <span>\r\n      {\" \"}\r\n      {t(\"CONFIRM_INACTIVE_SURVEY_MSG_NEW\")} <b>{` ${title}`}</b>{t(\"CONFIRM_INACTIVE_SURVEY_MSG_TO_INACTIVE\")}\r\n      <br />\r\n      <br />\r\n      {t(\"CONFIRM_INACTIVE_SURVEY_WARN_MSG\")}\r\n    </span>\r\n  </div>\r\n);\r\n\r\n// const ConfirmationQuestion = ({ t, title }) => (\r\n//   <div className=\"confirmation_box\">\r\n//     <span>\r\n//       {\" \"}\r\n//       {t(\"CONFIRM_INACTIVE_SURVEY_MSG_NEW_TRY\",title)}\r\n//     </span>\r\n//   </div>\r\n// );\r\n\r\n\r\nconst MarkInActiveModal = ({ t, heading, surveyTitle, closeModal, actionCancelLabel, actionCancelOnSubmit, actionSaveLabel, actionSaveOnSubmit }) => {\r\n  return (\r\n    <Modal\r\n      headerBarMain={<Heading t={t} heading={heading} />}\r\n      headerBarEnd={<CloseBtn onClick={closeModal} />}\r\n      actionCancelLabel={t(actionCancelLabel)}\r\n      actionCancelOnSubmit={actionCancelOnSubmit}\r\n      actionSaveLabel={t(actionSaveLabel)}\r\n      actionSaveOnSubmit={actionSaveOnSubmit}\r\n      formId=\"modal-action\"\r\n    >\r\n      <ConfirmationQuestion t={t} title={surveyTitle} />\r\n    </Modal>\r\n  );\r\n};\r\nexport default MarkInActiveModal;\r\n","import { Header, Modal, Loader } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { Fragment, useMemo, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nimport { format } from \"date-fns\";\r\nimport EditSurveyForm from \"../../../components/Surveys/EditSurveyForms\";\r\nimport { mapQuestions } from \"./NewSurvey\";\r\nimport DeleteModal from \"../../../components/Modal/Surveys/Delete\";\r\nimport MarkActiveModal from \"../../../components/Modal/Surveys/MarkActive\";\r\nimport MarkInActiveModal from \"../../../components/Modal/Surveys/MarkInActive\";\r\nimport { answerTypeEnum } from \"./NewSurvey\";\r\n\r\n/**Putting this fix becasue backend doesn't how to define optional fields in Models\r\n * tldr; remove `options:[\"NA\"] for open ended questions which gets added by BE`\r\n */\r\nconst filterQuestion = (question) => {\r\n  if (!question) return;\r\n  if (question.type !== \"Multiple Choice\" || question.type !== \"Check Boxes\") {\r\n    delete question.options;\r\n  }\r\n  return { ...question, type: answerTypeEnum[question.type] };\r\n};\r\n\r\n/**TODO : Think of better to do this possibly in service layer */\r\nconst TypeAnswerEnum = {\r\n  SHORT_ANSWER_TYPE: \"Short Answer\",\r\n  LONG_ANSWER_TYPE: \"Paragraph\",\r\n  MULTIPLE_ANSWER_TYPE: \"Multiple Choice\",\r\n  CHECKBOX_ANSWER_TYPE: \"Check Boxes\",\r\n  DATE_ANSWER_TYPE: \"Date\",\r\n  TIME_ANSWER_TYPE: \"Time\",\r\n};\r\n\r\nconst SurveyDetails = ({ location, match }) => {\r\n  let isMobile = window.Digit.Utils.browser.isMobile();\r\n  const { id } = useParams();\r\n  const { t } = useTranslation();\r\n  const history = useHistory();\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [isFormDisabled, setIsFormDisabled] = useState(true);\r\n  const [isFormPartiallyEnabled, setFormPartiallyEnabled] = useState(false);\r\n  const [displayMenu, setDisplayMenu] = useState(false);\r\n  const [userAction, setUserAction] = useState(undefined);\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const tenantIdForInboxSearch = window.Digit.SessionStorage.get(\"CITIZENSURVEY.INBOX\").searchForm.tenantIds.code\r\n  const { isLoading, data: surveyData } = Digit.Hooks.survey.useSearch(\r\n    { tenantIds: tenantIdForInboxSearch, uuid: id },\r\n    {\r\n      select: (data) => {\r\n        const surveyObj = data?.Surveys?.[0];\r\n        return {\r\n          //tenantIds: { code: surveyObj.tenantId },\r\n          uuid: surveyObj.uuid,\r\n          title: surveyObj.title,\r\n          description: surveyObj.description,\r\n          collectCitizenInfo: { code: surveyObj.collectCitizenInfo },\r\n          fromDate: format(new Date(surveyObj.startDate), \"yyyy-MM-dd\"),\r\n          toDate: format(new Date(surveyObj.endDate), \"yyyy-MM-dd\"),\r\n          fromTime: format(new Date(surveyObj.startDate), \"hh:mm\"),\r\n          toTime: format(new Date(surveyObj.endDate), \"hh:mm\"),\r\n          questions: surveyObj.questions.map(({ questionStatement, type, required, options, uuid, surveyId }) => ({\r\n            questionStatement,\r\n            type: TypeAnswerEnum[type],\r\n            required,\r\n            options,\r\n            uuid,\r\n            surveyId\r\n          })),\r\n          status: surveyObj.status,\r\n        };\r\n      },\r\n    }\r\n  );\r\n\r\n  const isSurveyActive = useMemo(() => {\r\n    const surveyStartTime = new Date(`${surveyData?.fromDate} ${surveyData?.fromTime}`).getTime();\r\n    const surveyEndTime = new Date(`${surveyData?.toDate} ${surveyData?.toTime}`).getTime();\r\n    const currentTime = new Date().getTime();\r\n    if (surveyStartTime < currentTime && currentTime < surveyEndTime) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }, [surveyData?.fromDate, surveyData?.fromTime, surveyData?.toDate, surveyData?.toTime]);\r\n\r\n  function onActionSelect(action) {\r\n    if (action === \"EDIT\") {\r\n      if (isSurveyActive) {\r\n        setFormPartiallyEnabled(!isFormPartiallyEnabled);\r\n      } else {\r\n        setIsFormDisabled(!isFormDisabled);\r\n      }\r\n      setUserAction(\"EDIT\");\r\n    }\r\n    if (action === \"INACTIVE\") {\r\n      setShowModal(true);\r\n      setUserAction(\"INACTIVE\");\r\n    }\r\n    if (action === \"ACTIVE\") {\r\n      setShowModal(true);\r\n      setUserAction(\"ACTIVE\");\r\n    }\r\n    if (action === \"DELETE\") {\r\n      setShowModal(true);\r\n      setUserAction(\"DELETE\");\r\n    }\r\n    setDisplayMenu(false);\r\n  }\r\n\r\n  const onEdit = (data) => {\r\n    const { collectCitizenInfo, title, description, tenantIds, fromDate, toDate, fromTime, toTime, questions } = data;\r\n    const mappedQuestions = mapQuestions(questions);\r\n    const details = {\r\n      SurveyEntity: {\r\n        uuid: surveyData.uuid,\r\n        //tenantIds: tenantIds.map(({ code }) => code),\r\n        tenantId: tenantIds[0]?.code,\r\n        title,\r\n        description,\r\n        collectCitizenInfo: collectCitizenInfo.code,\r\n        startDate: new Date(`${fromDate} ${fromTime}`).getTime(),\r\n        endDate: new Date(`${toDate} ${toTime}`).getTime(),\r\n        questions: mappedQuestions,\r\n        status:isSurveyActive?\"ACTIVE\":\"INACTIVE\",\r\n        // active:true,\r\n        // answersCount:0,\r\n        // postedBy:\"BPAREG Approver\",\r\n        //lastmodifiedby:\"BPAREG Approver\",\r\n        //lastmodifiedtime:\"1645074240234\"\r\n        //These are not required to update, only status was required that we were not sending..\r\n      },\r\n    };\r\n    history.push(\"/digit-ui/employee/engagement/surveys/update-response\", details);\r\n  };\r\n\r\n  const handleDelete = () => {\r\n    const details = {\r\n      SurveyEntity: { ...surveyData, collectCitizenInfo: surveyData.collectCitizenInfo.code },\r\n    };\r\n    history.push(\"/digit-ui/employee/engagement/surveys/delete-response\", details);\r\n  };\r\n\r\n  //if we don't send tenantId it violates the not null constraint in the backend...\r\n  const handleMarkActive = (data) => {\r\n    const { fromDate, toDate, fromTime, toTime } = data;\r\n    const details = {\r\n      SurveyEntity: {\r\n        ...surveyData,\r\n        status: \"ACTIVE\",\r\n        startDate: new Date(`${fromDate} ${fromTime}`).getTime(),\r\n        endDate: new Date(`${toDate} ${toTime}`).getTime(),\r\n        collectCitizenInfo: surveyData.collectCitizenInfo.code,\r\n        questions: surveyData.questions.map(filterQuestion),\r\n        tenantId,\r\n      },\r\n    };\r\n    history.push(\"/digit-ui/employee/engagement/surveys/update-response\", details);\r\n  };\r\n\r\n  const handleMarkInactive = () => {\r\n    const details = {\r\n      SurveyEntity: { ...surveyData,\r\n        questions: surveyData.questions.map(filterQuestion), \r\n        status: \"INACTIVE\", \r\n        collectCitizenInfo: surveyData.collectCitizenInfo.code },\r\n    };\r\n    history.push(\"/digit-ui/employee/engagement/surveys/update-response\", details);\r\n  };\r\n\r\n  const actionMenuOptions = useMemo(() => {\r\n    const options = [\"EDIT\", \"DELETE\"];\r\n    if (isSurveyActive && surveyData?.status === \"ACTIVE\") {\r\n      options.splice(1, 0, \"INACTIVE\");\r\n    } else if (!isSurveyActive) {\r\n      options.splice(1, 0, \"ACTIVE\");\r\n    }\r\n    return options;\r\n  }, [isSurveyActive, surveyData?.status]);\r\n\r\n  if (isLoading) return <Loader />;\r\n\r\n\r\n  return (\r\n    <Fragment>\r\n      <Header>{t(\"CS_COMMON_SURVEYS\")}</Header>\r\n      <EditSurveyForm\r\n        t={t}\r\n        onEdit={onEdit}\r\n        menuOptions={actionMenuOptions}\r\n        displayMenu={displayMenu}\r\n        isFormDisabled={isFormDisabled}\r\n        isPartiallyEnabled={isFormPartiallyEnabled}\r\n        setDisplayMenu={setDisplayMenu}\r\n        onActionSelect={onActionSelect}\r\n        initialSurveysConfig={surveyData}\r\n        isSurveyActive = {isSurveyActive}\r\n        formDisabled={isFormDisabled}\r\n      />\r\n\r\n      {showModal && userAction === \"DELETE\" && (\r\n        <DeleteModal\r\n          t={t}\r\n          heading={\"CONFIRM_DELETE_SURVEY\"}\r\n          surveyTitle={surveyData.title}\r\n          closeModal={() => setShowModal(false)}\r\n          actionCancelLabel={\"CS_COMMON_CANCEL\"}\r\n          actionCancelOnSubmit={() => setShowModal(false)}\r\n          actionSaveLabel={\"ES_COMMON_DEL\"}\r\n          actionSaveOnSubmit={handleDelete}\r\n        />\r\n      )}\r\n      {showModal && userAction === \"ACTIVE\" && (\r\n        <MarkActiveModal\r\n          t={t}\r\n          heading={\"CONFIRM_MARKACTIVE_SURVEY\"}\r\n          initialValues={surveyData}\r\n          closeModal={() => setShowModal(false)}\r\n          actionCancelLabel={\"CS_COMMON_CANCEL\"}\r\n          actionCancelOnSubmit={() => setShowModal(false)}\r\n          actionSaveLabel={\"ES_COMMON_SAVE\"}\r\n          actionSaveOnSubmit={handleMarkActive}\r\n          onSubmit={handleMarkActive}\r\n          surveyTitle={surveyData.title}\r\n        />\r\n      )}\r\n      {/* CONFIRM_MARKINACTIVE_SURVEY - key for heading in modal */}\r\n      {showModal && userAction === \"INACTIVE\" && (\r\n        <MarkInActiveModal\r\n          t={t}\r\n          heading={\"CONFIRM_MARKINACTIVE_SURVEY\"}\r\n          surveyTitle={surveyData.title}\r\n          closeModal={() => setShowModal(false)}\r\n          actionCancelLabel={\"CS_COMMON_CANCEL\"}\r\n          actionCancelOnSubmit={() => setShowModal(false)}\r\n          actionSaveLabel={\"ES_COMMON_Y_MARKINACTIVE\"}\r\n          actionSaveOnSubmit={handleMarkInactive}\r\n        />\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default SurveyDetails;","import { Card, CardLabelError, CheckBox, RadioButtons, TextArea, TextInput } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { Fragment } from \"react\";\r\nimport { Controller } from \"react-hook-form\";\r\n\r\nconst CitizenSurveyQuestion = ({ t, question, control, register, values, formState,formDisabled }) => {\r\n  const formErrors = formState?.errors;\r\n  if (!question) return;\r\n  const displayAnswerField = (answerType) => {\r\n    switch (answerType) {\r\n      case \"SHORT_ANSWER_TYPE\":\r\n        return (\r\n          <>\r\n            <TextInput\r\n              name={question.uuid}\r\n              disabled={formDisabled}\r\n              type=\"text\"\r\n              inputRef={register({\r\n                maxLength: {\r\n                  value: 200,\r\n                 message: t(\"EXCEEDS_200_CHAR_LIMIT\"),\r\n                },\r\n                required:question.required,\r\n              })}\r\n            />\r\n            {formErrors && formErrors?.[question.uuid] && formErrors?.[question.uuid]?.type === \"required\" && (\r\n              <CardLabelError>{t(`CS_COMMON_REQUIRED`)}</CardLabelError>)}\r\n            {formErrors && formErrors?.[question.uuid] && formErrors?.[question.uuid]?.type === \"maxLength\" && (\r\n              <CardLabelError>{t(`EXCEEDS_200_CHAR_LIMIT`)}</CardLabelError>)} \r\n          </>\r\n        );\r\n      case \"LONG_ANSWER_TYPE\":\r\n        return (\r\n          <>\r\n            <TextArea\r\n              name={question.uuid}\r\n              disabled={formDisabled}\r\n              inputRef={register({\r\n                maxLength: {\r\n\r\n                  value: 500,\r\n                  message: t(\"EXCEEDS_500_CHAR_LIMIT\"),\r\n                },\r\n                required:question.required\r\n              })}\r\n            />\r\n            {formErrors && formErrors?.[question.uuid] && formErrors?.[question.uuid]?.type === \"required\" && (\r\n              <CardLabelError>{t(`CS_COMMON_REQUIRED`)}</CardLabelError>)} \r\n            {formErrors && formErrors?.[question.uuid] && formErrors?.[question.uuid]?.type === \"maxLength\" && (\r\n              <CardLabelError>{t(`EXCEEDS_500_CHAR_LIMIT`)}</CardLabelError>)}\r\n          </>\r\n        );\r\n      case \"MULTIPLE_ANSWER_TYPE\":\r\n        return (\r\n          <>\r\n            <Controller\r\n              control={control}\r\n              name={question.uuid}\r\n              //defaultValue={surveyFormState?.collectCitizenInfo}\r\n              rules={{ required: question.required }}\r\n              render={({ onChange, value }) => (\r\n                <RadioButtons\r\n                  disabled={formDisabled}\r\n                  onSelect={onChange}\r\n                  selectedOption={value}\r\n                  optionsKey=\"\"\r\n                  options={[...question.options]}\r\n                  //disabled={disableInputs}\r\n                />\r\n              )}\r\n            />\r\n            {formErrors && formErrors?.[question.uuid] && formErrors?.[question.uuid]?.type === \"required\" && (\r\n              <CardLabelError>{t(`EVENTS_TO_DATE_ERROR_REQUIRED`)}</CardLabelError>\r\n            )}\r\n          </>\r\n        );\r\n      case \"CHECKBOX_ANSWER_TYPE\":\r\n        return (\r\n          <>\r\n            <Controller\r\n              control={control}\r\n              name={question.uuid}\r\n              //defaultValue={surveyFormState?.collectCitizenInfo}\r\n              //rules={{required:true}}\r\n              //rules={{ required:question.required }}\r\n              render={({ onChange, value }) => (\r\n                <div className=\"align-columns\">\r\n                  {question.options.map((option) => {\r\n                    return (\r\n                      <CheckBox\r\n                        disabled={formDisabled}\r\n                        key={option}\r\n                        onChange={(e) => {\r\n                          if (e.target.checked) {\r\n                            onChange([option,...value?value:[]]);             \r\n                          } else {\r\n                            value && onChange(value.filter((item) => item !== option));\r\n                          }\r\n                        }}\r\n                        checked={!!value?.find(e=> e===option)}\r\n                        label={option}\r\n                      />\r\n                    );\r\n                  })}\r\n                </div>\r\n              )}\r\n            />\r\n            {formErrors && formErrors?.[question.uuid] && formErrors?.[question.uuid]?.type ===\"required\" && (\r\n              <CardLabelError>{t(`CS_COMMON_REQUIRED`)}</CardLabelError>\r\n            )}\r\n          </>\r\n        );\r\n      // case \"CHECKBOX_ANSWER_TYPE\":\r\n      //   return (\r\n      //     <>\r\n      //     {question.options.map((option,index) => (\r\n      //     <div>\r\n      //       <label for=\"checkbox\">\r\n      //         <input\r\n      //         control={control}\r\n      //         id={option}\r\n      //         type=\"checkbox\"\r\n      //         name={option}\r\n      //         value={option}\r\n      //         ref={register({\r\n      //           required:false,\r\n      //         })}\r\n      //       />\r\n      //         {option}</label>\r\n            \r\n      //     </div>\r\n      //     ))}\r\n          \r\n      //       {formErrors && formErrors?.[question.uuid] && formErrors?.[question.uuid]?.type ===\"required\" && (\r\n      //         <CardLabelError>{t(`CS_COMMON_REQUIRED`)}</CardLabelError>\r\n      //       )}\r\n      //     </>\r\n      //   );\r\n      case \"DATE_ANSWER_TYPE\":\r\n        return (\r\n          <>\r\n            <Controller\r\n              control={control}\r\n              name={question.uuid}\r\n              //defaultValue=\r\n              rules={{\r\n                required: question.required,\r\n                // validate: { isValidToDate }\r\n              }}\r\n\r\n              render={({ onChange, value }) => <TextInput disabled={formDisabled} type=\"date\"  onChange={onChange} defaultValue={value} />}\r\n            />\r\n            {formErrors && formErrors?.[question.uuid] && formErrors?.[question.uuid]?.type === \"required\" && (\r\n              <CardLabelError>{t(`EVENTS_TO_DATE_ERROR_REQUIRED`)}</CardLabelError>\r\n            )}\r\n          </>\r\n        );\r\n      case \"TIME_ANSWER_TYPE\":\r\n        return (\r\n          <>\r\n            <Controller\r\n              control={control}\r\n              name={question.uuid}\r\n              //defaultValue={surveyFormState?.toTime}\r\n              rules={{\r\n                required: question.required,\r\n                // validate: { isValidToTime }\r\n              }}\r\n              render={({ onChange, value }) => <TextInput type=\"time\" disabled={formDisabled}  onChange={onChange} defaultValue={value} />}\r\n            />\r\n            {formErrors && formErrors?.[question.uuid] && formErrors?.[question.uuid]?.type === \"required\" && (\r\n              <CardLabelError>{t(`EVENTS_TO_DATE_ERROR_REQUIRED`)}</CardLabelError>\r\n            )}\r\n          </>\r\n        );\r\n\r\n      default:\r\n        return (\r\n          <TextInput\r\n            name={question.uuid}\r\n            disabled={formDisabled}\r\n            type=\"text\"\r\n            inputRef={register({\r\n              maxLength: {\r\n                value: 60,\r\n                message: t(\"EXCEEDS_60_CHAR_LIMIT\"),\r\n              },\r\n              required:question.required\r\n            })}\r\n          />\r\n        );\r\n    }\r\n  };\r\n  return (\r\n    <Card>\r\n      <div className=\"surveyQuestion-wrapper\">\r\n        <span className=\"question-title\">{question.questionStatement}</span>\r\n        <span>{displayAnswerField(question.type)}</span>\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default CitizenSurveyQuestion;\r\n","import React from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { ActionBar, Header, Loader, SubmitBar } from \"@egovernments/digit-ui-react-components\";\r\n\r\nimport CitizenSurveyQuestion from \"./CitizenSurveyQuestion\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\n\r\nconst CitizenSurveyForm = ({ surveyData, onFormSubmit,submitDisabled,formDisabled,formDefaultValues }) => {\r\n  //need to disable this form and fill with default values if formDisabled is true\r\n  const {\r\n    register: registerRef,\r\n    control: controlSurveyForm,\r\n    handleSubmit: handleSurveyFormSubmit,\r\n    setValue: setSurveyFormValue,\r\n    getValues: getSurveyFormValues,\r\n    reset: resetSurveyForm,\r\n    formState: surveyFormState,\r\n    clearErrors: clearSurveyFormsErrors,\r\n  } = useForm({\r\n    defaultValues:formDefaultValues\r\n  });\r\n\r\n  const {t} = useTranslation()\r\n  return (\r\n    <div className=\"citizenSurvey-wrapper\">\r\n      <Header>{surveyData?.title?.toUpperCase()}</Header>\r\n      <form onSubmit={handleSurveyFormSubmit(onFormSubmit)}>\r\n        {surveyData.questions.length ? surveyData.questions.map((config, index) => <CitizenSurveyQuestion key={index} t={t} question={config} control={controlSurveyForm} register={registerRef} values={getSurveyFormValues} formState={surveyFormState} formDisabled={formDisabled}/>) : null}\r\n\r\n        <ActionBar>\r\n          {!submitDisabled && <SubmitBar label={t(\"CS_SUBMIT_SURVEY\")} submit=\"submit\" />}\r\n        </ActionBar>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CitizenSurveyForm;\r\n","\r\nexport const bindQuesWithAns = (ques,ans) => {\r\n    let data = []\r\n    ques.map(ques => {\r\n        let obj = {}\r\n        if(ques.type===\"Check Boxes\"){\r\n            obj[\"type\"] = ques.type;\r\n            obj[\"questionStatement\"] = ques.questionStatement\r\n            obj[\"options\"]=ques.options\r\n            obj[\"answers\"]=[]\r\n            ans.map(ans =>{\r\n            if(ques.uuid===ans.questionId){\r\n                obj[\"answers\"] = [...obj[\"answers\"],ans.answer]\r\n            }\r\n        })\r\n        }else{\r\n        const type = ques.type\r\n        obj[\"type\"] = type\r\n        obj[\"questionStatement\"] = ques.questionStatement\r\n        obj[\"options\"]=ques.options\r\n        ans.map(ans =>{\r\n            if(ques.uuid===ans.questionId){\r\n                const answers = obj[\"answers\"]\r\n                if(answers) answers.push(ans.answer[0])\r\n                obj[\"answers\"] = answers ? answers : [ans.answer[0]];\r\n            }\r\n        })\r\n        }\r\n        \r\n        data.push(obj)\r\n    })\r\n\r\nreturn data;\r\n}\r\n","import React,{Fragment} from 'react'\r\nimport { Header,BreakLine, CardHeader,Card,CardSubHeader } from '@egovernments/digit-ui-react-components'\r\n\r\nconst WhoHasResponded = ({t,userInfo}) => {\r\n    const data = Object.entries(userInfo);\r\n  return (\r\n    <div style={{\"margin\":\"30px\"}}>\r\n        <header style={{\"fontSize\":\"30px\",\"fontWeight\":\"bold\"}}>{t(\"WHO_RESPONDED\")}</header>\r\n       \r\n            {/* <header style={{\"display\":'inline-block',\"fontWeight\":\"bold\",\"marginLeft\":\"10px\",\"marginTop\":\"20px\"}}>Email</header>\r\n            <header style={{\"display\":'inline-block',\"marginTop\":\"20px\",\"marginLeft\":\"190px\",\"fontWeight\":\"bold\"}}>Phone Number</header> */}\r\n         {/* <div className='responses-container'>\r\n            {data.map(user => <div className='response-result' style={{\"whiteSpace\":\"nowrap\"}}> <p style={{\"display\":\"inline-block\"}}>{user[1]}</p>\r\n            <p style={{\"display\":\"inline-block\",\"marginLeft\":\"40%\"}}>{user[0]}</p><BreakLine /></div>  )} */}\r\n\r\n\r\n            <div style={{\"display\":\"flex\",\"padding\": \"8px 4px\", \r\n                        \"background-color\": \"#FAFAFA\",\r\n                        \"border\": \"1px solid #D6D5D4\",\r\n                        \"boxSizing\": \"borderBox\",\r\n                        \"borderRadius\": \"4px\",\r\n                        \"marginTop\": \"20px\",\r\n                        \"marginBottom\": \"20px\"}}>\r\n                <div style={{\"flex\":\"50%\",\"padding\":\"10px\"}}>\r\n                    <header style={{\"fontWeight\":\"bold\",\"fontSize\":\"25px\"}}>Email</header>\r\n                    {data.map(user=> <p style={{\"margin\":\"10px 0px 10px 0px\"}}>{user[1]}</p>)}\r\n                </div>\r\n                <div style={{\"flex\":\"50%\",\"padding\":\"10px\"}}>\r\n                    <header style={{\"fontWeight\":\"bold\",\"fontSize\":\"25px\"}}>Phone Number</header>\r\n                    {data.map(user=> <p style={{\"margin\":\"10px 0px 10px 0px\"}}>{user[0]}</p>)}\r\n                </div>\r\n                \r\n            </div>\r\n    </div>\r\n\r\n    \r\n    )\r\n}\r\n\r\nexport default WhoHasResponded","import { TextInput,Dropdown,RemoveableTag } from '@egovernments/digit-ui-react-components'\r\nimport React,{useMemo} from 'react'\r\n\r\nconst SurveyDetailsView = ({surveyTitle,surveyDesc,t}) => {\r\n    const ulbs = Digit.SessionStorage.get(\"ENGAGEMENT_TENANTS\");\r\n    const tenantId = Digit.ULBService.getCurrentTenantId();\r\n    const userInfo = Digit.UserService.getUser().info;\r\n    const userUlbs = ulbs\r\n    .filter((ulb) => userInfo?.roles?.some((role) => role?.tenantId === ulb?.code))\r\n    const selectedTenat = useMemo(() => {\r\n    const filtered = ulbs.filter((item) => item.code === tenantId);\r\n    return filtered;\r\n  }, [ulbs]);\r\n  return (\r\n      <div className=\"surveydetailsform-wrapper\">\r\n        <span className=\"surveyformfield\">\r\n            <label>{`${t(\"LABEL_FOR_ULB\")} * :`}</label>\r\n            <div style={{ display: \"grid\", gridAutoFlow: \"row\" }}>\r\n                    <Dropdown\r\n                    allowMultiselect={true}\r\n                    optionKey={\"i18nKey\"}\r\n                    option={userUlbs}\r\n                    selected={selectedTenat}\r\n                    keepNull={true}\r\n                    disable={true}\r\n                    t={t}\r\n                    />\r\n                    <RemoveableTag\r\n                      key={\"tag\"}\r\n                      text={userUlbs[0].name}\r\n                    />\r\n            </div>  \r\n        </span>\r\n    \r\n        <span className=\"surveyformfield\">\r\n            <label>{t(\"CS_SURVEY_NAME\")}</label>\r\n            <TextInput\r\n            name=\"title\"\r\n            type=\"text\"\r\n            disable={true}\r\n            value={surveyTitle}\r\n            />\r\n        </span>\r\n        <span className=\"surveyformfield\">\r\n            <label>{t(\"CS_SURVEY_DESCRIPTION\")}</label>\r\n            <TextInput\r\n            name=\"description\"\r\n            type=\"text\"\r\n            disable={true}\r\n            value={surveyDesc}\r\n            />\r\n        </span>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SurveyDetailsView","import React from 'react'\r\nimport { PieChart, Pie, Cell,Tooltip,Legend } from \"recharts\";\r\n\r\nconst getData = (data) => {\r\n    const options = data.options;\r\n    const answers = data.answers;\r\n    const processedData = [];\r\n    options.map(option => processedData.push({name:option,value:0}));\r\n    \r\n    answers.map((ans,index) => {\r\n        processedData.map((element,i) => {\r\n            if(element.name === ans) processedData[i].value = processedData[i].value + 1\r\n        })\r\n    })\r\n    return processedData;\r\n}\r\n\r\nconst COLORS = [\"#8E29BF\", \"#FBC02D\", \"#048BD0\",\"#EA8A3B\",\"#0BABDE\",\"#800080\",\"#ee82ee\",\"#616161\",\"#3cb371\",\"#6a5acd\"];\r\n\r\nconst RADIAN = Math.PI / 180;\r\nconst renderCustomizedLabel = ({\r\n  cx,\r\n  cy,\r\n  midAngle,\r\n  innerRadius,\r\n  outerRadius,\r\n  percent,\r\n  index\r\n}) => {\r\n  const radius = innerRadius + (outerRadius - innerRadius) * 0.5;\r\n  const x = cx + radius * Math.cos(-midAngle * RADIAN);\r\n  const y = cy + radius * Math.sin(-midAngle * RADIAN);\r\n\r\n  return (\r\n    <text\r\n      x={x}\r\n      y={y}\r\n      fill=\"white\"\r\n      textAnchor={x > cx ? \"start\" : \"end\"}\r\n      dominantBaseline=\"central\"\r\n    >\r\n      {`${(percent * 100).toFixed(0)}%`}\r\n    </text>\r\n  );\r\n};\r\n\r\nconst renderLegend = (props) => {\r\n  const { payload } = props;\r\n\r\n  return (\r\n    <ul style={{\"listStyle\":\"disc\"}}>\r\n      {\r\n        payload.map((entry, index) => (\r\n          <li key={`item-${index}`} style={{\"display\":\"list-item\",\"color\":entry.color,\"fontSize\":\"19px\"}}>{entry.value}</li>\r\n        ))\r\n      }\r\n    </ul>\r\n  );\r\n}\r\n\r\nconst McqChart = (props) => {\r\n  const data = getData(props.data)\r\n    return (\r\n    <PieChart width={400} height={400}>\r\n      <Pie\r\n        data={data}\r\n        cx={200}\r\n        cy={200}\r\n        labelLine={false}\r\n        label={renderCustomizedLabel}\r\n        outerRadius={120}\r\n        fill=\"#8884d8\"\r\n        dataKey=\"value\"\r\n      >\r\n        {data.map((entry, index) => (\r\n          <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\r\n        ))}\r\n      </Pie>\r\n      <Tooltip />\r\n      <Legend content={renderLegend} width={100} align=\"right\" wrapperStyle={{ top: 40, right: 20,left:500, backgroundColor: '#FAFAFA', borderRadius: 3, lineHeight: '40px' }} />\r\n    </PieChart>\r\n  )\r\n}\r\n\r\nexport default McqChart","import React from 'react'\r\nimport { ResponsiveContainer, BarChart, Bar, XAxis, YAxis, Cell, Tooltip, Legend,CartesianGrid } from 'recharts';\r\n\r\nconst formObj = data => {\r\n  \r\n  const checkBoxData= []\r\n  const options = data.options;\r\n  const answers = data.answers;\r\n  options.map(option =>{\r\n    const obj = {}\r\n    obj[\"name\"]=option;\r\n    obj[\"value\"]=0;\r\n    answers.map(ans =>{\r\n        ans.map(el=>{\r\n          if(el===option){\r\n            obj[\"value\"] = obj[\"value\"] + 1\r\n          }\r\n        })\r\n    })\r\n    checkBoxData.push(obj)\r\n  })\r\nreturn checkBoxData\r\n}\r\nconst CheckBoxChart = (props) => {\r\n  const datav1 = formObj(props.data);\r\n  return (\r\n    <div style={{\r\n  \"padding\": \"10px\",\r\n  \"width\": \"700px\",\r\n  \"height\": \"260px\",\r\n  \"backgroundColor\": \"#fafafa\"}}>\r\n    <ResponsiveContainer>\r\n    \t<BarChart \r\n            data={datav1}\r\n            layout=\"vertical\" \r\n            margin={{ top: 0, right: 50, left: 0, bottom: 0 }}\r\n            barCategoryGap={8}>\r\n        <CartesianGrid strokeDasharray=\"3 3\" />\r\n        <XAxis type=\"number\"  />\r\n        <YAxis type=\"category\" width={150} padding={{ left: 20 }} dataKey=\"name\"/>    \r\n       <Bar \r\n           dataKey=\"value\" \r\n           fill=\"#048BD0\"\r\n           />\r\n        <Tooltip />\r\n      </BarChart>\r\n     </ResponsiveContainer>\r\n     </div>\r\n  )\r\n}\r\n\r\nexport default CheckBoxChart","import React,{Fragment,useEffect,useMemo,useState} from 'react'\r\nimport { Card, CardLabelError, CheckBox, RadioButtons, TextArea, TextInput,Loader,CardHeader, BreakLine, CardLabel, CardSectionHeader } from \"@egovernments/digit-ui-react-components\";\r\nimport { bindQuesWithAns } from './bindquesansutil';\r\nimport WhoHasResponded from './WhoHasResponded';\r\nimport SurveyDetailsView from './SurveyDetailsView';\r\nimport { useTranslation } from \"react-i18next\";\r\nimport McqChart from './McqChart';\r\nimport CheckBoxChart from './CheckBoxChart';\r\n\r\nconst transformDate = (date) => {\r\n    const split = date.split('-');\r\n    const month = split[1];\r\n    const year = split[0];\r\n    const day = split[2];\r\n    const monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n  \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\r\n]\r\n    return {\r\n        day,\r\n        date:`${monthNames[month-1]} ${year}`\r\n    }\r\n    // return (<p>\r\n    //     <strong>{`${monthNames[month-1]} ${year} ${day}`}</strong>\r\n    // </p>)\r\n}\r\n\r\nfunction transformTime (time) {\r\n  // Check correct time format and split into components\r\n  time = time.toString ().match (/^([01]\\d|2[0-3])(:)([0-5]\\d)(:[0-5]\\d)?$/) || [time];\r\n\r\n  if (time.length > 1) { // If time format correct\r\n    time = time.slice (1);  // Remove full string match value\r\n    time[5] = +time[0] < 12 ? ' AM' : ' PM'; // Set AM/PM\r\n    time[0] = +time[0] % 12 || 12; // Adjust hours\r\n  }\r\n  return time.join (''); // return adjusted time or original string\r\n}\r\n\r\nconst getUserData = (data) => {\r\n    const obj = {}\r\n    data.map(ans => {\r\n        obj[ans.mobileNumber]=ans.emailId\r\n    })\r\n    return obj;\r\n}\r\n\r\n\r\n\r\nconst displayResult = (ques,ans,type,resCount) => {\r\n        switch(type) {\r\n            case \"Short Answer\":\r\n                 return (\r\n                        // <div className=\"surveyQuestion-wrapper\">\r\n                        //     <span className=\"question-title\">{quesStmt}</span>\r\n                        //     <header className=''>{`${resCount} Responses`}</header>\r\n                        //     <Card style={{\"backgroundColor\":\"#FAFAFA\",\"margin\":\"0px\"}}>\r\n                        //     {ans.map(el=> <span>{el}<BreakLine /></span>)}\r\n                        //     </Card>\r\n                        // </div>\r\n                        // <div>\r\n                        //     <CardSectionHeader>{ques.questionStatement}</CardSectionHeader>\r\n                        //     <header style={{\"fontWeight\":\"bold\"}}>{`${resCount} Responses`}</header>\r\n                        //     <Card style={{\"backgroundColor\":\"#FAFAFA\",\"margin\":\"0px\"}}>\r\n                        //     {ans.map(el=> <p>{el}<BreakLine /></p>)}\r\n                        //     </Card>\r\n                        // </div>\r\n                        <div style={{\"margin\":\"30px\"}}>\r\n                            <CardSectionHeader>{ques.questionStatement}</CardSectionHeader>\r\n                            <header style={{\"fontWeight\":\"bold\"}}>{`${resCount} Responses`}</header>\r\n                            <div className='responses-container'>\r\n                            {ans.map(el=> <div className='response-result responses-container-line'>{el}<BreakLine style={{\"marginTop\":\"10px\"}} /></div>)}\r\n                            </div>\r\n                            \r\n                        </div>\r\n                        )\r\n            case \"Date\":\r\n                return (\r\n                        \r\n                        <div style={{\"margin\":\"30px\"}}>\r\n                            <CardSectionHeader>{ques.questionStatement}</CardSectionHeader>\r\n                            <header style={{\"fontWeight\":\"bold\"}}>{`${resCount} Responses`}</header>\r\n                            {/* <div className=\"responses-container-date\">\r\n                            {ans.map(el=> <div className='date-time'>{transformDate(el).date}</div>)}\r\n                            </div> */}\r\n                            <div className='date-container'>\r\n                                {ans.map(el => (<div className='date-response'>\r\n                                    <div>\r\n                                    {transformDate(el).date}\r\n                                    </div>\r\n                                    <div className='divide'></div>\r\n                                    <div>\r\n                                    {transformDate(el).day}\r\n                                    </div>\r\n                                </div>))}\r\n                            </div>\r\n                        </div>\r\n                        )\r\n            case \"Time\":\r\n                return (\r\n                        <div style={{\"margin\":\"30px\"}}>\r\n                            <CardSectionHeader>{ques.questionStatement}</CardSectionHeader>\r\n                           <header style={{\"fontWeight\":\"bold\"}}>{`${resCount} Responses`}</header>\r\n                            {/* <div className='responses-container-date'>\r\n                            {ans.map(el=> <div className='date-time'><strong>{el}</strong></div>)}\r\n                            </div> */}\r\n                            <div className='date-container'>\r\n                                {ans.map(el => (<div className='date-response'>\r\n                                    <div>\r\n                                    {el}\r\n                                    </div>\r\n                                    <div className='divide'></div>\r\n                                    <div>\r\n                                    {transformTime(el)}\r\n                                    </div>\r\n                                </div>))}\r\n                            </div>\r\n                        </div>\r\n                        )\r\n            \r\n            case \"Paragraph\":\r\n                return (\r\n                        // <div className=\"surveyQuestion-wrapper\">\r\n                        //     <span className=\"question-title\">{ques.questionStatement}</span>\r\n                        //     <span className='text-3xl font-bold'>{`${resCount} Responses`}</span>\r\n                        //     {ans.map(el=> <span>{el}</span>)}\r\n                        // </div>\r\n                        <div style={{\"margin\":\"30px\"}}>\r\n                            <CardSectionHeader>{ques.questionStatement}</CardSectionHeader>\r\n                            <header style={{\"fontWeight\":\"bold\"}}>{`${resCount} Responses`}</header>\r\n                            <div className='responses-container'>\r\n                            {ans.map(el=> <div className='response-result responses-container-line'>{el}<BreakLine style={{\"marginTop\":\"10px\"}} /></div>)}\r\n                            </div>\r\n                        </div>\r\n                        )\r\n            case \"Check Boxes\":\r\n                return (\r\n                        // <div className=\"surveyQuestion-wrapper\">\r\n                        //     <span className=\"question-title\">{ques.questionStatement}</span>\r\n                        //     <span className='text-3xl font-bold'>{`${resCount} Responses`}</span>\r\n                        //     {ans.map(el=> <span>{el}</span>)}\r\n                        // </div>\r\n                        // <div>\r\n                        //     <CardSectionHeader>{ques.questionStatement}</CardSectionHeader>\r\n                        //     <header style={{\"fontWeight\":\"bold\"}}>{`${resCount} Responses`}</header>\r\n                        //     <Card style={{\"backgroundColor\":\"#FAFAFA\",\"margin\":\"0px\"}}>\r\n                        //     {ans.map(el=> <p>{el}<BreakLine /></p>)}\r\n                        //     </Card>\r\n                        // </div>\r\n                        <div style={{\"margin\":\"30px\"}}>\r\n                            <CardSectionHeader>{ques.questionStatement}</CardSectionHeader>\r\n                            <header style={{\"fontWeight\":\"bold\"}}>{`${resCount} Responses`}</header>\r\n                            {/* {ans.map(el=> <p>{el}<BreakLine /></p>)} */}\r\n                            <div className='responses-container' style={{\"padding\":\"30px\"}}>\r\n                            <CheckBoxChart data={ques}/>\r\n                            </div>\r\n                            \r\n                        </div>\r\n                        )\r\n            case \"Multiple Choice\":\r\n                return (\r\n                        <div style={{\"margin\":\"30px\"}}>\r\n                            <CardSectionHeader>{ques.questionStatement}</CardSectionHeader>\r\n                            <header style={{\"fontWeight\":\"bold\"}}>{`${resCount} Responses`}</header>\r\n                            {/* {ans.map(el=> <p>{el}<BreakLine /></p>)} */}\r\n                            <div className='responses-container'>\r\n                            <McqChart data={ques}/>\r\n                            </div>\r\n                            \r\n                        </div>\r\n                        \r\n                        )\r\n            \r\n        }\r\n    }\r\n\r\nconst SurveyResultsView = ({surveyInfo,responsesInfoMutation}) => {\r\n    const { t } = useTranslation();\r\n    const [data,setData]=useState(null);\r\n    const [userInfo,setUserInfo] = useState(null)\r\n    useEffect(() => {\r\n        if(responsesInfoMutation.isSuccess){\r\n        const dp = bindQuesWithAns(surveyInfo?.questions,responsesInfoMutation.data.answers)\r\n        setData(dp)\r\n        const ue = getUserData(responsesInfoMutation.data.answers)\r\n        setUserInfo(ue);\r\n        }\r\n    },[responsesInfoMutation])\r\n\r\n    //    const dp = bindQuesWithAns(surveyInfo?.questions,responsesInfoMutation.data.answers);\r\n    //    setData(dp)    \r\n    \r\n    if(!data) return <Loader />\r\n    \r\n    return (\r\n    <Card>\r\n        <CardHeader>Surveys</CardHeader>\r\n        {/* display survey detail form\r\n        display whoHasResponded component */}\r\n        <div style={{\"margin\":\"30px\"}}>\r\n        <SurveyDetailsView surveyTitle={surveyInfo.title} surveyDesc={surveyInfo.description} t={t} />\r\n        </div>\r\n        <WhoHasResponded t={t} userInfo={userInfo}/>\r\n        {data.map(element =>( \r\n            displayResult(element,element.answers,element.type,element.answers.length)\r\n        ))}\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default SurveyResultsView","import React,{ useEffect,useState } from 'react'\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport CitizenSurveyForm from \"../../../components/Surveys/CitizenSurveyForm\";\r\nimport { useQueryClient } from \"react-query\";\r\nimport { ActionBar, Card, SubmitBar, Menu,Loader } from \"@egovernments/digit-ui-react-components\";\r\nimport { format } from \"date-fns\";\r\nimport SurveyResultsView from '../../../components/Surveys/ResultsView/SurveyResultsView';\r\n\r\n\r\nconst TypeAnswerEnum = {\r\n  SHORT_ANSWER_TYPE: \"Short Answer\",\r\n  LONG_ANSWER_TYPE: \"Paragraph\",\r\n  MULTIPLE_ANSWER_TYPE: \"Multiple Choice\",\r\n  CHECKBOX_ANSWER_TYPE: \"Check Boxes\",\r\n  DATE_ANSWER_TYPE: \"Date\",\r\n  TIME_ANSWER_TYPE: \"Time\",\r\n};\r\n\r\nconst SurveyResults = () => {\r\n    const tenantId = Digit.ULBService.getCurrentTenantId();\r\n    const params = useParams();\r\n    const mutation = Digit.Hooks.survey.useShowResults();\r\n    const queryClient = useQueryClient();\r\n    useEffect(() => {\r\n        const onSuccess = () => {\r\n        queryClient.clear();\r\n        };\r\n        mutation.mutate({\r\n        surveyId:params.id\r\n        }, {\r\n        onSuccess,\r\n        });\r\n    }, []);\r\n    \r\n    const { isLoading, data: surveyData } = Digit.Hooks.survey.useSearch(\r\n    { tenantIds: tenantId, uuid: params.id },\r\n    {\r\n      select: (data) => {\r\n        const surveyObj = data?.Surveys?.[0];\r\n        return {\r\n          //tenantIds: { code: surveyObj.tenantId },\r\n          uuid: surveyObj.uuid,\r\n          title: surveyObj.title,\r\n          description: surveyObj.description,\r\n          collectCitizenInfo: { code: surveyObj.collectCitizenInfo },\r\n          fromDate: format(new Date(surveyObj.startDate), \"yyyy-MM-dd\"),\r\n          toDate: format(new Date(surveyObj.endDate), \"yyyy-MM-dd\"),\r\n          fromTime: format(new Date(surveyObj.startDate), \"hh:mm\"),\r\n          toTime: format(new Date(surveyObj.endDate), \"hh:mm\"),\r\n          questions: surveyObj.questions.map(({ questionStatement, type, required, options, uuid, surveyId }) => ({\r\n            questionStatement,\r\n            type: TypeAnswerEnum[type],\r\n            required,\r\n            options,\r\n            uuid,\r\n            surveyId\r\n          })),\r\n          status: surveyObj.status,\r\n          answersCount:surveyObj.answersCount,\r\n        };\r\n      },\r\n    }\r\n  );\r\n\r\n    if(isLoading) return <Loader />\r\n    \r\n    // else if(mutation.isLoading) return <Loader />\r\n    // //if(mutation.isError) return <div>An error occured...</div>\r\n    \r\n    return <SurveyResultsView surveyInfo={surveyData} responsesInfoMutation={mutation} />\r\n    \r\n}\r\n\r\nexport default SurveyResults\r\n\r\n","import React from \"react\"\r\nimport { Switch } from \"react-router-dom\"\r\nimport { PrivateRoute } from \"@egovernments/digit-ui-react-components\"\r\nimport Inbox from \"./Inbox\"\r\nimport NewSurvey from \"./NewSurvey\"\r\nimport CreateResponse from \"./responses/create\"\r\nimport UpdateResponse from './responses/update'\r\nimport DeleteResponse from \"./responses/delete\"\r\n//import EditSurvey from \"./EditSurvey\"\r\nimport SurveyDetails from \"./SurveyDetails\"\r\nimport SurveyResults from \"./SurveyResults\"\r\n\r\nconst Surveys = ({match:{path} = {}, tenants, parentRoute}) => {\r\n    return <Switch>\r\n        <PrivateRoute path={`${path}/inbox/create`} component={props => <NewSurvey {...props} />} />\r\n        <PrivateRoute path={`${path}/create`} component={props => <NewSurvey {...props} />} />\r\n        <PrivateRoute path={`${path}/inbox/details/:id`} component={props => <SurveyDetails {...props} />} />\r\n        {/* <PrivateRoute path={`${path}/inbox/edit/:id`} component={props => <EditSurvey {...props} />} /> */}\r\n        <PrivateRoute path={`${path}/inbox/results/:id`} component={(props) => <SurveyResults {...props} />} />\r\n        <PrivateRoute path={`${path}/inbox`} component={props => <Inbox {...props} tenants={tenants} parentRoute={parentRoute} />} />\r\n        <PrivateRoute path={`${path}/create-response`} component={(props) => <CreateResponse {...props} />} />\r\n        <PrivateRoute path={`${path}/update-response`} component={(props) => <UpdateResponse {...props} />} />\r\n        <PrivateRoute path={`${path}/delete-response`} component={(props) => <DeleteResponse {...props} />} />\r\n\r\n    </Switch>\r\n}\r\n\r\nexport default Surveys","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport CitizenSurveyForm from \"../../../components/Surveys/CitizenSurveyForm\";\r\n\r\nconst transformSurveyResponseData = (data) => {\r\n    /**\r\n     * TODO : handle checkbox\r\n     */\r\n  if (!data) return;\r\n  const questions = [];\r\n  for (const key in data) {\r\n    questions.push({\r\n      questionId: key,\r\n      answer: [data[key]],\r\n    });\r\n  }\r\n  return questions;\r\n};\r\n\r\nconst FillSurvey = ({ location }) => {\r\n  const surveyData = location?.state;\r\n  const history = useHistory();\r\n\r\n  const onSubmit = (data) => {\r\n    const details = {\r\n      AnswerEntity: {\r\n        surveyId: surveyData.uuid,\r\n        answers: transformSurveyResponseData(data),\r\n        surveyTitle:surveyData.title,\r\n        hasResponded:surveyData.hasResponded,\r\n      },\r\n    };\r\n    history.push(\"/digit-ui/citizen/engagement/surveys/submit-response\", details);\r\n  };\r\n\r\n  \r\n  return <CitizenSurveyForm surveyData={surveyData} onFormSubmit={onSubmit} formDisabled={false} />;\r\n};\r\n\r\nexport default FillSurvey;\r\n","import { Loader } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useQueryClient } from \"react-query\";\r\nimport CitizenSurveyForm from \"../../../components/Surveys/CitizenSurveyForm\";\r\n\r\nconst ShowSurvey = ({ location }) => {\r\n  const surveyData = location?.state;\r\n  const questions = surveyData?.questions;\r\n  const tenantIds = Digit.ULBService.getCitizenCurrentTenant();\r\n  const mutation = Digit.Hooks.survey.useShowResults();\r\n\r\n  const queryClient = useQueryClient();\r\n\r\n  useEffect(() => {\r\n    const onSuccess = () => {\r\n      queryClient.clear();\r\n    };\r\n    mutation.mutate(\r\n      {\r\n        surveyId: surveyData.uuid,\r\n      },\r\n      {\r\n        onSuccess,\r\n      }\r\n    );\r\n  }, []);\r\n\r\n  if (mutation.isLoading && !mutation.isIdle) {\r\n    return <Loader />;\r\n  }\r\n\r\n  if (mutation.isError) return <div>An error occured...</div>;\r\n\r\n  //questionid in answers uuid in surveys needs to be matched\r\n  const answers = mutation?.data?.answers;\r\n  const formDefaultValues = {};\r\n  answers?.map((ans) => {\r\n    if (ans?.answer.length === 1) formDefaultValues[ans?.questionId] = ans?.answer[0];\r\n    else formDefaultValues[ans?.questionId] = ans?.answer;\r\n  });\r\n\r\n  //pass this formDefaultValues in this format.....questionUuid:answerText for all the questions that are in the particular survey\r\n  //\"44a54cdb-7e8a-4631-b261-600f1f2cf5a6\":\"answerText\",\r\n  // const formDefaultValues = {}\r\n  // questions.map(ques => {\r\n  //   if(ques.type===\"SHORT_ANSWER_TYPE\" || ques.type===\"LONG_ANSWER_TYPE\"){\r\n  //     formDefaultValues[ques.uuid]=\"answerText\"\r\n  //   }\r\n  // })\r\n\r\n  return <CitizenSurveyForm surveyData={surveyData} submitDisabled={true} formDisabled={true} formDefaultValues={formDefaultValues} />;\r\n};\r\n\r\nexport default ShowSurvey;\r\n","import { Loader, BreadCrumb } from \"@egovernments/digit-ui-react-components\";\r\nimport React, {Fragment} from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Switch, useLocation, useRouteMatch, Route } from \"react-router-dom\";\r\n\r\n\r\nimport EngagementCard from \"./components/EngagementCard\";\r\nimport EngagementDocSelectULB from \"./components/Documents/EngagementDocsULB\";\r\nimport EngagementULBDropdown from \"./components/Documents/EngagementULBDropdown\";\r\nimport EnagementDocName from \"./components/Documents/engagement-doc-name\";\r\nimport EngagementDocCategory from \"./components/Documents/engagement-doc-category\";\r\nimport EngagementDocDescription from \"./components/Documents/engagement-doc-description\";\r\nimport EngagementDocUploadDocument from \"./components/Documents/engagement-doc-documents\";\r\nimport NewEvent from \"./pages/employee/Events/NewEvent\";\r\nimport EditEvent from \"./pages/employee/Events/EditEvent\";\r\nimport Response from \"./pages/employee/Events/NewEvent/Response\";\r\nimport Inbox from \"./pages/employee/Events/Inbox\";\r\nimport Messages from \"./pages/employee/Messages\";\r\nimport EventForm from \"./components/Events/EventForm\";\r\nimport MessageForm from \"./components/Messages/MessageForm\";\r\nimport SelectEventGeolocation from \"./components/Events/SelectGeoLocation\";\r\nimport SelectToDate from \"./components/Events/SelectToDate\";\r\nimport NotificationsAndWhatsNew from \"./pages/citizen/NotificationsAndWhatsNew\";\r\nimport EventsListOnGround from \"./pages/citizen/EventsListOnGround\";\r\nimport EmployeeEventDetails from \"./pages/employee/Events/EventDetails\";\r\nimport CitizenApp from \"./pages/citizen\";\r\nimport EventDetails from \"./pages/citizen/EventsListOnGround/EventDetails\";\r\nimport DocumenetCreate from \"./pages/employee/Documents/documents-create\";\r\nimport DocumentUpdate from './pages/employee/Documents/documents-update';\r\nimport DocumentResponse from \"./pages/employee/Documents/response\";\r\nimport DocUpdateResponse from \"./pages/employee/Documents/update-response\";\r\nimport DocDeleteResponse from \"./pages/employee/Documents/delete-response\";\r\nimport DocumentNotification from \"./pages/employee/Documents/Inbox\";\r\nimport DocumentList from './pages/citizen/Documents/DocumentList';\r\nimport SurveyList from \"./pages/citizen/CitizenSurvey/SurveyList\"\r\nimport DocumentDetails from \"./components/Documents/DocumentDetails\";\r\nimport Surveys from \"./pages/employee/CitizenSurveys\";\r\nimport FillSurvey from './pages/citizen/CitizenSurvey/FillSurvey'\r\nimport CitizenSurveyForm from './components/Surveys/CitizenSurveyForm';\r\nimport ShowSurvey from './pages/citizen/CitizenSurvey/ShowSurvey'\r\n \r\nimport SurveyResults from \"./pages/employee/CitizenSurveys/SurveyResults\";\r\nconst EventsBreadCrumb = ({ location }) => {\r\n  const { t } = useTranslation();\r\n  const crumbs = [\r\n    {\r\n      path: \"/digit-ui/employee\",\r\n      content: t(\"ES_COMMON_HOME\"),\r\n      show: true,\r\n    },\r\n    {\r\n      path: \"/digit-ui/employee/engagement/event/inbox\",\r\n      content: t(\"ES_EVENT_INBOX\"),\r\n      show: location.pathname.includes(\"event/inbox\") ? true : false,\r\n    },\r\n    {\r\n      path: \"/digit-ui/employee/event/new-event\",\r\n      content: t(\"ES_EVENT_NEW_EVENT\"),\r\n      show: location.pathname.includes(\"event/new-event\") ? true : false,\r\n    },\r\n    {\r\n      path: \"/digit-ui/employee/event/inbox/new-event\",\r\n      content: t(\"ES_EVENT_NEW_EVENT\"),\r\n      show: location.pathname.includes(\"event/inbox/new-event\") ? true : false,\r\n    },\r\n    {\r\n      path: \"/digit-ui/employee/event/inbox/event-details\",\r\n      content: t(\"ES_EVENT_EVENT_DETAILS\"),\r\n      show: location.pathname.includes(\"event-details\") ? true : false,\r\n    },\r\n    {\r\n      path: \"/digit-ui/employee/engagement/event/edit-event\",\r\n      content: t(\"ES_EVENT_EDIT_EVENT\"),\r\n      show: location.pathname.includes(\"event/edit-event\") ? true : false,\r\n    },\r\n    {\r\n      path: \"/digit-ui/employee/event/response\",\r\n      content: t(\"ES_EVENT_NEW_EVENT_RESPONSE\"),\r\n      show: location.pathname.includes(\"event/response\") ? true : false,\r\n    },\r\n    {\r\n      path: \"/digit-ui/employee/engagement/documents/inbox\",\r\n      content: t(\"ES_EVENT_INBOX\"),\r\n      show: location.pathname.includes(\"/documents/inbox\") ? true : false,\r\n    },\r\n    {\r\n      path: \"/digit-ui/employee/engagement/documents/new-doc\",\r\n      content: t(\"NEW_DOCUMENT_TEXT\"),\r\n      show: location.pathname.includes(\"/documents/new-doc\") ? true : false,\r\n    },\r\n    {\r\n      path: \"/digit-ui/employee/engagement/documents/inbox/new-doc\",\r\n      content: t(\"NEW_DOCUMENT_TEXT\"),\r\n      show: location.pathname.includes(\"/documents/inbox/new-doc\") ? true : false,\r\n    },\r\n    {\r\n      path: \"/digit-ui/employee/engagement/documents/response\",\r\n      content: t(\"ES_EVENT_NEW_EVENT_RESPONSE\"),\r\n      show: location.pathname.includes(\"/documents/response\") ? true : false,\r\n    },\r\n    {\r\n      path: \"/digit-ui/employee/engagement/documents/delete-response\",\r\n      content: t(\"ES_EVENT_NEW_EVENT_RESPONSE\"),\r\n      show: location.pathname.includes(\"/documents/delete-response\") ? true : false,\r\n    },\r\n    {\r\n      path: \"/digit-ui/employee/engagement/documents/update-response\",\r\n      content: t(\"ES_EVENT_NEW_EVENT_RESPONSE\"),\r\n      show: location.pathname.includes(\"/documents/update-response\") ? true : false,\r\n    },\r\n    {\r\n      path: \"/digit-ui/employee/engagement/documents/inbox/details/:id\",\r\n      content: t(\"CE_DOCUMENT_DETAILS\"),\r\n      show: location.pathname.includes(\"/documents/inbox/details\") ? true : false,\r\n    },\r\n    {\r\n      path: \"/digit-ui/employee/engagement/documents/inbox/update\",\r\n      content: t(\"DOCUMENTS_EDIT_HEADER\"),\r\n      show: location.pathname.includes(\"/documents/inbox/update\") ? true : false,\r\n    },\r\n    {\r\n      path: \"/digit-ui/employee/engagement/messages/inbox\",\r\n      content: t(\"ES_EVENT_INBOX\"),\r\n      show: location.pathname.includes(\"/messages/inbox\") ? true : false,\r\n    },\r\n    {\r\n      path: \"/digit-ui/employee/engagement/messages/create\",\r\n      content: t(\"NEW_PUBLIC_BRDCST\"),\r\n      show: location.pathname.includes(\"/messages/create\") ? true : false,\r\n    },\r\n    {\r\n      path: \"/digit-ui/employee/engagement/messages/inbox/create\",\r\n      content: t(\"NEW_PUBLIC_BRDCST\"),\r\n      show: location.pathname.includes(\"/messages/inbox/create\") ? true : false,\r\n    },\r\n    {\r\n      path: \"/digit-ui/employee/engagement/messages/inbox/details/:id\",\r\n      content: t(\"CS_HEADER_PUBLIC_BRDCST\"),\r\n      show: location.pathname.includes(\"/messages/inbox/details\") ? true : false,\r\n    },\r\n    {\r\n      path: \"/digit-ui/employee/engagement/messages/inbox/edit/:id\",\r\n      content: t(\"EDIT_PUBLIC_BRDCST\"),\r\n      show: location.pathname.includes(\"/messages/inbox/edit\") ? true : false,\r\n    },\r\n    {\r\n      path: \"/digit-ui/employee/engagement/messages/response\",\r\n      content: t(\"ES_EVENT_NEW_EVENT_RESPONSE\"),\r\n      show: location.pathname.includes(\"/messages/response\") ? true : false,\r\n    },\r\n    {\r\n      path: \"/digit-ui/employee/engagement/messages/response?update=true\",\r\n      content: t(\"ES_EVENT_NEW_EVENT_RESPONSE\"),\r\n      show: location.pathname.includes(\"/messages/response?update=true\") ? true : false,\r\n    },\r\n    {\r\n      path: \"/digit-ui/employee/engagement/messages/response?delete=true\",\r\n      content: t(\"ES_EVENT_NEW_EVENT_RESPONSE\"),\r\n      show: location.pathname.includes(\"/messages/response?delete=true\") ? true : false,\r\n    },\r\n    {\r\n      path: \"/digit-ui/employee/engagement/surveys/inbox\",\r\n      content: t(\"ES_EVENT_INBOX\"),\r\n      show: location.pathname.includes(\"/surveys/inbox\") ? true : false,\r\n    },\r\n    {\r\n      path: \"/digit-ui/employee/engagement/surveys/inbox/create\",\r\n      content: t(\"CS_COMMON_SURVEYS\"),\r\n      show: location.pathname.includes(\"/surveys/inbox/create\") ? true : false,\r\n    },\r\n    {\r\n      path: \"/digit-ui/employee/engagement/surveys/create\",\r\n      content: t(\"CS_COMMON_SURVEYS\"),\r\n      show: location.pathname.includes(\"/surveys/create\") ? true : false,\r\n    },\r\n    {\r\n      path: \"/digit-ui/employee/engagement/survey/create-response\",\r\n      content: t(\"ES_EVENT_NEW_EVENT_RESPONSE\"),\r\n      show: location.pathname.includes(\"/engagement/survey/create-response\") ? true : false,\r\n    },\r\n  ];\r\n\r\n  return <BreadCrumb crumbs={crumbs} />;\r\n};\r\n\r\nconst EmployeeApp = ({ path, url, userType, tenants }) => {\r\n  const location = useLocation();\r\n\r\n  return (\r\n    // <div className=\"ground-container\">\r\n    <>\r\n      <EventsBreadCrumb location={location} />\r\n      <Switch>\r\n       \r\n        <Route path={`${path}/event/inbox`} exact>\r\n          <Inbox tenants={tenants} parentRoute={path} />\r\n        </Route>\r\n        <Route path={`${path}/event/response`} component={(props) => <Response {...props} />} />\r\n        <Route path={`${path}/event/inbox/new-event`}>\r\n          <NewEvent />\r\n        </Route>\r\n        <Route path={`${path}/event/new-event`}>\r\n          <NewEvent />\r\n        </Route>\r\n        <Route path={`${path}/event/edit-event/:id`}>\r\n          <EditEvent />\r\n        </Route>\r\n        <Route path={`${path}/event/inbox/event-details/:id`}>\r\n          <EmployeeEventDetails />\r\n        </Route>\r\n        <Route exact path={`${path}/documents/inbox/update`} component={(props) => <DocumentUpdate {...props} />} />\r\n        <Route exact path={`${path}/documents/inbox/new-doc`} component={() => <DocumenetCreate {...{ path }} />} />\r\n        <Route exact path={`${path}/documents/new-doc`} component={() => <DocumenetCreate {...{ path }} />} />\r\n        <Route path={`${path}/documents/inbox/details/:id`} component={(props) => <DocumentDetails {...props} />} />\r\n        <Route path={`${path}/documents/response`} component={(props) => <DocumentResponse {...props} />} />\r\n        <Route path={`${path}/documents/update-response`} component={(props) => <DocUpdateResponse {...props} />} />\r\n        <Route path={`${path}/documents/delete-response`} component={(props) => <DocDeleteResponse {...props} />} />\r\n        <Route path={`${path}/documents/inbox`} component={(props) => <DocumentNotification tenants={tenants} />} />\r\n        <Route path={`${path}/messages`} component={(props) => <Messages {...props} tenants={tenants} parentRoute={path} />} />\r\n        <Route path={`${path}/surveys`} component={(props)=><Surveys {...props} tenants={tenants} parentRoute={path} />} />\r\n        {/* documents/update-response */}\r\n        {/* <Redirect to={`${path}/docs`} /> */}\r\n      </Switch>\r\n      </>\r\n    // </div>\r\n  );\r\n};\r\n\r\nconst EngagementModule = ({ stateCode, userType, tenants }) => {\r\n  const moduleCode = \"Engagement\";\r\n  const { path, url } = useRouteMatch();\r\n  const language = Digit.StoreData.getCurrentLanguage();\r\n  const { isLoading, data: store } = Digit.Services.useStore({ stateCode, moduleCode, language });\r\n\r\n  if (isLoading) {\r\n    return <Loader />;\r\n  }\r\n  Digit.SessionStorage.set(\"ENGAGEMENT_TENANTS\", tenants);\r\n\r\n  if (userType === \"citizen\") {\r\n    return <CitizenApp path={path} url={url} userType={userType} tenants={tenants} />;\r\n  } else {\r\n    return <EmployeeApp path={path} url={url} userType={userType} tenants={tenants} />;\r\n  }\r\n};\r\n\r\nconst EngagementLinks = ({ matchPath, userType }) => {\r\n  const { t } = useTranslation();\r\n  if (userType === \"citizen\") {\r\n    return null;\r\n  } else {\r\n    return (\r\n      <div className=\"employee-app-container\">\r\n        <div className=\"ground-container\">\r\n          <div className=\"employeeCard\">\r\n            <div className=\"complaint-links-container\">\r\n              <div className=\"header\">\r\n                <span className=\"logo\">\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\">\r\n                    <path d=\"M0 0h24v24H0z\" fill=\"none\"></path>\r\n                    <path\r\n                      d=\"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 9h-2V5h2v6zm0 4h-2v-2h2v2z\"\r\n                      fill=\"white\"\r\n                    ></path>\r\n                  </svg>\r\n                </span>\r\n                <span className=\"text\">{t(\"ES_TITLE_ENGAGEMENT\")}</span>\r\n              </div>\r\n              <div className=\"body\">\r\n                <h1>engagement</h1>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst componentsToRegister = {\r\n  EngagementModule,\r\n  EngagementCard,\r\n  EngagementDocSelectULB,\r\n  EngagementULBDropdown,\r\n  EnagementDocName,\r\n  EngagementDocCategory,\r\n  EngagementDocDescription,\r\n  EngagementDocUploadDocument,\r\n  NotificationsAndWhatsNew,\r\n  EventsListOnGround,\r\n  EventDetails,\r\n  EventForm,\r\n  MessageForm,\r\n  DocumentList,\r\n  SelectEventGeolocation,\r\n  SelectToDate,\r\n  SurveyList,\r\n  FillSurvey,\r\n  CitizenSurveyForm,\r\n  ShowSurvey,\r\n  SurveyResults\r\n};\r\n\r\nexport const initEngagementComponents = () => {\r\n  Object.entries(componentsToRegister).forEach(([key, value]) => {\r\n    Digit.ComponentRegistryService.setComponent(key, value);\r\n  });\r\n};\r\n"]},"metadata":{},"sourceType":"module"}