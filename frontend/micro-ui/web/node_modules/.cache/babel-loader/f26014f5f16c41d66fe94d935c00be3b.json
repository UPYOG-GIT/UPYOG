{"ast":null,"code":"import { BackButton, Header, Card, RadioButtons, MobileNumber, TextInput, SubmitBar, KeyNote, Loader, CardSubHeader, CardLabel, CardSectionHeader, InfoBanner, Toast, Banner, CardText, StatusTable, Row, DownloadPrefixIcon, DatePicker, SearchIconSvg, CardLabelError, Dropdown, FormComposer, ActionBar } from '@egovernments/digit-ui-react-components';\nimport React, { useState, useEffect, useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useHistory, useLocation, useParams, Link, useRouteMatch, Switch, Route, Redirect } from 'react-router-dom';\nimport { useForm, Controller } from 'react-hook-form';\nimport $ from 'jquery';\nimport { useQueryClient } from 'react-query';\nimport { subFormRegistry } from '@egovernments/digit-ui-libraries';\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _objectDestructuringEmpty(obj) {\n  if (obj == null) throw new TypeError(\"Cannot destructure \" + obj);\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nvar _excluded = [\"state\"];\nvar SelectPaymentType = function SelectPaymentType(props) {\n  var _Digit$UserService$ge, _Digit$UserService$ge2, _bill$billDetails, _bill$billDetails$sor, _bill$billDetails2, _bill$billDetails2$so;\n  var optionFirst = {\n    code: \"PAY_BY_OWNER\",\n    i18nKey: \"PT_PAY_BY_OWNER\",\n    name: 'I am making the payment as the owner/ consumer of the service'\n  };\n  var optionSecound = {\n    code: \"PAY_BEHALF_OWNER\",\n    i18nKey: \"PT_PAY_BEHALF_OWNER\",\n    name: 'I am making the payment on behalf of the owner/ consumer of the service'\n  };\n  var userInfo = (_Digit$UserService$ge = Digit.UserService.getUser()) === null || _Digit$UserService$ge === void 0 ? void 0 : _Digit$UserService$ge.info;\n  var payersActiveName = userInfo === null || userInfo === void 0 ? void 0 : userInfo.name;\n  var payersActiveMobileNumber = userInfo === null || userInfo === void 0 ? void 0 : userInfo.mobileNumber;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var history = useHistory();\n  var _useLocation = useLocation(),\n    state = _useLocation.state,\n    location = _objectWithoutPropertiesLoose(_useLocation, _excluded);\n  var _useParams = useParams(),\n    consumerCode = _useParams.consumerCode,\n    businessService = _useParams.businessService,\n    paymentAmt = _useParams.paymentAmt;\n  var _Digit$Hooks$useQuery = Digit.Hooks.useQueryParams(),\n    _tenantId = _Digit$Hooks$useQuery.tenantId;\n  var _useState = useState(state === null || state === void 0 ? void 0 : state.bill),\n    bill = _useState[0],\n    setBill = _useState[1];\n  var tenantId = (state === null || state === void 0 ? void 0 : state.tenantId) || _tenantId || ((_Digit$UserService$ge2 = Digit.UserService.getUser().info) === null || _Digit$UserService$ge2 === void 0 ? void 0 : _Digit$UserService$ge2.tenantId);\n  var _ref = state !== null && state !== void 0 && state.bill ? {\n      isLoading: false\n    } : Digit.Hooks.useFetchPayment({\n      tenantId: tenantId,\n      businessService: businessService,\n      consumerCode: consumerCode\n    }),\n    data = _ref.data,\n    isLoading = _ref.isLoading;\n  var billDetails = (bill === null || bill === void 0 ? void 0 : (_bill$billDetails = bill.billDetails) === null || _bill$billDetails === void 0 ? void 0 : (_bill$billDetails$sor = _bill$billDetails.sort(function (a, b) {\n    return b.fromPeriod - a.fromPeriod;\n  })) === null || _bill$billDetails$sor === void 0 ? void 0 : _bill$billDetails$sor[0]) || [];\n  var Arrears = (bill === null || bill === void 0 ? void 0 : (_bill$billDetails2 = bill.billDetails) === null || _bill$billDetails2 === void 0 ? void 0 : (_bill$billDetails2$so = _bill$billDetails2.sort(function (a, b) {\n    return b.fromPeriod - a.fromPeriod;\n  })) === null || _bill$billDetails2$so === void 0 ? void 0 : _bill$billDetails2$so.reduce(function (total, current, index) {\n    return index === 0 ? total : total + current.amount;\n  }, 0)) || 0;\n  var _useState2 = useState(optionFirst),\n    paymentType = _useState2[0],\n    setPaymentType = _useState2[1];\n  var _useState3 = useState(''),\n    payersName = _useState3[0],\n    setPayersName = _useState3[1];\n  var _useState4 = useState(''),\n    payersMobileNumber = _useState4[0],\n    setPayersMobileNumber = _useState4[1];\n  var _useForm = useForm(),\n    handleSubmit = _useForm.handleSubmit;\n  var _useState5 = useState(false),\n    canSubmit = _useState5[0],\n    setCanSubmit = _useState5[1];\n  var _useState6 = useState(null),\n    mobileNumberError = _useState6[0],\n    setmobileNumberError = _useState6[1];\n  useEffect(function () {\n    if (!bill && data) {\n      var requiredBill = data.Bill.filter(function (e) {\n        return e.consumerCode == consumerCode;\n      })[0];\n      setBill(requiredBill);\n    }\n  }, [isLoading]);\n  var onChangePayersMobileNumber = function onChangePayersMobileNumber(e) {\n    setmobileNumberError(null);\n    var validation = \"^\\\\d{10}$\";\n    if (!e.match(validation)) {\n      setmobileNumberError(\"CORE_COMMON_PHONENO_INVALIDMSG\");\n      setCanSubmit(false);\n    }\n    setPayersMobileNumber(e);\n    e.length == 10 && payersName != '' ? setCanSubmit(true) : setCanSubmit(false);\n  };\n  var onChangePayersName = function onChangePayersName(value) {\n    setPayersName(value);\n    value.length !== 0 && mobileNumberError != 'CORE_COMMON_PHONENO_INVALIDMSG' && payersName != '' ? setCanSubmit(true) : setCanSubmit(false);\n  };\n  var onSubmit = function onSubmit() {\n    history.push(\"/digit-ui/citizen/payment/collect/\" + businessService + \"/\" + consumerCode, {\n      paymentAmount: paymentAmt,\n      tenantId: billDetails.tenantId,\n      name: (paymentType === null || paymentType === void 0 ? void 0 : paymentType.code) !== (optionSecound === null || optionSecound === void 0 ? void 0 : optionSecound.code) ? bill === null || bill === void 0 ? void 0 : bill.payerName : userInfo ? payersActiveName : payersName,\n      mobileNumber: (paymentType === null || paymentType === void 0 ? void 0 : paymentType.code) !== (optionSecound === null || optionSecound === void 0 ? void 0 : optionSecound.code) ? bill === null || bill === void 0 ? void 0 : bill.mobileNumber : userInfo ? payersActiveMobileNumber : payersMobileNumber\n    });\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(BackButton, null, t(\"CS_COMMON_BACK\")), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit(onSubmit)\n  }, /*#__PURE__*/React.createElement(Header, null, t(\"PT_PAYERS_DETAILS_HEADER\")), /*#__PURE__*/React.createElement(Card, null, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"card-label-error\"\n  }, t(mobileNumberError)), /*#__PURE__*/React.createElement(RadioButtons, {\n    selectedOption: paymentType,\n    onSelect: setPaymentType,\n    options: [optionFirst, optionSecound],\n    optionsKey: \"name\",\n    inputStyle: {\n      marginTop: \"11px\"\n    },\n    innerStyles: {\n      display: \"flex\"\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      position: \"relative\"\n    }\n  }, (paymentType === null || paymentType === void 0 ? void 0 : paymentType.code) !== (optionFirst === null || optionFirst === void 0 ? void 0 : optionFirst.code) && !userInfo ? /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      position: \"relative\"\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(\"span\", null, t(\"PT_PAYERS_MOBILE_NO\")), /*#__PURE__*/React.createElement(MobileNumber, {\n    onChange: onChangePayersMobileNumber,\n    value: payersMobileNumber\n  })), /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(\"span\", null, t(\"PT_PAYERS_NAME\")), /*#__PURE__*/React.createElement(TextInput, {\n    onChange: function onChange(e) {\n      return onChangePayersName(e.target.value);\n    },\n    value: payersName\n  }))) : null), /*#__PURE__*/React.createElement(SubmitBar, {\n    label: t(\"CS_COMMON_NEXT\"),\n    disabled: (paymentType === null || paymentType === void 0 ? void 0 : paymentType.code) !== (optionSecound === null || optionSecound === void 0 ? void 0 : optionSecound.code) ? false : userInfo ? false : !canSubmit,\n    submit: true\n  }))));\n};\nvar MyBill = function MyBill(_ref) {\n  var _bill$totalAmount;\n  var bill = _ref.bill,\n    currentPath = _ref.currentPath,\n    businessService = _ref.businessService,\n    getKeyNotesConfig = _ref.getKeyNotesConfig;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var history = useHistory();\n  var onSubmit = function onSubmit() {\n    history.push(currentPath + \"/\" + bill.consumerCode, {\n      tenantId: bill === null || bill === void 0 ? void 0 : bill.tenantId\n    });\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, typeof getKeyNotesConfig === \"function\" && /*#__PURE__*/React.createElement(Card, null, getKeyNotesConfig(businessService, t)[\"my-bill\"].map(function (obj, index) {\n    var value = obj.keyPath.reduce(function (acc, key) {\n      if (typeof key === \"function\") acc = key(acc);else acc = acc[key];\n      return acc;\n    }, bill);\n    return /*#__PURE__*/React.createElement(KeyNote, {\n      key: index + obj.keyValue,\n      keyValue: t(obj.keyValue),\n      note: value || obj.fallback,\n      noteStyle: obj.noteStyle || {}\n    });\n  }), /*#__PURE__*/React.createElement(SubmitBar, {\n    disabled: !((_bill$totalAmount = bill.totalAmount) !== null && _bill$totalAmount !== void 0 && _bill$totalAmount.toFixed(2)),\n    onSubmit: onSubmit,\n    label: t(\"CS_MY_APPLICATION_VIEW_DETAILS\")\n  })));\n};\nvar BillList = function BillList(_ref) {\n  var billsList = _ref.billsList,\n    currentPath = _ref.currentPath,\n    businessService = _ref.businessService;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var history = useHistory();\n  var consumerCodes = billsList.map(function (bill) {\n    return bill.consumerCode;\n  });\n  var searchResult = Digit.Hooks.useApplicationsForBusinessServiceSearch({\n    filters: {\n      consumerCodes: consumerCodes.join()\n    },\n    businessService: businessService\n  });\n  var keyForConsumerCode = searchResult.key;\n  var _useState = useState([]),\n    applicationList = _useState[0],\n    setApplicationList = _useState[1];\n  var _useState2 = useState(function () {\n      var _Digit$ComponentRegis;\n      return (_Digit$ComponentRegis = Digit.ComponentRegistryService) === null || _Digit$ComponentRegis === void 0 ? void 0 : _Digit$ComponentRegis.getComponent(\"getBillDetailsConfigWithBusinessService\");\n    }),\n    getKeyNotesConfig = _useState2[0];\n  var billableApplicationsObj = useMemo(function () {\n    return {};\n  }, []);\n  var billsListObj = useMemo(function () {\n    return {};\n  }, []);\n  useEffect(function () {\n    if (searchResult.data) searchResult.refetch();\n  }, []);\n  useEffect(function () {\n    if (searchResult.data) {\n      var billableApps = searchResult.data.filter(function (property) {\n        return consumerCodes.includes(property[keyForConsumerCode]);\n      });\n      var billableIDs = billableApps.map(function (e) {\n        return e[keyForConsumerCode];\n      });\n      billableApps.forEach(function (app) {\n        billableApplicationsObj[app[keyForConsumerCode]] = app;\n      });\n      billsList.forEach(function (bill) {\n        billsListObj[bill.consumerCode] = bill;\n      });\n      var newBillsList = billableIDs.map(function (e) {\n        return _extends({}, billsListObj[e], billableApplicationsObj[e]);\n      });\n      setApplicationList(newBillsList);\n    }\n  }, [searchResult.data, getKeyNotesConfig]);\n  if (searchResult.isLoading) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"static\"\n  }, /*#__PURE__*/React.createElement(Header, null, t(\"CS_TITLE_MY_BILLS\") + (\" (\" + applicationList.length + \")\")), (applicationList === null || applicationList === void 0 ? void 0 : applicationList.length) > 0 && getKeyNotesConfig && applicationList.map(function (bill, index) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index\n    }, /*#__PURE__*/React.createElement(MyBill, {\n      bill: bill,\n      currentPath: currentPath,\n      businessService: businessService,\n      getKeyNotesConfig: getKeyNotesConfig\n    }));\n  }), !(applicationList !== null && applicationList !== void 0 && applicationList.length) > 0 && /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      paddingLeft: \"16px\"\n    }\n  }, t(\"CS_BILLS_TEXT_NO_BILLS_FOUND\")), businessService === \"PT\" && /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      paddingLeft: \"16px\",\n      paddingTop: \"16px\"\n    }\n  }, t(\"PT_TEXT_NOT_ABLE_TO_FIND_THE_PROPERTY\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"link\"\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/digit-ui/citizen/pt/property/citizen-search\"\n  }, t(\"PT_COMMON_CLICK_HERE\"))))));\n};\nvar styles = {\n  root: {\n    width: \"100%\",\n    marginTop: \"2px\",\n    overflowX: \"auto\",\n    boxShadow: \"none\"\n  },\n  table: {\n    minWidth: 700,\n    backgroundColor: \"rgba(250, 250, 250, var(--bg-opacity))\"\n  },\n  cell: {\n    maxWidth: \"7em\",\n    minWidth: \"1em\",\n    border: \"1px solid #e8e7e6\",\n    padding: \"4px 5px\",\n    fontSize: \"0.8em\",\n    textAlign: \"left\",\n    lineHeight: \"1.5em\"\n  },\n  cellHeader: {\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\"\n  },\n  cellLeft: {},\n  cellRight: {}\n};\nvar ArrearTable = function ArrearTable(_ref) {\n  var _ref$headers = _ref.headers,\n    headers = _ref$headers === void 0 ? [] : _ref$headers,\n    _ref$values = _ref.values,\n    values = _ref$values === void 0 ? [] : _ref$values,\n    _ref$arrears = _ref.arrears,\n    arrears = _ref$arrears === void 0 ? 0 : _ref$arrears;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    style: styles.root\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table-fixed-column-common-pay\",\n    style: styles.table\n  }, /*#__PURE__*/React.createElement(\"thead\", null, /*#__PURE__*/React.createElement(\"tr\", null, /*#__PURE__*/React.createElement(\"th\", {\n    style: _extends({}, styles.cell, styles.cellLeft, styles.cellHeader)\n  }, t(\"CS_BILL_PERIOD\")), headers.map(function (header, ind) {\n    var styleRight = headers.length == ind + 1 ? styles.cellRight : {};\n    return /*#__PURE__*/React.createElement(\"th\", {\n      style: _extends({}, styles.cell, styleRight, styles.cellHeader),\n      key: ind\n    }, t(header));\n  }))), /*#__PURE__*/React.createElement(\"tbody\", null, Object.values(values).map(function (row, ind) {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: ind\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      style: _extends({}, styles.cell, styles.cellLeft),\n      component: \"th\",\n      scope: \"row\"\n    }, Object.keys(values)[ind]), headers.map(function (header, i) {\n      var styleRight = headers.length == i + 1 ? styles.cellRight : {};\n      return /*#__PURE__*/React.createElement(\"td\", {\n        style: _extends({}, styles.cell, {\n          textAlign: \"left\"\n        }, styleRight, {\n          whiteSpace: \"pre\"\n        }),\n        key: i,\n        numeric: true\n      }, i > 1 && \"₹\", row[header] && row[header][\"value\"] || \"0\");\n    }));\n  }), /*#__PURE__*/React.createElement(\"tr\", null, /*#__PURE__*/React.createElement(\"td\", {\n    style: _extends({}, styles.cell, styles.cellLeft)\n  }), headers.map(function (header, ind) {\n    if (ind == headers.length - 1) {\n      return /*#__PURE__*/React.createElement(\"td\", {\n        style: _extends({}, styles.cell, styles.cellRight, {\n          textAlign: \"left\",\n          fontWeight: \"700\",\n          whiteSpace: \"pre\"\n        }),\n        key: ind,\n        numeric: true\n      }, arrears);\n    } else if (ind == headers.length - 2) {\n      return /*#__PURE__*/React.createElement(\"td\", {\n        style: _extends({}, styles.cell, {\n          textAlign: \"left\"\n        }),\n        key: ind,\n        numeric: true\n      }, t(\"COMMON_ARREARS_TOTAL\"));\n    } else {\n      return /*#__PURE__*/React.createElement(\"td\", {\n        style: styles.cell,\n        key: ind,\n        numeric: true\n      });\n    }\n  }))))));\n};\nvar styles$1 = {\n  buttonStyle: {\n    display: \"flex\",\n    justifyContent: \"flex-end\",\n    color: \"#f47738\"\n  },\n  headerStyle: {\n    marginTop: \"10px\",\n    fontSize: \"16px\",\n    fontWeight: \"700\",\n    lineHeight: \"24px\",\n    color: \" rgba(11, 12, 12, var(--text-opacity))\"\n  }\n};\nvar ArrearSummary = function ArrearSummary(_ref) {\n  var _bill$billDetails, _sortedBillDetails, _arrears$toFixed;\n  var _ref$bill = _ref.bill,\n    bill = _ref$bill === void 0 ? {} : _ref$bill;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var formatTaxHeaders = function formatTaxHeaders(billDetail) {\n    var _billDetail2, _billDetail3, _billDetail4;\n    if (billDetail === void 0) {\n      billDetail = {};\n    }\n    var formattedFees = {};\n    var _billDetail = billDetail,\n      _billDetail$billAccou = _billDetail.billAccountDetails,\n      billAccountDetails = _billDetail$billAccou === void 0 ? [] : _billDetail$billAccou;\n    billAccountDetails.map(function (taxHead) {\n      formattedFees[taxHead.taxHeadCode] = {\n        value: taxHead.amount,\n        order: taxHead.order\n      };\n    });\n    formattedFees[\"CS_BILL_NO\"] = {\n      value: ((_billDetail2 = billDetail) === null || _billDetail2 === void 0 ? void 0 : _billDetail2.billNumber) || \"NA\",\n      order: -2\n    };\n    formattedFees[\"CS_BILL_DUEDATE\"] = {\n      value: ((_billDetail3 = billDetail) === null || _billDetail3 === void 0 ? void 0 : _billDetail3.expiryDate) && new Date((_billDetail4 = billDetail) === null || _billDetail4 === void 0 ? void 0 : _billDetail4.expiryDate).toLocaleDateString() || \"NA\",\n      order: -1\n    };\n    formattedFees[\"TL_COMMON_TOTAL_AMT\"] = {\n      value: billDetail.amount,\n      order: 10\n    };\n    return formattedFees;\n  };\n  var getFinancialYears = function getFinancialYears(from, to) {\n    var fromDate = new Date(from);\n    var toDate = new Date(to);\n    if (toDate.getYear() - fromDate.getYear() != 0) {\n      return \"FY\" + (fromDate.getYear() + 1900) + \"-\" + (toDate.getYear() - 100);\n    }\n    return fromDate.toLocaleDateString() + \"-\" + toDate.toLocaleDateString();\n  };\n  var fees = {};\n  var sortedBillDetails = (bill === null || bill === void 0 ? void 0 : (_bill$billDetails = bill.billDetails) === null || _bill$billDetails === void 0 ? void 0 : _bill$billDetails.sort(function (a, b) {\n    return b.fromPeriod - a.fromPeriod;\n  })) || [];\n  sortedBillDetails = [].concat(sortedBillDetails);\n  var arrears = ((_sortedBillDetails = sortedBillDetails) === null || _sortedBillDetails === void 0 ? void 0 : _sortedBillDetails.reduce(function (total, current, index) {\n    return index === 0 ? total : total + current.amount;\n  }, 0)) || 0;\n  var arrearsAmount = \"\\u20B9 \" + ((arrears === null || arrears === void 0 ? void 0 : (_arrears$toFixed = arrears.toFixed) === null || _arrears$toFixed === void 0 ? void 0 : _arrears$toFixed.call(arrears, 0)) || Number(0).toFixed(0));\n  sortedBillDetails.shift();\n  sortedBillDetails.map(function (bill) {\n    var fee = formatTaxHeaders(bill);\n    fees[getFinancialYears(bill.fromPeriod, bill.toPeriod)] = fee;\n  });\n  var head = {};\n  fees ? Object.keys(fees).map(function (key, ind) {\n    Object.keys(fees[key]).map(function (key1) {\n      head[key1] = fees[key] && fees[key][key1] && fees[key][key1].order || 0;\n    });\n  }) : \"NA\";\n  var keys = [];\n  keys = Object.keys(head);\n  keys.sort(function (x, y) {\n    return head[x] - head[y];\n  });\n  var _useState = useState(false),\n    showArrear = _useState[0],\n    setShowArrear = _useState[1];\n  if (arrears == 0 || arrears < 0) {\n    return /*#__PURE__*/React.createElement(\"span\", null);\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    style: styles$1.headerStyle\n  }, t(\"CS_ARREARS_DETAILS\")), showArrear && /*#__PURE__*/React.createElement(ArrearTable, {\n    headers: [].concat(keys),\n    values: fees,\n    arrears: arrearsAmount\n  }), !showArrear && /*#__PURE__*/React.createElement(\"div\", {\n    style: styles$1.buttonStyle\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: function onClick() {\n      setShowArrear(true);\n    }\n  }, t(\"CS_SHOW_CARD\"))), showArrear && /*#__PURE__*/React.createElement(\"div\", {\n    style: styles$1.buttonStyle\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: function onClick() {\n      setShowArrear(false);\n    }\n  }, t(\"CS_HIDE_CARD\"))));\n};\nvar BillSumary = function BillSumary(_ref) {\n  var _arrears$toFixed;\n  var billAccountDetails = _ref.billAccountDetails,\n    total = _ref.total,\n    arrears = _ref.arrears;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var _Digit$Hooks$useQuery = Digit.Hooks.useQueryParams(),\n    ModuleWorkflow = _Digit$Hooks$useQuery.workflow;\n  useEffect(function () {\n    ModuleWorkflow === \"mcollect\" && billAccountDetails && billAccountDetails.map(function (ob) {\n      if (ob.taxHeadCode.includes(\"CGST\")) ob.order = 3;else if (ob.taxHeadCode.includes(\"SGST\")) ob.order = 4;\n    });\n  }, [billAccountDetails]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bill-summary\"\n  }, billAccountDetails.sort(function (a, b) {\n    return a.order - b.order;\n  }).map(function (amountDetails, index) {\n    var _amountDetails$amount;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      className: \"bill-account-details\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"label\"\n    }, t(amountDetails.taxHeadCode)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"value\"\n    }, \"\\u20B9 \", (_amountDetails$amount = amountDetails.amount) === null || _amountDetails$amount === void 0 ? void 0 : _amountDetails$amount.toFixed(2)));\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bill-account-details\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"label\"\n  }, t(\"COMMON_ARREARS\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"value\"\n  }, \"\\u20B9 \", (arrears === null || arrears === void 0 ? void 0 : (_arrears$toFixed = arrears.toFixed) === null || _arrears$toFixed === void 0 ? void 0 : _arrears$toFixed.call(arrears, 2)) || Number(0).toFixed(2))), /*#__PURE__*/React.createElement(\"hr\", {\n    className: \"underline\"\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"amount-details\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"label\"\n  }, t(\"CS_PAYMENT_TOTAL_AMOUNT\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"value\"\n  }, \"\\u20B9 \", Number(total)))));\n};\nvar stringReplaceAll = function stringReplaceAll(str, searcher, replaceWith) {\n  if (str === void 0) {\n    str = \"\";\n  }\n  if (searcher === void 0) {\n    searcher = \"\";\n  }\n  if (replaceWith === void 0) {\n    replaceWith = \"\";\n  }\n  if (searcher == \"\") return str;\n  while (str.includes(searcher)) {\n    str = str.replace(searcher, replaceWith);\n  }\n  return str;\n};\nvar _excluded$1 = [\"state\"];\nvar BillDetails = function BillDetails(_ref) {\n  var _Digit$UserService$ge, _bill$billDetails, _bill$billDetails$sor, _bill$billDetails2, _bill$billDetails2$so;\n  var paymentRules = _ref.paymentRules,\n    businessService = _ref.businessService;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var history = useHistory();\n  var _useLocation = useLocation(),\n    state = _useLocation.state,\n    location = _objectWithoutPropertiesLoose(_useLocation, _excluded$1);\n  var _useParams = useParams(),\n    consumerCode = _useParams.consumerCode;\n  var _Digit$Hooks$useQuery = Digit.Hooks.useQueryParams(),\n    wrkflow = _Digit$Hooks$useQuery.workflow,\n    _tenantId = _Digit$Hooks$useQuery.tenantId;\n  var _useState = useState(state === null || state === void 0 ? void 0 : state.bill),\n    bill = _useState[0],\n    setBill = _useState[1];\n  var tenantId = (state === null || state === void 0 ? void 0 : state.tenantId) || _tenantId || ((_Digit$UserService$ge = Digit.UserService.getUser().info) === null || _Digit$UserService$ge === void 0 ? void 0 : _Digit$UserService$ge.tenantId);\n  var _ref2 = state !== null && state !== void 0 && state.bill ? {\n      isLoading: false\n    } : Digit.Hooks.useFetchPayment({\n      tenantId: tenantId,\n      businessService: businessService,\n      consumerCode: wrkflow === \"WNS\" ? stringReplaceAll(consumerCode, \"+\", \"/\") : consumerCode\n    }),\n    data = _ref2.data,\n    isLoading = _ref2.isLoading;\n  var minAmountPayable = paymentRules.minAmountPayable,\n    isAdvanceAllowed = paymentRules.isAdvanceAllowed;\n  minAmountPayable = wrkflow === \"WNS\" ? 100 : minAmountPayable;\n  var billDetails = (bill === null || bill === void 0 ? void 0 : (_bill$billDetails = bill.billDetails) === null || _bill$billDetails === void 0 ? void 0 : (_bill$billDetails$sor = _bill$billDetails.sort(function (a, b) {\n    return b.fromPeriod - a.fromPeriod;\n  })) === null || _bill$billDetails$sor === void 0 ? void 0 : _bill$billDetails$sor[0]) || [];\n  var Arrears = (bill === null || bill === void 0 ? void 0 : (_bill$billDetails2 = bill.billDetails) === null || _bill$billDetails2 === void 0 ? void 0 : (_bill$billDetails2$so = _bill$billDetails2.sort(function (a, b) {\n    return b.fromPeriod - a.fromPeriod;\n  })) === null || _bill$billDetails2$so === void 0 ? void 0 : _bill$billDetails2$so.reduce(function (total, current, index) {\n    return index === 0 ? total : total + current.amount;\n  }, 0)) || 0;\n  var _Digit$Hooks$useAppli = Digit.Hooks.useApplicationsForBusinessServiceSearch({\n      businessService: businessService\n    }, {\n      enabled: false\n    }),\n    label = _Digit$Hooks$useAppli.label;\n  var getBillingPeriod = function getBillingPeriod() {\n    var fromPeriod = billDetails.fromPeriod,\n      toPeriod = billDetails.toPeriod;\n    if (fromPeriod && toPeriod) {\n      var from, to;\n      if (wrkflow === \"mcollect\") {\n        from = new Date(fromPeriod).getDate().toString() + \" \" + Digit.Utils.date.monthNames[new Date(fromPeriod).getMonth() + 1].toString() + \" \" + new Date(fromPeriod).getFullYear().toString();\n        to = new Date(toPeriod).getDate() + \" \" + Digit.Utils.date.monthNames[new Date(toPeriod).getMonth() + 1] + \" \" + new Date(toPeriod).getFullYear();\n        return from + \" - \" + to;\n      }\n      from = new Date(billDetails.fromPeriod).getFullYear().toString();\n      to = new Date(billDetails.toPeriod).getFullYear().toString();\n      if (from === to) {\n        if (window.location.href.includes(\"BPA\")) {\n          var _data$Bill, _data$Bill$;\n          if (new Date(data === null || data === void 0 ? void 0 : (_data$Bill = data.Bill) === null || _data$Bill === void 0 ? void 0 : (_data$Bill$ = _data$Bill[0]) === null || _data$Bill$ === void 0 ? void 0 : _data$Bill$.billDate).getMonth() + 1 < 4) {\n            var newfrom = (parseInt(from) - 1).toString();\n            return \"FY \" + newfrom + \"-\" + to;\n          } else {\n            var newTo = (parseInt(to) + 1).toString();\n            return \"FY \" + from + \"-\" + newTo;\n          }\n        } else return \"FY \" + from;\n      }\n      return \"FY \" + from + \"-\" + to;\n    } else return \"N/A\";\n  };\n  var getBillBreakDown = function getBillBreakDown() {\n    return (billDetails === null || billDetails === void 0 ? void 0 : billDetails.billAccountDetails) || [];\n  };\n  var getTotal = function getTotal() {\n    return (bill === null || bill === void 0 ? void 0 : bill.totalAmount) || 0;\n  };\n  var _useState2 = useState(t(\"CS_PAYMENT_FULL_AMOUNT\")),\n    paymentType = _useState2[0],\n    setPaymentType = _useState2[1];\n  var _useState3 = useState(getTotal()),\n    amount = _useState3[0],\n    setAmount = _useState3[1];\n  var _useState4 = useState(true),\n    paymentAllowed = _useState4[0],\n    setPaymentAllowed = _useState4[1];\n  var _useState5 = useState(\"\"),\n    formError = _useState5[0],\n    setError = _useState5[1];\n  useEffect(function () {\n    window.scroll({\n      top: 0,\n      behavior: \"smooth\"\n    });\n  }, []);\n  useEffect(function () {\n    if (paymentType == t(\"CS_PAYMENT_FULL_AMOUNT\")) setAmount(getTotal());\n  }, [paymentType, bill]);\n  useEffect(function () {\n    var changeAdvanceAllowed = isAdvanceAllowed;\n    if (isAdvanceAllowed && wrkflow === \"WNS\") changeAdvanceAllowed = false;\n    var allowPayment = minAmountPayable && amount >= minAmountPayable && !changeAdvanceAllowed && amount <= getTotal() && !formError;\n    if (paymentType != t(\"CS_PAYMENT_FULL_AMOUNT\")) setPaymentAllowed(allowPayment);else setPaymentAllowed(true);\n  }, [paymentType, amount]);\n  useEffect(function () {\n    if (!bill && data) {\n      var requiredBill = data.Bill.filter(function (e) {\n        return e.consumerCode == (wrkflow === \"WNS\" ? stringReplaceAll(consumerCode, \"+\", \"/\") : consumerCode);\n      })[0];\n      setBill(requiredBill);\n    }\n  }, [isLoading]);\n  var onSubmit = function onSubmit() {\n    var paymentAmount = paymentType === t(\"CS_PAYMENT_FULL_AMOUNT\") ? getTotal() : amount;\n    if (window.location.href.includes(\"mcollect\")) {\n      history.push(\"/digit-ui/citizen/payment/collect/\" + businessService + \"/\" + consumerCode + \"?workflow=mcollect\", {\n        paymentAmount: paymentAmount,\n        tenantId: billDetails.tenantId\n      });\n    } else if (wrkflow === \"WNS\") {\n      history.push(\"/digit-ui/citizen/payment/collect/\" + businessService + \"/\" + consumerCode + \"?workflow=WNS\", {\n        paymentAmount: paymentAmount,\n        tenantId: billDetails.tenantId\n      });\n    } else if (businessService === \"PT\") {\n      history.push(\"/digit-ui/citizen/payment/billDetails/\" + businessService + \"/\" + consumerCode + \"/\" + paymentAmount, {\n        paymentAmount: paymentAmount,\n        tenantId: billDetails.tenantId,\n        name: bill.payerName,\n        mobileNumber: bill.mobileNumber\n      });\n    } else {\n      history.push(\"/digit-ui/citizen/payment/collect/\" + businessService + \"/\" + consumerCode, {\n        paymentAmount: paymentAmount,\n        tenantId: billDetails.tenantId\n      });\n    }\n  };\n  var onChangeAmount = function onChangeAmount(value) {\n    setError(\"\");\n    if (isNaN(value) || value.includes(\".\")) {\n      setError(\"AMOUNT_INVALID\");\n    } else if (!isAdvanceAllowed && value > getTotal()) {\n      setError(\"CS_ADVANCED_PAYMENT_NOT_ALLOWED\");\n    } else if (value < minAmountPayable) {\n      setError(\"CS_CANT_PAY_BELOW_MIN_AMOUNT\");\n    }\n    setAmount(value);\n  };\n  if (isLoading) return /*#__PURE__*/React.createElement(Loader, null);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, null, t(\"CS_PAYMENT_BILL_DETAILS\")), /*#__PURE__*/React.createElement(Card, null, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(KeyNote, {\n    keyValue: t(businessService == \"PT.MUTATION\" ? \"PDF_STATIC_LABEL_MUATATION_NUMBER_LABEL\" : label),\n    note: wrkflow === \"WNS\" ? stringReplaceAll(consumerCode, \"+\", \"/\") : consumerCode\n  }), businessService !== \"PT.MUTATION\" && /*#__PURE__*/React.createElement(KeyNote, {\n    keyValue: t(\"CS_PAYMENT_BILLING_PERIOD\"),\n    note: getBillingPeriod()\n  }), (businessService === null || businessService === void 0 ? void 0 : businessService.includes(\"PT\")) && (billDetails === null || billDetails === void 0 ? void 0 : billDetails.currentBillNo) && /*#__PURE__*/React.createElement(KeyNote, {\n    keyValue: t(\"CS_BILL_NO\"),\n    note: billDetails === null || billDetails === void 0 ? void 0 : billDetails.currentBillNo\n  }), (businessService === null || businessService === void 0 ? void 0 : businessService.includes(\"PT\")) && (billDetails === null || billDetails === void 0 ? void 0 : billDetails.currentExpiryDate) && /*#__PURE__*/React.createElement(KeyNote, {\n    keyValue: t(\"CS_BILL_DUEDATE\"),\n    note: new Date(billDetails === null || billDetails === void 0 ? void 0 : billDetails.currentExpiryDate).toLocaleDateString()\n  }), /*#__PURE__*/React.createElement(BillSumary, {\n    billAccountDetails: getBillBreakDown(),\n    total: getTotal(),\n    businessService: businessService,\n    arrears: Arrears\n  }), /*#__PURE__*/React.createElement(ArrearSummary, {\n    bill: bill\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bill-payment-amount\"\n  }, /*#__PURE__*/React.createElement(\"hr\", {\n    className: \"underline\"\n  }), /*#__PURE__*/React.createElement(CardSubHeader, null, t(\"CS_COMMON_PAYMENT_AMOUNT\")), /*#__PURE__*/React.createElement(RadioButtons, {\n    selectedOption: paymentType,\n    onSelect: setPaymentType,\n    options: paymentRules.partPaymentAllowed ? [t(\"CS_PAYMENT_FULL_AMOUNT\"), t(\"CS_PAYMENT_CUSTOM_AMOUNT\")] : [t(\"CS_PAYMENT_FULL_AMOUNT\")]\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      position: \"relative\"\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"payment-amount-front\",\n    style: {\n      border: \"1px solid \" + (paymentType === t(\"CS_PAYMENT_FULL_AMOUNT\") ? \"#9a9a9a\" : \"black\")\n    }\n  }, \"\\u20B9\"), paymentType !== t(\"CS_PAYMENT_FULL_AMOUNT\") ? /*#__PURE__*/React.createElement(TextInput, {\n    className: \"text-indent-xl\",\n    onChange: function onChange(e) {\n      return onChangeAmount(e.target.value);\n    },\n    value: amount,\n    disable: getTotal() === 0\n  }) : /*#__PURE__*/React.createElement(TextInput, {\n    className: \"text-indent-xl\",\n    value: getTotal(),\n    onChange: function onChange() {},\n    disable: true\n  }), formError === \"CS_CANT_PAY_BELOW_MIN_AMOUNT\" ? /*#__PURE__*/React.createElement(\"span\", {\n    className: \"card-label-error\"\n  }, t(formError), \": \", \"₹\" + minAmountPayable) : /*#__PURE__*/React.createElement(\"span\", {\n    className: \"card-label-error\"\n  }, t(formError))), /*#__PURE__*/React.createElement(SubmitBar, {\n    disabled: !paymentAllowed || getTotal() == 0,\n    onSubmit: onSubmit,\n    label: t(\"CS_COMMON_PROCEED_TO_PAY\")\n  }))));\n};\nvar _excluded$2 = [\"url\"];\nvar BillRoutes = function BillRoutes(_ref) {\n  var billsList = _ref.billsList,\n    paymentRules = _ref.paymentRules,\n    businessService = _ref.businessService;\n  var _useRouteMatch = useRouteMatch(),\n    currentPath = _useRouteMatch.url,\n    match = _objectWithoutPropertiesLoose(_useRouteMatch, _excluded$2);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(BackButton, null), /*#__PURE__*/React.createElement(Switch, null, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"\" + currentPath,\n    component: function component() {\n      return /*#__PURE__*/React.createElement(BillList, {\n        billsList: billsList,\n        currentPath: currentPath,\n        paymentRules: paymentRules,\n        businessService: businessService\n      });\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: currentPath + \"/:consumerCode\",\n    component: function component() {\n      return /*#__PURE__*/React.createElement(BillDetails, {\n        paymentRules: paymentRules,\n        businessService: businessService\n      });\n    }\n  })));\n};\nvar MyBills = function MyBills(_ref) {\n  var _Digit$UserService$ge, _location$state, _location$state2;\n  var stateCode = _ref.stateCode;\n  var _useParams = useParams(),\n    businessService = _useParams.businessService;\n  var _Digit$Hooks$useQuery = Digit.Hooks.useQueryParams(),\n    _tenantId = _Digit$Hooks$useQuery.tenantId;\n  var _Digit$Services$useSt = Digit.Services.useStore({\n    stateCode: stateCode,\n    moduleCode: businessService,\n    language: Digit.StoreData.getCurrentLanguage()\n  });\n  var history = useHistory();\n  var _useRouteMatch = useRouteMatch(),\n    url = _useRouteMatch.url;\n  var location = useLocation();\n  var _ref2 = ((_Digit$UserService$ge = Digit.UserService.getUser()) === null || _Digit$UserService$ge === void 0 ? void 0 : _Digit$UserService$ge.info) || (location === null || location === void 0 ? void 0 : location.state) || {\n      tenantId: _tenantId\n    } || {},\n    tenantId = _ref2.tenantId;\n  if (!tenantId && !(location !== null && location !== void 0 && (_location$state = location.state) !== null && _location$state !== void 0 && _location$state.fromSearchResults)) {\n    history.replace(\"/digit-ui/citizen/login\", {\n      from: url\n    });\n  }\n  var _Digit$Hooks$useFetch = Digit.Hooks.useFetchCitizenBillsForBuissnessService({\n      businessService: businessService\n    }, {\n      refetchOnMount: true,\n      enabled: !(location !== null && location !== void 0 && (_location$state2 = location.state) !== null && _location$state2 !== void 0 && _location$state2.fromSearchResults)\n    }),\n    data = _Digit$Hooks$useFetch.data;\n  var _Digit$Hooks$useGetPa = Digit.Hooks.useGetPaymentRulesForBusinessServices(tenantId),\n    mdmsLoading = _Digit$Hooks$useGetPa.isLoading,\n    mdmsBillingData = _Digit$Hooks$useGetPa.data;\n  var billsList = (data === null || data === void 0 ? void 0 : data.Bill) || [];\n  var getPaymentRestrictionDetails = function getPaymentRestrictionDetails() {\n    var _mdmsBillingData$Mdms, _mdmsBillingData$Mdms2, _payRestrictiondetail;\n    var payRestrictiondetails = mdmsBillingData === null || mdmsBillingData === void 0 ? void 0 : (_mdmsBillingData$Mdms = mdmsBillingData.MdmsRes) === null || _mdmsBillingData$Mdms === void 0 ? void 0 : (_mdmsBillingData$Mdms2 = _mdmsBillingData$Mdms.BillingService) === null || _mdmsBillingData$Mdms2 === void 0 ? void 0 : _mdmsBillingData$Mdms2.BusinessService;\n    if (payRestrictiondetails !== null && payRestrictiondetails !== void 0 && payRestrictiondetails.length) return ((_payRestrictiondetail = payRestrictiondetails.filter(function (e) {\n      return e.code == businessService;\n    })) === null || _payRestrictiondetail === void 0 ? void 0 : _payRestrictiondetail[0]) || {\n      isAdvanceAllowed: false,\n      isVoucherCreationEnabled: true,\n      minAmountPayable: 100,\n      partPaymentAllowed: false\n    };else return {};\n  };\n  var getProps = function getProps() {\n    return {\n      billsList: billsList,\n      paymentRules: getPaymentRestrictionDetails(),\n      businessService: businessService\n    };\n  };\n  if (mdmsLoading) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(BillRoutes, getProps()));\n};\nvar _iteratorSymbol = /*#__PURE__*/typeof Symbol !== \"undefined\" ? Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\")) : \"@@iterator\";\nvar _asyncIteratorSymbol = /*#__PURE__*/typeof Symbol !== \"undefined\" ? Symbol.asyncIterator || (Symbol.asyncIterator = Symbol(\"Symbol.asyncIterator\")) : \"@@asyncIterator\";\nfunction _catch(body, recover) {\n  try {\n    var result = body();\n  } catch (e) {\n    return recover(e);\n  }\n  if (result && result.then) {\n    return result.then(void 0, recover);\n  }\n  return result;\n}\nvar SelectPaymentType$1 = function SelectPaymentType(props) {\n  var _useLocation = useLocation(),\n    _useLocation$state = _useLocation.state,\n    state = _useLocation$state === void 0 ? {} : _useLocation$state;\n  var userInfo = Digit.UserService.getUser();\n  var _useState = useState(null),\n    showToast = _useState[0],\n    setShowToast = _useState[1];\n  var _Digit$Hooks$useQuery = Digit.Hooks.useQueryParams(),\n    __tenantId = _Digit$Hooks$useQuery.tenantId,\n    authorization = _Digit$Hooks$useQuery.authorization,\n    wrkflow = _Digit$Hooks$useQuery.workflow;\n  var paymentAmount = state === null || state === void 0 ? void 0 : state.paymentAmount;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var history = useHistory();\n  var _useLocation2 = useLocation(),\n    pathname = _useLocation2.pathname,\n    search = _useLocation2.search;\n  var _useParams = useParams(),\n    consumerCode = _useParams.consumerCode,\n    businessService = _useParams.businessService;\n  var tenantId = (state === null || state === void 0 ? void 0 : state.tenantId) || __tenantId || Digit.ULBService.getCurrentTenantId();\n  var stateTenant = Digit.ULBService.getStateId();\n  var _useForm = useForm(),\n    control = _useForm.control,\n    handleSubmit = _useForm.handleSubmit;\n  var _Digit$Hooks$useCommo = Digit.Hooks.useCommonMDMS(stateTenant, \"DIGIT-UI\", \"PaymentGateway\"),\n    menu = _Digit$Hooks$useCommo.data,\n    isLoading = _Digit$Hooks$useCommo.isLoading;\n  var _Digit$Hooks$useFetch = Digit.Hooks.useFetchPayment({\n      tenantId: tenantId,\n      consumerCode: wrkflow === \"WNS\" ? stringReplaceAll(consumerCode, \"+\", \"/\") : consumerCode,\n      businessService: businessService\n    }, {}),\n    paymentdetails = _Digit$Hooks$useFetch.data,\n    paymentLoading = _Digit$Hooks$useFetch.isLoading;\n  useEffect(function () {\n    if (paymentdetails !== null && paymentdetails !== void 0 && paymentdetails.Bill && paymentdetails.Bill.length == 0) {\n      setShowToast({\n        key: true,\n        label: \"CS_BILL_NOT_FOUND\"\n      });\n    }\n  }, [paymentdetails]);\n  useEffect(function () {\n    localStorage.setItem(\"BillPaymentEnabled\", \"true\");\n  }, []);\n  var name = state.name,\n    mobileNumber = state.mobileNumber;\n  var billDetails = paymentdetails !== null && paymentdetails !== void 0 && paymentdetails.Bill ? paymentdetails === null || paymentdetails === void 0 ? void 0 : paymentdetails.Bill[0] : {};\n  var onSubmit = function onSubmit(d) {\n    try {\n      var _userInfo$info, _userInfo$info2;\n      var filterData = {\n        Transaction: {\n          tenantId: tenantId,\n          txnAmount: paymentAmount || billDetails.totalAmount,\n          module: businessService,\n          billId: billDetails.id,\n          consumerCode: wrkflow === \"WNS\" ? stringReplaceAll(consumerCode, \"+\", \"/\") : consumerCode,\n          productInfo: \"Common Payment\",\n          gateway: (d === null || d === void 0 ? void 0 : d.paymentType) || \"AXIS\",\n          taxAndPayments: [{\n            billId: billDetails.id,\n            amountPaid: paymentAmount || billDetails.totalAmount\n          }],\n          user: {\n            name: name || (userInfo === null || userInfo === void 0 ? void 0 : (_userInfo$info = userInfo.info) === null || _userInfo$info === void 0 ? void 0 : _userInfo$info.name),\n            mobileNumber: mobileNumber || (userInfo === null || userInfo === void 0 ? void 0 : (_userInfo$info2 = userInfo.info) === null || _userInfo$info2 === void 0 ? void 0 : _userInfo$info2.mobileNumber),\n            tenantId: tenantId\n          },\n          callbackUrl: window.location.href.includes(\"mcollect\") ? window.location.protocol + \"//\" + window.location.host + \"/digit-ui/citizen/payment/success/\" + businessService + \"/\" + consumerCode + \"/\" + tenantId + \"?workflow=mcollect\" : window.location.protocol + \"//\" + window.location.host + \"/digit-ui/citizen/payment/success/\" + businessService + \"/\" + consumerCode + \"/\" + tenantId,\n          additionalDetails: {\n            isWhatsapp: false\n          }\n        }\n      };\n      var _temp2 = _catch(function () {\n        return Promise.resolve(Digit.PaymentService.createCitizenReciept(tenantId, filterData)).then(function (data) {\n          var _data$Transaction;\n          var redirectUrl = data === null || data === void 0 ? void 0 : (_data$Transaction = data.Transaction) === null || _data$Transaction === void 0 ? void 0 : _data$Transaction.redirectUrl;\n          if ((d === null || d === void 0 ? void 0 : d.paymentType) == \"AXIS\") {\n            window.location = redirectUrl;\n          } else {\n            try {\n              var _redirectUrl$split, _redirectUrl$split$sl, _redirectUrl$split$sl2, _redirectUrl$split$sl3, _gatewayParam$request, _redirectUrl$split2, _redirectUrl$split2$, _redirectUrl$split2$$, _redirectUrl$split3, _redirectUrl$split3$, _redirectUrl$split3$$;\n              var gatewayParam = redirectUrl === null || redirectUrl === void 0 ? void 0 : (_redirectUrl$split = redirectUrl.split(\"?\")) === null || _redirectUrl$split === void 0 ? void 0 : (_redirectUrl$split$sl = _redirectUrl$split.slice(1)) === null || _redirectUrl$split$sl === void 0 ? void 0 : (_redirectUrl$split$sl2 = _redirectUrl$split$sl.join(\"?\")) === null || _redirectUrl$split$sl2 === void 0 ? void 0 : (_redirectUrl$split$sl3 = _redirectUrl$split$sl2.split(\"&\")) === null || _redirectUrl$split$sl3 === void 0 ? void 0 : _redirectUrl$split$sl3.reduce(function (curr, acc) {\n                var d = acc.split(\"=\");\n                curr[d[0]] = d[1];\n                return curr;\n              }, {});\n              var newForm = $(\"<form>\", {\n                action: gatewayParam.txURL,\n                method: \"POST\",\n                target: \"_top\"\n              });\n              var orderForNDSLPaymentSite = [\"checksum\", \"messageType\", \"merchantId\", \"serviceId\", \"orderId\", \"customerId\", \"transactionAmount\", \"currencyCode\", \"requestDateTime\", \"successUrl\", \"failUrl\", \"additionalField1\", \"additionalField2\", \"additionalField3\", \"additionalField4\", \"additionalField5\"];\n              gatewayParam[\"requestDateTime\"] = (_gatewayParam$request = gatewayParam[\"requestDateTime\"]) === null || _gatewayParam$request === void 0 ? void 0 : _gatewayParam$request.split(new Date().getFullYear()).join(new Date().getFullYear() + \" \");\n              gatewayParam[\"successUrl\"] = (redirectUrl === null || redirectUrl === void 0 ? void 0 : (_redirectUrl$split2 = redirectUrl.split(\"successUrl=\")) === null || _redirectUrl$split2 === void 0 ? void 0 : (_redirectUrl$split2$ = _redirectUrl$split2[1]) === null || _redirectUrl$split2$ === void 0 ? void 0 : (_redirectUrl$split2$$ = _redirectUrl$split2$.split(\"eg_pg_txnid=\")) === null || _redirectUrl$split2$$ === void 0 ? void 0 : _redirectUrl$split2$$[0]) + 'eg_pg_txnid=' + (gatewayParam === null || gatewayParam === void 0 ? void 0 : gatewayParam.orderId);\n              gatewayParam[\"failUrl\"] = (redirectUrl === null || redirectUrl === void 0 ? void 0 : (_redirectUrl$split3 = redirectUrl.split(\"failUrl=\")) === null || _redirectUrl$split3 === void 0 ? void 0 : (_redirectUrl$split3$ = _redirectUrl$split3[1]) === null || _redirectUrl$split3$ === void 0 ? void 0 : (_redirectUrl$split3$$ = _redirectUrl$split3$.split(\"eg_pg_txnid=\")) === null || _redirectUrl$split3$$ === void 0 ? void 0 : _redirectUrl$split3$$[0]) + 'eg_pg_txnid=' + (gatewayParam === null || gatewayParam === void 0 ? void 0 : gatewayParam.orderId);\n              for (var _i = 0, _orderForNDSLPaymentS = orderForNDSLPaymentSite; _i < _orderForNDSLPaymentS.length; _i++) {\n                var key = _orderForNDSLPaymentS[_i];\n                newForm.append($(\"<input>\", {\n                  name: key,\n                  value: gatewayParam[key]\n                }));\n              }\n              $(document.body).append(newForm);\n              newForm.submit();\n            } catch (e) {\n              console.log(\"Error in payment redirect \", e);\n            }\n          }\n        });\n      }, function (error) {\n        var _error$response, _error$response$data, _error$response$data$;\n        var messageToShow = \"CS_PAYMENT_UNKNOWN_ERROR_ON_SERVER\";\n        if ((_error$response = error.response) !== null && _error$response !== void 0 && (_error$response$data = _error$response.data) !== null && _error$response$data !== void 0 && (_error$response$data$ = _error$response$data.Errors) !== null && _error$response$data$ !== void 0 && _error$response$data$[0]) {\n          var _error$response2, _error$response2$data, _error$response2$data2;\n          var _error$response$data$2 = (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : (_error$response2$data2 = _error$response2$data.Errors) === null || _error$response2$data2 === void 0 ? void 0 : _error$response2$data2[0],\n            code = _error$response$data$2.code,\n            message = _error$response$data$2.message;\n          messageToShow = code;\n        }\n        setShowToast({\n          key: true,\n          label: t(messageToShow)\n        });\n      });\n      return Promise.resolve(_temp2 && _temp2.then ? _temp2.then(function () {}) : void 0);\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n  if (authorization === \"true\" && !userInfo.access_token) {\n    localStorage.clear();\n    sessionStorage.clear();\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/digit-ui/citizen/login?from=\" + encodeURIComponent(pathname + search)\n    });\n  }\n  if (isLoading || paymentLoading) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(BackButton, null, t(\"CS_COMMON_BACK\")), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit(onSubmit)\n  }, /*#__PURE__*/React.createElement(Header, null, t(\"PAYMENT_CS_HEADER\")), /*#__PURE__*/React.createElement(Card, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"payment-amount-info\",\n    style: {\n      marginBottom: \"26px\"\n    }\n  }, /*#__PURE__*/React.createElement(CardLabel, {\n    className: \"dark\"\n  }, t(\"PAYMENT_CS_TOTAL_AMOUNT_DUE\")), /*#__PURE__*/React.createElement(CardSectionHeader, null, \" \\u20B9 \", paymentAmount || (billDetails === null || billDetails === void 0 ? void 0 : billDetails.totalAmount))), /*#__PURE__*/React.createElement(CardLabel, null, t(\"PAYMENT_CS_SELECT_METHOD\")), (menu === null || menu === void 0 ? void 0 : menu.length) && /*#__PURE__*/React.createElement(Controller, {\n    name: \"paymentType\",\n    defaultValue: menu[0],\n    control: control,\n    render: function render(props) {\n      return /*#__PURE__*/React.createElement(RadioButtons, {\n        selectedOption: props.value,\n        options: menu,\n        onSelect: props.onChange\n      });\n    }\n  }), !showToast && /*#__PURE__*/React.createElement(SubmitBar, {\n    label: t(\"PAYMENT_CS_BUTTON_LABEL\"),\n    submit: true\n  }))), /*#__PURE__*/React.createElement(InfoBanner, {\n    label: t(\"CS_COMMON_INFO\"),\n    text: t(\"CS_PAYMENT_REDIRECT_NOTICE\")\n  }), showToast && /*#__PURE__*/React.createElement(Toast, {\n    error: showToast.key,\n    label: t(showToast.label),\n    onClose: function onClose() {\n      setShowToast(null);\n    }\n  }));\n};\nvar SuccessfulPayment = function SuccessfulPayment(props) {\n  if (localStorage.getItem(\"BillPaymentEnabled\") !== \"true\") {\n    window.history.forward();\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(WrapPaymentComponent, props);\n};\nvar WrapPaymentComponent = function WrapPaymentComponent(props) {\n  var _data$payments, _data$payments$Paymen, _data$payments$Paymen2, _data$payments2, _reciept_data$payment3, _reciept_data$payment4, _reciept_data$payment5, _reciept_data$payment6, _reciept_data$payment7, _reciept_data$payment8, _reciept_data$payment9, _reciept_data$payment10, _bpaData$5, _bpaData$6, _bpaData$7, _bpaData$8, _bpaData$9, _bpaData$10, _bpaData$11, _bpaData$12, _bpaData$13;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var queryClient = useQueryClient();\n  var _Digit$Hooks$useQuery = Digit.Hooks.useQueryParams(),\n    egId = _Digit$Hooks$useQuery.eg_pg_txnid,\n    workflw = _Digit$Hooks$useQuery.workflow;\n  var _useState = useState(false),\n    printing = _useState[0],\n    setPrinting = _useState[1];\n  var _useState2 = useState(false),\n    allowFetchBill = _useState2[0],\n    setallowFetchBill = _useState2[1];\n  var _useParams = useParams(),\n    business_service = _useParams.businessService,\n    consumerCode = _useParams.consumerCode,\n    tenantId = _useParams.tenantId;\n  var _Digit$Hooks$obps$use = Digit.Hooks.obps.useOBPSSearch(\"\", {}, tenantId, {\n      applicationNo: consumerCode\n    }, {}, {\n      enabled: window.location.href.includes(\"bpa\") || window.location.href.includes(\"BPA\")\n    }),\n    _Digit$Hooks$obps$use2 = _Digit$Hooks$obps$use.data,\n    bpaData = _Digit$Hooks$obps$use2 === void 0 ? {} : _Digit$Hooks$obps$use2,\n    isBpaSearchLoading = _Digit$Hooks$obps$use.isLoading;\n  var _Digit$Hooks$usePayme = Digit.Hooks.usePaymentUpdate({\n      egId: egId\n    }, business_service, {\n      retry: false,\n      staleTime: Infinity,\n      refetchOnWindowFocus: false\n    }),\n    isLoading = _Digit$Hooks$usePayme.isLoading,\n    data = _Digit$Hooks$usePayme.data,\n    isError = _Digit$Hooks$usePayme.isError;\n  var _Digit$Hooks$useAppli = Digit.Hooks.useApplicationsForBusinessServiceSearch({\n      businessService: business_service\n    }, {\n      enabled: false\n    }),\n    label = _Digit$Hooks$useAppli.label;\n  var _Digit$Hooks$useRecie = Digit.Hooks.useRecieptSearch({\n      tenantId: tenantId,\n      businessService: business_service,\n      receiptNumbers: data === null || data === void 0 ? void 0 : (_data$payments = data.payments) === null || _data$payments === void 0 ? void 0 : (_data$payments$Paymen = _data$payments.Payments) === null || _data$payments$Paymen === void 0 ? void 0 : (_data$payments$Paymen2 = _data$payments$Paymen[0]) === null || _data$payments$Paymen2 === void 0 ? void 0 : _data$payments$Paymen2.paymentDetails[0].receiptNumber\n    }, {\n      retry: false,\n      staleTime: Infinity,\n      refetchOnWindowFocus: false,\n      select: function select(dat) {\n        return dat.Payments[0];\n      },\n      enabled: allowFetchBill\n    }),\n    reciept_data = _Digit$Hooks$useRecie.data,\n    recieptDataLoading = _Digit$Hooks$useRecie.isLoading;\n  var _Digit$Hooks$useCommo = Digit.Hooks.useCommonMDMS(tenantId, \"common-masters\", \"ReceiptKey\", {\n      select: function select(data) {\n        var _data$commonMasters, _data$commonMasters$u, _data$commonMasters$u2;\n        return ((_data$commonMasters = data[\"common-masters\"]) === null || _data$commonMasters === void 0 ? void 0 : (_data$commonMasters$u = _data$commonMasters.uiCommonPay) === null || _data$commonMasters$u === void 0 ? void 0 : (_data$commonMasters$u2 = _data$commonMasters$u.filter(function (_ref) {\n          var code = _ref.code;\n          return business_service === null || business_service === void 0 ? void 0 : business_service.includes(code);\n        })[0]) === null || _data$commonMasters$u2 === void 0 ? void 0 : _data$commonMasters$u2.receiptKey) || \"consolidatedreceipt\";\n      },\n      retry: false,\n      staleTime: Infinity,\n      refetchOnWindowFocus: false\n    }),\n    generatePdfKey = _Digit$Hooks$useCommo.data;\n  var payments = data === null || data === void 0 ? void 0 : data.payments;\n  useEffect(function () {\n    return function () {\n      localStorage.setItem(\"BillPaymentEnabled\", \"false\");\n      queryClient.clear();\n    };\n  }, []);\n  useEffect(function () {\n    if (data && data.txnStatus && data.txnStatus !== \"FAILURE\") {\n      setallowFetchBill(true);\n    }\n  }, [data]);\n  if (isLoading || recieptDataLoading) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n  var applicationNo = data === null || data === void 0 ? void 0 : data.applicationNo;\n  var isMobile = window.Digit.Utils.browser.isMobile();\n  if (isError || !payments || !payments.Payments || payments.Payments.length === 0 || data.txnStatus === \"FAILURE\") {\n    return /*#__PURE__*/React.createElement(Card, null, /*#__PURE__*/React.createElement(Banner, {\n      message: t(\"CITIZEN_FAILURE_COMMON_PAYMENT_MESSAGE\"),\n      info: t(\"CS_PAYMENT_TRANSANCTION_ID\"),\n      applicationNumber: egId,\n      successful: false\n    }), /*#__PURE__*/React.createElement(CardText, null, t(\"CS_PAYMENT_FAILURE_MESSAGE\")), business_service !== \"PT\" ? /*#__PURE__*/React.createElement(Link, {\n      to: \"/digit-ui/citizen\"\n    }, /*#__PURE__*/React.createElement(SubmitBar, {\n      label: t(\"CORE_COMMON_GO_TO_HOME\")\n    })) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Link, {\n      to: applicationNo && \"/digit-ui/citizen/payment/my-bills/\" + business_service + \"/\" + applicationNo || \"/digit-ui/citizen\"\n    }, /*#__PURE__*/React.createElement(SubmitBar, {\n      label: t(\"CS_PAYMENT_TRY_AGAIN\")\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"link\",\n      style: isMobile ? {\n        marginTop: \"8px\",\n        width: \"100%\",\n        textAlign: \"center\"\n      } : {\n        marginTop: \"8px\"\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/digit-ui/citizen\"\n    }, t(\"CORE_COMMON_GO_TO_HOME\")))));\n  }\n  var paymentData = data === null || data === void 0 ? void 0 : (_data$payments2 = data.payments) === null || _data$payments2 === void 0 ? void 0 : _data$payments2.Payments[0];\n  var transactionDate = paymentData.transactionDate;\n  var printCertificate = function printCertificate() {\n    try {\n      var state = tenantId;\n      return Promise.resolve(Digit.TLService.search({\n        applicationNumber: consumerCode,\n        tenantId: tenantId\n      })).then(function (applicationDetails) {\n        var generatePdfKeyForTL = \"tlcertificate\";\n        var _temp = function () {\n          if (applicationDetails) {\n            return Promise.resolve(Digit.PaymentService.generatePdf(state, {\n              Licenses: applicationDetails === null || applicationDetails === void 0 ? void 0 : applicationDetails.Licenses\n            }, generatePdfKeyForTL)).then(function (response) {\n              return Promise.resolve(Digit.PaymentService.printReciept(state, {\n                fileStoreIds: response.filestoreIds[0]\n              })).then(function (fileStore) {\n                window.open(fileStore[response.filestoreIds[0]], \"_blank\");\n              });\n            });\n          }\n        }();\n        if (_temp && _temp.then) return _temp.then(function () {});\n      });\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n  var printReciept = function printReciept() {\n    try {\n      var _payments$Payments$;\n      var _temp4 = function _temp4() {\n        return Promise.resolve(Digit.PaymentService.printReciept(state, {\n          fileStoreIds: response.filestoreIds[0]\n        })).then(function (fileStore) {\n          if (fileStore && fileStore[response.filestoreIds[0]]) {\n            window.open(fileStore[response.filestoreIds[0]], \"_blank\");\n          }\n          setPrinting(false);\n        });\n      };\n      if (printing) return Promise.resolve();\n      setPrinting(true);\n      var _tenantId = paymentData === null || paymentData === void 0 ? void 0 : paymentData.tenantId;\n      var state = Digit.ULBService.getStateId();\n      var response = {\n        filestoreIds: [(_payments$Payments$ = payments.Payments[0]) === null || _payments$Payments$ === void 0 ? void 0 : _payments$Payments$.fileStoreId]\n      };\n      var _temp5 = function () {\n        if (!(paymentData !== null && paymentData !== void 0 && paymentData.fileStoreId)) {\n          return Promise.resolve(Digit.PaymentService.generatePdf(state, {\n            Payments: [payments.Payments[0]]\n          }, generatePdfKey)).then(function (_Digit$PaymentService) {\n            response = _Digit$PaymentService;\n          });\n        }\n      }();\n      return Promise.resolve(_temp5 && _temp5.then ? _temp5.then(_temp4) : _temp4(_temp5));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n  var convertDateToEpoch = function convertDateToEpoch(dateString, dayStartOrEnd) {\n    if (dayStartOrEnd === void 0) {\n      dayStartOrEnd = \"dayend\";\n    }\n    try {\n      var parts = dateString.match(/(\\d{4})-(\\d{1,2})-(\\d{1,2})/);\n      var DateObj = new Date(Date.UTC(parts[1], parts[2] - 1, parts[3]));\n      DateObj.setMinutes(DateObj.getMinutes() + DateObj.getTimezoneOffset());\n      if (dayStartOrEnd === \"dayend\") {\n        DateObj.setHours(DateObj.getHours() + 24);\n        DateObj.setSeconds(DateObj.getSeconds() - 1);\n      }\n      return DateObj.getTime();\n    } catch (e) {\n      return dateString;\n    }\n  };\n  var printPdf = function printPdf(blob) {\n    var fileURL = URL.createObjectURL(blob);\n    var myWindow = window.open(fileURL);\n    if (myWindow != undefined) {\n      myWindow.addEventListener(\"load\", function (event) {\n        myWindow.focus();\n        myWindow.print();\n      });\n    }\n  };\n  var downloadPdf = function downloadPdf(blob, fileName) {\n    if (window.mSewaApp && window.mSewaApp.isMsewaApp() && window.mSewaApp.downloadBase64File) {\n      var reader = new FileReader();\n      reader.readAsDataURL(blob);\n      reader.onloadend = function () {\n        var base64data = reader.result;\n        mSewaApp.downloadBase64File(base64data, fileName);\n      };\n    } else {\n      var link = document.createElement(\"a\");\n      link.href = URL.createObjectURL(blob);\n      link.download = fileName;\n      document.body.append(link);\n      link.click();\n      link.remove();\n      setTimeout(function () {\n        return URL.revokeObjectURL(link.href);\n      }, 7000);\n    }\n  };\n  var getPermitOccupancyOrderSearch = function getPermitOccupancyOrderSearch(order, mode) {\n    if (mode === void 0) {\n      mode = \"download\";\n    }\n    try {\n      var _bpaData$, _bpaData$2;\n      var queryObj = {\n        applicationNo: bpaData === null || bpaData === void 0 ? void 0 : (_bpaData$ = bpaData[0]) === null || _bpaData$ === void 0 ? void 0 : _bpaData$.applicationNo\n      };\n      return Promise.resolve(Digit.OBPSService.BPASearch(bpaData === null || bpaData === void 0 ? void 0 : (_bpaData$2 = bpaData[0]) === null || _bpaData$2 === void 0 ? void 0 : _bpaData$2.tenantId, queryObj)).then(function (bpaResponse) {\n        var _bpaData$3, _bpaData$4;\n        return Promise.resolve(Digit.OBPSService.scrutinyDetails(bpaData === null || bpaData === void 0 ? void 0 : (_bpaData$3 = bpaData[0]) === null || _bpaData$3 === void 0 ? void 0 : _bpaData$3.tenantId, {\n          edcrNumber: bpaData === null || bpaData === void 0 ? void 0 : (_bpaData$4 = bpaData[0]) === null || _bpaData$4 === void 0 ? void 0 : _bpaData$4.edcrNumber\n        })).then(function (edcrResponse) {\n          var _bpaResponse$BPA, _edcrResponse$edcrDet;\n          var bpaDataDetails = bpaResponse === null || bpaResponse === void 0 ? void 0 : (_bpaResponse$BPA = bpaResponse.BPA) === null || _bpaResponse$BPA === void 0 ? void 0 : _bpaResponse$BPA[0],\n            edcrData = edcrResponse === null || edcrResponse === void 0 ? void 0 : (_edcrResponse$edcrDet = edcrResponse.edcrDetail) === null || _edcrResponse$edcrDet === void 0 ? void 0 : _edcrResponse$edcrDet[0];\n          var currentDate = new Date();\n          bpaDataDetails.additionalDetails.runDate = convertDateToEpoch(currentDate.getFullYear() + '-' + (currentDate.getMonth() + 1) + '-' + currentDate.getDate());\n          var reqData = _extends({}, bpaDataDetails, {\n            edcrDetail: [_extends({}, edcrData)]\n          });\n          return Promise.resolve(Digit.PaymentService.generatePdf(bpaDataDetails === null || bpaDataDetails === void 0 ? void 0 : bpaDataDetails.tenantId, {\n            Bpa: [reqData]\n          }, order)).then(function (response) {\n            return Promise.resolve(Digit.PaymentService.printReciept(bpaDataDetails === null || bpaDataDetails === void 0 ? void 0 : bpaDataDetails.tenantId, {\n              fileStoreIds: response.filestoreIds[0]\n            })).then(function (fileStore) {\n              var _bpaDataDetails$addit;\n              window.open(fileStore[response === null || response === void 0 ? void 0 : response.filestoreIds[0]], \"_blank\");\n              reqData[\"applicationType\"] = bpaDataDetails === null || bpaDataDetails === void 0 ? void 0 : (_bpaDataDetails$addit = bpaDataDetails.additionalDetails) === null || _bpaDataDetails$addit === void 0 ? void 0 : _bpaDataDetails$addit.applicationType;\n              return Promise.resolve(Digit.OBPSService.edcr_report_download({\n                BPA: _extends({}, reqData)\n              })).then(function (edcrresponse) {\n                var responseStatus = parseInt(edcrresponse.status, 10);\n                if (responseStatus === 201 || responseStatus === 200) {\n                  mode == \"print\" ? printPdf(new Blob([edcrresponse.data], {\n                    type: \"application/pdf\"\n                  })) : downloadPdf(new Blob([edcrresponse.data], {\n                    type: \"application/pdf\"\n                  }), \"edcrReport.pdf\");\n                }\n              });\n            });\n          });\n        });\n      });\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n  var getBillingPeriod = function getBillingPeriod(billDetails) {\n    var _ref2 = billDetails || {},\n      taxPeriodFrom = _ref2.taxPeriodFrom,\n      taxPeriodTo = _ref2.taxPeriodTo,\n      fromPeriod = _ref2.fromPeriod,\n      toPeriod = _ref2.toPeriod;\n    if (taxPeriodFrom && taxPeriodTo) {\n      var from = new Date(taxPeriodFrom).getFullYear().toString();\n      var to = new Date(taxPeriodTo).getFullYear().toString();\n      return \"FY \" + from + \"-\" + to;\n    } else if (fromPeriod && toPeriod) {\n      if (workflw === \"mcollect\") {\n        _from = new Date(fromPeriod).getDate().toString() + \" \" + Digit.Utils.date.monthNames[new Date(fromPeriod).getMonth() + 1].toString() + \" \" + new Date(fromPeriod).getFullYear().toString();\n        _to = new Date(toPeriod).getDate() + \" \" + Digit.Utils.date.monthNames[new Date(toPeriod).getMonth() + 1] + \" \" + new Date(toPeriod).getFullYear();\n        return _from + \" - \" + _to;\n      }\n      var _from = new Date(fromPeriod).getFullYear().toString();\n      var _to = new Date(toPeriod).getFullYear().toString();\n      return \"FY \" + _from + \"-\" + _to;\n    } else return \"N/A\";\n  };\n  var bannerText;\n  if (workflw) {\n    bannerText = \"CITIZEN_SUCCESS_UC_PAYMENT_MESSAGE\";\n  } else {\n    var _paymentData$paymentD, _paymentData$paymentD2, _paymentData$paymentD3;\n    if (paymentData !== null && paymentData !== void 0 && (_paymentData$paymentD = paymentData.paymentDetails) !== null && _paymentData$paymentD !== void 0 && (_paymentData$paymentD2 = _paymentData$paymentD[0]) !== null && _paymentData$paymentD2 !== void 0 && (_paymentData$paymentD3 = _paymentData$paymentD2.businessService) !== null && _paymentData$paymentD3 !== void 0 && _paymentData$paymentD3.includes(\"BPA\")) {\n      var nameOfAchitect = sessionStorage.getItem(\"BPA_ARCHITECT_NAME\");\n      var parsedArchitectName = nameOfAchitect ? JSON.parse(nameOfAchitect) : \"ARCHITECT\";\n      bannerText = \"CITIZEN_SUCCESS_\" + (paymentData === null || paymentData === void 0 ? void 0 : paymentData.paymentDetails[0].businessService.replace(/\\./g, \"_\")) + \"_\" + parsedArchitectName + \"_PAYMENT_MESSAGE\";\n    } else {\n      bannerText = \"CITIZEN_SUCCESS_\" + (paymentData === null || paymentData === void 0 ? void 0 : paymentData.paymentDetails[0].businessService.replace(/\\./g, \"_\")) + \"_PAYMENT_MESSAGE\";\n    }\n  }\n  var rowContainerStyle = {\n    padding: \"4px 0px\",\n    justifyContent: \"space-between\"\n  };\n  var ommitRupeeSymbol = [\"PT\"].includes(business_service);\n  if ((window.location.href.includes(\"bpa\") || window.location.href.includes(\"BPA\")) && isBpaSearchLoading) return /*#__PURE__*/React.createElement(Loader, null);\n  return /*#__PURE__*/React.createElement(Card, null, /*#__PURE__*/React.createElement(Banner, {\n    svg: /*#__PURE__*/React.createElement(\"svg\", {\n      className: \"payment-svg\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      width: \"40\",\n      height: \"40\",\n      viewBox: \"0 0 40 40\",\n      fill: \"none\"\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      d: \"M20 0C8.96 0 0 8.96 0 20C0 31.04 8.96 40 20 40C31.04 40 40 31.04 40 20C40 8.96 31.04 0 20 0ZM16 30L6 20L8.82 17.18L16 24.34L31.18 9.16L34 12L16 30Z\",\n      fill: \"white\"\n    })),\n    message: t(\"CS_COMMON_PAYMENT_COMPLETE\"),\n    info: t(\"CS_COMMON_RECIEPT_NO\"),\n    applicationNumber: paymentData === null || paymentData === void 0 ? void 0 : paymentData.paymentDetails[0].receiptNumber,\n    successful: true\n  }), /*#__PURE__*/React.createElement(CardText, null, t(bannerText + \"_DETAIL\")), /*#__PURE__*/React.createElement(StatusTable, null, /*#__PURE__*/React.createElement(Row, {\n    rowContainerStyle: rowContainerStyle,\n    last: true,\n    label: t(label),\n    text: applicationNo\n  }), (business_service === \"PT\" || workflw) && /*#__PURE__*/React.createElement(Row, {\n    rowContainerStyle: rowContainerStyle,\n    last: true,\n    label: t(\"CS_PAYMENT_BILLING_PERIOD\"),\n    text: getBillingPeriod(reciept_data === null || reciept_data === void 0 ? void 0 : (_reciept_data$payment3 = reciept_data.paymentDetails[0]) === null || _reciept_data$payment3 === void 0 ? void 0 : (_reciept_data$payment4 = _reciept_data$payment3.bill) === null || _reciept_data$payment4 === void 0 ? void 0 : _reciept_data$payment4.billDetails[0])\n  }), (business_service === \"PT\" || workflw) && /*#__PURE__*/React.createElement(Row, {\n    rowContainerStyle: rowContainerStyle,\n    last: true,\n    label: t(\"CS_PAYMENT_AMOUNT_PENDING\"),\n    text: (reciept_data === null || reciept_data === void 0 ? void 0 : (_reciept_data$payment5 = reciept_data.paymentDetails) === null || _reciept_data$payment5 === void 0 ? void 0 : (_reciept_data$payment6 = _reciept_data$payment5[0]) === null || _reciept_data$payment6 === void 0 ? void 0 : _reciept_data$payment6.totalDue) - (reciept_data === null || reciept_data === void 0 ? void 0 : (_reciept_data$payment7 = reciept_data.paymentDetails) === null || _reciept_data$payment7 === void 0 ? void 0 : (_reciept_data$payment8 = _reciept_data$payment7[0]) === null || _reciept_data$payment8 === void 0 ? void 0 : _reciept_data$payment8.totalAmountPaid)\n  }), /*#__PURE__*/React.createElement(Row, {\n    rowContainerStyle: rowContainerStyle,\n    last: true,\n    label: t(\"CS_PAYMENT_TRANSANCTION_ID\"),\n    text: egId\n  }), /*#__PURE__*/React.createElement(Row, {\n    rowContainerStyle: rowContainerStyle,\n    last: true,\n    label: t(ommitRupeeSymbol ? \"CS_PAYMENT_AMOUNT_PAID_WITHOUT_SYMBOL\" : \"CS_PAYMENT_AMOUNT_PAID\"),\n    text: \"₹ \" + (reciept_data === null || reciept_data === void 0 ? void 0 : (_reciept_data$payment9 = reciept_data.paymentDetails) === null || _reciept_data$payment9 === void 0 ? void 0 : (_reciept_data$payment10 = _reciept_data$payment9[0]) === null || _reciept_data$payment10 === void 0 ? void 0 : _reciept_data$payment10.totalAmountPaid)\n  }), (business_service !== \"PT\" || workflw) && /*#__PURE__*/React.createElement(Row, {\n    rowContainerStyle: rowContainerStyle,\n    last: true,\n    label: t(\"CS_PAYMENT_TRANSANCTION_DATE\"),\n    text: transactionDate && new Date(transactionDate).toLocaleDateString(\"in\")\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\"\n    }\n  }, business_service == \"TL\" ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"primary-label-btn d-grid\",\n    style: {\n      marginLeft: \"unset\",\n      marginRight: \"20px\",\n      marginTop: \"15px\",\n      marginBottom: \"15px\"\n    },\n    onClick: printReciept\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    width: \"24px\",\n    fill: \"#f47738\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0V0z\",\n    fill: \"none\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19 9h-4V3H9v6H5l7 7 7-7zm-8 2V5h2v6h1.17L12 13.17 9.83 11H11zm-6 7h14v2H5z\"\n  })), t(\"TL_RECEIPT\")) : null, business_service == \"TL\" ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"primary-label-btn d-grid\",\n    style: {\n      marginLeft: \"unset\",\n      marginTop: \"15px\"\n    },\n    onClick: printCertificate\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    width: \"24px\",\n    fill: \"#f47738\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0V0z\",\n    fill: \"none\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19 9h-4V3H9v6H5l7 7 7-7zm-8 2V5h2v6h1.17L12 13.17 9.83 11H11zm-6 7h14v2H5z\"\n  })), t(\"TL_CERTIFICATE\")) : null, (bpaData === null || bpaData === void 0 ? void 0 : (_bpaData$5 = bpaData[0]) === null || _bpaData$5 === void 0 ? void 0 : _bpaData$5.businessService) === \"BPA_OC\" && ((bpaData === null || bpaData === void 0 ? void 0 : (_bpaData$6 = bpaData[0]) === null || _bpaData$6 === void 0 ? void 0 : _bpaData$6.status) === \"APPROVED\" || (bpaData === null || bpaData === void 0 ? void 0 : (_bpaData$7 = bpaData[0]) === null || _bpaData$7 === void 0 ? void 0 : _bpaData$7.status) === \"PENDING_SANC_FEE_PAYMENT\") ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"primary-label-btn d-grid\",\n    style: {\n      marginLeft: \"unset\"\n    },\n    onClick: function onClick(e) {\n      return getPermitOccupancyOrderSearch(\"occupancy-certificate\");\n    }\n  }, /*#__PURE__*/React.createElement(DownloadPrefixIcon, null), t(\"BPA_OC_CERTIFICATE\")) : null, (bpaData === null || bpaData === void 0 ? void 0 : (_bpaData$8 = bpaData[0]) === null || _bpaData$8 === void 0 ? void 0 : _bpaData$8.businessService) === \"BPA_LOW\" ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"primary-label-btn d-grid\",\n    style: {\n      marginLeft: \"unset\"\n    },\n    onClick: function onClick(r) {\n      return getPermitOccupancyOrderSearch(\"buildingpermit-low\");\n    }\n  }, /*#__PURE__*/React.createElement(DownloadPrefixIcon, null), t(\"BPA_PERMIT_ORDER\")) : null, (bpaData === null || bpaData === void 0 ? void 0 : (_bpaData$9 = bpaData[0]) === null || _bpaData$9 === void 0 ? void 0 : _bpaData$9.businessService) === \"BPA\" && (bpaData === null || bpaData === void 0 ? void 0 : (_bpaData$10 = bpaData[0]) === null || _bpaData$10 === void 0 ? void 0 : _bpaData$10.businessService) !== \"BPA_LOW\" && (bpaData === null || bpaData === void 0 ? void 0 : (_bpaData$11 = bpaData[0]) === null || _bpaData$11 === void 0 ? void 0 : _bpaData$11.businessService) !== \"BPA_OC\" && ((bpaData === null || bpaData === void 0 ? void 0 : (_bpaData$12 = bpaData[0]) === null || _bpaData$12 === void 0 ? void 0 : _bpaData$12.status) === \"PENDING_SANC_FEE_PAYMENT\" || (bpaData === null || bpaData === void 0 ? void 0 : (_bpaData$13 = bpaData[0]) === null || _bpaData$13 === void 0 ? void 0 : _bpaData$13.status) === \"APPROVED\") ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"primary-label-btn d-grid\",\n    style: {\n      marginLeft: \"unset\"\n    },\n    onClick: function onClick(r) {\n      return getPermitOccupancyOrderSearch(\"buildingpermit\");\n    }\n  }, /*#__PURE__*/React.createElement(DownloadPrefixIcon, null), t(\"BPA_PERMIT_ORDER\")) : null), !(business_service == \"TL\") && /*#__PURE__*/React.createElement(SubmitBar, {\n    onSubmit: printReciept,\n    label: t(\"COMMON_DOWNLOAD_RECEIPT\")\n  }), !(business_service == \"TL\") && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"link\",\n    style: isMobile ? {\n      marginTop: \"8px\",\n      width: \"100%\",\n      textAlign: \"center\"\n    } : {\n      marginTop: \"8px\"\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/digit-ui/citizen\"\n  }, t(\"CORE_COMMON_GO_TO_HOME\"))), business_service == \"TL\" && /*#__PURE__*/React.createElement(Link, {\n    to: \"/digit-ui/citizen\"\n  }, /*#__PURE__*/React.createElement(SubmitBar, {\n    label: t(\"CORE_COMMON_GO_TO_HOME\")\n  })));\n};\nvar FailedPayment = function FailedPayment(props) {\n  var _useTranslation2 = useTranslation(),\n    t = _useTranslation2.t;\n  var _useParams2 = useParams(),\n    consumerCode = _useParams2.consumerCode;\n  var getMessage = function getMessage() {\n    return \"Failure !\";\n  };\n  return /*#__PURE__*/React.createElement(Card, null, /*#__PURE__*/React.createElement(Banner, {\n    message: getMessage(),\n    complaintNumber: consumerCode,\n    successful: false\n  }), /*#__PURE__*/React.createElement(CardText, null, t(\"ES_COMMON_TRACK_COMPLAINT_TEXT\")));\n};\nvar CitizenPayment = function CitizenPayment(_ref) {\n  var stateCode = _ref.stateCode,\n    cityCode = _ref.cityCode,\n    moduleCode = _ref.moduleCode;\n  var _useRouteMatch = useRouteMatch(),\n    currentPath = _useRouteMatch.path;\n  var commonProps = {\n    stateCode: stateCode,\n    cityCode: cityCode,\n    moduleCode: moduleCode\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Switch, null, /*#__PURE__*/React.createElement(Route, {\n    path: currentPath + \"/my-bills/:businessService\"\n  }, /*#__PURE__*/React.createElement(MyBills, {\n    stateCode: stateCode\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: currentPath + \"/billDetails/:businessService/:consumerCode/:paymentAmt\"\n  }, /*#__PURE__*/React.createElement(SelectPaymentType, _extends({}, commonProps, {\n    stateCode: stateCode,\n    basePath: currentPath\n  }))), /*#__PURE__*/React.createElement(Route, {\n    path: currentPath + \"/collect/:businessService/:consumerCode\"\n  }, /*#__PURE__*/React.createElement(SelectPaymentType$1, _extends({}, commonProps, {\n    stateCode: stateCode,\n    basePath: currentPath\n  }))), /*#__PURE__*/React.createElement(Route, {\n    path: currentPath + \"/success/:businessService/:consumerCode/:tenantId\"\n  }, /*#__PURE__*/React.createElement(SuccessfulPayment, commonProps)), /*#__PURE__*/React.createElement(Route, {\n    path: currentPath + \"/failure\"\n  }, /*#__PURE__*/React.createElement(FailedPayment, commonProps))));\n};\nvar getKeyNotesConfig = function getKeyNotesConfig(businessService, t) {\n  var businessId = businessService === null || businessService === void 0 ? void 0 : businessService.toLowerCase().split(\".\")[0];\n  switch (businessId) {\n    case \"pt\":\n      return {\n        \"my-bill\": [{\n          keyValue: \"CS_COMMON_AMOUNT_DUE\",\n          keyPath: [function (d) {\n            var _d$billDetails$;\n            var overdueBy = new Date().getTime() - new Date((_d$billDetails$ = d.billDetails[0]) === null || _d$billDetails$ === void 0 ? void 0 : _d$billDetails$.toPeriod).getTime();\n            var days = Math.floor(overdueBy / (86400 * 1000));\n            return /*#__PURE__*/React.createElement(React.Fragment, null, \"₹\" + d[\"totalAmount\"], days >= 0 ? /*#__PURE__*/React.createElement(\"span\", {\n              className: \"card-label-error\",\n              style: {\n                fontSize: \"16px\",\n                fontWeight: \"normal\"\n              }\n            }, \" ( \" + t(\"CS_PAYMENT_OVERDUE\") + \" \" + days + \" \" + t(days === 1 ? \"CS_COMMON_DAY\" : \"CS_COMMON_DAYS\") + \")\") : null);\n          }],\n          fallback: \"N/A\",\n          noteStyle: {\n            fontWeight: \"bold\",\n            fontSize: \"24px\",\n            paddingTop: \"5px\"\n          }\n        }, {\n          keyValue: \"PT_PROPERTY_ID\",\n          keyPath: [\"propertyId\"],\n          fallback: \"\"\n        }, {\n          keyValue: \"CS_OWNER_NAME\",\n          keyPath: [\"owners\", 0, \"name\"],\n          fallback: \"ES_TITLE_FSM\"\n        }, {\n          keyValue: \"PT_PROPERTY_ADDRESS\",\n          keyPath: [\"address\", \"locality\", \"name\"],\n          fallback: \"CS_APPLICATION_TYPE_DESLUDGING\"\n        }, {\n          keyValue: \"CS_PAYMENT_BILLING_PERIOD\",\n          keyPath: [\"billDetails\", function (d) {\n            var _d$ = d[0],\n              fromPeriod = _d$.fromPeriod,\n              toPeriod = _d$.toPeriod;\n            if (fromPeriod && toPeriod) {\n              var from = new Date(fromPeriod).getFullYear().toString();\n              var to = new Date(toPeriod).getFullYear().toString();\n              return \"FY \" + from + \"-\" + to;\n            } else return \"N/A\";\n          }],\n          fallback: \"N/A\"\n        }, {\n          keyValue: \"PT_DUE_DATE\",\n          keyPath: [\"billDetails\", function (d) {\n            var _d$2, _d$3;\n            if (!((_d$2 = d[0]) !== null && _d$2 !== void 0 && _d$2.toPeriod)) return \"N/A\";\n            var date = new Date((_d$3 = d[0]) === null || _d$3 === void 0 ? void 0 : _d$3.toPeriod);\n            var month = Digit.Utils.date.monthNames[date.getMonth()];\n            return date.getDate() + \" \" + month + \" \" + date.getFullYear();\n          }],\n          fallback: \"N/A\"\n        }],\n        response: []\n      };\n    case \"fsm\":\n      return {\n        \"my-bill\": [{\n          keyValue: \"CS_COMMON_AMOUNT_DUE\",\n          keyPath: [\"totalAmount\", function (d) {\n            return d.toFixed(2);\n          }, function (d) {\n            return \"₹\" + d;\n          }],\n          fallback: \"N/A\",\n          noteStyle: {\n            fontWeight: \"bold\",\n            fontSize: \"24px\",\n            paddingTop: \"5px\"\n          }\n        }],\n        response: []\n      };\n  }\n};\nvar useCashPaymentDetails = function useCashPaymentDetails(props, t) {\n  var config = [{\n    head: t(\"NOC_PAYMENT_RCPT_DETAILS\"),\n    headId: \"paymentInfo\",\n    body: [{\n      withoutLabel: true,\n      type: \"custom\",\n      populators: {\n        name: \"ManualRecieptDetails\",\n        customProps: {},\n        defaultValue: {\n          manualReceiptNumber: \"\",\n          manualReceiptDate: \"\"\n        },\n        component: function component(props, customProps) {\n          return /*#__PURE__*/React.createElement(CashDetailsComponent, _extends({}, customProps, {\n            onChange: props.onChange,\n            value: props.value\n          }));\n        }\n      }\n    }]\n  }];\n  return {\n    cashConfig: config\n  };\n};\nvar CashDetailsComponent = function CashDetailsComponent(_ref) {\n  var _props$value, _props$value2;\n  var props = _extends({}, (_objectDestructuringEmpty(_ref), _ref));\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var _useState = useState(props === null || props === void 0 ? void 0 : (_props$value = props.value) === null || _props$value === void 0 ? void 0 : _props$value.manualReceiptDate),\n    manualReceiptDate = _useState[0],\n    setManualReceiptDate = _useState[1];\n  var _useState2 = useState(props === null || props === void 0 ? void 0 : (_props$value2 = props.value) === null || _props$value2 === void 0 ? void 0 : _props$value2.manualReceiptNumber),\n    manualReceiptNumber = _useState2[0],\n    setManualReceiptNumber = _useState2[1];\n  useEffect(function () {\n    if (props.onChange) {\n      var errorObj = {};\n      if (!manualReceiptDate) errorObj.manualReceiptDate = \"ES_COMMON_MANUAL_RECEIPT_DATE\";\n      if (!manualReceiptNumber) errorObj.manualReceiptNumber = \"ES_COMMON_MANUAL_RECEIPT_NO\";\n      props.onChange({\n        manualReceiptNumber: manualReceiptNumber,\n        manualReceiptDate: manualReceiptDate,\n        errorObj: errorObj\n      });\n    }\n  }, [manualReceiptDate, manualReceiptNumber]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"label-field-pair\"\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"card-label\"\n  }, t(\"NOC_PAYMENT_RCPT_NO_LABEL\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field-container\"\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"employee-card-input\",\n    value: manualReceiptNumber,\n    type: \"text\",\n    name: \"instrumentNumber\",\n    onChange: function onChange(e) {\n      return setManualReceiptNumber(e.target.value);\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"label-field-pair\"\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"card-label\"\n  }, t(\"NOC_PAYMENT_RECEIPT_ISSUE_DATE_LABEL\"), \" \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field-container\"\n  }, /*#__PURE__*/React.createElement(DatePicker, {\n    date: manualReceiptDate,\n    onChange: function onChange(d) {\n      setManualReceiptDate(d);\n    }\n  })))));\n};\nvar useCardPaymentDetails = function useCardPaymentDetails(props, t) {\n  var config = [{\n    head: t(\"PAYMENT_CARD_HEAD\"),\n    headId: \"paymentInfo\",\n    body: [{\n      withoutLabel: true,\n      type: \"custom\",\n      populators: {\n        name: \"paymentModeDetails\",\n        customProps: {},\n        defaultValue: {},\n        component: function component(props, customProps) {\n          return /*#__PURE__*/React.createElement(CardDetailsComponent, _extends({\n            onChange: props.onChange,\n            value: props.value\n          }, customProps));\n        }\n      }\n    }]\n  }];\n  return {\n    cardConfig: config\n  };\n};\nvar CardDetailsComponent = function CardDetailsComponent(_ref) {\n  var _props$value, _props$value2, _props$value3;\n  var props = _extends({}, (_objectDestructuringEmpty(_ref), _ref));\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var _useState = useState(props === null || props === void 0 ? void 0 : (_props$value = props.value) === null || _props$value === void 0 ? void 0 : _props$value.last4Digits),\n    last4Digits = _useState[0],\n    setLast4Digits = _useState[1];\n  var _useState2 = useState(props === null || props === void 0 ? void 0 : (_props$value2 = props.value) === null || _props$value2 === void 0 ? void 0 : _props$value2.transactionNumber),\n    transactionNumber = _useState2[0],\n    setTransactionNumber = _useState2[1];\n  var _useState3 = useState(props === null || props === void 0 ? void 0 : (_props$value3 = props.value) === null || _props$value3 === void 0 ? void 0 : _props$value3.reTransanctionNumber),\n    reTransanctionNumber = _useState3[0],\n    setReTransanctionNumber = _useState3[1];\n  useEffect(function () {\n    if (props.onChange) {\n      var errorObj = {};\n      if (!last4Digits) errorObj.last4Digits = \"ES_COMMON_LAST_4_DIGITS\";\n      if (!transactionNumber) errorObj.transactionNumber = \"ES_COMMON_TRANSANCTION_NO\";\n      if (!reTransanctionNumber) errorObj.reTransanctionNumber = \"ES_COMMON_RE_TRANSANCTION_NO\";\n      props.onChange({\n        transactionNumber: transactionNumber,\n        reTransanctionNumber: reTransanctionNumber,\n        instrumentNumber: last4Digits,\n        errorObj: errorObj\n      });\n    }\n  }, [last4Digits, transactionNumber, reTransanctionNumber]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"label-field-pair\"\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"card-label\"\n  }, t(\"NOC_PAYMENT_CARD_LAST_DIGITS_LABEL\") + \" *\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field-container\"\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"employee-card-input\",\n    value: last4Digits,\n    type: \"text\",\n    name: \"instrumentNumber\",\n    maxLength: \"4\",\n    minLength: \"4\",\n    required: true,\n    onChange: function onChange(e) {\n      return setLast4Digits(e.target.value);\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"label-field-pair\"\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"card-label\"\n  }, t(\"NOC_PAYMENT_TRANS_NO_LABEL\") + \" *\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field-container\"\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"employee-card-input\",\n    value: transactionNumber,\n    type: \"text\",\n    name: \"instrumentNumber\",\n    required: true,\n    onChange: function onChange(e) {\n      return setTransactionNumber(e.target.value);\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"label-field-pair\"\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"card-label\"\n  }, t(\"NOC_PAYMENT_RENTR_TRANS_LABEL\") + \" *\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field-container\"\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"employee-card-input\",\n    value: reTransanctionNumber,\n    type: \"text\",\n    name: \"instrumentNumber\",\n    required: true,\n    onChange: function onChange(e) {\n      return setReTransanctionNumber(e.target.value);\n    }\n  })))));\n};\nvar useChequeDetails = function useChequeDetails(props, t) {\n  var config = [{\n    head: t(\"PAYMENT_CHEQUE_HEAD\"),\n    headId: \"paymentInfo\",\n    body: [{\n      withoutLabel: true,\n      type: \"custom\",\n      populators: {\n        name: \"paymentModeDetails\",\n        customProps: {},\n        defaultValue: {\n          instrumentNumber: \"\",\n          instrumentDate: \"\",\n          ifscCode: \"\",\n          bankName: \"\",\n          bankBranch: \"\"\n        },\n        component: function component(props, customProps) {\n          return /*#__PURE__*/React.createElement(ChequeDetailsComponent, _extends({\n            onChange: props.onChange,\n            chequeDetails: props.value\n          }, customProps));\n        }\n      }\n    }]\n  }];\n  return {\n    chequeConfig: config\n  };\n};\nvar ChequeDetailsComponent = function ChequeDetailsComponent(props) {\n  var _props$chequeDetails$, _React$createElement, _React$createElement2;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var _useState = useState(props.chequeDetails.instrumentDate),\n    instrumentDate = _useState[0],\n    setChequeDate = _useState[1];\n  var _useState2 = useState(props.chequeDetails.instrumentNumber),\n    instrumentNumber = _useState2[0],\n    setChequeNo = _useState2[1];\n  var _useState3 = useState(props.chequeDetails.ifscCode),\n    ifscCode = _useState3[0],\n    setIfsc = _useState3[1];\n  var _useState4 = useState(\"\"),\n    ifscCodeError = _useState4[0],\n    setIfscCodeError = _useState4[1];\n  var _useState5 = useState(props.chequeDetails.bankName),\n    bankName = _useState5[0],\n    setBankName = _useState5[1];\n  var _useState6 = useState((_props$chequeDetails$ = props.chequeDetails.bankBranch) === null || _props$chequeDetails$ === void 0 ? void 0 : _props$chequeDetails$.replace(\"┬á\", \" \")),\n    bankBranch = _useState6[0],\n    setBankBranch = _useState6[1];\n  useEffect(function () {\n    if (props.onChange) {\n      var errorObj = {};\n      if (!instrumentDate) errorObj.instrumentDate = \"ES_COMMON_INSTRUMENT_DATE\";\n      if (!instrumentNumber) errorObj.instrumentNumber = \"ES_COMMON_INSTR_NUMBER\";\n      if (!ifscCode) errorObj.ifscCode = \"ES_COMMON_IFSC\";\n      props.onChange({\n        instrumentDate: instrumentDate,\n        instrumentNumber: instrumentNumber,\n        ifscCode: ifscCode,\n        bankName: bankName,\n        bankBranch: bankBranch,\n        errorObj: errorObj,\n        transactionNumber: instrumentNumber\n      });\n    }\n  }, [bankName, bankBranch, instrumentDate, instrumentNumber]);\n  var setBankDetailsFromIFSC = function setBankDetailsFromIFSC() {\n    try {\n      var _temp3 = _catch(function () {\n        return Promise.resolve(window.fetch(\"https://ifsc.razorpay.com/\" + ifscCode)).then(function (res) {\n          var _temp = function () {\n            if (res.ok) {\n              return Promise.resolve(res.json()).then(function (_ref) {\n                var BANK = _ref.BANK,\n                  BRANCH = _ref.BRANCH;\n                setBankName(BANK);\n                setBankBranch(BRANCH === null || BRANCH === void 0 ? void 0 : BRANCH.replace(\"┬á\", \" \"));\n              });\n            } else setIfscCodeError(t(\"CS_PAYMENT_INCORRECT_IFSC_CODE_ERROR\"));\n          }();\n          if (_temp && _temp.then) return _temp.then(function () {});\n        });\n      }, function () {\n        setIfscCodeError(t(\"CS_PAYMENT_INCORRECT_IFSC_CODE_ERROR\"));\n      });\n      return Promise.resolve(_temp3 && _temp3.then ? _temp3.then(function () {}) : void 0);\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n  var handleIFSCChange = function handleIFSCChange(e) {\n    setIfsc(e.target.value);\n    setIfscCodeError(\"\");\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"label-field-pair\"\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"card-label\"\n  }, t(\"PAYMENT_CHQ_NO_LABEL\"), \" *\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field-container\"\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"employee-card-input\",\n    value: instrumentNumber,\n    type: \"text\",\n    name: \"instrumentNumber\",\n    onChange: function onChange(e) {\n      return setChequeNo(e.target.value);\n    },\n    required: true\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"label-field-pair\"\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"card-label\"\n  }, t(\"PAYMENT_CHEQUE_DATE_LABEL\"), \" *\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field-container\"\n  }, /*#__PURE__*/React.createElement(DatePicker, {\n    isRequired: true,\n    date: instrumentDate,\n    onChange: function onChange(d) {\n      setChequeDate(d);\n    }\n  })))), /*#__PURE__*/\n  React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"label-field-pair\"\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"card-label\"\n  }, t(\"PAYMENT_IFSC_CODE_LABEL\"), \" *\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\"\n  }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cheque-date\"\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    value: ifscCode,\n    type: \"text\",\n    onChange: handleIFSCChange,\n    minlength: \"11\",\n    maxlength: \"11\",\n    required: true\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: setBankDetailsFromIFSC\n  }, /*#__PURE__*/React.createElement(SearchIconSvg, null)))))), ifscCodeError && /*#__PURE__*/React.createElement(CardLabelError, {\n    style: {\n      width: \"70%\",\n      marginLeft: \"30%\",\n      fontSize: \"12px\",\n      marginTop: \"-21px\"\n    }\n  }, ifscCodeError), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"label-field-pair\"\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"card-label\"\n  }, t(\"PAYMENT_BANK_NAME_LABEL\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field-container\"\n  }, /*#__PURE__*/React.createElement(\"input\", (_React$createElement = {\n    className: \"employee-card-input\",\n    value: bankName,\n    type: \"text\"\n  }, _React$createElement[\"className\"] = \"employee-card-input\", _React$createElement.readOnly = true, _React$createElement.disabled = true, _React$createElement))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"label-field-pair\"\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"card-label\"\n  }, t(\"PAYMENT_BANK_BRANCH_LABEL\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field-container\"\n  }, /*#__PURE__*/React.createElement(\"input\", (_React$createElement2 = {\n    className: \"employee-card-input\",\n    value: bankBranch,\n    type: \"text\"\n  }, _React$createElement2[\"className\"] = \"employee-card-input\", _React$createElement2.readOnly = true, _React$createElement2.disabled = true, _React$createElement2)))))));\n};\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\nvar _listCacheClear = listCacheClear;\nfunction eq(value, other) {\n  return value === other || value !== value && other !== other;\n}\nvar eq_1 = eq;\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq_1(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\nvar _assocIndexOf = assocIndexOf;\nvar arrayProto = Array.prototype;\nvar splice = arrayProto.splice;\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n    index = _assocIndexOf(data, key);\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\nvar _listCacheDelete = listCacheDelete;\nfunction listCacheGet(key) {\n  var data = this.__data__,\n    index = _assocIndexOf(data, key);\n  return index < 0 ? undefined : data[index][1];\n}\nvar _listCacheGet = listCacheGet;\nfunction listCacheHas(key) {\n  return _assocIndexOf(this.__data__, key) > -1;\n}\nvar _listCacheHas = listCacheHas;\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n    index = _assocIndexOf(data, key);\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\nvar _listCacheSet = listCacheSet;\nfunction ListCache(entries) {\n  var index = -1,\n    length = entries == null ? 0 : entries.length;\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\nListCache.prototype.clear = _listCacheClear;\nListCache.prototype['delete'] = _listCacheDelete;\nListCache.prototype.get = _listCacheGet;\nListCache.prototype.has = _listCacheHas;\nListCache.prototype.set = _listCacheSet;\nvar _ListCache = ListCache;\nfunction stackClear() {\n  this.__data__ = new _ListCache();\n  this.size = 0;\n}\nvar _stackClear = stackClear;\nfunction stackDelete(key) {\n  var data = this.__data__,\n    result = data['delete'](key);\n  this.size = data.size;\n  return result;\n}\nvar _stackDelete = stackDelete;\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\nvar _stackGet = stackGet;\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\nvar _stackHas = stackHas;\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\nfunction createCommonjsModule(fn, module) {\n  return module = {\n    exports: {}\n  }, fn(module, module.exports), module.exports;\n}\nvar freeGlobal = typeof commonjsGlobal == 'object' && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal;\nvar _freeGlobal = freeGlobal;\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\nvar root = _freeGlobal || freeSelf || Function('return this')();\nvar _root = root;\nvar Symbol$1 = _root.Symbol;\nvar _Symbol = Symbol$1;\nvar objectProto = Object.prototype;\nvar hasOwnProperty = objectProto.hasOwnProperty;\nvar nativeObjectToString = objectProto.toString;\nvar symToStringTag = _Symbol ? _Symbol.toStringTag : undefined;\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n    tag = value[symToStringTag];\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\nvar _getRawTag = getRawTag;\nvar objectProto$1 = Object.prototype;\nvar nativeObjectToString$1 = objectProto$1.toString;\nfunction objectToString(value) {\n  return nativeObjectToString$1.call(value);\n}\nvar _objectToString = objectToString;\nvar nullTag = '[object Null]',\n  undefinedTag = '[object Undefined]';\nvar symToStringTag$1 = _Symbol ? _Symbol.toStringTag : undefined;\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return symToStringTag$1 && symToStringTag$1 in Object(value) ? _getRawTag(value) : _objectToString(value);\n}\nvar _baseGetTag = baseGetTag;\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\nvar isObject_1 = isObject;\nvar asyncTag = '[object AsyncFunction]',\n  funcTag = '[object Function]',\n  genTag = '[object GeneratorFunction]',\n  proxyTag = '[object Proxy]';\nfunction isFunction(value) {\n  if (!isObject_1(value)) {\n    return false;\n  }\n  var tag = _baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\nvar isFunction_1 = isFunction;\nvar coreJsData = _root['__core-js_shared__'];\nvar _coreJsData = coreJsData;\nvar maskSrcKey = function () {\n  var uid = /[^.]+$/.exec(_coreJsData && _coreJsData.keys && _coreJsData.keys.IE_PROTO || '');\n  return uid ? 'Symbol(src)_1.' + uid : '';\n}();\nfunction isMasked(func) {\n  return !!maskSrcKey && maskSrcKey in func;\n}\nvar _isMasked = isMasked;\nvar funcProto = Function.prototype;\nvar funcToString = funcProto.toString;\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return func + '';\n    } catch (e) {}\n  }\n  return '';\n}\nvar _toSource = toSource;\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\nvar funcProto$1 = Function.prototype,\n  objectProto$2 = Object.prototype;\nvar funcToString$1 = funcProto$1.toString;\nvar hasOwnProperty$1 = objectProto$2.hasOwnProperty;\nvar reIsNative = RegExp('^' + funcToString$1.call(hasOwnProperty$1).replace(reRegExpChar, '\\\\$&').replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$');\nfunction baseIsNative(value) {\n  if (!isObject_1(value) || _isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction_1(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(_toSource(value));\n}\nvar _baseIsNative = baseIsNative;\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\nvar _getValue = getValue;\nfunction getNative(object, key) {\n  var value = _getValue(object, key);\n  return _baseIsNative(value) ? value : undefined;\n}\nvar _getNative = getNative;\nvar Map = _getNative(_root, 'Map');\nvar _Map = Map;\nvar nativeCreate = _getNative(Object, 'create');\nvar _nativeCreate = nativeCreate;\nfunction hashClear() {\n  this.__data__ = _nativeCreate ? _nativeCreate(null) : {};\n  this.size = 0;\n}\nvar _hashClear = hashClear;\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\nvar _hashDelete = hashDelete;\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\nvar objectProto$3 = Object.prototype;\nvar hasOwnProperty$2 = objectProto$3.hasOwnProperty;\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (_nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty$2.call(data, key) ? data[key] : undefined;\n}\nvar _hashGet = hashGet;\nvar objectProto$4 = Object.prototype;\nvar hasOwnProperty$3 = objectProto$4.hasOwnProperty;\nfunction hashHas(key) {\n  var data = this.__data__;\n  return _nativeCreate ? data[key] !== undefined : hasOwnProperty$3.call(data, key);\n}\nvar _hashHas = hashHas;\nvar HASH_UNDEFINED$1 = '__lodash_hash_undefined__';\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = _nativeCreate && value === undefined ? HASH_UNDEFINED$1 : value;\n  return this;\n}\nvar _hashSet = hashSet;\nfunction Hash(entries) {\n  var index = -1,\n    length = entries == null ? 0 : entries.length;\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\nHash.prototype.clear = _hashClear;\nHash.prototype['delete'] = _hashDelete;\nHash.prototype.get = _hashGet;\nHash.prototype.has = _hashHas;\nHash.prototype.set = _hashSet;\nvar _Hash = Hash;\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new _Hash(),\n    'map': new (_Map || _ListCache)(),\n    'string': new _Hash()\n  };\n}\nvar _mapCacheClear = mapCacheClear;\nfunction isKeyable(value) {\n  var type = typeof value;\n  return type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean' ? value !== '__proto__' : value === null;\n}\nvar _isKeyable = isKeyable;\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return _isKeyable(key) ? data[typeof key == 'string' ? 'string' : 'hash'] : data.map;\n}\nvar _getMapData = getMapData;\nfunction mapCacheDelete(key) {\n  var result = _getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\nvar _mapCacheDelete = mapCacheDelete;\nfunction mapCacheGet(key) {\n  return _getMapData(this, key).get(key);\n}\nvar _mapCacheGet = mapCacheGet;\nfunction mapCacheHas(key) {\n  return _getMapData(this, key).has(key);\n}\nvar _mapCacheHas = mapCacheHas;\nfunction mapCacheSet(key, value) {\n  var data = _getMapData(this, key),\n    size = data.size;\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\nvar _mapCacheSet = mapCacheSet;\nfunction MapCache(entries) {\n  var index = -1,\n    length = entries == null ? 0 : entries.length;\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\nMapCache.prototype.clear = _mapCacheClear;\nMapCache.prototype['delete'] = _mapCacheDelete;\nMapCache.prototype.get = _mapCacheGet;\nMapCache.prototype.has = _mapCacheHas;\nMapCache.prototype.set = _mapCacheSet;\nvar _MapCache = MapCache;\nvar LARGE_ARRAY_SIZE = 200;\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof _ListCache) {\n    var pairs = data.__data__;\n    if (!_Map || pairs.length < LARGE_ARRAY_SIZE - 1) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new _MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\nvar _stackSet = stackSet;\nfunction Stack(entries) {\n  var data = this.__data__ = new _ListCache(entries);\n  this.size = data.size;\n}\nStack.prototype.clear = _stackClear;\nStack.prototype['delete'] = _stackDelete;\nStack.prototype.get = _stackGet;\nStack.prototype.has = _stackHas;\nStack.prototype.set = _stackSet;\nvar _Stack = Stack;\nvar HASH_UNDEFINED$2 = '__lodash_hash_undefined__';\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED$2);\n  return this;\n}\nvar _setCacheAdd = setCacheAdd;\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\nvar _setCacheHas = setCacheHas;\nfunction SetCache(values) {\n  var index = -1,\n    length = values == null ? 0 : values.length;\n  this.__data__ = new _MapCache();\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\nSetCache.prototype.add = SetCache.prototype.push = _setCacheAdd;\nSetCache.prototype.has = _setCacheHas;\nvar _SetCache = SetCache;\nfunction arraySome(array, predicate) {\n  var index = -1,\n    length = array == null ? 0 : array.length;\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\nvar _arraySome = arraySome;\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\nvar _cacheHas = cacheHas;\nvar COMPARE_PARTIAL_FLAG = 1,\n  COMPARE_UNORDERED_FLAG = 2;\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n    arrLength = array.length,\n    othLength = other.length;\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n    result = true,\n    seen = bitmask & COMPARE_UNORDERED_FLAG ? new _SetCache() : undefined;\n  stack.set(array, other);\n  stack.set(other, array);\n  while (++index < arrLength) {\n    var arrValue = array[index],\n      othValue = other[index];\n    if (customizer) {\n      var compared = isPartial ? customizer(othValue, arrValue, index, other, array, stack) : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    if (seen) {\n      if (!_arraySome(other, function (othValue, othIndex) {\n        if (!_cacheHas(seen, othIndex) && (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n          return seen.push(othIndex);\n        }\n      })) {\n        result = false;\n        break;\n      }\n    } else if (!(arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\nvar _equalArrays = equalArrays;\nvar Uint8Array = _root.Uint8Array;\nvar _Uint8Array = Uint8Array;\nfunction mapToArray(map) {\n  var index = -1,\n    result = Array(map.size);\n  map.forEach(function (value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\nvar _mapToArray = mapToArray;\nfunction setToArray(set) {\n  var index = -1,\n    result = Array(set.size);\n  set.forEach(function (value) {\n    result[++index] = value;\n  });\n  return result;\n}\nvar _setToArray = setToArray;\nvar COMPARE_PARTIAL_FLAG$1 = 1,\n  COMPARE_UNORDERED_FLAG$1 = 2;\nvar boolTag = '[object Boolean]',\n  dateTag = '[object Date]',\n  errorTag = '[object Error]',\n  mapTag = '[object Map]',\n  numberTag = '[object Number]',\n  regexpTag = '[object RegExp]',\n  setTag = '[object Set]',\n  stringTag = '[object String]',\n  symbolTag = '[object Symbol]';\nvar arrayBufferTag = '[object ArrayBuffer]',\n  dataViewTag = '[object DataView]';\nvar symbolProto = _Symbol ? _Symbol.prototype : undefined,\n  symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if (object.byteLength != other.byteLength || object.byteOffset != other.byteOffset) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n    case arrayBufferTag:\n      if (object.byteLength != other.byteLength || !equalFunc(new _Uint8Array(object), new _Uint8Array(other))) {\n        return false;\n      }\n      return true;\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      return eq_1(+object, +other);\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n    case regexpTag:\n    case stringTag:\n      return object == other + '';\n    case mapTag:\n      var convert = _mapToArray;\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG$1;\n      convert || (convert = _setToArray);\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG$1;\n      stack.set(object, other);\n      var result = _equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\nvar _equalByTag = equalByTag;\nfunction arrayPush(array, values) {\n  var index = -1,\n    length = values.length,\n    offset = array.length;\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\nvar _arrayPush = arrayPush;\nvar isArray = Array.isArray;\nvar isArray_1 = isArray;\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray_1(object) ? result : _arrayPush(result, symbolsFunc(object));\n}\nvar _baseGetAllKeys = baseGetAllKeys;\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n    length = array == null ? 0 : array.length,\n    resIndex = 0,\n    result = [];\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\nvar _arrayFilter = arrayFilter;\nfunction stubArray() {\n  return [];\n}\nvar stubArray_1 = stubArray;\nvar objectProto$5 = Object.prototype;\nvar propertyIsEnumerable = objectProto$5.propertyIsEnumerable;\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\nvar getSymbols = !nativeGetSymbols ? stubArray_1 : function (object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return _arrayFilter(nativeGetSymbols(object), function (symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\nvar _getSymbols = getSymbols;\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n    result = Array(n);\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\nvar _baseTimes = baseTimes;\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\nvar isObjectLike_1 = isObjectLike;\nvar argsTag = '[object Arguments]';\nfunction baseIsArguments(value) {\n  return isObjectLike_1(value) && _baseGetTag(value) == argsTag;\n}\nvar _baseIsArguments = baseIsArguments;\nvar objectProto$6 = Object.prototype;\nvar hasOwnProperty$4 = objectProto$6.hasOwnProperty;\nvar propertyIsEnumerable$1 = objectProto$6.propertyIsEnumerable;\nvar isArguments = _baseIsArguments(function () {\n  return arguments;\n}()) ? _baseIsArguments : function (value) {\n  return isObjectLike_1(value) && hasOwnProperty$4.call(value, 'callee') && !propertyIsEnumerable$1.call(value, 'callee');\n};\nvar isArguments_1 = isArguments;\nfunction stubFalse() {\n  return false;\n}\nvar stubFalse_1 = stubFalse;\nvar isBuffer_1 = createCommonjsModule(function (module, exports) {\n  var freeExports = exports && !exports.nodeType && exports;\n  var freeModule = freeExports && 'object' == 'object' && module && !module.nodeType && module;\n  var moduleExports = freeModule && freeModule.exports === freeExports;\n  var Buffer = moduleExports ? _root.Buffer : undefined;\n  var nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n  var isBuffer = nativeIsBuffer || stubFalse_1;\n  module.exports = isBuffer;\n});\nvar MAX_SAFE_INTEGER = 9007199254740991;\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length && (type == 'number' || type != 'symbol' && reIsUint.test(value)) && value > -1 && value % 1 == 0 && value < length;\n}\nvar _isIndex = isIndex;\nvar MAX_SAFE_INTEGER$1 = 9007199254740991;\nfunction isLength(value) {\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER$1;\n}\nvar isLength_1 = isLength;\nvar argsTag$1 = '[object Arguments]',\n  arrayTag = '[object Array]',\n  boolTag$1 = '[object Boolean]',\n  dateTag$1 = '[object Date]',\n  errorTag$1 = '[object Error]',\n  funcTag$1 = '[object Function]',\n  mapTag$1 = '[object Map]',\n  numberTag$1 = '[object Number]',\n  objectTag = '[object Object]',\n  regexpTag$1 = '[object RegExp]',\n  setTag$1 = '[object Set]',\n  stringTag$1 = '[object String]',\n  weakMapTag = '[object WeakMap]';\nvar arrayBufferTag$1 = '[object ArrayBuffer]',\n  dataViewTag$1 = '[object DataView]',\n  float32Tag = '[object Float32Array]',\n  float64Tag = '[object Float64Array]',\n  int8Tag = '[object Int8Array]',\n  int16Tag = '[object Int16Array]',\n  int32Tag = '[object Int32Array]',\n  uint8Tag = '[object Uint8Array]',\n  uint8ClampedTag = '[object Uint8ClampedArray]',\n  uint16Tag = '[object Uint16Array]',\n  uint32Tag = '[object Uint32Array]';\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] = typedArrayTags[int8Tag] = typedArrayTags[int16Tag] = typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] = typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] = typedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag$1] = typedArrayTags[arrayTag] = typedArrayTags[arrayBufferTag$1] = typedArrayTags[boolTag$1] = typedArrayTags[dataViewTag$1] = typedArrayTags[dateTag$1] = typedArrayTags[errorTag$1] = typedArrayTags[funcTag$1] = typedArrayTags[mapTag$1] = typedArrayTags[numberTag$1] = typedArrayTags[objectTag] = typedArrayTags[regexpTag$1] = typedArrayTags[setTag$1] = typedArrayTags[stringTag$1] = typedArrayTags[weakMapTag] = false;\nfunction baseIsTypedArray(value) {\n  return isObjectLike_1(value) && isLength_1(value.length) && !!typedArrayTags[_baseGetTag(value)];\n}\nvar _baseIsTypedArray = baseIsTypedArray;\nfunction baseUnary(func) {\n  return function (value) {\n    return func(value);\n  };\n}\nvar _baseUnary = baseUnary;\nvar _nodeUtil = createCommonjsModule(function (module, exports) {\n  var freeExports = exports && !exports.nodeType && exports;\n  var freeModule = freeExports && 'object' == 'object' && module && !module.nodeType && module;\n  var moduleExports = freeModule && freeModule.exports === freeExports;\n  var freeProcess = moduleExports && _freeGlobal.process;\n  var nodeUtil = function () {\n    try {\n      var types = freeModule && freeModule.require && freeModule.require('util').types;\n      if (types) {\n        return types;\n      }\n      return freeProcess && freeProcess.binding && freeProcess.binding('util');\n    } catch (e) {}\n  }();\n  module.exports = nodeUtil;\n});\nvar nodeIsTypedArray = _nodeUtil && _nodeUtil.isTypedArray;\nvar isTypedArray = nodeIsTypedArray ? _baseUnary(nodeIsTypedArray) : _baseIsTypedArray;\nvar isTypedArray_1 = isTypedArray;\nvar objectProto$7 = Object.prototype;\nvar hasOwnProperty$5 = objectProto$7.hasOwnProperty;\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray_1(value),\n    isArg = !isArr && isArguments_1(value),\n    isBuff = !isArr && !isArg && isBuffer_1(value),\n    isType = !isArr && !isArg && !isBuff && isTypedArray_1(value),\n    skipIndexes = isArr || isArg || isBuff || isType,\n    result = skipIndexes ? _baseTimes(value.length, String) : [],\n    length = result.length;\n  for (var key in value) {\n    if ((inherited || hasOwnProperty$5.call(value, key)) && !(skipIndexes && (key == 'length' || isBuff && (key == 'offset' || key == 'parent') || isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset') || _isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\nvar _arrayLikeKeys = arrayLikeKeys;\nvar objectProto$8 = Object.prototype;\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n    proto = typeof Ctor == 'function' && Ctor.prototype || objectProto$8;\n  return value === proto;\n}\nvar _isPrototype = isPrototype;\nfunction overArg(func, transform) {\n  return function (arg) {\n    return func(transform(arg));\n  };\n}\nvar _overArg = overArg;\nvar nativeKeys = _overArg(Object.keys, Object);\nvar _nativeKeys = nativeKeys;\nvar objectProto$9 = Object.prototype;\nvar hasOwnProperty$6 = objectProto$9.hasOwnProperty;\nfunction baseKeys(object) {\n  if (!_isPrototype(object)) {\n    return _nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty$6.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\nvar _baseKeys = baseKeys;\nfunction isArrayLike(value) {\n  return value != null && isLength_1(value.length) && !isFunction_1(value);\n}\nvar isArrayLike_1 = isArrayLike;\nfunction keys(object) {\n  return isArrayLike_1(object) ? _arrayLikeKeys(object) : _baseKeys(object);\n}\nvar keys_1 = keys;\nfunction getAllKeys(object) {\n  return _baseGetAllKeys(object, keys_1, _getSymbols);\n}\nvar _getAllKeys = getAllKeys;\nvar COMPARE_PARTIAL_FLAG$2 = 1;\nvar objectProto$a = Object.prototype;\nvar hasOwnProperty$7 = objectProto$a.hasOwnProperty;\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG$2,\n    objProps = _getAllKeys(object),\n    objLength = objProps.length,\n    othProps = _getAllKeys(other),\n    othLength = othProps.length;\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty$7.call(other, key))) {\n      return false;\n    }\n  }\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n      othValue = other[key];\n    if (customizer) {\n      var compared = isPartial ? customizer(othValue, objValue, key, other, object, stack) : customizer(objValue, othValue, key, object, other, stack);\n    }\n    if (!(compared === undefined ? objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack) : compared)) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n      othCtor = other.constructor;\n    if (objCtor != othCtor && 'constructor' in object && 'constructor' in other && !(typeof objCtor == 'function' && objCtor instanceof objCtor && typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\nvar _equalObjects = equalObjects;\nvar DataView = _getNative(_root, 'DataView');\nvar _DataView = DataView;\nvar Promise$1 = _getNative(_root, 'Promise');\nvar _Promise = Promise$1;\nvar Set = _getNative(_root, 'Set');\nvar _Set = Set;\nvar WeakMap = _getNative(_root, 'WeakMap');\nvar _WeakMap = WeakMap;\nvar mapTag$2 = '[object Map]',\n  objectTag$1 = '[object Object]',\n  promiseTag = '[object Promise]',\n  setTag$2 = '[object Set]',\n  weakMapTag$1 = '[object WeakMap]';\nvar dataViewTag$2 = '[object DataView]';\nvar dataViewCtorString = _toSource(_DataView),\n  mapCtorString = _toSource(_Map),\n  promiseCtorString = _toSource(_Promise),\n  setCtorString = _toSource(_Set),\n  weakMapCtorString = _toSource(_WeakMap);\nvar getTag = _baseGetTag;\nif (_DataView && getTag(new _DataView(new ArrayBuffer(1))) != dataViewTag$2 || _Map && getTag(new _Map()) != mapTag$2 || _Promise && getTag(_Promise.resolve()) != promiseTag || _Set && getTag(new _Set()) != setTag$2 || _WeakMap && getTag(new _WeakMap()) != weakMapTag$1) {\n  getTag = function getTag(value) {\n    var result = _baseGetTag(value),\n      Ctor = result == objectTag$1 ? value.constructor : undefined,\n      ctorString = Ctor ? _toSource(Ctor) : '';\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString:\n          return dataViewTag$2;\n        case mapCtorString:\n          return mapTag$2;\n        case promiseCtorString:\n          return promiseTag;\n        case setCtorString:\n          return setTag$2;\n        case weakMapCtorString:\n          return weakMapTag$1;\n      }\n    }\n    return result;\n  };\n}\nvar _getTag = getTag;\nvar COMPARE_PARTIAL_FLAG$3 = 1;\nvar argsTag$2 = '[object Arguments]',\n  arrayTag$1 = '[object Array]',\n  objectTag$2 = '[object Object]';\nvar objectProto$b = Object.prototype;\nvar hasOwnProperty$8 = objectProto$b.hasOwnProperty;\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray_1(object),\n    othIsArr = isArray_1(other),\n    objTag = objIsArr ? arrayTag$1 : _getTag(object),\n    othTag = othIsArr ? arrayTag$1 : _getTag(other);\n  objTag = objTag == argsTag$2 ? objectTag$2 : objTag;\n  othTag = othTag == argsTag$2 ? objectTag$2 : othTag;\n  var objIsObj = objTag == objectTag$2,\n    othIsObj = othTag == objectTag$2,\n    isSameTag = objTag == othTag;\n  if (isSameTag && isBuffer_1(object)) {\n    if (!isBuffer_1(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new _Stack());\n    return objIsArr || isTypedArray_1(object) ? _equalArrays(object, other, bitmask, customizer, equalFunc, stack) : _equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG$3)) {\n    var objIsWrapped = objIsObj && hasOwnProperty$8.call(object, '__wrapped__'),\n      othIsWrapped = othIsObj && hasOwnProperty$8.call(other, '__wrapped__');\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n        othUnwrapped = othIsWrapped ? other.value() : other;\n      stack || (stack = new _Stack());\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new _Stack());\n  return _equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\nvar _baseIsEqualDeep = baseIsEqualDeep;\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || !isObjectLike_1(value) && !isObjectLike_1(other)) {\n    return value !== value && other !== other;\n  }\n  return _baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\nvar _baseIsEqual = baseIsEqual;\nfunction isEqual(value, other) {\n  return _baseIsEqual(value, other);\n}\nvar isEqual_1 = isEqual;\nvar BillDetailsKeyNoteConfig = function BillDetailsKeyNoteConfig() {\n  return {\n    PT: {\n      heading: \"ES_BILL_DETAILS_PT_DETAILS_HEADING\",\n      details: [{\n        keyValue: \"PT_PROPERTY_ID\",\n        keyPath: [\"consumerCode\"],\n        fallback: \"\"\n      }, {\n        keyValue: \"CS_PAYMENT_BILLING_PERIOD\",\n        keyPath: [\"billDetails\", function (d) {\n          var _d$ = d[0],\n            fromPeriod = _d$.fromPeriod,\n            toPeriod = _d$.toPeriod;\n          if (fromPeriod && toPeriod) {\n            var from = new Date(fromPeriod).getFullYear().toString();\n            var to = new Date(toPeriod).getFullYear().toString();\n            return \"FY \" + from + \"-\" + to;\n          } else return \"N/A\";\n        }],\n        fallback: \"N/A\"\n      }, {\n        keyValue: \"CS_BILL_NO\",\n        keyPath: [\"billDetails\", function (d) {\n          var currentBillNo = d[0].currentBillNo;\n          if (currentBillNo) {\n            return currentBillNo;\n          } else return \"N/A\";\n        }],\n        fallback: \"N/A\"\n      }, {\n        keyValue: \"CS_BILL_DUEDATE\",\n        keyPath: [\"billDetails\", function (d) {\n          var currentExpiryDate = d[0].currentExpiryDate;\n          if (currentExpiryDate) {\n            return new Date(currentExpiryDate).toLocaleDateString();\n          } else return \"N/A\";\n        }],\n        fallback: \"N/A\"\n      }]\n    },\n    mcollect: {\n      heading: \"COMMON_PAY_SCREEN_HEADER\",\n      details: [{\n        keyValue: \"UC_CHALLAN_NO\",\n        keyPath: [\"consumerCode\"],\n        fallback: \"\"\n      }]\n    },\n    \"PT.MUTATION\": {\n      heading: \"COMMON_PAY_SCREEN_HEADER\",\n      details: [{\n        keyValue: \"PDF_STATIC_LABEL_MUATATION_NUMBER_LABEL\",\n        keyPath: [\"consumerCode\"],\n        fallback: \"\"\n      }, {\n        keyValue: \"CS_BILL_NO\",\n        keyPath: [\"billDetails\", function (d) {\n          var currentBillNo = d[0].currentBillNo;\n          if (currentBillNo) {\n            return currentBillNo;\n          } else return \"N/A\";\n        }],\n        fallback: \"N/A\"\n      }, {\n        keyValue: \"CS_BILL_DUEDATE\",\n        keyPath: [\"billDetails\", function (d) {\n          var currentExpiryDate = d[0].currentExpiryDate;\n          if (currentExpiryDate) {\n            return new Date(currentExpiryDate).toLocaleDateString();\n          } else return \"N/A\";\n        }],\n        fallback: \"N/A\"\n      }]\n    },\n    TL: {\n      heading: \"COMMON_PAY_SCREEN_HEADER\",\n      details: [{\n        keyValue: \"TL_TRADE_LICENSE_LABEL\",\n        keyPath: [\"consumerCode\"],\n        fallback: \"\"\n      }]\n    }\n  };\n};\nvar BillDetailsFormConfig = function BillDetailsFormConfig(props, t) {\n  return {\n    PT: [{\n      head: t(\"ES_BILL_DETAILS_PT_DETAILS_HEADING\"),\n      body: [{\n        withoutLabel: true,\n        type: \"custom\",\n        populators: {\n          name: \"amount\",\n          customProps: {\n            businessService: \"PT\",\n            consumerCode: props.consumerCode\n          },\n          component: function component(props, customProps) {\n            return /*#__PURE__*/React.createElement(BillDetails$1, _extends({\n              onChange: props.onChange,\n              amount: props.value\n            }, customProps));\n          }\n        }\n      }]\n    }],\n    mcollect: [{\n      head: t(\"COMMON_PAY_SCREEN_HEADER\"),\n      body: [{\n        withoutLabel: true,\n        type: \"custom\",\n        populators: {\n          name: \"amount\",\n          customProps: {\n            businessService: props.businessService,\n            consumerCode: props.consumerCode\n          },\n          component: function component(props, customProps) {\n            return /*#__PURE__*/React.createElement(BillDetails$1, _extends({\n              onChange: props.onChange,\n              amount: props.value\n            }, customProps));\n          }\n        }\n      }]\n    }],\n    \"PT.MUTATION\": [{\n      head: t(\"COMMON_PAY_SCREEN_HEADER\"),\n      body: [{\n        withoutLabel: true,\n        type: \"custom\",\n        populators: {\n          name: \"amount\",\n          customProps: {\n            businessService: props.businessService,\n            consumerCode: props.consumerCode\n          },\n          component: function component(props, customProps) {\n            return /*#__PURE__*/React.createElement(BillDetails$1, _extends({\n              onChange: props.onChange,\n              amount: props.value\n            }, customProps));\n          }\n        }\n      }]\n    }],\n    TL: [{\n      body: [{\n        withoutLabel: true,\n        type: \"custom\",\n        populators: {\n          name: \"amount\",\n          customProps: {\n            businessService: \"TL\",\n            consumerCode: props.consumerCode\n          },\n          component: function component(props, customProps) {\n            return /*#__PURE__*/React.createElement(BillDetails$1, _extends({\n              onChange: props.onChange,\n              amount: props.value\n            }, customProps));\n          }\n        }\n      }]\n    }]\n  };\n};\nvar BillDetails$1 = function BillDetails(_ref) {\n  var _bill$billDetails, _bill$billDetails2, _bill$billDetails2$so, _billDetails$billAcco, _arrears$toFixed, _arrears$toFixed2, _yearWiseBills$filter, _yearWiseBills$filter2, _yearWiseBills$filter3, _yearWiseBills$filter4, _yearWiseBills$filter5;\n  var businessService = _ref.businessService,\n    consumerCode = _ref.consumerCode,\n    onChange = _ref.onChange;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var _Digit$Hooks$useQuery = Digit.Hooks.useQueryParams(),\n    ModuleWorkflow = _Digit$Hooks$useQuery.workflow;\n  var tenantId = Digit.ULBService.getCurrentTenantId();\n  var _Digit$Hooks$useFetch = Digit.Hooks.useFetchPayment({\n      tenantId: tenantId,\n      businessService: businessService,\n      consumerCode: consumerCode\n    }),\n    data = _Digit$Hooks$useFetch.data,\n    isLoading = _Digit$Hooks$useFetch.isLoading;\n  var _useState = useState(),\n    bill = _useState[0],\n    setBill = _useState[1];\n  var _useState2 = useState(true),\n    showDetails = _useState2[0],\n    setShowDetails = _useState2[1];\n  var yearWiseBills = bill === null || bill === void 0 ? void 0 : (_bill$billDetails = bill.billDetails) === null || _bill$billDetails === void 0 ? void 0 : _bill$billDetails.sort(function (a, b) {\n    return b.fromPeriod - a.fromPeriod;\n  });\n  var billDetails = (yearWiseBills === null || yearWiseBills === void 0 ? void 0 : yearWiseBills[0]) || [];\n  var getTotal = function getTotal() {\n    return bill !== null && bill !== void 0 && bill.totalAmount ? bill === null || bill === void 0 ? void 0 : bill.totalAmount : 0;\n  };\n  var arrears = (bill === null || bill === void 0 ? void 0 : (_bill$billDetails2 = bill.billDetails) === null || _bill$billDetails2 === void 0 ? void 0 : (_bill$billDetails2$so = _bill$billDetails2.sort(function (a, b) {\n    return b.fromPeriod - a.fromPeriod;\n  })) === null || _bill$billDetails2$so === void 0 ? void 0 : _bill$billDetails2$so.reduce(function (total, current, index) {\n    return index === 0 ? total : total + current.amount;\n  }, 0)) || 0;\n  var _Digit$Hooks$useGetPa = Digit.Hooks.useGetPaymentRulesForBusinessServices(tenantId),\n    mdmsLoading = _Digit$Hooks$useGetPa.isLoading,\n    mdmsBillingData = _Digit$Hooks$useGetPa.data;\n  var _useState3 = useState(),\n    paymentRules = _useState3[0],\n    setPaymentRules = _useState3[1];\n  useEffect(function () {\n    var _mdmsBillingData$Mdms, _mdmsBillingData$Mdms2;\n    var payRestrictiondetails = mdmsBillingData === null || mdmsBillingData === void 0 ? void 0 : (_mdmsBillingData$Mdms = mdmsBillingData.MdmsRes) === null || _mdmsBillingData$Mdms === void 0 ? void 0 : (_mdmsBillingData$Mdms2 = _mdmsBillingData$Mdms.BillingService) === null || _mdmsBillingData$Mdms2 === void 0 ? void 0 : _mdmsBillingData$Mdms2.BusinessService;\n    if (payRestrictiondetails !== null && payRestrictiondetails !== void 0 && payRestrictiondetails.length) setPaymentRules(payRestrictiondetails.filter(function (e) {\n      return e.code == businessService;\n    })[0]);else setPaymentRules({});\n  }, [mdmsBillingData]);\n  var _ref2 = paymentRules || {},\n    minAmountPayable = _ref2.minAmountPayable,\n    isAdvanceAllowed = _ref2.isAdvanceAllowed;\n  var _useState4 = useState(t(\"CS_PAYMENT_FULL_AMOUNT\")),\n    paymentType = _useState4[0],\n    setPaymentType = _useState4[1];\n  var _useState5 = useState(getTotal()),\n    amount = _useState5[0],\n    setAmount = _useState5[1];\n  var _useState6 = useState(true),\n    paymentAllowed = _useState6[0],\n    setPaymentAllowed = _useState6[1];\n  var _useState7 = useState(\"\"),\n    formError = _useState7[0],\n    setError = _useState7[1];\n  var changeAmount = function changeAmount(value) {\n    setAmount(value);\n  };\n  useEffect(function () {\n    ModuleWorkflow === \"mcollect\" && (billDetails === null || billDetails === void 0 ? void 0 : billDetails.billAccountDetails) && (billDetails === null || billDetails === void 0 ? void 0 : billDetails.billAccountDetails.map(function (ob) {\n      if (ob.taxHeadCode.includes(\"CGST\")) ob.order = 3;else if (ob.taxHeadCode.includes(\"SGST\")) ob.order = 4;\n    }));\n  }, [billDetails === null || billDetails === void 0 ? void 0 : billDetails.billAccountDetails]);\n  useEffect(function () {\n    var allowPayment = minAmountPayable && amount >= minAmountPayable && !isAdvanceAllowed && amount <= getTotal() && !formError;\n    if (paymentType != t(\"CS_PAYMENT_FULL_AMOUNT\")) setPaymentAllowed(allowPayment);else setPaymentAllowed(true);\n  }, [paymentType, amount]);\n  useEffect(function () {\n    if (!bill && data) {\n      var requiredBill = data.Bill.filter(function (e) {\n        return e.consumerCode == consumerCode;\n      })[0];\n      setBill(requiredBill);\n    }\n  }, [data]);\n  useEffect(function () {\n    if (paymentType !== t(\"CS_PAYMENT_FULL_AMOUNT\")) onChangeAmount(amount.toString());else {\n      setError(\"\");\n      changeAmount(getTotal());\n    }\n  }, [paymentType, bill]);\n  useEffect(function () {\n    if (paymentType !== t(\"CS_PAYMENT_FULL_AMOUNT\")) onChange({\n      amount: amount,\n      paymentAllowed: paymentAllowed,\n      error: formError,\n      minAmountPayable: minAmountPayable\n    });else onChange({\n      amount: getTotal(),\n      paymentAllowed: true,\n      error: formError,\n      minAmountPayable: minAmountPayable\n    });\n  }, [paymentAllowed, formError, amount, paymentType]);\n  var onChangeAmount = function onChangeAmount(value) {\n    setError(\"\");\n    if (isNaN(value) || value.includes(\".\")) {\n      setError(\"AMOUNT_INVALID\");\n    } else if (!isAdvanceAllowed && value > getTotal()) {\n      setError(\"CS_ADVANCED_PAYMENT_NOT_ALLOWED\");\n    } else if (value < minAmountPayable) {\n      setError(\"CS_CANT_PAY_BELOW_MIN_AMOUNT\");\n    }\n    changeAmount(value);\n  };\n  if (isLoading || mdmsLoading) return /*#__PURE__*/React.createElement(Loader, null);\n  var getFinancialYear = function getFinancialYear(_bill) {\n    var fromPeriod = _bill.fromPeriod,\n      toPeriod = _bill.toPeriod;\n    var from = new Date(fromPeriod).getFullYear().toString();\n    var to = new Date(toPeriod).getFullYear().toString();\n    return from + \"-\" + to;\n  };\n  var thStyle = {\n    textAlign: \"left\",\n    borderBottom: \"#D6D5D4 1px solid\",\n    padding: \"16px 12px\",\n    whiteSpace: \"break-spaces\"\n  };\n  var tdStyle = {\n    textAlign: \"left\",\n    borderBottom: \"#D6D5D4 1px solid\",\n    padding: \"8px 10px\",\n    breakWord: \"no-break\"\n  };\n  var config = BillDetailsKeyNoteConfig()[ModuleWorkflow ? ModuleWorkflow : businessService];\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(StatusTable, null, bill && config.details.map(function (obj, index) {\n    var value = obj.keyPath.reduce(function (acc, key) {\n      if (typeof key === \"function\") acc = key(acc);else acc = acc[key];\n      return acc;\n    }, bill);\n    return /*#__PURE__*/React.createElement(Row, {\n      key: index + \"bill\",\n      label: t(obj.keyValue),\n      text: value\n    });\n  })), /*#__PURE__*/React.createElement(StatusTable, {\n    style: {\n      paddingTop: \"46px\"\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    label: t(\"ES_PAYMENT_TAXHEADS\"),\n    textStyle: {\n      fontWeight: \"bold\"\n    },\n    text: t(\"ES_PAYMENT_AMOUNT\")\n  }), /*#__PURE__*/React.createElement(\"hr\", {\n    style: {\n      width: \"40%\"\n    },\n    className: \"underline\"\n  }), billDetails === null || billDetails === void 0 ? void 0 : (_billDetails$billAcco = billDetails.billAccountDetails) === null || _billDetails$billAcco === void 0 ? void 0 : _billDetails$billAcco.sort(function (a, b) {\n    return a.order - b.order;\n  }).map(function (amountDetails, index) {\n    var _amountDetails$amount;\n    return /*#__PURE__*/React.createElement(Row, {\n      key: index + \"taxheads\",\n      labelStyle: {\n        fontWeight: \"normal\"\n      },\n      textStyle: {\n        textAlign: \"right\",\n        maxWidth: \"100px\"\n      },\n      label: t(amountDetails.taxHeadCode),\n      text: \"₹ \" + ((_amountDetails$amount = amountDetails.amount) === null || _amountDetails$amount === void 0 ? void 0 : _amountDetails$amount.toFixed(2))\n    });\n  }), arrears !== null && arrears !== void 0 && (_arrears$toFixed = arrears.toFixed) !== null && _arrears$toFixed !== void 0 && _arrears$toFixed.call(arrears, 2) ? /*#__PURE__*/React.createElement(Row, {\n    labelStyle: {\n      fontWeight: \"normal\"\n    },\n    textStyle: {\n      textAlign: \"right\",\n      maxWidth: \"100px\"\n    },\n    label: t(\"COMMON_ARREARS\"),\n    text: \"₹ \" + (arrears === null || arrears === void 0 ? void 0 : (_arrears$toFixed2 = arrears.toFixed) === null || _arrears$toFixed2 === void 0 ? void 0 : _arrears$toFixed2.call(arrears, 2)) || Number(0).toFixed(2)\n  }) : null, /*#__PURE__*/React.createElement(\"hr\", {\n    style: {\n      width: \"40%\"\n    },\n    className: \"underline\"\n  }), /*#__PURE__*/React.createElement(Row, {\n    label: t(\"CS_PAYMENT_TOTAL_AMOUNT\"),\n    textStyle: {\n      fontWeight: \"bold\",\n      textAlign: \"right\",\n      maxWidth: \"100px\"\n    },\n    text: \"₹ \" + getTotal()\n  }), !showDetails && !ModuleWorkflow && businessService !== \"TL\" && (yearWiseBills === null || yearWiseBills === void 0 ? void 0 : yearWiseBills.length) > 1 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row last\"\n  }, /*#__PURE__*/React.createElement(\"h2\", null), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      textAlign: \"right\",\n      maxWidth: \"100px\"\n    },\n    onClick: function onClick() {\n      return setShowDetails(true);\n    },\n    className: \"filter-button value\"\n  }, t(\"ES_COMMON_VIEW_DETAILS\")))), showDetails && (yearWiseBills === null || yearWiseBills === void 0 ? void 0 : yearWiseBills.length) > 1 && !ModuleWorkflow && businessService !== \"TL\" && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      maxWidth: \"95%\",\n      display: \"inline-block\",\n      textAlign: \"right\"\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      padding: \"10px\",\n      paddingLeft: \"unset\",\n      maxWidth: \"95%\"\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      backgroundColor: \"#EEEEEE\",\n      overflowX: \"auto\"\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table-fixed-column-common-pay\"\n  }, /*#__PURE__*/React.createElement(\"thead\", null, /*#__PURE__*/React.createElement(\"tr\", null, /*#__PURE__*/React.createElement(\"th\", {\n    style: thStyle\n  }, t(\"FINANCIAL_YEAR\")), /*#__PURE__*/React.createElement(\"th\", {\n    style: _extends({}, thStyle)\n  }, t(\"CS_BILL_NO\")), /*#__PURE__*/React.createElement(\"th\", {\n    style: _extends({}, thStyle)\n  }, t(\"CS_BILL_DUEDATE\")), yearWiseBills === null || yearWiseBills === void 0 ? void 0 : (_yearWiseBills$filter = yearWiseBills.filter(function (e, ind) {\n    return ind > 0;\n  })) === null || _yearWiseBills$filter === void 0 ? void 0 : (_yearWiseBills$filter2 = _yearWiseBills$filter[0]) === null || _yearWiseBills$filter2 === void 0 ? void 0 : (_yearWiseBills$filter3 = _yearWiseBills$filter2.billAccountDetails) === null || _yearWiseBills$filter3 === void 0 ? void 0 : (_yearWiseBills$filter4 = _yearWiseBills$filter3.sort(function (a, b) {\n    return a.order - b.order;\n  })) === null || _yearWiseBills$filter4 === void 0 ? void 0 : _yearWiseBills$filter4.map(function (head, index) {\n    return /*#__PURE__*/React.createElement(\"th\", {\n      style: _extends({}, thStyle),\n      key: index\n    }, t(head.taxHeadCode));\n  }), /*#__PURE__*/React.createElement(\"th\", {\n    style: thStyle\n  }, t(\"TOTAL_TAX\")))), /*#__PURE__*/React.createElement(\"tbody\", null, yearWiseBills === null || yearWiseBills === void 0 ? void 0 : (_yearWiseBills$filter5 = yearWiseBills.filter(function (e, ind) {\n    return ind > 0;\n  })) === null || _yearWiseBills$filter5 === void 0 ? void 0 : _yearWiseBills$filter5.map(function (year_bill, index) {\n    var _year_bill$billAccoun;\n    var sorted_tax_heads = year_bill === null || year_bill === void 0 ? void 0 : (_year_bill$billAccoun = year_bill.billAccountDetails) === null || _year_bill$billAccoun === void 0 ? void 0 : _year_bill$billAccoun.sort(function (a, b) {\n      return a.order - b.order;\n    });\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: index\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      style: tdStyle\n    }, getFinancialYear(year_bill)), /*#__PURE__*/React.createElement(\"td\", {\n      style: tdStyle\n    }, year_bill === null || year_bill === void 0 ? void 0 : year_bill.billNumber), /*#__PURE__*/React.createElement(\"td\", {\n      style: tdStyle\n    }, (year_bill === null || year_bill === void 0 ? void 0 : year_bill.expiryDate) && new Date(year_bill === null || year_bill === void 0 ? void 0 : year_bill.expiryDate).toLocaleDateString()), sorted_tax_heads.map(function (e, i) {\n      return /*#__PURE__*/React.createElement(\"td\", {\n        style: tdStyle,\n        key: i\n      }, e.amount);\n    }), /*#__PURE__*/React.createElement(\"td\", {\n      style: tdStyle\n    }, year_bill.amount));\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      float: \"right\"\n    },\n    onClick: function onClick() {\n      return setShowDetails(false);\n    },\n    className: \"filter-button\"\n  }, t(\"ES_COMMON_HIDE_DETAILS\"))), \" \"), (paymentRules === null || paymentRules === void 0 ? void 0 : paymentRules.partPaymentAllowed) && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: \"50px\"\n    },\n    className: \"bill-payment-amount\"\n  }, /*#__PURE__*/React.createElement(CardSectionHeader, null, t(\"CS_COMMON_PAYMENT_AMOUNT\")), /*#__PURE__*/React.createElement(RadioButtons, {\n    style: {\n      display: \"flex\"\n    },\n    innerStyles: {\n      padding: \"5px\"\n    },\n    selectedOption: paymentType,\n    onSelect: setPaymentType,\n    options: paymentRules.partPaymentAllowed ? [t(\"CS_PAYMENT_FULL_AMOUNT\"), t(\"CS_PAYMENT_CUSTOM_AMOUNT\")] : [t(\"CS_PAYMENT_FULL_AMOUNT\")]\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      position: \"relative\"\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"payment-amount-front\",\n    style: {\n      border: \"1px solid \" + (paymentType === t(\"CS_PAYMENT_FULL_AMOUNT\") ? \"#9a9a9a\" : \"black\")\n    }\n  }, \"\\u20B9\"), paymentType !== t(\"CS_PAYMENT_FULL_AMOUNT\") ? /*#__PURE__*/React.createElement(TextInput, {\n    style: {\n      width: \"30%\"\n    },\n    className: \"text-indent-xl\",\n    onChange: function onChange(e) {\n      return onChangeAmount(e.target.value);\n    },\n    value: amount,\n    disable: getTotal() === 0\n  }) : /*#__PURE__*/React.createElement(TextInput, {\n    style: {\n      width: \"30%\"\n    },\n    className: \"text-indent-xl\",\n    value: getTotal(),\n    disable: true\n  }), formError === \"CS_CANT_PAY_BELOW_MIN_AMOUNT\" ? /*#__PURE__*/React.createElement(\"span\", {\n    className: \"card-label-error\"\n  }, t(formError), \": \", \"₹\" + minAmountPayable) : /*#__PURE__*/React.createElement(\"span\", {\n    className: \"card-label-error\"\n  }, t(formError)))));\n};\nvar _excluded$3 = [\"ManualRecieptDetails\", \"paymentModeDetails\"],\n  _excluded2 = [\"errorObj\"];\nvar CollectPayment = function CollectPayment(props) {\n  var _Digit$Hooks$useQuery = Digit.Hooks.useQueryParams(),\n    ModuleWorkflow = _Digit$Hooks$useQuery.workflow;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var history = useHistory();\n  var queryClient = useQueryClient();\n  var _useRouteMatch = useRouteMatch();\n  var _useParams = useParams(),\n    consumerCode = _useParams.consumerCode,\n    businessService = _useParams.businessService;\n  var tenantId = Digit.ULBService.getCurrentTenantId();\n  var _Digit$Hooks$useFetch = Digit.Hooks.useFetchPayment({\n      tenantId: tenantId,\n      consumerCode: consumerCode,\n      businessService: businessService\n    }),\n    paymentdetails = _Digit$Hooks$useFetch.data,\n    isLoading = _Digit$Hooks$useFetch.isLoading;\n  var bill = paymentdetails !== null && paymentdetails !== void 0 && paymentdetails.Bill ? paymentdetails === null || paymentdetails === void 0 ? void 0 : paymentdetails.Bill[0] : {};\n  var _useCardPaymentDetail = useCardPaymentDetails(props, t),\n    cardConfig = _useCardPaymentDetail.cardConfig;\n  var _useChequeDetails = useChequeDetails(props, t),\n    chequeConfig = _useChequeDetails.chequeConfig;\n  var _useCashPaymentDetail = useCashPaymentDetails(props, t),\n    cashConfig = _useCashPaymentDetail.cashConfig;\n  var _useState = useState({}),\n    formState = _useState[0],\n    setFormState = _useState[1];\n  var _useState2 = useState(null),\n    toast = _useState2[0],\n    setToast = _useState2[1];\n  var defaultPaymentModes = [{\n    code: \"CASH\",\n    label: t(\"COMMON_MASTERS_PAYMENTMODE_CASH\")\n  }, {\n    code: \"CHEQUE\",\n    label: t(\"COMMON_MASTERS_PAYMENTMODE_CHEQUE\")\n  }, {\n    code: \"CARD\",\n    label: t(\"COMMON_MASTERS_PAYMENTMODE_CREDIT/DEBIT CARD\")\n  }];\n  var formConfigMap = {\n    CHEQUE: chequeConfig,\n    CARD: cardConfig\n  };\n  useEffect(function () {\n    props.setLink(t(\"PAYMENT_COLLECT_LABEL\"));\n  }, []);\n  var getPaymentModes = function getPaymentModes() {\n    return defaultPaymentModes;\n  };\n  var paidByMenu = [{\n    code: \"OWNER\",\n    name: t(\"COMMON_OWNER\")\n  }, {\n    code: \"OTHER\",\n    name: t(\"COMMON_OTHER\")\n  }];\n  var _useState3 = useState((formState === null || formState === void 0 ? void 0 : formState.selectedPaymentMode) || getPaymentModes()[0]),\n    selectedPaymentMode = _useState3[0],\n    setPaymentMode = _useState3[1];\n  var onSubmit = function onSubmit(data) {\n    try {\n      var _data$amount, _data$amount6, _data$amount7, _data$paymentMode, _data$paymentModeDeta, _recieptRequest$Payme2, _recieptRequest$Payme3, _recieptRequest$Payme4, _recieptRequest$Payme5, _recieptRequest$Payme6;\n      bill.totalAmount = Math.round(bill.totalAmount);\n      data.paidBy = data.paidBy.code;\n      if (BillDetailsFormConfig({\n        consumerCode: consumerCode,\n        businessService: businessService\n      }, t)[ModuleWorkflow ? ModuleWorkflow : businessService] && !(data !== null && data !== void 0 && (_data$amount = data.amount) !== null && _data$amount !== void 0 && _data$amount.paymentAllowed)) {\n        var _data$amount2, _data$amount3, _data$amount4, _data$amount5;\n        var action = (data === null || data === void 0 ? void 0 : (_data$amount2 = data.amount) === null || _data$amount2 === void 0 ? void 0 : _data$amount2.error) === \"CS_CANT_PAY_BELOW_MIN_AMOUNT\" ? t(data === null || data === void 0 ? void 0 : (_data$amount3 = data.amount) === null || _data$amount3 === void 0 ? void 0 : _data$amount3.error) + \"- \" + (data === null || data === void 0 ? void 0 : (_data$amount4 = data.amount) === null || _data$amount4 === void 0 ? void 0 : _data$amount4.minAmountPayable) : t(data === null || data === void 0 ? void 0 : (_data$amount5 = data.amount) === null || _data$amount5 === void 0 ? void 0 : _data$amount5.error);\n        setToast({\n          key: \"error\",\n          action: action\n        });\n        return Promise.resolve();\n      }\n      var ManualRecieptDetails = data.ManualRecieptDetails,\n        paymentModeDetails = data.paymentModeDetails,\n        rest = _objectWithoutPropertiesLoose(data, _excluded$3);\n      var _ref = paymentModeDetails || {},\n        errorObj = _ref.errorObj,\n        details = _objectWithoutPropertiesLoose(_ref, _excluded2);\n      var recieptRequest = {\n        Payment: {\n          mobileNumber: data.payerMobile,\n          paymentDetails: [{\n            businessService: businessService,\n            billId: bill.id,\n            totalDue: bill.totalAmount,\n            totalAmountPaid: (data === null || data === void 0 ? void 0 : (_data$amount6 = data.amount) === null || _data$amount6 === void 0 ? void 0 : _data$amount6.amount) || bill.totalAmount\n          }],\n          tenantId: bill.tenantId,\n          totalDue: bill.totalAmount,\n          totalAmountPaid: (data === null || data === void 0 ? void 0 : (_data$amount7 = data.amount) === null || _data$amount7 === void 0 ? void 0 : _data$amount7.amount) || bill.totalAmount,\n          paymentMode: data.paymentMode.code,\n          payerName: data.payerName,\n          paidBy: data.paidBy\n        }\n      };\n      if (data.ManualRecieptDetails.manualReceiptDate) {\n        recieptRequest.Payment.paymentDetails[0].manualReceiptDate = new Date(ManualRecieptDetails.manualReceiptDate).getTime();\n      }\n      if (data.ManualRecieptDetails.manualReceiptNumber) {\n        recieptRequest.Payment.paymentDetails[0].manualReceiptNumber = ManualRecieptDetails.manualReceiptNumber;\n      }\n      recieptRequest.Payment.paymentMode = data === null || data === void 0 ? void 0 : (_data$paymentMode = data.paymentMode) === null || _data$paymentMode === void 0 ? void 0 : _data$paymentMode.code;\n      if (data.paymentModeDetails) {\n        var _recieptRequest$Payme;\n        recieptRequest.Payment = _extends({}, recieptRequest.Payment, details);\n        delete recieptRequest.Payment.paymentModeDetails;\n        if (data.paymentModeDetails.errorObj) {\n          var errors = data.paymentModeDetails.errorObj;\n          var messages = Object.keys(errors).map(function (e) {\n            return t(errors[e]);\n          }).join();\n          if (messages) {\n            setToast({\n              key: \"error\",\n              action: messages + \" \" + t(\"ES_ERROR_REQUIRED\")\n            });\n            setTimeout(function () {\n              return setToast(null);\n            }, 5000);\n            return Promise.resolve();\n          }\n        }\n        if (data.errorMsg) setToast({\n          key: \"error\",\n          action: t(errorMsg)\n        });\n        recieptRequest.Payment.instrumentDate = new Date(recieptRequest === null || recieptRequest === void 0 ? void 0 : (_recieptRequest$Payme = recieptRequest.Payment) === null || _recieptRequest$Payme === void 0 ? void 0 : _recieptRequest$Payme.instrumentDate).getTime();\n        recieptRequest.Payment.transactionNumber = data.paymentModeDetails.transactionNumber;\n      }\n      if (data !== null && data !== void 0 && (_data$paymentModeDeta = data.paymentModeDetails) !== null && _data$paymentModeDeta !== void 0 && _data$paymentModeDeta.transactionNumber) {\n        if (data.paymentModeDetails.transactionNumber !== data.paymentModeDetails.reTransanctionNumber && [\"CARD\"].includes(data.paymentMode.code)) {\n          setToast({\n            key: \"error\",\n            action: t(\"ERR_TRASACTION_NUMBERS_DONT_MATCH\")\n          });\n          setTimeout(function () {\n            return setToast(null);\n          }, 5000);\n          return Promise.resolve();\n        }\n        delete recieptRequest.Payment.last4Digits;\n        delete recieptRequest.Payment.reTransanctionNumber;\n      }\n      if ((_recieptRequest$Payme2 = recieptRequest.Payment) !== null && _recieptRequest$Payme2 !== void 0 && (_recieptRequest$Payme3 = _recieptRequest$Payme2.instrumentNumber) !== null && _recieptRequest$Payme3 !== void 0 && _recieptRequest$Payme3.length && ((_recieptRequest$Payme4 = recieptRequest.Payment) === null || _recieptRequest$Payme4 === void 0 ? void 0 : (_recieptRequest$Payme5 = _recieptRequest$Payme4.instrumentNumber) === null || _recieptRequest$Payme5 === void 0 ? void 0 : _recieptRequest$Payme5.length) < 6 && (recieptRequest === null || recieptRequest === void 0 ? void 0 : (_recieptRequest$Payme6 = recieptRequest.Payment) === null || _recieptRequest$Payme6 === void 0 ? void 0 : _recieptRequest$Payme6.paymentMode) === \"CHEQUE\") {\n        setToast({\n          key: \"error\",\n          action: t(\"ERR_CHEQUE_NUMBER_LESS_THAN_6\")\n        });\n        setTimeout(function () {\n          return setToast(null);\n        }, 5000);\n        return Promise.resolve();\n      }\n      var _temp2 = _catch(function () {\n        return Promise.resolve(Digit.PaymentService.createReciept(tenantId, recieptRequest)).then(function (resposne) {\n          var _resposne$Payments$, _resposne$Payments$$p, _resposne$Payments$2, _resposne$Payments$2$, _resposne$Payments$2$2;\n          queryClient.invalidateQueries();\n          history.push(props.basePath + \"/success/\" + businessService + \"/\" + (resposne === null || resposne === void 0 ? void 0 : (_resposne$Payments$ = resposne.Payments[0]) === null || _resposne$Payments$ === void 0 ? void 0 : (_resposne$Payments$$p = _resposne$Payments$.paymentDetails[0]) === null || _resposne$Payments$$p === void 0 ? void 0 : _resposne$Payments$$p.receiptNumber.replace(/\\//g, \"%2F\")) + \"/\" + (resposne === null || resposne === void 0 ? void 0 : (_resposne$Payments$2 = resposne.Payments[0]) === null || _resposne$Payments$2 === void 0 ? void 0 : (_resposne$Payments$2$ = _resposne$Payments$2.paymentDetails[0]) === null || _resposne$Payments$2$ === void 0 ? void 0 : (_resposne$Payments$2$2 = _resposne$Payments$2$.bill) === null || _resposne$Payments$2$2 === void 0 ? void 0 : _resposne$Payments$2$2.consumerCode));\n        });\n      }, function (error) {\n        var _setToast, _error$response, _error$response$data, _error$response$data$;\n        (_setToast = setToast({\n          key: \"error\",\n          action: error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : (_error$response$data$ = _error$response$data.Errors) === null || _error$response$data$ === void 0 ? void 0 : _error$response$data$.map(function (e) {\n            return t(e.code);\n          })\n        })) === null || _setToast === void 0 ? void 0 : _setToast.join(\" , \");\n        setTimeout(function () {\n          return setToast(null);\n        }, 5000);\n      });\n      return Promise.resolve(_temp2 && _temp2.then ? _temp2.then(function () {}) : void 0);\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n  useEffect(function () {\n    var _document, _document$getElementB, _document2, _document2$querySelec;\n    (_document = document) === null || _document === void 0 ? void 0 : (_document$getElementB = _document.getElementById(\"paymentInfo\")) === null || _document$getElementB === void 0 ? void 0 : _document$getElementB.scrollIntoView({\n      behavior: \"smooth\"\n    });\n    (_document2 = document) === null || _document2 === void 0 ? void 0 : (_document2$querySelec = _document2.querySelector(\"#paymentInfo + .label-field-pair input\")) === null || _document2$querySelec === void 0 ? void 0 : _document2$querySelec.focus();\n  }, [selectedPaymentMode]);\n  var config = [{\n    head: !ModuleWorkflow && businessService !== \"TL\" ? t(\"COMMON_PAYMENT_HEAD\") : \"\",\n    body: [{\n      label: t(\"PAY_TOTAL_AMOUNT\"),\n      populators: /*#__PURE__*/React.createElement(CardSectionHeader, {\n        style: {\n          marginBottom: 0,\n          textAlign: \"right\"\n        }\n      }, \" \", \"\\u20B9 \" + (bill === null || bill === void 0 ? void 0 : bill.totalAmount), \" \")\n    }]\n  }, {\n    head: t(\"PAYMENT_PAID_BY_HEAD\"),\n    body: [{\n      label: t(\"PAYMENT_PAID_BY_LABEL\"),\n      isMandatory: true,\n      type: \"custom\",\n      populators: {\n        name: \"paidBy\",\n        customProps: {\n          t: t,\n          isMendatory: true,\n          option: paidByMenu,\n          optionKey: \"name\"\n        },\n        component: function component(props, customProps) {\n          return /*#__PURE__*/React.createElement(Dropdown, _extends({}, customProps, {\n            selected: props.value,\n            select: function select(d) {\n              if (d.name == paidByMenu[0].name) {\n                props.setValue(\"payerName\", bill === null || bill === void 0 ? void 0 : bill.payerName);\n                props.setValue(\"payerMobile\", bill === null || bill === void 0 ? void 0 : bill.mobileNumber);\n              } else {\n                props.setValue(\"payerName\", \"\");\n                props.setValue(\"payerMobile\", \"\");\n              }\n              props.onChange(d);\n            }\n          }));\n        },\n        defaultValue: (formState === null || formState === void 0 ? void 0 : formState.paidBy) || paidByMenu[0]\n      }\n    }, {\n      label: t(\"PAYMENT_PAYER_NAME_LABEL\"),\n      isMandatory: true,\n      type: \"text\",\n      populators: {\n        name: \"payerName\",\n        validation: {\n          required: true,\n          pattern: /^[A-Za-z]/\n        },\n        error: t(\"PAYMENT_INVALID_NAME\"),\n        defaultValue: (bill === null || bill === void 0 ? void 0 : bill.payerName) || (formState === null || formState === void 0 ? void 0 : formState.payerName) || \"\",\n        className: \"payment-form-text-input-correction\"\n      }\n    }, {\n      label: t(\"PAYMENT_PAYER_MOB_LABEL\"),\n      isMandatory: true,\n      type: \"text\",\n      populators: {\n        name: \"payerMobile\",\n        validation: {\n          required: true,\n          pattern: /^[6-9]\\d{9}$/\n        },\n        error: t(\"PAYMENT_INVALID_MOBILE\"),\n        className: \"payment-form-text-input-correction\",\n        defaultValue: (bill === null || bill === void 0 ? void 0 : bill.mobileNumber) || (formState === null || formState === void 0 ? void 0 : formState.payerMobile) || \"\"\n      }\n    }]\n  }, {\n    head: t(\"PAYMENT_MODE_HEAD\"),\n    body: [{\n      label: t(\"PAYMENT_MODE_LABEL\"),\n      type: \"custom\",\n      populators: {\n        name: \"paymentMode\",\n        customProps: {\n          options: getPaymentModes(),\n          optionsKey: \"label\",\n          style: {\n            display: \"flex\",\n            flexWrap: \"wrap\"\n          },\n          innerStyles: {\n            minWidth: \"33%\"\n          }\n        },\n        defaultValue: (formState === null || formState === void 0 ? void 0 : formState.paymentMode) || getPaymentModes()[0],\n        component: function component(props, customProps) {\n          return /*#__PURE__*/React.createElement(RadioButtons, _extends({\n            selectedOption: props.value,\n            onSelect: function onSelect(d) {\n              props.onChange(d);\n            }\n          }, customProps));\n        }\n      }\n    }]\n  }];\n  var getDefaultValues = function getDefaultValues() {\n    return {\n      payerName: (bill === null || bill === void 0 ? void 0 : bill.payerName) || (formState === null || formState === void 0 ? void 0 : formState.payerName) || \"\",\n      payerMobile: (bill === null || bill === void 0 ? void 0 : bill.mobileNumber) || (formState === null || formState === void 0 ? void 0 : formState.payerMobile) || \"\"\n    };\n  };\n  var getFormConfig = function getFormConfig() {\n    var _formState$paymentMod, _conf;\n    if (BillDetailsFormConfig({\n      consumerCode: consumerCode,\n      businessService: businessService\n    }, t)[ModuleWorkflow ? ModuleWorkflow : businessService] || ModuleWorkflow || businessService === \"TL\") {\n      config.splice(0, 1);\n    }\n    var conf = config.concat(formConfigMap[formState === null || formState === void 0 ? void 0 : (_formState$paymentMod = formState.paymentMode) === null || _formState$paymentMod === void 0 ? void 0 : _formState$paymentMod.code] || []);\n    conf = (_conf = conf) === null || _conf === void 0 ? void 0 : _conf.concat(cashConfig);\n    return BillDetailsFormConfig({\n      consumerCode: consumerCode,\n      businessService: businessService\n    }, t)[ModuleWorkflow ? ModuleWorkflow : businessService] ? BillDetailsFormConfig({\n      consumerCode: consumerCode,\n      businessService: businessService\n    }, t)[ModuleWorkflow ? ModuleWorkflow : businessService].concat(conf) : conf;\n  };\n  if (isLoading) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n    styles: {\n      marginLeft: \"15px\"\n    }\n  }, t(\"PAYMENT_COLLECT\")), /*#__PURE__*/React.createElement(FormComposer, {\n    cardStyle: {\n      paddingBottom: \"100px\"\n    },\n    label: t(\"PAYMENT_COLLECT_LABEL\"),\n    config: getFormConfig(),\n    onSubmit: onSubmit,\n    formState: formState,\n    defaultValues: getDefaultValues(),\n    isDisabled: bill !== null && bill !== void 0 && bill.totalAmount ? !bill.totalAmount > 0 : true,\n    onFormValueChange: function onFormValueChange(setValue, formValue) {\n      if (!isEqual_1(formValue.paymentMode, selectedPaymentMode)) {\n        setFormState(formValue);\n        setPaymentMode(formState.paymentMode);\n      }\n    }\n  }), toast && /*#__PURE__*/React.createElement(Toast, {\n    error: toast.key === \"error\",\n    label: t(toast.key === \"success\" ? \"ES_\" + businessService.split(\".\")[0].toLowerCase() + \"_\" + toast.action + \"_UPDATE_SUCCESS\" : toast.action),\n    onClose: function onClose() {\n      return setToast(null);\n    },\n    style: {\n      maxWidth: \"670px\"\n    }\n  }));\n};\nvar SuccessfulPayment$1 = function SuccessfulPayment(props) {\n  var _data$6, _data$7, _data$8, _data$9, _data$10, _data$11, _data$12, _data$13, _data$14;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var queryClient = useQueryClient();\n  props.setLink(t(\"PAYMENT_LOCALIZATION_RESPONSE\"));\n  var _useParams = useParams(),\n    consumerCode = _useParams.consumerCode,\n    receiptNumber = _useParams.receiptNumber,\n    businessService = _useParams.businessService;\n  var tenantId = Digit.ULBService.getCurrentTenantId();\n  receiptNumber = receiptNumber.replace(/%2F/g, \"/\");\n  var _Digit$Hooks$obps$use = Digit.Hooks.obps.useOBPSSearch(\"\", {}, tenantId, {\n      applicationNo: consumerCode\n    }, {}, {\n      enabled: businessService !== null && businessService !== void 0 && businessService.includes(\"BPA\") ? true : false\n    }),\n    _Digit$Hooks$obps$use2 = _Digit$Hooks$obps$use.data,\n    data = _Digit$Hooks$obps$use2 === void 0 ? {} : _Digit$Hooks$obps$use2,\n    isBpaSearchLoading = _Digit$Hooks$obps$use.isLoading;\n  useEffect(function () {\n    return function () {\n      queryClient.clear();\n    };\n  }, []);\n  var getMessage = function getMessage() {\n    return t(\"ES_PAYMENT_COLLECTED\");\n  };\n  var getCardText = function getCardText() {\n    if (businessService !== null && businessService !== void 0 && businessService.includes(\"BPA\")) {\n      var nameOfAchitect = sessionStorage.getItem(\"BPA_ARCHITECT_NAME\");\n      var parsedArchitectName = nameOfAchitect ? JSON.parse(nameOfAchitect) : \"ARCHITECT\";\n      return t(\"ES_PAYMENT_\" + businessService + \"_\" + parsedArchitectName + \"_SUCCESSFUL_DESCRIPTION\");\n    } else {\n      return t(\"ES_PAYMENT_SUCCESSFUL_DESCRIPTION\");\n    }\n  };\n  var _Digit$Hooks$useCommo = Digit.Hooks.useCommonMDMS(tenantId, \"common-masters\", \"ReceiptKey\", {\n      select: function select(data) {\n        var _data$commonMasters, _data$commonMasters$u, _data$commonMasters$u2;\n        return ((_data$commonMasters = data[\"common-masters\"]) === null || _data$commonMasters === void 0 ? void 0 : (_data$commonMasters$u = _data$commonMasters.uiCommonPay) === null || _data$commonMasters$u === void 0 ? void 0 : (_data$commonMasters$u2 = _data$commonMasters$u.filter(function (_ref) {\n          var code = _ref.code;\n          return businessService === null || businessService === void 0 ? void 0 : businessService.includes(code);\n        })[0]) === null || _data$commonMasters$u2 === void 0 ? void 0 : _data$commonMasters$u2.receiptKey) || \"consolidatedreceipt\";\n      }\n    }),\n    generatePdfKey = _Digit$Hooks$useCommo.data;\n  var printCertificate = function printCertificate() {\n    try {\n      var _tenantId = Digit.ULBService.getCurrentTenantId();\n      var state = Digit.ULBService.getStateId();\n      return Promise.resolve(Digit.TLService.search({\n        applicationNumber: consumerCode,\n        tenantId: _tenantId\n      })).then(function (applicationDetails) {\n        var generatePdfKeyForTL = \"tlcertificate\";\n        var _temp = function () {\n          if (applicationDetails) {\n            return Promise.resolve(Digit.PaymentService.generatePdf(state, {\n              Licenses: applicationDetails === null || applicationDetails === void 0 ? void 0 : applicationDetails.Licenses\n            }, generatePdfKeyForTL)).then(function (response) {\n              return Promise.resolve(Digit.PaymentService.printReciept(state, {\n                fileStoreIds: response.filestoreIds[0]\n              })).then(function (fileStore) {\n                window.open(fileStore[response.filestoreIds[0]], \"_blank\");\n              });\n            });\n          }\n        }();\n        if (_temp && _temp.then) return _temp.then(function () {});\n      });\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n  var convertDateToEpoch = function convertDateToEpoch(dateString, dayStartOrEnd) {\n    if (dayStartOrEnd === void 0) {\n      dayStartOrEnd = \"dayend\";\n    }\n    try {\n      var parts = dateString.match(/(\\d{4})-(\\d{1,2})-(\\d{1,2})/);\n      var DateObj = new Date(Date.UTC(parts[1], parts[2] - 1, parts[3]));\n      DateObj.setMinutes(DateObj.getMinutes() + DateObj.getTimezoneOffset());\n      if (dayStartOrEnd === \"dayend\") {\n        DateObj.setHours(DateObj.getHours() + 24);\n        DateObj.setSeconds(DateObj.getSeconds() - 1);\n      }\n      return DateObj.getTime();\n    } catch (e) {\n      return dateString;\n    }\n  };\n  var downloadPdf = function downloadPdf(blob, fileName) {\n    if (window.mSewaApp && window.mSewaApp.isMsewaApp() && window.mSewaApp.downloadBase64File) {\n      var reader = new FileReader();\n      reader.readAsDataURL(blob);\n      reader.onloadend = function () {\n        var base64data = reader.result;\n        mSewaApp.downloadBase64File(base64data, fileName);\n      };\n    } else {\n      var link = document.createElement(\"a\");\n      link.href = URL.createObjectURL(blob);\n      link.download = fileName;\n      document.body.append(link);\n      link.click();\n      link.remove();\n      setTimeout(function () {\n        return URL.revokeObjectURL(link.href);\n      }, 7000);\n    }\n  };\n  var printPdf = function printPdf(blob) {\n    var fileURL = URL.createObjectURL(blob);\n    var myWindow = window.open(fileURL);\n    if (myWindow != undefined) {\n      myWindow.addEventListener(\"load\", function (event) {\n        myWindow.focus();\n        myWindow.print();\n      });\n    }\n  };\n  var getPermitOccupancyOrderSearch = function getPermitOccupancyOrderSearch(order, mode) {\n    if (mode === void 0) {\n      mode = \"download\";\n    }\n    try {\n      var _data$, _data$2;\n      var queryObj = {\n        applicationNo: data === null || data === void 0 ? void 0 : (_data$ = data[0]) === null || _data$ === void 0 ? void 0 : _data$.applicationNo\n      };\n      return Promise.resolve(Digit.OBPSService.BPASearch(data === null || data === void 0 ? void 0 : (_data$2 = data[0]) === null || _data$2 === void 0 ? void 0 : _data$2.tenantId, queryObj)).then(function (bpaResponse) {\n        var _data$3, _data$4;\n        return Promise.resolve(Digit.OBPSService.scrutinyDetails(data === null || data === void 0 ? void 0 : (_data$3 = data[0]) === null || _data$3 === void 0 ? void 0 : _data$3.tenantId, {\n          edcrNumber: data === null || data === void 0 ? void 0 : (_data$4 = data[0]) === null || _data$4 === void 0 ? void 0 : _data$4.edcrNumber\n        })).then(function (edcrResponse) {\n          var _bpaResponse$BPA, _edcrResponse$edcrDet;\n          var bpaData = bpaResponse === null || bpaResponse === void 0 ? void 0 : (_bpaResponse$BPA = bpaResponse.BPA) === null || _bpaResponse$BPA === void 0 ? void 0 : _bpaResponse$BPA[0],\n            edcrData = edcrResponse === null || edcrResponse === void 0 ? void 0 : (_edcrResponse$edcrDet = edcrResponse.edcrDetail) === null || _edcrResponse$edcrDet === void 0 ? void 0 : _edcrResponse$edcrDet[0];\n          var currentDate = new Date();\n          bpaData.additionalDetails.runDate = convertDateToEpoch(currentDate.getFullYear() + '-' + (currentDate.getMonth() + 1) + '-' + currentDate.getDate());\n          var reqData = _extends({}, bpaData, {\n            edcrDetail: [_extends({}, edcrData)]\n          });\n          return Promise.resolve(Digit.PaymentService.generatePdf(bpaData === null || bpaData === void 0 ? void 0 : bpaData.tenantId, {\n            Bpa: [reqData]\n          }, order)).then(function (response) {\n            return Promise.resolve(Digit.PaymentService.printReciept(bpaData === null || bpaData === void 0 ? void 0 : bpaData.tenantId, {\n              fileStoreIds: response.filestoreIds[0]\n            })).then(function (fileStore) {\n              var _data$5, _data$5$additionalDet;\n              window.open(fileStore[response === null || response === void 0 ? void 0 : response.filestoreIds[0]], \"_blank\");\n              reqData[\"applicationType\"] = data === null || data === void 0 ? void 0 : (_data$5 = data[0]) === null || _data$5 === void 0 ? void 0 : (_data$5$additionalDet = _data$5.additionalDetails) === null || _data$5$additionalDet === void 0 ? void 0 : _data$5$additionalDet.applicationType;\n              return Promise.resolve(Digit.OBPSService.edcr_report_download({\n                BPA: _extends({}, reqData)\n              })).then(function (edcrResponseData) {\n                var responseStatus = parseInt(edcrResponseData.status, 10);\n                if (responseStatus === 201 || responseStatus === 200) {\n                  mode == \"print\" ? printPdf(new Blob([edcrResponseData.data], {\n                    type: \"application/pdf\"\n                  })) : downloadPdf(new Blob([edcrResponseData.data], {\n                    type: \"application/pdf\"\n                  }), \"edcrReport.pdf\");\n                }\n              });\n            });\n          });\n        });\n      });\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n  var printReciept = function printReciept() {\n    try {\n      var _tenantId2 = Digit.ULBService.getCurrentTenantId();\n      var state = Digit.ULBService.getStateId();\n      return Promise.resolve(Digit.PaymentService.getReciept(_tenantId2, businessService, {\n        receiptNumbers: receiptNumber\n      })).then(function (payments) {\n        var _payments$Payments$;\n        function _temp3() {\n          return Promise.resolve(Digit.PaymentService.printReciept(state, {\n            fileStoreIds: response.filestoreIds[0]\n          })).then(function (fileStore) {\n            window.open(fileStore[response.filestoreIds[0]], \"_blank\");\n          });\n        }\n        var response = {\n          filestoreIds: [(_payments$Payments$ = payments.Payments[0]) === null || _payments$Payments$ === void 0 ? void 0 : _payments$Payments$.fileStoreId]\n        };\n        var _temp2 = function () {\n          var _payments$Payments$2;\n          if (!((_payments$Payments$2 = payments.Payments[0]) !== null && _payments$Payments$2 !== void 0 && _payments$Payments$2.fileStoreId)) {\n            return Promise.resolve(Digit.PaymentService.generatePdf(state, {\n              Payments: payments.Payments\n            }, generatePdfKey)).then(function (_Digit$PaymentService) {\n              response = _Digit$PaymentService;\n            });\n          }\n        }();\n        return _temp2 && _temp2.then ? _temp2.then(_temp3) : _temp3(_temp2);\n      });\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n  if (businessService !== null && businessService !== void 0 && businessService.includes(\"BPA\") && isBpaSearchLoading) return /*#__PURE__*/React.createElement(Loader, null);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Card, null, /*#__PURE__*/React.createElement(Banner, {\n    message: getMessage(),\n    info: t(\"PAYMENT_LOCALIZATION_RECIEPT_NO\"),\n    applicationNumber: receiptNumber,\n    successful: true\n  }), /*#__PURE__*/React.createElement(CardText, null, getCardText()), generatePdfKey ? /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\"\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"primary-label-btn d-grid\",\n    style: {\n      marginLeft: \"unset\",\n      marginRight: \"20px\"\n    },\n    onClick: printReciept\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: \"24\",\n    viewBox: \"0 0 24 24\",\n    width: \"24\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z\"\n  })), t(\"CS_COMMON_PRINT_RECEIPT\")), businessService == \"TL\" ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"primary-label-btn d-grid\",\n    style: {\n      marginLeft: \"unset\"\n    },\n    onClick: printCertificate\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: \"24\",\n    viewBox: \"0 0 24 24\",\n    width: \"24\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z\"\n  })), t(\"CS_COMMON_PRINT_CERTIFICATE\")) : null, (data === null || data === void 0 ? void 0 : (_data$6 = data[0]) === null || _data$6 === void 0 ? void 0 : _data$6.businessService) === \"BPA_OC\" && ((data === null || data === void 0 ? void 0 : (_data$7 = data[0]) === null || _data$7 === void 0 ? void 0 : _data$7.status) === \"APPROVED\" || (data === null || data === void 0 ? void 0 : (_data$8 = data[0]) === null || _data$8 === void 0 ? void 0 : _data$8.status) === \"PENDING_SANC_FEE_PAYMENT\") ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"primary-label-btn d-grid\",\n    style: {\n      marginLeft: \"unset\"\n    },\n    onClick: function onClick(e) {\n      return getPermitOccupancyOrderSearch(\"occupancy-certificate\");\n    }\n  }, /*#__PURE__*/React.createElement(DownloadPrefixIcon, null), t(\"BPA_OC_CERTIFICATE\")) : null, (data === null || data === void 0 ? void 0 : (_data$9 = data[0]) === null || _data$9 === void 0 ? void 0 : _data$9.businessService) === \"BPA_LOW\" ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"primary-label-btn d-grid\",\n    style: {\n      marginLeft: \"unset\"\n    },\n    onClick: function onClick(r) {\n      return getPermitOccupancyOrderSearch(\"buildingpermit-low\");\n    }\n  }, /*#__PURE__*/React.createElement(DownloadPrefixIcon, null), t(\"BPA_PERMIT_ORDER\")) : null, (data === null || data === void 0 ? void 0 : (_data$10 = data[0]) === null || _data$10 === void 0 ? void 0 : _data$10.businessService) === \"BPA\" && (data === null || data === void 0 ? void 0 : (_data$11 = data[0]) === null || _data$11 === void 0 ? void 0 : _data$11.businessService) !== \"BPA_LOW\" && (data === null || data === void 0 ? void 0 : (_data$12 = data[0]) === null || _data$12 === void 0 ? void 0 : _data$12.businessService) !== \"BPA_OC\" && ((data === null || data === void 0 ? void 0 : (_data$13 = data[0]) === null || _data$13 === void 0 ? void 0 : _data$13.status) === \"PENDING_SANC_FEE_PAYMENT\" || (data === null || data === void 0 ? void 0 : (_data$14 = data[0]) === null || _data$14 === void 0 ? void 0 : _data$14.status) === \"APPROVED\") ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"primary-label-btn d-grid\",\n    style: {\n      marginLeft: \"unset\"\n    },\n    onClick: function onClick(r) {\n      return getPermitOccupancyOrderSearch(\"buildingpermit\");\n    }\n  }, /*#__PURE__*/React.createElement(DownloadPrefixIcon, null), t(\"BPA_PERMIT_ORDER\")) : null) : null), /*#__PURE__*/React.createElement(ActionBar, {\n    style: {\n      display: \"flex\",\n      justifyContent: \"flex-end\",\n      alignItems: \"baseline\"\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/digit-ui/employee\"\n  }, /*#__PURE__*/React.createElement(SubmitBar, {\n    label: t(\"CORE_COMMON_GO_TO_HOME\")\n  }))));\n};\nvar FailedPayment$1 = function FailedPayment(props) {\n  props.setLink(\"Response\");\n  var _useTranslation2 = useTranslation(),\n    t = _useTranslation2.t;\n  var _useParams2 = useParams(),\n    consumerCode = _useParams2.consumerCode;\n  var getMessage = function getMessage() {\n    return t(\"ES_PAYMENT_COLLECTED_ERROR\");\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Card, null, /*#__PURE__*/React.createElement(Banner, {\n    message: getMessage(),\n    complaintNumber: consumerCode,\n    successful: false\n  }), /*#__PURE__*/React.createElement(CardText, null, t(\"ES_PAYMENT_FAILED_DETAILS\"))), /*#__PURE__*/React.createElement(ActionBar, {\n    style: {\n      display: \"flex\",\n      justifyContent: \"flex-end\",\n      alignItems: \"baseline\"\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/digit-ui/employee\"\n  }, /*#__PURE__*/React.createElement(SubmitBar, {\n    label: t(\"CORE_COMMON_GO_TO_HOME\")\n  }))));\n};\nvar middleWare_1 = function middleWare_1(data, _break, _next) {\n  try {\n    data.a = \"a\";\n    return Promise.resolve(_next(data));\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\nvar middleWare_2 = function middleWare_2(data, _break, _next) {\n  try {\n    data.b = \"b\";\n    return Promise.resolve(_next(data));\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\nvar middleWare_3 = function middleWare_3(data, _break, _next) {\n  try {\n    var _temp5 = function _temp5() {\n      return Promise.resolve(_next(data));\n    };\n    data.c = \"c\";\n    var _temp6 = function () {\n      if (data.b === \"b\") {\n        var _temp7 = _catch(function () {\n          return Promise.resolve(window.fetch(\"https://ifsc.razorpay.com/hdfc0000090\")).then(function (res) {\n            var _temp = function () {\n              if (res.ok) {\n                return Promise.resolve(res.json()).then(function (_ref) {\n                  var BANK = _ref.BANK,\n                    BRANCH = _ref.BRANCH;\n                  data.BANKFROMMiddleWare = BANK;\n                });\n              } else alert(\"Wrong IFSC Code\");\n            }();\n            if (_temp && _temp.then) return _temp.then(function () {});\n          });\n        }, function () {\n          alert(\"Something Went Wrong !\");\n        });\n        if (_temp7 && _temp7.then) return _temp7.then(function () {});\n      }\n    }();\n    return Promise.resolve(_temp6 && _temp6.then ? _temp6.then(_temp5) : _temp5(_temp6));\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\nvar asyncData = {\n  a: [\"1\", \"2\", \"3\"],\n  b: [\"4\", \"5\", \"6\"],\n  c: [\"7\", \"8\", \"9\"],\n  j: [\"10\", \"11\", \"12\"],\n  k: [\"22\", \"45\"],\n  l: [\"456\"]\n};\nvar testForm = {\n  addedFields: [],\n  middlewares: [{\n    middleWare_1: middleWare_1\n  }, {\n    middleWare_2: middleWare_2\n  }, {\n    middleWare_3: middleWare_3\n  }],\n  state: {\n    firstDDoptions: [\"a\", \"b\", \"c\"],\n    secondDDoptions: asyncData.a,\n    thirdDDoptions: [\"d\", \"e\", \"f\"]\n  },\n  fields: [{\n    label: \"first\",\n    name: \"pehla\",\n    defaultValue: \"b\",\n    customProps: function customProps(state) {\n      return {\n        isMendatory: true,\n        option: state.firstDDoptions\n      };\n    },\n    component: function component(props, customProps) {\n      return /*#__PURE__*/React.createElement(Dropdown, _extends({\n        select: function select(d) {\n          props.setState({\n            secondDDoptions: asyncData[d]\n          });\n          props.setValue(\"doosra\", \"\");\n          props.onChange(d);\n        },\n        selected: props.value\n      }, customProps));\n    },\n    validations: {}\n  }, {\n    label: \"second\",\n    name: \"doosra\",\n    customProps: function customProps(state) {\n      return {\n        isMendatory: true,\n        option: state.secondDDoptions\n      };\n    },\n    defaultValue: function defaultValue(state) {\n      return state.secondDDoptions[1];\n    },\n    component: function component(props, customProps) {\n      return /*#__PURE__*/React.createElement(Dropdown, _extends({\n        select: function select(d) {\n          props.onChange(d);\n        },\n        selected: props.value\n      }, customProps));\n    }\n  }, {\n    label: \"third\",\n    name: \"teesra\",\n    customProps: function customProps(state) {\n      return {\n        isMendatory: true,\n        option: state.thirdDDoptions\n      };\n    },\n    defaultValue: \"d\",\n    component: function component(props, customProps) {\n      return /*#__PURE__*/React.createElement(Dropdown, _extends({\n        select: function select(d) {\n          props.onChange(d);\n        },\n        selected: props.value\n      }, customProps));\n    }\n  }, {\n    label: \"IFSC\",\n    name: \"ifsc\",\n    customProps: {\n      isMendatory: true,\n      setBankDetailsFromIFSC: function setBankDetailsFromIFSC(props) {\n        try {\n          var _temp10 = _catch(function () {\n            return Promise.resolve(window.fetch(\"https://ifsc.razorpay.com/\" + props.getValues(\"ifsc\"))).then(function (res) {\n              var _temp8 = function () {\n                if (res.ok) {\n                  return Promise.resolve(res.json()).then(function (_ref2) {\n                    var BANK = _ref2.BANK,\n                      BRANCH = _ref2.BRANCH;\n                    props.setValue(\"bank\", BANK);\n                    props.setValue(\"branch\", BRANCH);\n                  });\n                } else alert(\"Wrong IFSC Code\");\n              }();\n              if (_temp8 && _temp8.then) return _temp8.then(function () {});\n            });\n          }, function () {\n            alert(\"Something Went Wrong !\");\n          });\n          return Promise.resolve(_temp10 && _temp10.then ? _temp10.then(function () {}) : void 0);\n        } catch (e) {\n          return Promise.reject(e);\n        }\n      }\n    },\n    defaultValue: \"\",\n    component: function component(props, customProps) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"ifsc-field\"\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        value: props.value,\n        type: \"text\",\n        onChange: function onChange(e) {\n          props.setState({\n            ifsc: e.target.value\n          });\n          props.onChange(e.target.value);\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        onClick: function onClick() {\n          customProps.setBankDetailsFromIFSC(props);\n        }\n      }, /*#__PURE__*/React.createElement(SearchIconSvg, null)));\n    }\n  }, {\n    label: \"Bank\",\n    name: \"bank\",\n    defaultValue: \"d\",\n    component: function component(props, customProps) {\n      return /*#__PURE__*/React.createElement(\"input\", {\n        readOnly: true,\n        value: props.value\n      });\n    }\n  }, {\n    label: \"Branch\",\n    name: \"branch\",\n    defaultValue: \"d\",\n    component: function component(props, customProps) {\n      return /*#__PURE__*/React.createElement(\"input\", {\n        readOnly: true,\n        value: props.value\n      });\n    }\n  }]\n};\nvar IFrameInterface = function IFrameInterface(props) {\n  var stateCode = props.stateCode;\n  var _useParams = useParams(),\n    moduleName = _useParams.moduleName,\n    pageName = _useParams.pageName;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var _useState = useState(\"\"),\n    url = _useState[0],\n    setUrl = _useState[1];\n  var _useState2 = useState(\"\"),\n    title = _useState2[0],\n    setTitle = _useState2[1];\n  var _Digit$Hooks$dss$useM = Digit.Hooks.dss.useMDMS(stateCode, \"common-masters\", [\"uiCommonConstants\"], {\n      select: function select(data) {\n        var _data$commonMasters, _data$commonMasters$u;\n        var formattedResponse = (data === null || data === void 0 ? void 0 : (_data$commonMasters = data[\"common-masters\"]) === null || _data$commonMasters === void 0 ? void 0 : (_data$commonMasters$u = _data$commonMasters[\"uiCommonConstants\"]) === null || _data$commonMasters$u === void 0 ? void 0 : _data$commonMasters$u[0]) || {};\n        return formattedResponse;\n      },\n      enabled: true\n    }),\n    data = _Digit$Hooks$dss$useM.data,\n    isLoading = _Digit$Hooks$dss$useM.isLoading;\n  useEffect(function () {\n    var _data$moduleName, _data$moduleName$ifra;\n    var pageObject = (data === null || data === void 0 ? void 0 : (_data$moduleName = data[moduleName]) === null || _data$moduleName === void 0 ? void 0 : (_data$moduleName$ifra = _data$moduleName[\"iframe-routes\"]) === null || _data$moduleName$ifra === void 0 ? void 0 : _data$moduleName$ifra[pageName]) || {};\n    var isOrign = (pageObject === null || pageObject === void 0 ? void 0 : pageObject[\"isOrigin\"]) || false;\n    var domain = isOrign ? process.env.NODE_ENV === \"development\" ? \"https://qa.digit.org\" : document.location.origin : pageObject === null || pageObject === void 0 ? void 0 : pageObject[\"domain\"];\n    var contextPath = (pageObject === null || pageObject === void 0 ? void 0 : pageObject[\"routePath\"]) || \"\";\n    var title = (pageObject === null || pageObject === void 0 ? void 0 : pageObject[\"title\"]) || \"\";\n    var url = \"\" + domain + contextPath;\n    setUrl(url);\n    setTitle(title);\n  }, [data, moduleName, pageName]);\n  if (isLoading) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n  if (!url) {\n    return /*#__PURE__*/React.createElement(\"div\", null, \"No Iframe To Load\");\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, null, t(title)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"app-iframe-wrapper\"\n  }, /*#__PURE__*/React.createElement(\"iframe\", {\n    src: url,\n    title: title,\n    className: \"app-iframe\"\n  })));\n};\nsubFormRegistry.addSubForm(\"testForm\", testForm);\nvar EmployeePayment = function EmployeePayment(_ref) {\n  var _location, _location$pathname, _location2, _location2$pathname;\n  var stateCode = _ref.stateCode,\n    cityCode = _ref.cityCode,\n    moduleCode = _ref.moduleCode;\n  var _useRouteMatch = useRouteMatch(),\n    currentPath = _useRouteMatch.path;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var _useState = useState(null),\n    link = _useState[0],\n    setLink = _useState[1];\n  var commonProps = {\n    stateCode: stateCode,\n    cityCode: cityCode,\n    moduleCode: moduleCode,\n    setLink: setLink\n  };\n  var isFsm = ((_location = location) === null || _location === void 0 ? void 0 : (_location$pathname = _location.pathname) === null || _location$pathname === void 0 ? void 0 : _location$pathname.includes(\"fsm\")) || ((_location2 = location) === null || _location2 === void 0 ? void 0 : (_location2$pathname = _location2.pathname) === null || _location2$pathname === void 0 ? void 0 : _location2$pathname.includes(\"FSM\"));\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"breadcrumb\",\n    style: {\n      marginLeft: \"15px\"\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/digit-ui/employee\"\n  }, t(\"ES_COMMON_HOME\")), isFsm ? /*#__PURE__*/React.createElement(Link, {\n    to: \"/digit-ui/employee/fsm/inbox\"\n  }, \"/ \", t(\"ES_TITLE_INBOX\")) : null, \"/ \", link), /*#__PURE__*/React.createElement(Switch, null, /*#__PURE__*/React.createElement(Route, {\n    path: currentPath + \"/collect/:businessService/:consumerCode\"\n  }, /*#__PURE__*/React.createElement(CollectPayment, _extends({}, commonProps, {\n    basePath: currentPath\n  }))), /*#__PURE__*/React.createElement(Route, {\n    path: currentPath + \"/success/:businessService/:receiptNumber/:consumerCode\"\n  }, /*#__PURE__*/React.createElement(SuccessfulPayment$1, commonProps)), /*#__PURE__*/React.createElement(Route, {\n    path: currentPath + \"/integration/:moduleName/:pageName\"\n  }, /*#__PURE__*/React.createElement(IFrameInterface, commonProps)), /*#__PURE__*/React.createElement(Route, {\n    path: currentPath + \"/failure\"\n  }, /*#__PURE__*/React.createElement(FailedPayment$1, commonProps))));\n};\nvar PaymentModule = function PaymentModule(_ref) {\n  var stateCode = _ref.stateCode,\n    cityCode = _ref.cityCode,\n    _ref$moduleCode = _ref.moduleCode,\n    moduleCode = _ref$moduleCode === void 0 ? \"Payment\" : _ref$moduleCode,\n    userType = _ref.userType;\n  var _useRouteMatch = useRouteMatch(),\n    path = _useRouteMatch.path,\n    url = _useRouteMatch.url;\n  var store = {\n    data: {}\n  };\n  if (Object.keys(store).length === 0) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n  var getPaymentHome = function getPaymentHome() {\n    if (userType === \"citizen\") return /*#__PURE__*/React.createElement(CitizenPayment, {\n      stateCode: stateCode,\n      moduleCode: moduleCode,\n      cityCode: cityCode,\n      path: path,\n      url: url\n    });else return /*#__PURE__*/React.createElement(EmployeePayment, {\n      stateCode: stateCode,\n      cityCode: cityCode,\n      moduleCode: moduleCode\n    });\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, getPaymentHome());\n};\nvar PaymentLinks = function PaymentLinks(_ref2) {\n  var _useTranslation = useTranslation();\n  return null;\n};\nvar paymentConfigs = {\n  getBillDetailsConfigWithBusinessService: getKeyNotesConfig\n};\nexport { PaymentLinks, PaymentModule, paymentConfigs };","map":{"version":3,"mappings":"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","names":["SelectPaymentType","props","optionFirst","code","i18nKey","name","optionSecound","userInfo","Digit","UserService","getUser","_Digit$UserService$ge","info","payersActiveName","payersActiveMobileNumber","mobileNumber","useTranslation","t","history","useHistory","useLocation","state","location","useParams","consumerCode","businessService","paymentAmt","Hooks","useQueryParams","_tenantId","tenantId","useState","bill","setBill","_Digit$UserService$ge2","isLoading","useFetchPayment","data","billDetails","_bill$billDetails","sort","a","b","fromPeriod","_bill$billDetails$sor","Arrears","_bill$billDetails2","_bill$billDetails2$so","reduce","total","current","index","amount","paymentType","setPaymentType","payersName","setPayersName","payersMobileNumber","setPayersMobileNumber","useForm","handleSubmit","canSubmit","setCanSubmit","mobileNumberError","setmobileNumberError","useEffect","requiredBill","Bill","filter","e","onChangePayersMobileNumber","validation","match","length","onChangePayersName","value","onSubmit","push","paymentAmount","payerName","React","Fragment","BackButton","Header","Card","className","RadioButtons","selectedOption","onSelect","options","optionsKey","inputStyle","marginTop","innerStyles","display","style","position","MobileNumber","onChange","TextInput","target","SubmitBar","label","disabled","submit","MyBill","currentPath","getKeyNotesConfig","map","obj","keyPath","acc","key","KeyNote","keyValue","note","fallback","noteStyle","totalAmount","_bill$totalAmount","toFixed","BillList","billsList","consumerCodes","searchResult","useApplicationsForBusinessServiceSearch","filters","join","keyForConsumerCode","applicationList","setApplicationList","ComponentRegistryService","_Digit$ComponentRegis","getComponent","billableApplicationsObj","useMemo","billsListObj","refetch","billableApps","property","includes","billableIDs","forEach","app","newBillsList","Loader","paddingLeft","paddingTop","Link","to","styles","root","width","overflowX","boxShadow","table","minWidth","backgroundColor","cell","maxWidth","border","padding","fontSize","textAlign","lineHeight","cellHeader","overflow","textOverflow","cellLeft","cellRight","ArrearTable","_ref$headers","headers","_ref$values","values","_ref$arrears","arrears","header","ind","styleRight","Object","row","component","scope","keys","i","whiteSpace","numeric","fontWeight","buttonStyle","justifyContent","color","headerStyle","ArrearSummary","formatTaxHeaders","billDetail","formattedFees","_billDetail$billAccou","billAccountDetails","taxHead","taxHeadCode","order","_billDetail2","billNumber","_billDetail3","expiryDate","Date","_billDetail4","toLocaleDateString","getFinancialYears","from","fromDate","toDate","getYear","fees","sortedBillDetails","_sortedBillDetails","arrearsAmount","_arrears$toFixed","Number","shift","fee","toPeriod","head","key1","x","y","showArrear","setShowArrear","type","onClick","BillSumary","ModuleWorkflow","workflow","ob","amountDetails","_amountDetails$amount","stringReplaceAll","str","searcher","replaceWith","replace","BillDetails","paymentRules","wrkflow","minAmountPayable","isAdvanceAllowed","enabled","getBillingPeriod","getDate","toString","Utils","date","monthNames","getMonth","getFullYear","window","href","_data$Bill","_data$Bill$","billDate","newfrom","parseInt","newTo","getBillBreakDown","getTotal","setAmount","paymentAllowed","setPaymentAllowed","formError","setError","scroll","top","behavior","changeAdvanceAllowed","allowPayment","onChangeAmount","isNaN","currentBillNo","currentExpiryDate","CardSubHeader","partPaymentAllowed","disable","BillRoutes","useRouteMatch","url","Switch","Route","exact","path","MyBills","stateCode","Services","useStore","moduleCode","language","StoreData","getCurrentLanguage","_location$state","fromSearchResults","useFetchCitizenBillsForBuissnessService","refetchOnMount","_location$state2","useGetPaymentRulesForBusinessServices","mdmsLoading","mdmsBillingData","getPaymentRestrictionDetails","payRestrictiondetails","MdmsRes","_mdmsBillingData$Mdms","BillingService","_mdmsBillingData$Mdms2","BusinessService","_payRestrictiondetail","isVoucherCreationEnabled","getProps","Routes","_iteratorSymbol","Symbol","iterator","_asyncIteratorSymbol","asyncIterator","_catch","body","recover","result","then","_useLocation$state","showToast","setShowToast","__tenantId","authorization","pathname","search","ULBService","getCurrentTenantId","stateTenant","getStateId","control","useCommonMDMS","menu","paymentdetails","paymentLoading","localStorage","setItem","d","filterData","Transaction","txnAmount","module","billId","id","productInfo","gateway","taxAndPayments","amountPaid","user","_userInfo$info","_userInfo$info2","callbackUrl","protocol","host","additionalDetails","isWhatsapp","PaymentService","createCitizenReciept","redirectUrl","_data$Transaction","gatewayParam","split","_redirectUrl$split","slice","_redirectUrl$split$sl","_redirectUrl$split$sl2","_redirectUrl$split$sl3","curr","newForm","$","action","txURL","method","orderForNDSLPaymentSite","_gatewayParam$request","_redirectUrl$split2","_redirectUrl$split2$","_redirectUrl$split2$$","orderId","_redirectUrl$split3","_redirectUrl$split3$","_redirectUrl$split3$$","append","document","console","log","error","messageToShow","response","_error$response","_error$response$data","Errors","_error$response$data$","_error$response2","_error$response2$data","_error$response2$data2","message","access_token","clear","sessionStorage","Redirect","encodeURIComponent","marginBottom","CardLabel","CardSectionHeader","Controller","defaultValue","render","InfoBanner","text","Toast","onClose","SuccessfulPayment","getItem","forward","WrapPaymentComponent","queryClient","useQueryClient","egId","eg_pg_txnid","workflw","printing","setPrinting","allowFetchBill","setallowFetchBill","business_service","obps","useOBPSSearch","applicationNo","_Digit$Hooks$obps$use2","bpaData","isBpaSearchLoading","usePaymentUpdate","retry","staleTime","Infinity","refetchOnWindowFocus","isError","useRecieptSearch","receiptNumbers","payments","_data$payments","Payments","_data$payments$Paymen","_data$payments$Paymen2","paymentDetails","receiptNumber","select","dat","reciept_data","recieptDataLoading","_data$commonMasters","uiCommonPay","_data$commonMasters$u","_data$commonMasters$u2","receiptKey","generatePdfKey","txnStatus","isMobile","browser","Banner","applicationNumber","successful","CardText","paymentData","_data$payments2","transactionDate","printCertificate","TLService","applicationDetails","generatePdfKeyForTL","generatePdf","Licenses","printReciept","fileStoreIds","filestoreIds","fileStore","open","_payments$Payments$","fileStoreId","convertDateToEpoch","dateString","dayStartOrEnd","parts","DateObj","UTC","setMinutes","getMinutes","getTimezoneOffset","setHours","getHours","setSeconds","getSeconds","getTime","printPdf","blob","fileURL","URL","createObjectURL","myWindow","undefined","addEventListener","event","focus","print","downloadPdf","fileName","mSewaApp","isMsewaApp","downloadBase64File","reader","FileReader","readAsDataURL","onloadend","base64data","link","createElement","download","click","remove","setTimeout","revokeObjectURL","getPermitOccupancyOrderSearch","mode","queryObj","_bpaData$","OBPSService","BPASearch","_bpaData$2","bpaResponse","scrutinyDetails","_bpaData$3","edcrNumber","_bpaData$4","edcrResponse","bpaDataDetails","BPA","_bpaResponse$BPA","edcrData","edcrDetail","_edcrResponse$edcrDet","currentDate","runDate","reqData","Bpa","_bpaDataDetails$addit","applicationType","edcr_report_download","edcrresponse","responseStatus","status","Blob","taxPeriodFrom","taxPeriodTo","bannerText","_paymentData$paymentD","_paymentData$paymentD2","_paymentData$paymentD3","nameOfAchitect","parsedArchitectName","JSON","parse","rowContainerStyle","ommitRupeeSymbol","svg","xmlns","height","viewBox","fill","StatusTable","Row","last","_reciept_data$payment3","_reciept_data$payment4","_reciept_data$payment5","_reciept_data$payment6","totalDue","_reciept_data$payment7","_reciept_data$payment8","totalAmountPaid","_reciept_data$payment9","_reciept_data$payment10","marginLeft","marginRight","_bpaData$5","_bpaData$6","_bpaData$7","DownloadPrefixIcon","_bpaData$8","_bpaData$9","_bpaData$10","_bpaData$11","_bpaData$12","_bpaData$13","FailedPayment","getMessage","complaintNumber","CitizenPayment","cityCode","commonProps","PayersDetails","basePath","businessId","toLowerCase","overdueBy","_d$billDetails$","days","Math","floor","_d$2","_d$3","month","useCashPaymentDetails","config","headId","withoutLabel","populators","customProps","manualReceiptNumber","manualReceiptDate","CashDetailsComponent","cashConfig","_props$value","setManualReceiptDate","_props$value2","setManualReceiptNumber","errorObj","DatePicker","useCardPaymentDetails","CardDetailsComponent","cardConfig","last4Digits","setLast4Digits","transactionNumber","setTransactionNumber","_props$value3","reTransanctionNumber","setReTransanctionNumber","instrumentNumber","maxLength","minLength","required","useChequeDetails","instrumentDate","ifscCode","bankName","bankBranch","ChequeDetailsComponent","chequeDetails","chequeConfig","setChequeDate","setChequeNo","setIfsc","ifscCodeError","setIfscCodeError","setBankName","_props$chequeDetails$","setBankBranch","setBankDetailsFromIFSC","fetch","res","ok","json","BANK","BRANCH","handleIFSCChange","isRequired","minlength","maxlength","SearchIconSvg","CardLabelError","readOnly","listCacheClear","__data__","size","eq","other","assocIndexOf","array","arrayProto","Array","prototype","splice","listCacheDelete","lastIndex","pop","call","listCacheGet","listCacheHas","listCacheSet","ListCache","entries","entry","set","get","has","stackClear","stackDelete","stackGet","stackHas","freeGlobal","global","freeSelf","self","Function","objectProto","hasOwnProperty","nativeObjectToString","symToStringTag","toStringTag","getRawTag","isOwn","tag","unmasked","objectToString","nullTag","undefinedTag","baseGetTag","isObject","asyncTag","funcTag","genTag","proxyTag","isFunction","coreJsData","maskSrcKey","uid","exec","IE_PROTO","isMasked","func","funcProto","funcToString","toSource","reRegExpChar","reIsHostCtor","reIsNative","RegExp","baseIsNative","pattern","test","getValue","object","getNative","Map","nativeCreate","hashClear","hashDelete","HASH_UNDEFINED","hashGet","hashHas","hashSet","Hash","mapCacheClear","isKeyable","getMapData","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","MapCache","LARGE_ARRAY_SIZE","stackSet","pairs","Stack","setCacheAdd","setCacheHas","SetCache","add","arraySome","predicate","cacheHas","cache","COMPARE_PARTIAL_FLAG","COMPARE_UNORDERED_FLAG","equalArrays","bitmask","customizer","equalFunc","stack","isPartial","arrLength","othLength","arrStacked","othStacked","seen","arrValue","othValue","compared","othIndex","Uint8Array","mapToArray","setToArray","boolTag","dateTag","errorTag","mapTag","numberTag","regexpTag","setTag","stringTag","symbolTag","arrayBufferTag","dataViewTag","symbolProto","symbolValueOf","valueOf","equalByTag","byteLength","byteOffset","buffer","convert","stacked","arrayPush","offset","isArray","baseGetAllKeys","keysFunc","symbolsFunc","arrayFilter","resIndex","stubArray","propertyIsEnumerable","nativeGetSymbols","getOwnPropertySymbols","getSymbols","symbol","baseTimes","n","iteratee","isObjectLike","argsTag","baseIsArguments","isArguments","arguments","stubFalse","freeExports","exports","nodeType","freeModule","moduleExports","Buffer","nativeIsBuffer","isBuffer","MAX_SAFE_INTEGER","reIsUint","isIndex","isLength","arrayTag","objectTag","weakMapTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","typedArrayTags","baseIsTypedArray","baseUnary","freeProcess","process","nodeUtil","types","require","binding","nodeIsTypedArray","isTypedArray","arrayLikeKeys","inherited","isArr","isArg","isBuff","isType","skipIndexes","String","isPrototype","Ctor","constructor","proto","overArg","transform","arg","nativeKeys","baseKeys","isArrayLike","getAllKeys","equalObjects","objProps","objLength","othProps","objStacked","skipCtor","objValue","objCtor","othCtor","DataView","Promise","Set","WeakMap","promiseTag","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","getTag","ArrayBuffer","resolve","ctorString","baseIsEqualDeep","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","baseIsEqual","isEqual","BillDetailsKeyNoteConfig","PT","heading","details","mcollect","TL","BillDetailsFormConfig","_amount","showDetails","setShowDetails","yearWiseBills","setPaymentRules","changeAmount","getFinancialYear","_bill","thStyle","borderBottom","tdStyle","breakWord","textStyle","_billDetails$billAcco","labelStyle","_arrears$toFixed2","_yearWiseBills$filter","_yearWiseBills$filter2","_yearWiseBills$filter3","_yearWiseBills$filter4","_yearWiseBills$filter5","year_bill","sorted_tax_heads","_year_bill$billAccoun","float","CollectPayment","formState","setFormState","toast","setToast","defaultPaymentModes","formConfigMap","CHEQUE","CARD","setLink","getPaymentModes","paidByMenu","selectedPaymentMode","setPaymentMode","round","paidBy","_data$amount","_data$amount2","_data$amount3","_data$amount4","_data$amount5","ManualRecieptDetails","paymentModeDetails","rest","recieptRequest","Payment","payerMobile","_data$amount6","_data$amount7","paymentMode","_data$paymentMode","errors","messages","errorMsg","_recieptRequest$Payme","_data$paymentModeDeta","_recieptRequest$Payme2","_recieptRequest$Payme3","_recieptRequest$Payme4","_recieptRequest$Payme5","_recieptRequest$Payme6","createReciept","resposne","invalidateQueries","_resposne$Payments$","_resposne$Payments$$p","_resposne$Payments$2","_resposne$Payments$2$","_resposne$Payments$2$2","_setToast","_document","getElementById","_document$getElementB","scrollIntoView","_document2","querySelector","_document2$querySelec","isMandatory","isMendatory","option","optionKey","Dropdown","selected","setValue","flexWrap","getDefaultValues","getFormConfig","conf","concat","_formState$paymentMod","_conf","FormComposer","cardStyle","paddingBottom","defaultValues","isDisabled","onFormValueChange","formValue","getCardText","_data$","_data$2","_data$3","_data$4","_data$5","_data$5$additionalDet","edcrResponseData","getReciept","_payments$Payments$2","_data$6","_data$7","_data$8","_data$9","_data$10","_data$11","_data$12","_data$13","_data$14","ActionBar","alignItems","middleWare_1","_break","_next","middleWare_2","middleWare_3","c","BANKFROMMiddleWare","alert","asyncData","j","k","l","testForm","addedFields","middlewares","firstDDoptions","secondDDoptions","thirdDDoptions","fields","setState","validations","getValues","ifsc","IFrameInterface","moduleName","pageName","setUrl","title","setTitle","dss","useMDMS","formattedResponse","pageObject","_data$moduleName","_data$moduleName$ifra","isOrign","domain","env","NODE_ENV","origin","contextPath","src","subFormRegistry","addSubForm","EmployeePayment","isFsm","_location","_location$pathname","_location2","_location2$pathname","PaymentModule","_ref$moduleCode","userType","store","getPaymentHome","PaymentLinks","paymentConfigs","getBillDetailsConfigWithBusinessService"],"sources":["../src/payments/citizen/payers-details/index.js","../src/payments/citizen/bills/routes/my-bills/my-bill.js","../src/payments/citizen/bills/routes/my-bills/my-bills.js","../src/payments/citizen/bills/routes/bill-details/arrear-table.js","../src/payments/citizen/bills/routes/bill-details/arrear-summary.js","../src/payments/citizen/bills/routes/bill-details/bill-summary.js","../src/payments/citizen/bills/routes/bill-details/utils.js","../src/payments/citizen/bills/routes/bill-details/bill-details.js","../src/payments/citizen/bills/routes/index.js","../src/payments/citizen/bills/index.js","../../../../node_modules/babel-plugin-transform-async-to-promises/helpers.mjs","../src/payments/citizen/payment-type/index.js","../src/payments/citizen/response/index.js","../src/payments/citizen/index.js","../src/payments/citizen/keynotesConfig.js","../src/payments/employee/payment-collect/ManualReciept/index.js","../src/payments/employee/payment-collect/card/index.js","../src/payments/employee/payment-collect/cheque/index.js","../../../../node_modules/lodash/_listCacheClear.js","../../../../node_modules/lodash/eq.js","../../../../node_modules/lodash/_assocIndexOf.js","../../../../node_modules/lodash/_listCacheDelete.js","../../../../node_modules/lodash/_listCacheGet.js","../../../../node_modules/lodash/_listCacheHas.js","../../../../node_modules/lodash/_listCacheSet.js","../../../../node_modules/lodash/_ListCache.js","../../../../node_modules/lodash/_stackClear.js","../../../../node_modules/lodash/_stackDelete.js","../../../../node_modules/lodash/_stackGet.js","../../../../node_modules/lodash/_stackHas.js","../../../../node_modules/lodash/_freeGlobal.js","../../../../node_modules/lodash/_root.js","../../../../node_modules/lodash/_Symbol.js","../../../../node_modules/lodash/_getRawTag.js","../../../../node_modules/lodash/_objectToString.js","../../../../node_modules/lodash/_baseGetTag.js","../../../../node_modules/lodash/isObject.js","../../../../node_modules/lodash/isFunction.js","../../../../node_modules/lodash/_coreJsData.js","../../../../node_modules/lodash/_isMasked.js","../../../../node_modules/lodash/_toSource.js","../../../../node_modules/lodash/_baseIsNative.js","../../../../node_modules/lodash/_getValue.js","../../../../node_modules/lodash/_getNative.js","../../../../node_modules/lodash/_Map.js","../../../../node_modules/lodash/_nativeCreate.js","../../../../node_modules/lodash/_hashClear.js","../../../../node_modules/lodash/_hashDelete.js","../../../../node_modules/lodash/_hashGet.js","../../../../node_modules/lodash/_hashHas.js","../../../../node_modules/lodash/_hashSet.js","../../../../node_modules/lodash/_Hash.js","../../../../node_modules/lodash/_mapCacheClear.js","../../../../node_modules/lodash/_isKeyable.js","../../../../node_modules/lodash/_getMapData.js","../../../../node_modules/lodash/_mapCacheDelete.js","../../../../node_modules/lodash/_mapCacheGet.js","../../../../node_modules/lodash/_mapCacheHas.js","../../../../node_modules/lodash/_mapCacheSet.js","../../../../node_modules/lodash/_MapCache.js","../../../../node_modules/lodash/_stackSet.js","../../../../node_modules/lodash/_Stack.js","../../../../node_modules/lodash/_setCacheAdd.js","../../../../node_modules/lodash/_setCacheHas.js","../../../../node_modules/lodash/_SetCache.js","../../../../node_modules/lodash/_arraySome.js","../../../../node_modules/lodash/_cacheHas.js","../../../../node_modules/lodash/_equalArrays.js","../../../../node_modules/lodash/_Uint8Array.js","../../../../node_modules/lodash/_mapToArray.js","../../../../node_modules/lodash/_setToArray.js","../../../../node_modules/lodash/_equalByTag.js","../../../../node_modules/lodash/_arrayPush.js","../../../../node_modules/lodash/isArray.js","../../../../node_modules/lodash/_baseGetAllKeys.js","../../../../node_modules/lodash/_arrayFilter.js","../../../../node_modules/lodash/stubArray.js","../../../../node_modules/lodash/_getSymbols.js","../../../../node_modules/lodash/_baseTimes.js","../../../../node_modules/lodash/isObjectLike.js","../../../../node_modules/lodash/_baseIsArguments.js","../../../../node_modules/lodash/isArguments.js","../../../../node_modules/lodash/stubFalse.js","../../../../node_modules/lodash/isBuffer.js","../../../../node_modules/lodash/_isIndex.js","../../../../node_modules/lodash/isLength.js","../../../../node_modules/lodash/_baseIsTypedArray.js","../../../../node_modules/lodash/_baseUnary.js","../../../../node_modules/lodash/_nodeUtil.js","../../../../node_modules/lodash/isTypedArray.js","../../../../node_modules/lodash/_arrayLikeKeys.js","../../../../node_modules/lodash/_isPrototype.js","../../../../node_modules/lodash/_overArg.js","../../../../node_modules/lodash/_nativeKeys.js","../../../../node_modules/lodash/_baseKeys.js","../../../../node_modules/lodash/isArrayLike.js","../../../../node_modules/lodash/keys.js","../../../../node_modules/lodash/_getAllKeys.js","../../../../node_modules/lodash/_equalObjects.js","../../../../node_modules/lodash/_DataView.js","../../../../node_modules/lodash/_Promise.js","../../../../node_modules/lodash/_Set.js","../../../../node_modules/lodash/_WeakMap.js","../../../../node_modules/lodash/_getTag.js","../../../../node_modules/lodash/_baseIsEqualDeep.js","../../../../node_modules/lodash/_baseIsEqual.js","../../../../node_modules/lodash/isEqual.js","../src/payments/employee/payment-collect/Bill-details/billDetailsConfig.js","../src/payments/employee/payment-collect/Bill-details/billDetails.js","../src/payments/employee/payment-collect/index.js","../src/payments/employee/response/index.js","../src/hoc/testForm-config.js","../src/payments/employee/IFrameInterface/index.js","../src/payments/employee/index.js","../src/payments/index.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Header,\r\n  Card,\r\n  RadioButtons,\r\n  SubmitBar,\r\n  BackButton,\r\n  CardLabel,\r\n  CardLabelDesc,\r\n  CardSectionHeader,\r\n  InfoBanner,\r\n  Loader,\r\n  TextInput,\r\n  MobileNumber\r\n} from \"@egovernments/digit-ui-react-components\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useForm, Controller } from \"react-hook-form\";\r\nimport { useParams, useHistory, useLocation, Redirect } from \"react-router-dom\";\r\n\r\nconst SelectPaymentType = (props) => {\r\n  \r\n\r\n\r\n  const optionFirst = { \r\n    code : \"PAY_BY_OWNER\",\r\n    i18nKey : \"PT_PAY_BY_OWNER\",\r\n    name : 'I am making the payment as the owner/ consumer of the service'\r\n  }\r\n\r\n  const optionSecound = {\r\n    code : \"PAY_BEHALF_OWNER\",\r\n    i18nKey: \"PT_PAY_BEHALF_OWNER\",\r\n    name : 'I am making the payment on behalf of the owner/ consumer of the service',\r\n  }\r\n\r\n  const userInfo = Digit.UserService.getUser()?.info;\r\n  const payersActiveName=userInfo?.name;\r\n  const payersActiveMobileNumber=userInfo?.mobileNumber;\r\n\r\n  const { t } = useTranslation();\r\n  const history = useHistory();\r\n  const { state, ...location } = useLocation();\r\n  const { consumerCode, businessService, paymentAmt } = useParams();\r\n  const { workflow: wrkflow, tenantId: _tenantId } = Digit.Hooks.useQueryParams();\r\n  const [bill, setBill] = useState(state ?.bill);\r\n  const tenantId = state ?.tenantId || _tenantId || Digit.UserService.getUser().info ?.tenantId;\r\n\r\n  const { data, isLoading } = state ?.bill ? { isLoading: false } : Digit.Hooks.useFetchPayment({ tenantId, businessService, consumerCode });\r\n\r\n\r\n  const billDetails = bill ?.billDetails ?.sort((a, b) => b.fromPeriod - a.fromPeriod) ?.[0] || [];\r\n  const Arrears =\r\n    bill ?.billDetails\r\n      ?.sort((a, b) => b.fromPeriod - a.fromPeriod)\r\n        ?.reduce((total, current, index) => (index === 0 ? total : total + current.amount), 0) || 0;\r\n\r\n\r\n  const [paymentType, setPaymentType] = useState(optionFirst);\r\n  const [payersName, setPayersName] = useState('')\r\n  const [payersMobileNumber, setPayersMobileNumber] = useState('')\r\n  const { control, handleSubmit } = useForm();\r\n  const [canSubmit, setCanSubmit] = useState(false);\r\n  const [mobileNumberError, setmobileNumberError] = useState(null);\r\n\r\n\r\n  useEffect(() => {\r\n    if (!bill && data) {\r\n      let requiredBill = data.Bill.filter((e) => e.consumerCode == consumerCode)[0];\r\n      setBill(requiredBill);\r\n    }\r\n  }, [isLoading]);\r\n\r\n  \r\n\r\n\r\n  const onChangePayersMobileNumber = (e) => {\r\n \r\n    setmobileNumberError(null)\r\n    let validation = \"^\\\\d{10}$\";\r\n    if(!e.match(validation))\r\n    {\r\n      setmobileNumberError(\"CORE_COMMON_PHONENO_INVALIDMSG\");\r\n      setCanSubmit(false)\r\n    }\r\n    setPayersMobileNumber(e);\r\n   \r\n   e.length==10 && payersName!='' ? setCanSubmit(true) : setCanSubmit(false) \r\n\r\n  }\r\n\r\n  const onChangePayersName = (value) => {\r\n    setPayersName(value)\r\n    value.length!==0 &&  mobileNumberError!='CORE_COMMON_PHONENO_INVALIDMSG' && payersName!=''  ? setCanSubmit(true) : setCanSubmit(false) \r\n  }\r\n\r\n  const onSubmit = () => {\r\n     history.push(`/digit-ui/citizen/payment/collect/${businessService}/${consumerCode}`, {\r\n      paymentAmount: paymentAmt,\r\n      tenantId: billDetails.tenantId,\r\n      name: paymentType?.code !== optionSecound?.code ? bill?.payerName :(userInfo? payersActiveName: payersName),\r\n      mobileNumber: paymentType?.code !== optionSecound?.code ? bill?.mobileNumber :(userInfo? payersActiveMobileNumber : payersMobileNumber),\r\n    }); \r\n\r\n  };\r\n\r\n\r\n  /* if (isLoading || paymentLoading) {\r\n    return <Loader />;\r\n  } */\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <BackButton>{t(\"CS_COMMON_BACK\")}</BackButton>\r\n      <form onSubmit={handleSubmit(onSubmit)}>\r\n        {/*  <Header>{t(\"PAYMENT_CS_HEADER\")}</Header> */}\r\n        <Header>{t(\"PT_PAYERS_DETAILS_HEADER\")}</Header>\r\n        <Card>\r\n        <span className='card-label-error'>{t(mobileNumberError)}</span>\r\n          <RadioButtons\r\n            selectedOption={paymentType}\r\n            onSelect={setPaymentType}\r\n            options={[optionFirst, optionSecound]}\r\n            optionsKey=\"name\"\r\n            inputStyle={{marginTop:\"11px\"}}\r\n            innerStyles={{display:\"flex\"}}\r\n          />\r\n          <div style={{ position: \"relative\" }}>\r\n\r\n            {paymentType?.code !== optionFirst?.code && !userInfo ? (\r\n              <div style={{ position: \"relative\" }}>\r\n                <span>\r\n                  <span>{t(\"PT_PAYERS_MOBILE_NO\")}</span>\r\n                  <MobileNumber\r\n                    // className=\"text-indent-xl\"\r\n                    onChange={onChangePayersMobileNumber}\r\n                    value={payersMobileNumber}\r\n\r\n                  />\r\n                 \r\n                </span>\r\n                <span>\r\n                  <span>{t(\"PT_PAYERS_NAME\")}</span>\r\n                  <TextInput\r\n                    //style={{ width: \"40%\" }}\r\n                   \r\n                    onChange={(e) => onChangePayersName(e.target.value)}\r\n                    value={payersName}\r\n                  \r\n                  />\r\n                </span>\r\n\r\n              </div>\r\n            ) : (\r\n                null\r\n              )}\r\n\r\n          </div>\r\n          <SubmitBar label={t(\"CS_COMMON_NEXT\")}  disabled={paymentType?.code !== optionSecound?.code ? false : (userInfo? false : !canSubmit)} submit={true} />\r\n        </Card>\r\n      </form>\r\n\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default SelectPaymentType;","import React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Card, KeyNote, SubmitBar } from \"@egovernments/digit-ui-react-components\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n\r\n// import { getKeyNotesConfig } from \"./keynotesConfig\";\r\n\r\nconst MyBill = ({ bill, currentPath, businessService, getKeyNotesConfig }) => {\r\n  const { t } = useTranslation();\r\n  const history = useHistory();\r\n\r\n  const onSubmit = () => {\r\n    history.push(`${currentPath}/${bill.consumerCode}`, { tenantId:bill?.tenantId });\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {typeof getKeyNotesConfig === \"function\" && (\r\n        <Card>\r\n          {getKeyNotesConfig(businessService, t)[\"my-bill\"].map((obj, index) => {\r\n            const value = obj.keyPath.reduce((acc, key) => {\r\n              if (typeof key === \"function\") acc = key(acc);\r\n              else acc = acc[key];\r\n              return acc;\r\n            }, bill);\r\n            return <KeyNote key={index + obj.keyValue} keyValue={t(obj.keyValue)} note={value || obj.fallback} noteStyle={obj.noteStyle || {}} />;\r\n          })}\r\n          <SubmitBar disabled={!bill.totalAmount?.toFixed(2)} onSubmit={onSubmit} label={t(\"CS_MY_APPLICATION_VIEW_DETAILS\")} />\r\n        </Card>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default MyBill;\r\n","import React, { useState, useEffect, useMemo } from \"react\";\r\nimport { ArrowLeft, Header, Loader } from \"@egovernments/digit-ui-react-components\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n\r\nimport MyBill from \"./my-bill\";\r\n\r\nexport const BillList = ({ billsList, currentPath, businessService }) => {\r\n  const { t } = useTranslation();\r\n  const history = useHistory();\r\n\r\n  const consumerCodes = billsList.map((bill) => bill.consumerCode);\r\n  // const { mobileNumber } = Digit.UserService.getUser()?.info;\r\n\r\n  const searchResult = Digit.Hooks.useApplicationsForBusinessServiceSearch({ filters: { consumerCodes: consumerCodes.join() }, businessService });\r\n\r\n  /*\r\n  call the relevant business search and find what key is being used as consumerCode in bills it is as follows :-\r\n\r\n  FSM -> applicationNo\r\n  PT -> propertyId\r\n\r\n  */\r\n\r\n  const keyForConsumerCode = searchResult.key;\r\n\r\n  const [applicationList, setApplicationList] = useState([]);\r\n  const [getKeyNotesConfig, setConfig] = useState(() => Digit.ComponentRegistryService?.getComponent(\"getBillDetailsConfigWithBusinessService\"));\r\n  const billableApplicationsObj = useMemo(() => ({}), []);\r\n  const billsListObj = useMemo(() => ({}), []);\r\n\r\n  useEffect(() => {\r\n    if (searchResult.data) searchResult.refetch();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (searchResult.data) {\r\n      const billableApps = searchResult.data.filter((property) => consumerCodes.includes(property[keyForConsumerCode]));\r\n      const billableIDs = billableApps.map((e) => e[keyForConsumerCode]);\r\n\r\n      billableApps.forEach((app) => {\r\n        billableApplicationsObj[app[keyForConsumerCode]] = app;\r\n      });\r\n\r\n\r\n      billsList.forEach((bill) => {\r\n        billsListObj[bill.consumerCode] = bill;\r\n      });\r\n\r\n      const newBillsList = billableIDs.map((e) => ({ ...billsListObj[e], ...billableApplicationsObj[e] }));\r\n      setApplicationList(newBillsList);\r\n    }\r\n  }, [searchResult.data, getKeyNotesConfig]);\r\n\r\n  if (searchResult.isLoading) {\r\n    return <Loader />;\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"static\">\r\n        {/* <div className=\"static-wrapper\"> */}\r\n          <Header>{t(\"CS_TITLE_MY_BILLS\") + ` (${applicationList.length})`}</Header>\r\n          {applicationList?.length > 0 &&\r\n            getKeyNotesConfig &&\r\n            applicationList.map((bill, index) => (\r\n              <div key={index}>\r\n                <MyBill {...{ bill, currentPath, businessService, getKeyNotesConfig }} />\r\n              </div>\r\n            ))}\r\n          {!applicationList?.length > 0 && <p style={{ paddingLeft: \"16px\" }}>{t(\"CS_BILLS_TEXT_NO_BILLS_FOUND\")}</p>}\r\n        {/* </div> */}\r\n        {businessService === \"PT\" && (\r\n          <p\r\n            style={{\r\n              paddingLeft: \"16px\",\r\n              paddingTop: \"16px\",\r\n              // position: \"fixed\",\r\n              // bottom: \"40px\",\r\n              // backgroundColor: \"#e3e3e3\",\r\n              // textAlign: \"left\",\r\n              // width: \"100%\",\r\n            }}\r\n          >\r\n            {t(\"PT_TEXT_NOT_ABLE_TO_FIND_THE_PROPERTY\")}\r\n            <span className=\"link\">\r\n              <Link to=\"/digit-ui/citizen/pt/property/citizen-search\">{t(\"PT_COMMON_CLICK_HERE\")}</Link>\r\n            </span>\r\n          </p>\r\n        )}\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nconst styles = {\r\n  root: {\r\n    width: \"100%\",\r\n    marginTop: \"2px\",\r\n    overflowX: \"auto\",\r\n    boxShadow: \"none\",\r\n  },\r\n  table: {\r\n    minWidth: 700,\r\n    backgroundColor: \"rgba(250, 250, 250, var(--bg-opacity))\",\r\n  },\r\n  cell: {\r\n    maxWidth: \"7em\",\r\n    minWidth: \"1em\",\r\n    border: \"1px solid #e8e7e6\",\r\n    padding: \"4px 5px\",\r\n    fontSize: \"0.8em\",\r\n    textAlign: \"left\",\r\n    lineHeight: \"1.5em\",\r\n  },\r\n  cellHeader: {\r\n    overflow: \"hidden\",\r\n    textOverflow: \"ellipsis\",\r\n  },\r\n  cellLeft: {\r\n    // position: 'sticky',\r\n    // backgroundColor:'rgba(250, 250, 250, var(--bg-opacity))',\r\n    // left: 0\r\n  },\r\n  cellRight: {\r\n    // position: 'sticky',\r\n    // backgroundColor:'rgba(250, 250, 250, var(--bg-opacity))',\r\n    // right: 0\r\n  },\r\n};\r\n\r\nconst ArrearTable = ({ className = \"table\", headers = [], values = [], arrears = 0 }) => {\r\n  const { t } = useTranslation();\r\n  return (\r\n    <React.Fragment>\r\n      <div style={styles.root}>\r\n        <table className={\"table-fixed-column-common-pay\"} style={styles.table}>\r\n          <thead>\r\n            <tr>\r\n              <th style={{ ...styles.cell, ...styles.cellLeft, ...styles.cellHeader }}>{t(\"CS_BILL_PERIOD\")}</th>\r\n              {headers.map((header, ind) => {\r\n                let styleRight = headers.length == ind + 1 ? styles.cellRight : {};\r\n                return (\r\n                  <th style={{ ...styles.cell, ...styleRight, ...styles.cellHeader }} key={ind}>\r\n                    {t(header)}\r\n                  </th>\r\n                );\r\n              })}\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {Object.values(values).map((row, ind) => (\r\n              <tr key={ind}>\r\n                <td style={{ ...styles.cell, ...styles.cellLeft }} component=\"th\" scope=\"row\">\r\n                  {Object.keys(values)[ind]}\r\n                </td>\r\n                {headers.map((header, i) => {\r\n                  let styleRight = headers.length == i + 1 ? styles.cellRight : {};\r\n                  return (\r\n                    <td style={{ ...styles.cell, textAlign: \"left\", ...styleRight, whiteSpace: \"pre\" }} key={i} numeric>\r\n                      {i > 1 && \"₹\"}\r\n                      {(row[header] && row[header][\"value\"]) || \"0\"}\r\n                    </td>\r\n                  );\r\n                })}\r\n              </tr>\r\n            ))}\r\n            <tr>\r\n              <td style={{ ...styles.cell, ...styles.cellLeft }}></td>\r\n              {headers.map((header, ind) => {\r\n                if (ind == headers.length - 1) {\r\n                  return (\r\n                    <td style={{ ...styles.cell, ...styles.cellRight, textAlign: \"left\", fontWeight: \"700\", whiteSpace: \"pre\" }} key={ind} numeric>\r\n                      {arrears}\r\n                    </td>\r\n                  );\r\n                } else if (ind == headers.length - 2) {\r\n                  return (\r\n                    <td style={{ ...styles.cell, textAlign: \"left\" }} key={ind} numeric>\r\n                      {t(\"COMMON_ARREARS_TOTAL\")}\r\n                    </td>\r\n                  );\r\n                } else {\r\n                  return <td style={styles.cell} key={ind} numeric></td>;\r\n                }\r\n              })}\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default ArrearTable;\r\n","import React, { useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport ArrearTable from \"./arrear-table\";\r\n\r\nconst styles = {\r\n  buttonStyle: { display: \"flex\", justifyContent: \"flex-end\", color: \"#f47738\" },\r\n  headerStyle: {\r\n    marginTop: \"10px\",\r\n    fontSize: \"16px\",\r\n    fontWeight: \"700\",\r\n    lineHeight: \"24px\",\r\n    color: \" rgba(11, 12, 12, var(--text-opacity))\",\r\n  },\r\n};\r\n\r\nconst ArrearSummary = ({ bill = {} }) => {\r\n  const { t } = useTranslation();\r\n  const formatTaxHeaders = (billDetail = {}) => {\r\n    let formattedFees = {};\r\n    const { billAccountDetails = [] } = billDetail;\r\n    billAccountDetails.map((taxHead) => {\r\n      formattedFees[taxHead.taxHeadCode] = { value: taxHead.amount, order: taxHead.order };\r\n    });\r\n    formattedFees[\"CS_BILL_NO\"] = { value: billDetail?.billNumber || \"NA\", order: -2 };\r\n    formattedFees[\"CS_BILL_DUEDATE\"] = {\r\n      value: (billDetail?.expiryDate && new Date(billDetail?.expiryDate).toLocaleDateString()) || \"NA\",\r\n      order: -1,\r\n    };\r\n    formattedFees[\"TL_COMMON_TOTAL_AMT\"] = { value: billDetail.amount, order: 10 };\r\n    return formattedFees;\r\n  };\r\n\r\n  const getFinancialYears = (from, to) => {\r\n    const fromDate = new Date(from);\r\n    const toDate = new Date(to);\r\n    if (toDate.getYear() - fromDate.getYear() != 0) {\r\n      return `FY${fromDate.getYear() + 1900}-${toDate.getYear() - 100}`;\r\n    }\r\n    return `${fromDate.toLocaleDateString()}-${toDate.toLocaleDateString()}`;\r\n  };\r\n\r\n  let fees = {};\r\n  let sortedBillDetails = bill?.billDetails?.sort((a, b) => b.fromPeriod - a.fromPeriod) || [];\r\n  sortedBillDetails = [...sortedBillDetails];\r\n  const arrears = sortedBillDetails?.reduce((total, current, index) => (index === 0 ? total : total + current.amount), 0) || 0;\r\n  let arrearsAmount = `₹ ${arrears?.toFixed?.(0) || Number(0).toFixed(0)}`;\r\n\r\n  sortedBillDetails.shift();\r\n  sortedBillDetails.map((bill) => {\r\n    let fee = formatTaxHeaders(bill);\r\n    fees[getFinancialYears(bill.fromPeriod, bill.toPeriod)] = fee;\r\n  });\r\n\r\n  let head = {};\r\n  fees\r\n    ? Object.keys(fees).map((key, ind) => {\r\n        let value = [];\r\n        Object.keys(fees[key]).map((key1) => {\r\n          head[key1] = (fees[key] && fees[key][key1] && fees[key][key1].order) || 0;\r\n        });\r\n      })\r\n    : \"NA\";\r\n  let keys = [];\r\n\r\n  keys = Object.keys(head);\r\n  keys.sort((x, y) => head[x] - head[y]);\r\n\r\n  const [showArrear, setShowArrear] = useState(false);\r\n\r\n  if (arrears == 0 || arrears < 0) {\r\n    return <span></span>;\r\n  }\r\n  return (\r\n    <React.Fragment>\r\n      <div style={styles.headerStyle}>{t(\"CS_ARREARS_DETAILS\")}</div>\r\n      {showArrear && <ArrearTable headers={[...keys]} values={fees} arrears={arrearsAmount}></ArrearTable>}\r\n      {!showArrear && (\r\n        <div style={styles.buttonStyle}>\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => {\r\n              setShowArrear(true);\r\n            }}\r\n          >\r\n            {t(\"CS_SHOW_CARD\")}\r\n          </button>\r\n        </div>\r\n      )}\r\n      {showArrear && (\r\n        <div style={styles.buttonStyle}>\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => {\r\n              setShowArrear(false);\r\n            }}\r\n          >\r\n            {t(\"CS_HIDE_CARD\")}\r\n          </button>\r\n        </div>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default ArrearSummary;\r\n","import React, { useEffect } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nconst BillSumary = ({ billAccountDetails, total, businessService, arrears }) => {\r\n  const { t } = useTranslation();\r\n  const { workflow: ModuleWorkflow } = Digit.Hooks.useQueryParams();\r\n\r\n  useEffect(() => {\r\n    ModuleWorkflow === \"mcollect\" && billAccountDetails && billAccountDetails.map((ob) => {\r\n      if(ob.taxHeadCode.includes(\"CGST\"))\r\n        ob.order = 3;\r\n      else if(ob.taxHeadCode.includes(\"SGST\"))\r\n        ob.order = 4;\r\n    })\r\n  },[billAccountDetails])\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"bill-summary\">\r\n        {billAccountDetails\r\n          .sort((a, b) => a.order - b.order)\r\n          .map((amountDetails, index) => {\r\n            return (\r\n              <div key={index} className=\"bill-account-details\">\r\n                <div className=\"label\">{t(amountDetails.taxHeadCode)}</div>\r\n                <div className=\"value\">₹ {amountDetails.amount?.toFixed(2)}</div>\r\n              </div>\r\n            );\r\n          })}\r\n\r\n        {\r\n          <div className=\"bill-account-details\">\r\n            <div className=\"label\">{t(\"COMMON_ARREARS\")}</div>\r\n            <div className=\"value\">₹ {arrears?.toFixed?.(2) || Number(0).toFixed(2)}</div>\r\n          </div>\r\n        }\r\n\r\n        <hr className=\"underline\" />\r\n        <div className=\"amount-details\">\r\n          <div className=\"label\">{t(\"CS_PAYMENT_TOTAL_AMOUNT\")}</div>\r\n          <div className=\"value\">₹ {Number(total)}</div>\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default BillSumary;\r\n","export const stringReplaceAll = (str = \"\", searcher = \"\", replaceWith = \"\") => {\r\n    if (searcher == \"\") return str;\r\n    while (str.includes(searcher)) {\r\n      str = str.replace(searcher, replaceWith);\r\n    }\r\n    return str;\r\n  };","import { Card, CardSubHeader, Header, KeyNote, Loader, RadioButtons, SubmitBar, TextInput } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useHistory, useLocation, useParams } from \"react-router-dom\";\r\nimport ArrearSummary from \"./arrear-summary\";\r\nimport BillSumary from \"./bill-summary\";\r\nimport { stringReplaceAll } from \"./utils\";\r\n\r\nconst BillDetails = ({ paymentRules, businessService }) => {\r\n  const { t } = useTranslation();\r\n  const history = useHistory();\r\n  const { state, ...location } = useLocation();\r\n  const { consumerCode } = useParams();\r\n  const { workflow: wrkflow, tenantId: _tenantId } = Digit.Hooks.useQueryParams();\r\n  const [bill, setBill] = useState(state?.bill);\r\n  const tenantId = state?.tenantId || _tenantId || Digit.UserService.getUser().info?.tenantId;\r\n  const { data, isLoading } = state?.bill\r\n    ? { isLoading: false }\r\n    : Digit.Hooks.useFetchPayment({\r\n        tenantId,\r\n        businessService,\r\n        consumerCode: wrkflow === \"WNS\" ? stringReplaceAll(consumerCode, \"+\", \"/\") : consumerCode,\r\n      });\r\n  let { minAmountPayable, isAdvanceAllowed } = paymentRules;\r\n  minAmountPayable = wrkflow === \"WNS\" ? 100 : minAmountPayable;\r\n  const billDetails = bill?.billDetails?.sort((a, b) => b.fromPeriod - a.fromPeriod)?.[0] || [];\r\n  const Arrears =\r\n    bill?.billDetails\r\n      ?.sort((a, b) => b.fromPeriod - a.fromPeriod)\r\n      ?.reduce((total, current, index) => (index === 0 ? total : total + current.amount), 0) || 0;\r\n\r\n  const { key, label } = Digit.Hooks.useApplicationsForBusinessServiceSearch({ businessService }, { enabled: false });\r\n\r\n  const getBillingPeriod = () => {\r\n    const { fromPeriod, toPeriod } = billDetails;\r\n    if (fromPeriod && toPeriod) {\r\n      let from, to;\r\n      if (wrkflow === \"mcollect\") {\r\n        from =\r\n          new Date(fromPeriod).getDate().toString() +\r\n          \" \" +\r\n          Digit.Utils.date.monthNames[new Date(fromPeriod).getMonth() + 1].toString() +\r\n          \" \" +\r\n          new Date(fromPeriod).getFullYear().toString();\r\n        to =\r\n          new Date(toPeriod).getDate() +\r\n          \" \" +\r\n          Digit.Utils.date.monthNames[new Date(toPeriod).getMonth() + 1] +\r\n          \" \" +\r\n          new Date(toPeriod).getFullYear();\r\n        return from + \" - \" + to;\r\n      }\r\n      from = new Date(billDetails.fromPeriod).getFullYear().toString();\r\n      to = new Date(billDetails.toPeriod).getFullYear().toString();\r\n      if (from === to) {\r\n        if(window.location.href.includes(\"BPA\"))\r\n        {\r\n          if(new Date(data?.Bill?.[0]?.billDate).getMonth()+1 < 4)\r\n          {\r\n            let newfrom =  (parseInt(from)-1).toString();\r\n            return \"FY \" + newfrom + \"-\" + to;\r\n          }\r\n          else\r\n          {\r\n            let newTo = (parseInt(to)+1).toString();\r\n            return \"FY \" + from + \"-\" + newTo;\r\n          }\r\n        }\r\n        else\r\n        return \"FY \" + from;\r\n      }\r\n      return \"FY \" + from + \"-\" + to;\r\n    } else return \"N/A\";\r\n  };\r\n\r\n  const getBillBreakDown = () => billDetails?.billAccountDetails || [];\r\n\r\n  const getTotal = () => bill?.totalAmount || 0;\r\n\r\n  const [paymentType, setPaymentType] = useState(t(\"CS_PAYMENT_FULL_AMOUNT\"));\r\n  const [amount, setAmount] = useState(getTotal());\r\n  const [paymentAllowed, setPaymentAllowed] = useState(true);\r\n  const [formError, setError] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    window.scroll({ top: 0, behavior: \"smooth\" });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (paymentType == t(\"CS_PAYMENT_FULL_AMOUNT\")) setAmount(getTotal());\r\n  }, [paymentType, bill]);\r\n\r\n  useEffect(() => {\r\n    let changeAdvanceAllowed = isAdvanceAllowed;\r\n    if (isAdvanceAllowed && wrkflow === \"WNS\") changeAdvanceAllowed = false;\r\n    const allowPayment = minAmountPayable && amount >= minAmountPayable && !changeAdvanceAllowed && amount <= getTotal() && !formError;\r\n    if (paymentType != t(\"CS_PAYMENT_FULL_AMOUNT\")) setPaymentAllowed(allowPayment);\r\n    else setPaymentAllowed(true);\r\n  }, [paymentType, amount]);\r\n\r\n  useEffect(() => {\r\n    if (!bill && data) {\r\n      let requiredBill = data.Bill.filter((e) => e.consumerCode == (wrkflow === \"WNS\" ? stringReplaceAll(consumerCode, \"+\", \"/\") : consumerCode))[0];\r\n      setBill(requiredBill);\r\n    }\r\n  }, [isLoading]);\r\n\r\n  const onSubmit = () => {\r\n    let paymentAmount = paymentType === t(\"CS_PAYMENT_FULL_AMOUNT\") ? getTotal() : amount;\r\n    if (window.location.href.includes(\"mcollect\")) {\r\n      history.push(`/digit-ui/citizen/payment/collect/${businessService}/${consumerCode}?workflow=mcollect`, {\r\n        paymentAmount,\r\n        tenantId: billDetails.tenantId,\r\n      });\r\n    } else if (wrkflow === \"WNS\") {\r\n      history.push(`/digit-ui/citizen/payment/collect/${businessService}/${consumerCode}?workflow=WNS`, {\r\n        paymentAmount,\r\n        tenantId: billDetails.tenantId,\r\n      });\r\n    } else if (businessService === \"PT\") {\r\n      history.push(`/digit-ui/citizen/payment/billDetails/${businessService}/${consumerCode}/${paymentAmount}`, {\r\n        paymentAmount,\r\n        tenantId: billDetails.tenantId,\r\n        name: bill.payerName,\r\n        mobileNumber: bill.mobileNumber,\r\n      });\r\n    } else {\r\n      history.push(`/digit-ui/citizen/payment/collect/${businessService}/${consumerCode}`, { paymentAmount, tenantId: billDetails.tenantId });\r\n    }\r\n  };\r\n\r\n  const onChangeAmount = (value) => {\r\n    setError(\"\");\r\n    if (isNaN(value) || value.includes(\".\")) {\r\n      setError(\"AMOUNT_INVALID\");\r\n    } else if (!isAdvanceAllowed && value > getTotal()) {\r\n      setError(\"CS_ADVANCED_PAYMENT_NOT_ALLOWED\");\r\n    } else if (value < minAmountPayable) {\r\n      setError(\"CS_CANT_PAY_BELOW_MIN_AMOUNT\");\r\n    }\r\n    setAmount(value);\r\n  };\r\n\r\n  if (isLoading) return <Loader />;\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Header>{t(\"CS_PAYMENT_BILL_DETAILS\")}</Header>\r\n      <Card>\r\n        <div>\r\n          <KeyNote\r\n            keyValue={t(businessService == \"PT.MUTATION\" ? \"PDF_STATIC_LABEL_MUATATION_NUMBER_LABEL\" : label)}\r\n            note={wrkflow === \"WNS\" ? stringReplaceAll(consumerCode, \"+\", \"/\") : consumerCode}\r\n          />\r\n          {businessService !== \"PT.MUTATION\" && <KeyNote keyValue={t(\"CS_PAYMENT_BILLING_PERIOD\")} note={getBillingPeriod()} />}\r\n          {businessService?.includes(\"PT\") && billDetails?.currentBillNo && <KeyNote keyValue={t(\"CS_BILL_NO\")} note={billDetails?.currentBillNo} />}\r\n          {businessService?.includes(\"PT\") && billDetails?.currentExpiryDate && (\r\n            <KeyNote keyValue={t(\"CS_BILL_DUEDATE\")} note={new Date(billDetails?.currentExpiryDate).toLocaleDateString()} />\r\n          )}\r\n          <BillSumary billAccountDetails={getBillBreakDown()} total={getTotal()} businessService={businessService} arrears={Arrears} />\r\n          <ArrearSummary bill={bill} />\r\n        </div>\r\n        <div className=\"bill-payment-amount\">\r\n          <hr className=\"underline\" />\r\n          <CardSubHeader>{t(\"CS_COMMON_PAYMENT_AMOUNT\")}</CardSubHeader>\r\n          <RadioButtons\r\n            selectedOption={paymentType}\r\n            onSelect={setPaymentType}\r\n            options={paymentRules.partPaymentAllowed ? [t(\"CS_PAYMENT_FULL_AMOUNT\"), t(\"CS_PAYMENT_CUSTOM_AMOUNT\")] : [t(\"CS_PAYMENT_FULL_AMOUNT\")]}\r\n          />\r\n          <div style={{ position: \"relative\" }}>\r\n            <span\r\n              className=\"payment-amount-front\"\r\n              style={{ border: `1px solid ${paymentType === t(\"CS_PAYMENT_FULL_AMOUNT\") ? \"#9a9a9a\" : \"black\"}` }}\r\n            >\r\n              ₹\r\n            </span>\r\n            {paymentType !== t(\"CS_PAYMENT_FULL_AMOUNT\") ? (\r\n              <TextInput className=\"text-indent-xl\" onChange={(e) => onChangeAmount(e.target.value)} value={amount} disable={getTotal() === 0} />\r\n            ) : (\r\n              <TextInput className=\"text-indent-xl\" value={getTotal()} onChange={() => {}} disable={true} />\r\n            )}\r\n            {formError === \"CS_CANT_PAY_BELOW_MIN_AMOUNT\" ? (\r\n              <span className=\"card-label-error\">\r\n                {t(formError)}: {\"₹\" + minAmountPayable}\r\n              </span>\r\n            ) : (\r\n              <span className=\"card-label-error\">{t(formError)}</span>\r\n            )}\r\n          </div>\r\n          <SubmitBar disabled={!paymentAllowed || getTotal() == 0} onSubmit={onSubmit} label={t(\"CS_COMMON_PROCEED_TO_PAY\")} />\r\n        </div>\r\n      </Card>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default BillDetails;\r\n","import React from \"react\";\r\nimport { Route, Switch, useRouteMatch } from \"react-router-dom\";\r\n\r\nimport { BillList } from \"./my-bills/my-bills\";\r\nimport BillDetails from \"./bill-details/bill-details\";\r\nimport { BackButton } from \"@egovernments/digit-ui-react-components\";\r\n\r\nconst BillRoutes = ({ billsList, paymentRules, businessService }) => {\r\n  const { url: currentPath, ...match } = useRouteMatch();\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <BackButton />\r\n      <Switch>\r\n        <Route exact path={`${currentPath}`} component={() => <BillList {...{ billsList, currentPath, paymentRules, businessService }} />} />\r\n        <Route path={`${currentPath}/:consumerCode`} component={() => <BillDetails {...{ paymentRules, businessService }} />} />\r\n      </Switch>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default BillRoutes;\r\n","import { Loader } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useParams, useHistory, useRouteMatch, useLocation } from \"react-router-dom\";\r\nimport Routes from \"./routes\";\r\n// import { myBillMap } from \"./myBillsKeysMap\";\r\n\r\nexport const MyBills = ({ stateCode }) => {\r\n  const { businessService } = useParams();\r\n  const { tenantId: _tenantId } = Digit.Hooks.useQueryParams();\r\n\r\n  const { isLoading: storeLoading, data: store } = Digit.Services.useStore({\r\n    stateCode,\r\n    moduleCode: businessService,\r\n    language: Digit.StoreData.getCurrentLanguage(),\r\n  });\r\n\r\n  const history = useHistory();\r\n  const { url } = useRouteMatch();\r\n  const location = useLocation();\r\n\r\n  const { tenantId } = Digit.UserService.getUser()?.info || location?.state || { tenantId: _tenantId } || {};\r\n\r\n  if (!tenantId && !location?.state?.fromSearchResults) {\r\n    history.replace(`/digit-ui/citizen/login`, { from: url });\r\n  }\r\n\r\n  const { isLoading, data } = Digit.Hooks.useFetchCitizenBillsForBuissnessService(\r\n    { businessService },\r\n    { refetchOnMount: true, enabled: !location?.state?.fromSearchResults }\r\n  );\r\n  const { isLoading: mdmsLoading, data: mdmsBillingData } = Digit.Hooks.useGetPaymentRulesForBusinessServices(tenantId);\r\n\r\n  const billsList = data?.Bill || [];\r\n\r\n  const getPaymentRestrictionDetails = () => {\r\n    const payRestrictiondetails = mdmsBillingData?.MdmsRes?.BillingService?.BusinessService;\r\n    if (payRestrictiondetails?.length) return payRestrictiondetails.filter((e) => e.code == businessService)?.[0]||{\r\n      isAdvanceAllowed: false,\r\n      isVoucherCreationEnabled: true,\r\n      minAmountPayable: 100,\r\n      partPaymentAllowed: false,\r\n    };\r\n    else\r\n      return {\r\n        // isAdvanceAllowed: false,\r\n        // isVoucherCreationEnabled: true,\r\n        // minAmountPayable: 100,\r\n        // partPaymentAllowed: true,\r\n      };\r\n  };\r\n\r\n  const getProps = () => ({ billsList, paymentRules: getPaymentRestrictionDetails(), businessService });\r\n\r\n  if (mdmsLoading) {\r\n    return <Loader />;\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Routes {...getProps()} />\r\n    </React.Fragment>\r\n  );\r\n};\r\n","// A type of promise-like that resolves synchronously and supports only one observer\nexport const _Pact = /*#__PURE__*/(function() {\n\tfunction _Pact() {}\n\t_Pact.prototype.then = function(onFulfilled, onRejected) {\n\t\tconst result = new _Pact();\n\t\tconst state = this.s;\n\t\tif (state) {\n\t\t\tconst callback = state & 1 ? onFulfilled : onRejected;\n\t\t\tif (callback) {\n\t\t\t\ttry {\n\t\t\t\t\t_settle(result, 1, callback(this.v));\n\t\t\t\t} catch (e) {\n\t\t\t\t\t_settle(result, 2, e);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\t\tthis.o = function(_this) {\n\t\t\ttry {\n\t\t\t\tconst value = _this.v;\n\t\t\t\tif (_this.s & 1) {\n\t\t\t\t\t_settle(result, 1, onFulfilled ? onFulfilled(value) : value);\n\t\t\t\t} else if (onRejected) {\n\t\t\t\t\t_settle(result, 1, onRejected(value));\n\t\t\t\t} else {\n\t\t\t\t\t_settle(result, 2, value);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(result, 2, e);\n\t\t\t}\n\t\t};\n\t\treturn result;\n\t}\n\treturn _Pact;\n})();\n\n// Settles a pact synchronously\nexport function _settle(pact, state, value) {\n\tif (!pact.s) {\n\t\tif (value instanceof _Pact) {\n\t\t\tif (value.s) {\n\t\t\t\tif (state & 1) {\n\t\t\t\t\tstate = value.s;\n\t\t\t\t}\n\t\t\t\tvalue = value.v;\n\t\t\t} else {\n\t\t\t\tvalue.o = _settle.bind(null, pact, state);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (value && value.then) {\n\t\t\tvalue.then(_settle.bind(null, pact, state), _settle.bind(null, pact, 2));\n\t\t\treturn;\n\t\t}\n\t\tpact.s = state;\n\t\tpact.v = value;\n\t\tconst observer = pact.o;\n\t\tif (observer) {\n\t\t\tobserver(pact);\n\t\t}\n\t}\n}\n\nexport function _isSettledPact(thenable) {\n\treturn thenable instanceof _Pact && thenable.s & 1;\n}\n\n// Converts argument to a function that always returns a Promise\nexport function _async(f) {\n\treturn function() {\n\t\tfor (var args = [], i = 0; i < arguments.length; i++) {\n\t\t\targs[i] = arguments[i];\n\t\t}\n\t\ttry {\n\t\t\treturn Promise.resolve(f.apply(this, args));\n\t\t} catch(e) {\n\t\t\treturn Promise.reject(e);\n\t\t}\n\t}\n}\n\n// Awaits on a value that may or may not be a Promise (equivalent to the await keyword in ES2015, with continuations passed explicitly)\nexport function _await(value, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(value) : value;\n\t}\n\tif (!value || !value.then) {\n\t\tvalue = Promise.resolve(value);\n\t}\n\treturn then ? value.then(then) : value;\n}\n\n// Awaits on a value that may or may not be a Promise, then ignores it\nexport function _awaitIgnored(value, direct) {\n\tif (!direct) {\n\t\treturn value && value.then ? value.then(_empty) : Promise.resolve();\n\t}\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continue(value, then) {\n\treturn value && value.then ? value.then(then) : then(value);\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continueIgnored(value) {\n\tif (value && value.then) {\n\t\treturn value.then(_empty);\n\t}\n}\n\n// Asynchronously iterate through an object that has a length property, passing the index as the first argument to the callback (even as the length property changes)\nexport function _forTo(array, body, check) {\n\tvar i = -1, pact, reject;\n\tfunction _cycle(result) {\n\t\ttry {\n\t\t\twhile (++i < array.length && (!check || !check())) {\n\t\t\t\tresult = body(i);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (pact) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t} else {\n\t\t\t\tpact = result;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t}\n\t}\n\t_cycle();\n\treturn pact;\n}\n\n// Asynchronously iterate through an object's properties (including properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forIn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tkeys.push(key);\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\n// Asynchronously iterate through an object's own properties (excluding properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forOwn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tif (Object.prototype.hasOwnProperty.call(target, key)) {\n\t\t\tkeys.push(key);\n\t\t}\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\nexport const _iteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\"))) : \"@@iterator\";\n\n// Asynchronously iterate through an object's values\n// Uses for...of if the runtime supports it, otherwise iterates until length on a copy\nexport function _forOf(target, body, check) {\n\tif (typeof target[_iteratorSymbol] === \"function\") {\n\t\tvar iterator = target[_iteratorSymbol](), step, pact, reject;\n\t\tfunction _cycle(result) {\n\t\t\ttry {\n\t\t\t\twhile (!(step = iterator.next()).done && (!check || !check())) {\n\t\t\t\t\tresult = body(step.value);\n\t\t\t\t\tif (result && result.then) {\n\t\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (pact) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t} else {\n\t\t\t\t\tpact = result;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t\t}\n\t\t}\n\t\t_cycle();\n\t\tif (iterator.return) {\n\t\t\tvar _fixup = function(value) {\n\t\t\t\ttry {\n\t\t\t\t\tif (!step.done) {\n\t\t\t\t\t\titerator.return();\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\tif (pact && pact.then) {\n\t\t\t\treturn pact.then(_fixup, function(e) {\n\t\t\t\t\tthrow _fixup(e);\n\t\t\t\t});\n\t\t\t}\n\t\t\t_fixup();\n\t\t}\n\t\treturn pact;\n\t}\n\t// No support for Symbol.iterator\n\tif (!(\"length\" in target)) {\n\t\tthrow new TypeError(\"Object is not iterable\");\n\t}\n\t// Handle live collections properly\n\tvar values = [];\n\tfor (var i = 0; i < target.length; i++) {\n\t\tvalues.push(target[i]);\n\t}\n\treturn _forTo(values, function(i) { return body(values[i]); }, check);\n}\n\nexport const _asyncIteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.asyncIterator || (Symbol.asyncIterator = Symbol(\"Symbol.asyncIterator\"))) : \"@@asyncIterator\";\n\n// Asynchronously iterate on a value using it's async iterator if present, or its synchronous iterator if missing\nexport function _forAwaitOf(target, body, check) {\n\tif (typeof target[_asyncIteratorSymbol] === \"function\") {\n\t\tvar pact = new _Pact();\n\t\tvar iterator = target[_asyncIteratorSymbol]();\n\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\treturn pact;\n\t\tfunction _resumeAfterBody(result) {\n\t\t\tif (check && check()) {\n\t\t\t\treturn _settle(pact, 1, iterator.return ? iterator.return().then(function() { return result; }) : result);\n\t\t\t}\n\t\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\t}\n\t\tfunction _resumeAfterNext(step) {\n\t\t\tif (step.done) {\n\t\t\t\t_settle(pact, 1);\n\t\t\t} else {\n\t\t\t\tPromise.resolve(body(step.value)).then(_resumeAfterBody).then(void 0, _reject);\n\t\t\t}\n\t\t}\n\t\tfunction _reject(error) {\n\t\t\t_settle(pact, 2, iterator.return ? iterator.return().then(function() { return error; }) : error);\n\t\t}\n\t}\n\treturn Promise.resolve(_forOf(target, function(value) { return Promise.resolve(value).then(body); }, check));\n}\n\n// Asynchronously implement a generic for loop\nexport function _for(test, update, body) {\n\tvar stage;\n\tfor (;;) {\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t\tif (shouldContinue.then) {\n\t\t\tstage = 0;\n\t\t\tbreak;\n\t\t}\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.s;\n\t\t\t} else {\n\t\t\t\tstage = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (update) {\n\t\t\tvar updateValue = update();\n\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\tstage = 2;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tvar pact = new _Pact();\n\tvar reject = _settle.bind(null, pact, 2);\n\t(stage === 0 ? shouldContinue.then(_resumeAfterTest) : stage === 1 ? result.then(_resumeAfterBody) : updateValue.then(_resumeAfterUpdate)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tdo {\n\t\t\tif (update) {\n\t\t\t\tupdateValue = update();\n\t\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\t\tupdateValue.then(_resumeAfterUpdate).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tshouldContinue = test();\n\t\t\tif (!shouldContinue || (_isSettledPact(shouldContinue) && !shouldContinue.v)) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t}\n\t\t} while (!result || !result.then);\n\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterBody(result);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n\tfunction _resumeAfterUpdate() {\n\t\tif (shouldContinue = test()) {\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterTest(shouldContinue);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a do ... while loop\nexport function _do(body, test) {\n\tvar awaitBody;\n\tdo {\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t} else {\n\t\t\t\tawaitBody = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t} while (!shouldContinue.then);\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : shouldContinue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tfor (;;) {\n\t\t\tshouldContinue = test();\n\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t}\n\t\t\tif (!shouldContinue) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\tresult = result.v;\n\t\t\t\t} else {\n\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tdo {\n\t\t\t\tresult = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tshouldContinue = test();\n\t\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t\t}\n\t\t\t\tif (!shouldContinue) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} while (!shouldContinue.then);\n\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a switch statement\nexport function _switch(discriminant, cases) {\n\tvar dispatchIndex = -1;\n\tvar awaitBody;\n\touter: {\n\t\tfor (var i = 0; i < cases.length; i++) {\n\t\t\tvar test = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvar testValue = test();\n\t\t\t\tif (testValue && testValue.then) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tif (testValue === discriminant) {\n\t\t\t\t\tdispatchIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Found the default case, set it as the pending dispatch case\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tif (dispatchIndex !== -1) {\n\t\t\tdo {\n\t\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\t\twhile (!body) {\n\t\t\t\t\tdispatchIndex++;\n\t\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t\t}\n\t\t\t\tvar result = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tawaitBody = true;\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\t\tdispatchIndex++;\n\t\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t\treturn result;\n\t\t}\n\t}\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : testValue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterTest(value) {\n\t\tfor (;;) {\n\t\t\tif (value === discriminant) {\n\t\t\t\tdispatchIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (++i === cases.length) {\n\t\t\t\tif (dispatchIndex !== -1) {\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttest = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvalue = test();\n\t\t\t\tif (value && value.then) {\n\t\t\t\t\tvalue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tdo {\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tvar result = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tdispatchIndex++;\n\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterBody(result) {\n\t\tfor (;;) {\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tif (!fallthroughCheck || fallthroughCheck()) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdispatchIndex++;\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _call(body, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(body()) : body();\n\t}\n\ttry {\n\t\tvar result = Promise.resolve(body());\n\t\treturn then ? result.then(then) : result;\n\t} catch (e) {\n\t\treturn Promise.reject(e);\n\t}\n}\n\n// Asynchronously call a function and swallow the result\nexport function _callIgnored(body, direct) {\n\treturn _call(body, _empty, direct);\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _invoke(body, then) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(then);\n\t}\n\treturn then(result);\n}\n\n// Asynchronously call a function and swallow the result\nexport function _invokeIgnored(body) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(_empty);\n\t}\n}\n\n// Asynchronously call a function and send errors to recovery continuation\nexport function _catch(body, recover) {\n\ttry {\n\t\tvar result = body();\n\t} catch(e) {\n\t\treturn recover(e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(void 0, recover);\n\t}\n\treturn result;\n}\n\n// Asynchronously await a promise and pass the result to a finally continuation\nexport function _finallyRethrows(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer(true, e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n\t}\n\treturn finalizer(false, result);\n}\n\n// Asynchronously await a promise and invoke a finally continuation that always overrides the result\nexport function _finally(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer();\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer, finalizer);\n\t}\n\treturn finalizer();\n}\n\n// Rethrow or return a value from a finally continuation\nexport function _rethrow(thrown, value) {\n\tif (thrown)\n\t\tthrow value;\n\treturn value;\n}\n\n// Empty function to implement break and other control flow that ignores asynchronous results\nexport function _empty() {\n}\n\n// Sentinel value for early returns in generators \nexport const _earlyReturn = /*#__PURE__*/ {};\n\n// Asynchronously call a function and send errors to recovery continuation, skipping early returns\nexport function _catchInGenerator(body, recover) {\n\treturn _catch(body, function(e) {\n\t\tif (e === _earlyReturn) {\n\t\t\tthrow e;\n\t\t}\n\t\treturn recover(e);\n\t});\n}\n\n// Asynchronous generator class; accepts the entrypoint of the generator, to which it passes itself when the generator should start\nexport const _AsyncGenerator = /*#__PURE__*/(function() {\n\tfunction _AsyncGenerator(entry) {\n\t\tthis._entry = entry;\n\t\tthis._pact = null;\n\t\tthis._resolve = null;\n\t\tthis._return = null;\n\t\tthis._promise = null;\n\t}\n\n\tfunction _wrapReturnedValue(value) {\n\t\treturn { value: value, done: true };\n\t}\n\tfunction _wrapYieldedValue(value) {\n\t\treturn { value: value, done: false };\n\t}\n\n\t_AsyncGenerator.prototype._yield = function(value) {\n\t\t// Yield the value to the pending next call\n\t\tthis._resolve(value && value.then ? value.then(_wrapYieldedValue) : _wrapYieldedValue(value));\n\t\t// Return a pact for an upcoming next/return/throw call\n\t\treturn this._pact = new _Pact();\n\t};\n\t_AsyncGenerator.prototype.next = function(value) {\n\t\t// Advance the generator, starting it if it has yet to be started\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tconst _entry = _this._entry;\n\t\t\t\tif (_entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the next call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Start the generator\n\t\t\t\t_this._entry = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\tfunction returnValue(value) {\n\t\t\t\t\t_this._resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t_this._resolve = null;\n\t\t\t\t}\n\t\t\t\tvar result = _entry(_this);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tresult.then(returnValue, function(error) {\n\t\t\t\t\t\tif (error === _earlyReturn) {\n\t\t\t\t\t\t\treturnValue(_this._return);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst pact = new _Pact();\n\t\t\t\t\t\t\t_this._resolve(pact);\n\t\t\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t\t\t_this._resolve = null;\n\t\t\t\t\t\t\t_resolve(pact, 2, error);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturnValue(result);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Generator is started and a yield expression is pending, settle it\n\t\t\t\t_this._pact = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\t_settle(_pact, 1, value);\n\t\t\t}\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.return = function(value) {\n\t\t// Early return from the generator if started, otherwise abandons the generator\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the return call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return the specified value\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t}\n\t\t\t// Settle the yield expression with a rejected \"early return\" value\n\t\t\t_this._return = value;\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, _earlyReturn);\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.throw = function(error) {\n\t\t// Inject an exception into the pending yield expression\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve, reject) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the throw call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return a rejected Promise containing the error\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn reject(error);\n\t\t\t}\n\t\t\t// Settle the yield expression with the value as a rejection\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, error);\n\t\t});\n\t};\n\n\t_AsyncGenerator.prototype[_asyncIteratorSymbol] = function() {\n\t\treturn this;\n\t};\n\t\n\treturn _AsyncGenerator;\n})();\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  Header,\r\n  Card,\r\n  RadioButtons,\r\n  SubmitBar,\r\n  BackButton,\r\n  CardLabel,\r\n  CardLabelDesc,\r\n  CardSectionHeader,\r\n  InfoBanner,\r\n  Loader,\r\n  Toast,\r\n  CardText,\r\n} from \"@egovernments/digit-ui-react-components\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useForm, Controller } from \"react-hook-form\";\r\nimport { useParams, useHistory, useLocation, Redirect } from \"react-router-dom\";\r\nimport { stringReplaceAll } from \"../bills/routes/bill-details/utils\";\r\nimport $ from \"jquery\";\r\nimport { makePayment } from \"./payGov\";\r\n\r\nexport const SelectPaymentType = (props) => {\r\n  const { state = {} } = useLocation();\r\n  const userInfo = Digit.UserService.getUser();\r\n  const [showToast, setShowToast] = useState(null);\r\n  const { tenantId: __tenantId, authorization, workflow: wrkflow } = Digit.Hooks.useQueryParams();\r\n  const paymentAmount = state?.paymentAmount;\r\n  const { t } = useTranslation();\r\n  const history = useHistory();\r\n\r\n  const { pathname, search } = useLocation();\r\n  // const menu = [\"AXIS\"];\r\n  const { consumerCode, businessService } = useParams();\r\n  const tenantId = state?.tenantId || __tenantId || Digit.ULBService.getCurrentTenantId();\r\n  const stateTenant = Digit.ULBService.getStateId();\r\n  const { control, handleSubmit } = useForm();\r\n  const { data: menu, isLoading } = Digit.Hooks.useCommonMDMS(stateTenant, \"DIGIT-UI\", \"PaymentGateway\");\r\n  const { data: paymentdetails, isLoading: paymentLoading } = Digit.Hooks.useFetchPayment(\r\n    { tenantId: tenantId, consumerCode: wrkflow === \"WNS\" ? stringReplaceAll(consumerCode, \"+\", \"/\") : consumerCode, businessService },\r\n    {}\r\n  );\r\n  useEffect(() => {\r\n    if (paymentdetails?.Bill && paymentdetails.Bill.length == 0) {\r\n      setShowToast({ key: true, label: \"CS_BILL_NOT_FOUND\" });\r\n    }\r\n  }, [paymentdetails]);\r\n  useEffect(() => {\r\n    localStorage.setItem(\"BillPaymentEnabled\", \"true\");\r\n  }, []);\r\n  const { name, mobileNumber } = state;\r\n\r\n  const billDetails = paymentdetails?.Bill ? paymentdetails?.Bill[0] : {};\r\n\r\n  const onSubmit = async (d) => {\r\n    const filterData = {\r\n      Transaction: {\r\n        tenantId: tenantId,\r\n        txnAmount: paymentAmount || billDetails.totalAmount,\r\n        module: businessService,\r\n        billId: billDetails.id,\r\n        consumerCode: wrkflow === \"WNS\" ? stringReplaceAll(consumerCode, \"+\", \"/\") : consumerCode,\r\n        productInfo: \"Common Payment\",\r\n        gateway: d?.paymentType || \"AXIS\",\r\n        taxAndPayments: [\r\n          {\r\n            billId: billDetails.id,\r\n            amountPaid: paymentAmount || billDetails.totalAmount,\r\n          },\r\n        ],\r\n        user: {\r\n          name: name || userInfo?.info?.name,\r\n          mobileNumber: mobileNumber || userInfo?.info?.mobileNumber,\r\n          tenantId: tenantId,\r\n        },\r\n        // success\r\n        callbackUrl: window.location.href.includes(\"mcollect\")\r\n          ? `${window.location.protocol}//${window.location.host}/digit-ui/citizen/payment/success/${businessService}/${consumerCode}/${tenantId}?workflow=mcollect`\r\n          : `${window.location.protocol}//${window.location.host}/digit-ui/citizen/payment/success/${businessService}/${consumerCode}/${tenantId}`,\r\n        additionalDetails: {\r\n          isWhatsapp: false,\r\n        },\r\n      },\r\n    };\r\n\r\n    try {\r\n      const data = await Digit.PaymentService.createCitizenReciept(tenantId, filterData);\r\n      const redirectUrl = data?.Transaction?.redirectUrl;\r\n      if (d?.paymentType == \"AXIS\") {\r\n        window.location = redirectUrl;\r\n      } else {\r\n        // new payment gatewayfor UPYOG pay\r\n        try {\r\n\r\n          const gatewayParam = redirectUrl\r\n            ?.split(\"?\")\r\n            ?.slice(1)\r\n            ?.join(\"?\")\r\n            ?.split(\"&\")\r\n            ?.reduce((curr, acc) => {\r\n              var d = acc.split(\"=\");\r\n              curr[d[0]] = d[1];\r\n              return curr;\r\n            }, {});\r\n          var newForm = $(\"<form>\", {\r\n            action: gatewayParam.txURL,\r\n            method: \"POST\",\r\n            target: \"_top\",\r\n          });\r\n          \r\n          const orderForNDSLPaymentSite = [\r\n            \"checksum\",\r\n            \"messageType\",\r\n            \"merchantId\",\r\n            \"serviceId\",\r\n            \"orderId\",\r\n            \"customerId\",\r\n            \"transactionAmount\",\r\n            \"currencyCode\",\r\n            \"requestDateTime\",\r\n            \"successUrl\",\r\n            \"failUrl\",\r\n            \"additionalField1\",\r\n            \"additionalField2\",\r\n            \"additionalField3\",\r\n            \"additionalField4\",\r\n            \"additionalField5\",\r\n          ];\r\n\r\n          // override default date for UPYOG Custom pay\r\n          gatewayParam[\"requestDateTime\"] = gatewayParam[\"requestDateTime\"]?.split(new Date().getFullYear()).join(`${new Date().getFullYear()} `);\r\n        \r\n          gatewayParam[\"successUrl\"]= redirectUrl?.split(\"successUrl=\")?.[1]?.split(\"eg_pg_txnid=\")?.[0]+'eg_pg_txnid=' +gatewayParam?.orderId;\r\n          gatewayParam[\"failUrl\"]= redirectUrl?.split(\"failUrl=\")?.[1]?.split(\"eg_pg_txnid=\")?.[0]+'eg_pg_txnid=' +gatewayParam?.orderId;\r\n          // gatewayParam[\"successUrl\"]= data?.Transaction?.callbackUrl;\r\n          // gatewayParam[\"failUrl\"]= data?.Transaction?.callbackUrl;\r\n          \r\n          // var formdata = new FormData();\r\n          \r\n          for (var key of orderForNDSLPaymentSite) {\r\n           \r\n            // formdata.append(key,gatewayParam[key]);\r\n           \r\n            newForm.append(\r\n              $(\"<input>\", {\r\n                name: key,\r\n                value: gatewayParam[key],\r\n                // type: \"hidden\",\r\n              })\r\n            );\r\n          }\r\n          $(document.body).append(newForm);\r\n          newForm.submit();\r\n\r\n        \r\n          // makePayment(gatewayParam.txURL,formdata);\r\n\r\n        } catch (e) {\r\n          console.log(\"Error in payment redirect \", e);\r\n          //window.location = redirectionUrl;\r\n        }\r\n      }\r\n    } catch (error) {\r\n      let messageToShow = \"CS_PAYMENT_UNKNOWN_ERROR_ON_SERVER\";\r\n      if (error.response?.data?.Errors?.[0]) {\r\n        const { code, message } = error.response?.data?.Errors?.[0];\r\n        messageToShow = code;\r\n      }\r\n      setShowToast({ key: true, label: t(messageToShow) });\r\n    }\r\n  };\r\n\r\n  if (authorization === \"true\" && !userInfo.access_token) {\r\n    localStorage.clear();\r\n    sessionStorage.clear();\r\n    return <Redirect to={`/digit-ui/citizen/login?from=${encodeURIComponent(pathname + search)}`} />;\r\n  }\r\n\r\n  if (isLoading || paymentLoading) {\r\n    return <Loader />;\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <BackButton>{t(\"CS_COMMON_BACK\")}</BackButton>\r\n      <form onSubmit={handleSubmit(onSubmit)}>\r\n        <Header>{t(\"PAYMENT_CS_HEADER\")}</Header>\r\n        <Card>\r\n          <div className=\"payment-amount-info\" style={{ marginBottom: \"26px\" }}>\r\n            <CardLabel className=\"dark\">{t(\"PAYMENT_CS_TOTAL_AMOUNT_DUE\")}</CardLabel>\r\n            <CardSectionHeader> ₹ {paymentAmount || billDetails?.totalAmount}</CardSectionHeader>\r\n          </div>\r\n          <CardLabel>{t(\"PAYMENT_CS_SELECT_METHOD\")}</CardLabel>\r\n          {menu?.length && (\r\n            <Controller\r\n              name=\"paymentType\"\r\n              defaultValue={menu[0]}\r\n              control={control}\r\n              render={(props) => <RadioButtons selectedOption={props.value} options={menu} onSelect={props.onChange} />}\r\n            />\r\n          )}\r\n          {!showToast && <SubmitBar label={t(\"PAYMENT_CS_BUTTON_LABEL\")} submit={true} />}\r\n        </Card>\r\n      </form>\r\n      <InfoBanner label={t(\"CS_COMMON_INFO\")} text={t(\"CS_PAYMENT_REDIRECT_NOTICE\")} />\r\n      {showToast && (\r\n        <Toast\r\n          error={showToast.key}\r\n          label={t(showToast.label)}\r\n          onClose={() => {\r\n            setShowToast(null);\r\n          }}\r\n        />\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n","import { Banner, Card, CardText, Loader, Row, StatusTable, SubmitBar, DownloadPrefixIcon } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useQueryClient } from \"react-query\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\n\r\nexport const SuccessfulPayment = (props)=>{\r\n  if(localStorage.getItem(\"BillPaymentEnabled\")!==\"true\"){\r\n    window.history.forward();\r\n   return null;\r\n }\r\n return <WrapPaymentComponent {...props}/>\r\n}\r\n\r\n\r\n const WrapPaymentComponent = (props) => {\r\n  const { t } = useTranslation();\r\n  const queryClient = useQueryClient();\r\n  const { eg_pg_txnid: egId, workflow: workflw } = Digit.Hooks.useQueryParams();\r\n  const [printing, setPrinting] = useState(false);\r\n  const [allowFetchBill, setallowFetchBill] = useState(false);\r\n  const { businessService: business_service, consumerCode, tenantId } = useParams();\r\n  const { data: bpaData = {}, isLoading: isBpaSearchLoading, isSuccess: isBpaSuccess, error: bpaerror } = Digit.Hooks.obps.useOBPSSearch(\r\n    \"\", {}, tenantId, { applicationNo: consumerCode }, {}, {enabled:(window.location.href.includes(\"bpa\") || window.location.href.includes(\"BPA\"))}\r\n  );\r\n  \r\n  const { isLoading, data, isError } = Digit.Hooks.usePaymentUpdate({ egId }, business_service, {\r\n    retry: false,\r\n    staleTime: Infinity,\r\n    refetchOnWindowFocus: false,\r\n  });\r\n\r\n  const { label } = Digit.Hooks.useApplicationsForBusinessServiceSearch({ businessService: business_service }, { enabled: false });\r\n\r\n  // const { data: demand } = Digit.Hooks.useDemandSearch(\r\n  //   { consumerCode, businessService: business_service },\r\n  //   { enabled: !isLoading, retry: false, staleTime: Infinity, refetchOnWindowFocus: false }\r\n  // );\r\n\r\n  // const { data: billData, isLoading: isBillDataLoading } = Digit.Hooks.useFetchPayment(\r\n  //   { tenantId, consumerCode, businessService: business_service },\r\n  //   { enabled: allowFetchBill, retry: false, staleTime: Infinity, refetchOnWindowFocus: false }\r\n  // );\r\n\r\n  const { data: reciept_data, isLoading: recieptDataLoading } = Digit.Hooks.useRecieptSearch(\r\n    {\r\n      tenantId,\r\n      businessService: business_service,\r\n      receiptNumbers: data?.payments?.Payments?.[0]?.paymentDetails[0].receiptNumber,\r\n    },\r\n    {\r\n      retry: false,\r\n      staleTime: Infinity,\r\n      refetchOnWindowFocus: false,\r\n      select: (dat) => {\r\n        return dat.Payments[0];\r\n      },\r\n      enabled: allowFetchBill,\r\n    }\r\n  );\r\n\r\n  const { data: generatePdfKey } = Digit.Hooks.useCommonMDMS(tenantId, \"common-masters\", \"ReceiptKey\", {\r\n    select: (data) =>\r\n      data[\"common-masters\"]?.uiCommonPay?.filter(({ code }) => business_service?.includes(code))[0]?.receiptKey || \"consolidatedreceipt\",\r\n    retry: false,\r\n    staleTime: Infinity,\r\n    refetchOnWindowFocus: false,\r\n  });\r\n\r\n  const payments = data?.payments;\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      localStorage.setItem(\"BillPaymentEnabled\",\"false\")\r\n      queryClient.clear();\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (data && data.txnStatus && data.txnStatus !== \"FAILURE\") {\r\n      setallowFetchBill(true);\r\n    }\r\n  }, [data]);\r\n\r\n  if (isLoading || recieptDataLoading) {\r\n    return <Loader />;\r\n  }\r\n\r\n  const applicationNo = data?.applicationNo;\r\n\r\n  const isMobile = window.Digit.Utils.browser.isMobile();\r\n\r\n  if (isError || !payments || !payments.Payments || payments.Payments.length === 0 || data.txnStatus === \"FAILURE\") {\r\n    return (\r\n      <Card>\r\n        <Banner\r\n          message={t(\"CITIZEN_FAILURE_COMMON_PAYMENT_MESSAGE\")}\r\n          info={t(\"CS_PAYMENT_TRANSANCTION_ID\")}\r\n          applicationNumber={egId}\r\n          successful={false}\r\n        />\r\n        <CardText>{t(\"CS_PAYMENT_FAILURE_MESSAGE\")}</CardText>\r\n        {business_service !== \"PT\" ? (\r\n          <Link to={`/digit-ui/citizen`}>\r\n            <SubmitBar label={t(\"CORE_COMMON_GO_TO_HOME\")} />\r\n          </Link>\r\n        ) : (\r\n          <React.Fragment>\r\n            <Link to={(applicationNo && `/digit-ui/citizen/payment/my-bills/${business_service}/${applicationNo}`) || \"/digit-ui/citizen\"}>\r\n              <SubmitBar label={t(\"CS_PAYMENT_TRY_AGAIN\")} />\r\n            </Link>\r\n            <div className=\"link\" style={isMobile ? { marginTop: \"8px\", width: \"100%\", textAlign: \"center\" } : { marginTop: \"8px\" }}>\r\n              <Link to={`/digit-ui/citizen`}>{t(\"CORE_COMMON_GO_TO_HOME\")}</Link>\r\n            </div>\r\n          </React.Fragment>\r\n        )}\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  const paymentData = data?.payments?.Payments[0];\r\n  const amount = reciept_data?.paymentDetails?.[0]?.totalAmountPaid;\r\n  const transactionDate = paymentData.transactionDate;\r\n  const printCertificate = async () => {\r\n    //const tenantId = Digit.ULBService.getCurrentTenantId();\r\n    const state = tenantId;\r\n    const applicationDetails = await Digit.TLService.search({ applicationNumber: consumerCode, tenantId });\r\n    const generatePdfKeyForTL = \"tlcertificate\"\r\n\r\n    if (applicationDetails) {\r\n      let response = await Digit.PaymentService.generatePdf(state, { Licenses: applicationDetails?.Licenses }, generatePdfKeyForTL);\r\n      const fileStore = await Digit.PaymentService.printReciept(state, { fileStoreIds: response.filestoreIds[0] });\r\n      window.open(fileStore[response.filestoreIds[0]], \"_blank\");\r\n    }\r\n  }\r\n\r\n  const printReciept = async () => {\r\n    if (printing) return;\r\n    setPrinting(true);\r\n    const tenantId = paymentData?.tenantId;\r\n    const state = Digit.ULBService.getStateId();\r\n    let response = { filestoreIds: [payments.Payments[0]?.fileStoreId] };\r\n    if (!paymentData?.fileStoreId) {\r\n      response = await Digit.PaymentService.generatePdf(state, { Payments: [payments.Payments[0]] }, generatePdfKey);\r\n    }\r\n    const fileStore = await Digit.PaymentService.printReciept(state, { fileStoreIds: response.filestoreIds[0] });\r\n    if (fileStore && fileStore[response.filestoreIds[0]]) {\r\n      window.open(fileStore[response.filestoreIds[0]], \"_blank\");\r\n    }\r\n    setPrinting(false);\r\n  };\r\n\r\n  const convertDateToEpoch = (dateString, dayStartOrEnd = \"dayend\") => {\r\n    //example input format : \"2018-10-02\"\r\n    try {\r\n      const parts = dateString.match(/(\\d{4})-(\\d{1,2})-(\\d{1,2})/);\r\n      const DateObj = new Date(Date.UTC(parts[1], parts[2] - 1, parts[3]));\r\n      DateObj.setMinutes(DateObj.getMinutes() + DateObj.getTimezoneOffset());\r\n      if (dayStartOrEnd === \"dayend\") {\r\n        DateObj.setHours(DateObj.getHours() + 24);\r\n        DateObj.setSeconds(DateObj.getSeconds() - 1);\r\n      }\r\n      return DateObj.getTime();\r\n    } catch (e) {\r\n      return dateString;\r\n    }\r\n  };\r\n\r\n  const printPdf = (blob) => {\r\n    const fileURL = URL.createObjectURL(blob);\r\n    var myWindow = window.open(fileURL);\r\n    if (myWindow != undefined) {\r\n      myWindow.addEventListener(\"load\", (event) => {\r\n        myWindow.focus();\r\n        myWindow.print();\r\n      });\r\n    }\r\n  };\r\n\r\n  const downloadPdf = (blob, fileName) => {\r\n    if (window.mSewaApp && window.mSewaApp.isMsewaApp() && window.mSewaApp.downloadBase64File) {\r\n      var reader = new FileReader();\r\n      reader.readAsDataURL(blob);\r\n      reader.onloadend = function () {\r\n        var base64data = reader.result;\r\n        mSewaApp.downloadBase64File(base64data, fileName);\r\n      };\r\n    } else {\r\n      const link = document.createElement(\"a\");\r\n      // create a blobURI pointing to our Blob\r\n      link.href = URL.createObjectURL(blob);\r\n      link.download = fileName;\r\n      // some browser needs the anchor to be in the doc\r\n      document.body.append(link);\r\n      link.click();\r\n      link.remove();\r\n      // in case the Blob uses a lot of memory\r\n      setTimeout(() => URL.revokeObjectURL(link.href), 7000);\r\n    }\r\n  };\r\n  \r\n\r\n  const getPermitOccupancyOrderSearch = async(order, mode=\"download\") => {\r\n    let queryObj = { applicationNo: bpaData?.[0]?.applicationNo };\r\n    let bpaResponse = await Digit.OBPSService.BPASearch(bpaData?.[0]?.tenantId, queryObj);\r\n    const edcrResponse = await Digit.OBPSService.scrutinyDetails(bpaData?.[0]?.tenantId, { edcrNumber: bpaData?.[0]?.edcrNumber });\r\n    let bpaDataDetails = bpaResponse?.BPA?.[0], edcrData = edcrResponse?.edcrDetail?.[0];\r\n    let currentDate = new Date();\r\n    bpaDataDetails.additionalDetails.runDate = convertDateToEpoch(currentDate.getFullYear() + '-' + (currentDate.getMonth() + 1) + '-' + currentDate.getDate());\r\n    let reqData = {...bpaDataDetails, edcrDetail: [{...edcrData}]};\r\n    let response = await Digit.PaymentService.generatePdf(bpaDataDetails?.tenantId, { Bpa: [reqData] }, order);\r\n    const fileStore = await Digit.PaymentService.printReciept(bpaDataDetails?.tenantId, { fileStoreIds: response.filestoreIds[0] });\r\n    window.open(fileStore[response?.filestoreIds[0]], \"_blank\");\r\n\r\n    reqData[\"applicationType\"] = bpaDataDetails?.additionalDetails?.applicationType;\r\n    let edcrresponse = await Digit.OBPSService.edcr_report_download({BPA: {...reqData}});\r\n    const responseStatus = parseInt(edcrresponse.status, 10);\r\n    if (responseStatus === 201 || responseStatus === 200) {\r\n      mode == \"print\"\r\n        ? printPdf(new Blob([edcrresponse.data], { type: \"application/pdf\" }))\r\n        : downloadPdf(new Blob([edcrresponse.data], { type: \"application/pdf\" }), `edcrReport.pdf`);\r\n    }\r\n  }\r\n\r\n  const getBillingPeriod = (billDetails) => {\r\n    const { taxPeriodFrom, taxPeriodTo, fromPeriod, toPeriod } = billDetails || {};\r\n    if (taxPeriodFrom && taxPeriodTo) {\r\n      let from = new Date(taxPeriodFrom).getFullYear().toString();\r\n      let to = new Date(taxPeriodTo).getFullYear().toString();\r\n      return \"FY \" + from + \"-\" + to;\r\n    } else if (fromPeriod && toPeriod) {\r\n      if (workflw === \"mcollect\") {\r\n        from =\r\n          new Date(fromPeriod).getDate().toString() +\r\n          \" \" +\r\n          Digit.Utils.date.monthNames[new Date(fromPeriod).getMonth() + 1].toString() +\r\n          \" \" +\r\n          new Date(fromPeriod).getFullYear().toString();\r\n        to =\r\n          new Date(toPeriod).getDate() +\r\n          \" \" +\r\n          Digit.Utils.date.monthNames[new Date(toPeriod).getMonth() + 1] +\r\n          \" \" +\r\n          new Date(toPeriod).getFullYear();\r\n        return from + \" - \" + to;\r\n      }\r\n      let from = new Date(fromPeriod).getFullYear().toString();\r\n      let to = new Date(toPeriod).getFullYear().toString();\r\n      return \"FY \" + from + \"-\" + to;\r\n\r\n    } else return \"N/A\";\r\n  };\r\n\r\n  let bannerText;\r\n  if (workflw) {\r\n    bannerText = `CITIZEN_SUCCESS_UC_PAYMENT_MESSAGE`;\r\n  } else {\r\n    if(paymentData?.paymentDetails?.[0]?.businessService?.includes(\"BPA\")) {\r\n      let nameOfAchitect = sessionStorage.getItem(\"BPA_ARCHITECT_NAME\");\r\n      let parsedArchitectName = nameOfAchitect ? JSON.parse(nameOfAchitect) : \"ARCHITECT\";\r\n      bannerText = `CITIZEN_SUCCESS_${paymentData?.paymentDetails[0].businessService.replace(/\\./g, \"_\")}_${parsedArchitectName}_PAYMENT_MESSAGE`;\r\n    } else {\r\n      bannerText = `CITIZEN_SUCCESS_${paymentData?.paymentDetails[0].businessService.replace(/\\./g, \"_\")}_PAYMENT_MESSAGE`;\r\n    }\r\n  }\r\n\r\n  // https://dev.digit.org/collection-services/payments/FSM.TRIP_CHARGES/_search?tenantId=pb.amritsar&consumerCodes=107-FSM-2021-02-18-063433\r\n\r\n  // if (billDataLoading) return <Loader />;\r\n\r\n  const rowContainerStyle = {\r\n    padding: \"4px 0px\",\r\n    justifyContent: \"space-between\",\r\n  };\r\n\r\n  const ommitRupeeSymbol = [\"PT\"].includes(business_service);\r\n\r\n  if ((window.location.href.includes(\"bpa\") || window.location.href.includes(\"BPA\")) && isBpaSearchLoading) return <Loader />\r\n\r\n  return (\r\n    <Card>\r\n      <Banner\r\n        svg={\r\n          <svg className=\"payment-svg\" xmlns=\"http://www.w3.org/2000/svg\" width=\"40\" height=\"40\" viewBox=\"0 0 40 40\" fill=\"none\">\r\n            <path\r\n              d=\"M20 0C8.96 0 0 8.96 0 20C0 31.04 8.96 40 20 40C31.04 40 40 31.04 40 20C40 8.96 31.04 0 20 0ZM16 30L6 20L8.82 17.18L16 24.34L31.18 9.16L34 12L16 30Z\"\r\n              fill=\"white\"\r\n            />\r\n          </svg>\r\n        }\r\n        message={t(\"CS_COMMON_PAYMENT_COMPLETE\")}\r\n        info={t(\"CS_COMMON_RECIEPT_NO\")}\r\n        applicationNumber={paymentData?.paymentDetails[0].receiptNumber}\r\n        successful={true}\r\n      />\r\n      <CardText>{t(`${bannerText}_DETAIL`)}</CardText>\r\n      <StatusTable>\r\n        <Row rowContainerStyle={rowContainerStyle} last label={t(label)} text={applicationNo} />\r\n        {/** TODO : move this key and value into the hook based on business Service */}\r\n        {(business_service === \"PT\" || workflw) && (\r\n          <Row\r\n            rowContainerStyle={rowContainerStyle}\r\n            last\r\n            label={t(\"CS_PAYMENT_BILLING_PERIOD\")}\r\n            text={getBillingPeriod(reciept_data?.paymentDetails[0]?.bill?.billDetails[0])}\r\n          />\r\n        )}\r\n\r\n        {(business_service === \"PT\" || workflw) && (\r\n          <Row\r\n            rowContainerStyle={rowContainerStyle}\r\n            last\r\n            label={t(\"CS_PAYMENT_AMOUNT_PENDING\")}\r\n            text={reciept_data?.paymentDetails?.[0]?.totalDue - reciept_data?.paymentDetails?.[0]?.totalAmountPaid}\r\n          />\r\n        )}\r\n\r\n        <Row rowContainerStyle={rowContainerStyle} last label={t(\"CS_PAYMENT_TRANSANCTION_ID\")} text={egId} />\r\n        <Row\r\n          rowContainerStyle={rowContainerStyle}\r\n          last\r\n          label={t(ommitRupeeSymbol ? \"CS_PAYMENT_AMOUNT_PAID_WITHOUT_SYMBOL\" : \"CS_PAYMENT_AMOUNT_PAID\")}\r\n          text={\"₹ \" + reciept_data?.paymentDetails?.[0]?.totalAmountPaid}\r\n        />\r\n        {(business_service !== \"PT\" || workflw) && (\r\n          <Row\r\n            rowContainerStyle={rowContainerStyle}\r\n            last\r\n            label={t(\"CS_PAYMENT_TRANSANCTION_DATE\")}\r\n            text={transactionDate && new Date(transactionDate).toLocaleDateString(\"in\")}\r\n          />\r\n        )}\r\n      </StatusTable>\r\n      <div style={{display:\"flex\"}}>\r\n      {business_service == \"TL\" ? (\r\n        <div className=\"primary-label-btn d-grid\" style={{ marginLeft: \"unset\", marginRight: \"20px\", marginTop:\"15px\",marginBottom:\"15px\" }} onClick={printReciept}>\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"#f47738\">\r\n            <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\r\n            <path d=\"M19 9h-4V3H9v6H5l7 7 7-7zm-8 2V5h2v6h1.17L12 13.17 9.83 11H11zm-6 7h14v2H5z\" />\r\n          </svg>\r\n          {t(\"TL_RECEIPT\")}\r\n        </div>\r\n      ) : null}\r\n      {business_service == \"TL\" ? (\r\n        <div className=\"primary-label-btn d-grid\" style={{ marginLeft: \"unset\", marginTop:\"15px\" }} onClick={printCertificate}>\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"#f47738\">\r\n            <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\r\n            <path d=\"M19 9h-4V3H9v6H5l7 7 7-7zm-8 2V5h2v6h1.17L12 13.17 9.83 11H11zm-6 7h14v2H5z\" />\r\n          </svg>\r\n          {t(\"TL_CERTIFICATE\")}\r\n        </div>\r\n      ) : null}\r\n      {bpaData?.[0]?.businessService === \"BPA_OC\" && (bpaData?.[0]?.status===\"APPROVED\" || bpaData?.[0]?.status===\"PENDING_SANC_FEE_PAYMENT\") ? (\r\n        <div className=\"primary-label-btn d-grid\" style={{ marginLeft: \"unset\" }} onClick={e => getPermitOccupancyOrderSearch(\"occupancy-certificate\")}>\r\n          <DownloadPrefixIcon />\r\n            {t(\"BPA_OC_CERTIFICATE\")}\r\n          </div>\r\n      ) : null}\r\n      {bpaData?.[0]?.businessService === \"BPA_LOW\" ? (\r\n        <div className=\"primary-label-btn d-grid\" style={{ marginLeft: \"unset\" }} onClick={r => getPermitOccupancyOrderSearch(\"buildingpermit-low\")}>\r\n          <DownloadPrefixIcon />\r\n            {t(\"BPA_PERMIT_ORDER\")}\r\n          </div>\r\n      ) : null}\r\n      {bpaData?.[0]?.businessService === \"BPA\" && (bpaData?.[0]?.businessService !== \"BPA_LOW\") && (bpaData?.[0]?.businessService !== \"BPA_OC\") && (bpaData?.[0]?.status===\"PENDING_SANC_FEE_PAYMENT\" || bpaData?.[0]?.status===\"APPROVED\")? (\r\n        <div className=\"primary-label-btn d-grid\" style={{ marginLeft: \"unset\" }} onClick={r => getPermitOccupancyOrderSearch(\"buildingpermit\")}>\r\n          <DownloadPrefixIcon />\r\n            {t(\"BPA_PERMIT_ORDER\")}\r\n          </div>\r\n      ) : null}\r\n      </div>\r\n      {!(business_service == \"TL\") && <SubmitBar onSubmit={printReciept} label={t(\"COMMON_DOWNLOAD_RECEIPT\")} />}\r\n      {!(business_service == \"TL\") &&<div className=\"link\" style={isMobile ? { marginTop: \"8px\", width: \"100%\", textAlign: \"center\" } : { marginTop: \"8px\" }}>\r\n        <Link to={`/digit-ui/citizen`}>{t(\"CORE_COMMON_GO_TO_HOME\")}</Link>\r\n      </div>}\r\n      {business_service == \"TL\" && \r\n      <Link to={`/digit-ui/citizen`}>\r\n      <SubmitBar label={t(\"CORE_COMMON_GO_TO_HOME\")} />\r\n      </Link>\r\n      }\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport const FailedPayment = (props) => {\r\n  const { addParams, clearParams } = props;\r\n  const { t } = useTranslation();\r\n  const { consumerCode } = useParams();\r\n\r\n  const getMessage = () => \"Failure !\";\r\n  return (\r\n    <Card>\r\n      <Banner message={getMessage()} complaintNumber={consumerCode} successful={false} />\r\n      <CardText>{t(\"ES_COMMON_TRACK_COMPLAINT_TEXT\")}</CardText>\r\n    </Card>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Switch, Route, useRouteMatch } from \"react-router-dom\";\r\nimport { PrivateRoute } from \"@egovernments/digit-ui-react-components\";\r\nimport PayersDetails from './payers-details'\r\n\r\nimport { MyBills } from \"./bills\";\r\nimport { SelectPaymentType } from \"./payment-type/index\";\r\nimport { SuccessfulPayment, FailedPayment } from \"./response\";\r\n\r\nconst CitizenPayment = ({ stateCode, cityCode, moduleCode }) => {\r\n  const { path: currentPath } = useRouteMatch();\r\n  const commonProps = { stateCode, cityCode, moduleCode };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Switch>\r\n        <Route path={`${currentPath}/my-bills/:businessService`}>\r\n          <MyBills stateCode={stateCode} />\r\n        </Route>\r\n        <Route  path={`${currentPath}/billDetails/:businessService/:consumerCode/:paymentAmt`}>\r\n          <PayersDetails  {...commonProps} stateCode={stateCode} basePath={currentPath}  />\r\n        </Route>\r\n        <Route path={`${currentPath}/collect/:businessService/:consumerCode`}>\r\n          <SelectPaymentType {...commonProps} stateCode={stateCode} basePath={currentPath} />\r\n        </Route>\r\n        <Route path={`${currentPath}/success/:businessService/:consumerCode/:tenantId`}>\r\n          <SuccessfulPayment {...commonProps} />\r\n        </Route>\r\n        <Route path={`${currentPath}/failure`}>\r\n          <FailedPayment {...commonProps} />\r\n        </Route>\r\n      </Switch>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default CitizenPayment;\r\n","import React from \"react\";\r\n\r\nexport const getKeyNotesConfig = (businessService, t) => {\r\n  const businessId = businessService?.toLowerCase().split(\".\")[0];\r\n\r\n  switch (businessId) {\r\n    case \"pt\":\r\n      return {\r\n        \"my-bill\": [\r\n          {\r\n            keyValue: \"CS_COMMON_AMOUNT_DUE\",\r\n            keyPath: [\r\n              (d) => {\r\n                const overdueBy = new Date().getTime() - new Date(d.billDetails[0]?.toPeriod).getTime();\r\n                const days = Math.floor(overdueBy / (86400 * 1000));\r\n                return (\r\n                  <React.Fragment>\r\n                    {\"₹\" + d[\"totalAmount\"]}\r\n                    {days >= 0 ? (\r\n                      <span className={\"card-label-error\"} style={{ fontSize: \"16px\", fontWeight: \"normal\" }}>{` ( ${t(\r\n                        \"CS_PAYMENT_OVERDUE\"\r\n                      )} ${days} ${t(days === 1 ? \"CS_COMMON_DAY\" : \"CS_COMMON_DAYS\")})`}</span>\r\n                    ) : null}\r\n                  </React.Fragment>\r\n                );\r\n              },\r\n            ],\r\n            fallback: \"N/A\",\r\n            noteStyle: { fontWeight: \"bold\", fontSize: \"24px\", paddingTop: \"5px\" },\r\n          },\r\n          {\r\n            keyValue: \"PT_PROPERTY_ID\",\r\n            keyPath: [\"propertyId\"],\r\n            fallback: \"\",\r\n          },\r\n          {\r\n            keyValue: \"CS_OWNER_NAME\",\r\n            keyPath: [\"owners\", 0, \"name\"],\r\n            fallback: \"ES_TITLE_FSM\",\r\n          },\r\n          {\r\n            keyValue: \"PT_PROPERTY_ADDRESS\",\r\n            keyPath: [\"address\", \"locality\", \"name\"],\r\n            fallback: \"CS_APPLICATION_TYPE_DESLUDGING\",\r\n          },\r\n          {\r\n            keyValue: \"CS_PAYMENT_BILLING_PERIOD\",\r\n            keyPath: [\r\n              \"billDetails\",\r\n              (d) => {\r\n                const { fromPeriod, toPeriod } = d[0];\r\n                if (fromPeriod && toPeriod) {\r\n                  let from = new Date(fromPeriod).getFullYear().toString();\r\n                  let to = new Date(toPeriod).getFullYear().toString();\r\n                  return \"FY \" + from + \"-\" + to;\r\n                } else return \"N/A\";\r\n              },\r\n            ],\r\n            fallback: \"N/A\",\r\n          },\r\n          {\r\n            keyValue: \"PT_DUE_DATE\",\r\n            keyPath: [\r\n              \"billDetails\",\r\n              (d) => {\r\n                if (!d[0]?.toPeriod) return \"N/A\";\r\n                const date = new Date(d[0]?.toPeriod);\r\n                const month = Digit.Utils.date.monthNames[date.getMonth()];\r\n                return `${date.getDate()} ${month} ${date.getFullYear()}`;\r\n              },\r\n            ],\r\n            fallback: \"N/A\",\r\n          },\r\n        ],\r\n        response: [],\r\n      };\r\n\r\n    /**<Row rowContainerStyle={{ padding: \"4px 10px\" }} last label={t(\"CS_PAYMENT_TRANSANCTION_ID\")} text={egId} />\r\n        <Row rowContainerStyle={{ padding: \"4px 10px\" }} last label={t(\"CS_PAYMENT_AMOUNT_PAID\")} text={amount} />\r\n        <Row\r\n          rowContainerStyle={{ padding: \"4px 10px\" }}\r\n          last\r\n\r\n          You will be redirected to a third-party payment gateway.\r\n          mSeva does not save any credit or debit card details\r\n\r\n          label={t(\"CS_PAYMENT_TRANSANCTION_DATE\")}\r\n          text={transactionDate && new Date(transactionDate).toLocaleDateString(\"in\")}\r\n        /> */\r\n\r\n    case \"fsm\":\r\n      return {\r\n        \"my-bill\": [\r\n          {\r\n            keyValue: \"CS_COMMON_AMOUNT_DUE\",\r\n            keyPath: [\"totalAmount\", (d) => d.toFixed(2), (d) => \"₹\" + d],\r\n            fallback: \"N/A\",\r\n            noteStyle: { fontWeight: \"bold\", fontSize: \"24px\", paddingTop: \"5px\" },\r\n          },\r\n        ],\r\n        response: [],\r\n      };\r\n  }\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { TextInput, SearchIconSvg, DatePicker } from \"@egovernments/digit-ui-react-components\";\r\n\r\nexport const useCashPaymentDetails = (props, t) => {\r\n  const config = [\r\n    {\r\n      head: t(\"NOC_PAYMENT_RCPT_DETAILS\"),\r\n      headId: \"paymentInfo\",\r\n      body: [\r\n        {\r\n          withoutLabel: true,\r\n          type: \"custom\",\r\n          populators: {\r\n            name: \"ManualRecieptDetails\",\r\n            customProps: {},\r\n            defaultValue: { manualReceiptNumber: \"\", manualReceiptDate: \"\" },\r\n            component: (props, customProps) => <CashDetailsComponent {...customProps} onChange={props.onChange} value={props.value} />,\r\n          },\r\n        },\r\n      ],\r\n    },\r\n  ];\r\n\r\n  return { cashConfig: config };\r\n};\r\n\r\nconst CashDetailsComponent = ({ ...props }) => {\r\n  const { t } = useTranslation();\r\n  const [manualReceiptDate, setManualReceiptDate] = useState(props?.value?.manualReceiptDate);\r\n  const [manualReceiptNumber, setManualReceiptNumber] = useState(props?.value?.manualReceiptNumber);\r\n\r\n  useEffect(() => {\r\n    if (props.onChange) {\r\n      let errorObj = {};\r\n      if (!manualReceiptDate) errorObj.manualReceiptDate = \"ES_COMMON_MANUAL_RECEIPT_DATE\";\r\n      if (!manualReceiptNumber) errorObj.manualReceiptNumber = \"ES_COMMON_MANUAL_RECEIPT_NO\";\r\n\r\n      props.onChange({ manualReceiptNumber, manualReceiptDate, errorObj });\r\n    }\r\n  }, [manualReceiptDate, manualReceiptNumber]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"label-field-pair\">\r\n        <h2 className=\"card-label\">{t(\"NOC_PAYMENT_RCPT_NO_LABEL\")}</h2>\r\n        <div className=\"field\">\r\n          <div className=\"field-container\">\r\n            <input\r\n              className=\"employee-card-input\"\r\n              value={manualReceiptNumber}\r\n              type=\"text\"\r\n              name=\"instrumentNumber\"\r\n              onChange={(e) => setManualReceiptNumber(e.target.value)}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"label-field-pair\">\r\n        <h2 className=\"card-label\">{t(\"NOC_PAYMENT_RECEIPT_ISSUE_DATE_LABEL\")} </h2>\r\n        <div className=\"field\">\r\n          <div className=\"field-container\">\r\n            <DatePicker\r\n              date={manualReceiptDate}\r\n              onChange={(d) => {\r\n                setManualReceiptDate(d);\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nexport const useCardPaymentDetails = (props, t) => {\r\n  const config = [\r\n    {\r\n      head: t(\"PAYMENT_CARD_HEAD\"),\r\n      headId: \"paymentInfo\",\r\n      body: [\r\n        {\r\n          withoutLabel: true,\r\n          type: \"custom\",\r\n          populators: {\r\n            name: \"paymentModeDetails\",\r\n            customProps: {},\r\n            defaultValue: {},\r\n            component: (props, customProps) => <CardDetailsComponent onChange={props.onChange} value={props.value} {...customProps} />,\r\n          },\r\n        },\r\n      ],\r\n    },\r\n  ];\r\n\r\n  return { cardConfig: config };\r\n};\r\n\r\nconst CardDetailsComponent = ({ ...props }) => {\r\n  const { t } = useTranslation();\r\n  const [last4Digits, setLast4Digits] = useState(props?.value?.last4Digits);\r\n  const [transactionNumber, setTransactionNumber] = useState(props?.value?.transactionNumber);\r\n  const [reTransanctionNumber, setReTransanctionNumber] = useState(props?.value?.reTransanctionNumber);\r\n\r\n  useEffect(() => {\r\n    if (props.onChange) {\r\n      let errorMsg = \"\";\r\n      if (last4Digits.length !== 4) errorMsg = \"ES_COMMON_ERROR_LAST_4_DIGITS\";\r\n      let errorObj = {};\r\n      if (!last4Digits) errorObj.last4Digits = \"ES_COMMON_LAST_4_DIGITS\";\r\n      if (!transactionNumber) errorObj.transactionNumber = \"ES_COMMON_TRANSANCTION_NO\";\r\n      if (!reTransanctionNumber) errorObj.reTransanctionNumber = \"ES_COMMON_RE_TRANSANCTION_NO\";\r\n      props.onChange({ transactionNumber, reTransanctionNumber, instrumentNumber: last4Digits, errorObj });\r\n    }\r\n  }, [last4Digits, transactionNumber, reTransanctionNumber]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"label-field-pair\">\r\n        <h2 className=\"card-label\">{`${t(\"NOC_PAYMENT_CARD_LAST_DIGITS_LABEL\")} *`}</h2>\r\n        <div className=\"field\">\r\n          <div className=\"field-container\">\r\n            <input\r\n              className=\"employee-card-input\"\r\n              value={last4Digits}\r\n              type=\"text\"\r\n              name=\"instrumentNumber\"\r\n              maxLength=\"4\"\r\n              minLength=\"4\"\r\n              required\r\n              onChange={(e) => setLast4Digits(e.target.value)}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"label-field-pair\">\r\n        <h2 className=\"card-label\">{`${t(\"NOC_PAYMENT_TRANS_NO_LABEL\")} *`}</h2>\r\n        <div className=\"field\">\r\n          <div className=\"field-container\">\r\n            <input\r\n              className=\"employee-card-input\"\r\n              value={transactionNumber}\r\n              type=\"text\"\r\n              name=\"instrumentNumber\"\r\n              required\r\n              onChange={(e) => setTransactionNumber(e.target.value)}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"label-field-pair\">\r\n        <h2 className=\"card-label\">{`${t(\"NOC_PAYMENT_RENTR_TRANS_LABEL\")} *`}</h2>\r\n        <div className=\"field\">\r\n          <div className=\"field-container\">\r\n            <input\r\n              className=\"employee-card-input\"\r\n              value={reTransanctionNumber}\r\n              type=\"text\"\r\n              name=\"instrumentNumber\"\r\n              required\r\n              onChange={(e) => setReTransanctionNumber(e.target.value)}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { TextInput, SearchIconSvg, DatePicker, CardLabelError } from \"@egovernments/digit-ui-react-components\";\r\nimport { useTranslation } from \"react-i18next\";\r\nexport const useChequeDetails = (props, t) => {\r\n  const config = [\r\n    {\r\n      head: t(\"PAYMENT_CHEQUE_HEAD\"),\r\n      headId: \"paymentInfo\",\r\n      body: [\r\n        {\r\n          withoutLabel: true,\r\n          type: \"custom\",\r\n          populators: {\r\n            name: \"paymentModeDetails\",\r\n            customProps: {},\r\n            defaultValue: { instrumentNumber: \"\", instrumentDate: \"\", ifscCode: \"\", bankName: \"\", bankBranch: \"\" },\r\n            component: (props, customProps) => <ChequeDetailsComponent onChange={props.onChange} chequeDetails={props.value} {...customProps} />,\r\n          },\r\n        },\r\n      ],\r\n    },\r\n  ];\r\n\r\n  return { chequeConfig: config };\r\n};\r\n\r\n// to be used in config\r\n\r\nexport const ChequeDetailsComponent = (props) => {\r\n  const { t } = useTranslation();\r\n  const [instrumentDate, setChequeDate] = useState(props.chequeDetails.instrumentDate);\r\n  const [instrumentNumber, setChequeNo] = useState(props.chequeDetails.instrumentNumber);\r\n  const [ifscCode, setIfsc] = useState(props.chequeDetails.ifscCode);\r\n  const [ifscCodeError, setIfscCodeError] = useState(\"\");\r\n  const [bankName, setBankName] = useState(props.chequeDetails.bankName);\r\n  const [bankBranch, setBankBranch] = useState(props.chequeDetails.bankBranch?.replace(\"┬á\", \" \"));\r\n  useEffect(() => {\r\n    if (props.onChange) {\r\n      let errorObj = {};\r\n      if (!instrumentDate) errorObj.instrumentDate = \"ES_COMMON_INSTRUMENT_DATE\";\r\n      if (!instrumentNumber) errorObj.instrumentNumber = \"ES_COMMON_INSTR_NUMBER\";\r\n      if (!ifscCode) errorObj.ifscCode = \"ES_COMMON_IFSC\";\r\n      props.onChange({ instrumentDate, instrumentNumber, ifscCode, bankName, bankBranch, errorObj, transactionNumber: instrumentNumber });\r\n    }\r\n  }, [bankName, bankBranch, instrumentDate, instrumentNumber]);\r\n\r\n  const setBankDetailsFromIFSC = async () => {\r\n    try {\r\n      const res = await window.fetch(`https://ifsc.razorpay.com/${ifscCode}`);\r\n      if (res.ok) {\r\n        const { BANK, BRANCH } = await res.json();\r\n        setBankName(BANK);\r\n        setBankBranch(BRANCH?.replace(\"┬á\", \" \"));\r\n      } else setIfscCodeError(t(\"CS_PAYMENT_INCORRECT_IFSC_CODE_ERROR\"));\r\n    } catch (er) {\r\n      setIfscCodeError(t(\"CS_PAYMENT_INCORRECT_IFSC_CODE_ERROR\"));\r\n    }\r\n  };\r\n\r\n  const handleIFSCChange = (e) => {\r\n    setIfsc(e.target.value);\r\n    setIfscCodeError(\"\");\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"label-field-pair\">\r\n        <h2 className=\"card-label\">{t(\"PAYMENT_CHQ_NO_LABEL\")} *</h2>\r\n        <div className=\"field\">\r\n          <div className=\"field-container\">\r\n            <input\r\n              className=\"employee-card-input\"\r\n              value={instrumentNumber}\r\n              type=\"text\"\r\n              name=\"instrumentNumber\"\r\n              onChange={(e) => setChequeNo(e.target.value)}\r\n              required\r\n              // minlength=\"6\"\r\n              // maxLength=\"6\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"label-field-pair\">\r\n        <h2 className=\"card-label\">{t(\"PAYMENT_CHEQUE_DATE_LABEL\")} *</h2>\r\n        <div className=\"field\">\r\n          <div className=\"field-container\">\r\n            <DatePicker\r\n              isRequired={true}\r\n              date={instrumentDate}\r\n              onChange={(d) => {\r\n                setChequeDate(d);\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {\r\n        // chequeDate && chequeNo &&\r\n        <React.Fragment>\r\n          <div className=\"label-field-pair\">\r\n            <h2 className=\"card-label\">{t(\"PAYMENT_IFSC_CODE_LABEL\")} *</h2>\r\n            <div className=\"field\">\r\n              <div>\r\n                <div className=\"cheque-date\">\r\n                  <input value={ifscCode} type=\"text\" onChange={handleIFSCChange} minlength=\"11\" maxlength=\"11\" required />\r\n                  <button type=\"button\" onClick={setBankDetailsFromIFSC}>\r\n                    <SearchIconSvg />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {ifscCodeError && <CardLabelError style={{ width: \"70%\", marginLeft: \"30%\", fontSize: \"12px\", marginTop: \"-21px\" }}>{ifscCodeError}</CardLabelError>}\r\n          <div className=\"label-field-pair\">\r\n            <h2 className=\"card-label\">{t(\"PAYMENT_BANK_NAME_LABEL\")}</h2>\r\n            <div className=\"field\">\r\n              <div className=\"field-container\">\r\n                <input\r\n                  // style={{ border: \"2px solid #0b0c0c\", borderRadius: \"2px\" }}\r\n                  className=\"employee-card-input\"\r\n                  value={bankName}\r\n                  type=\"text\"\r\n                  className=\"employee-card-input\"\r\n                  readOnly\r\n                  disabled\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"label-field-pair\">\r\n            <h2 className=\"card-label\">{t(\"PAYMENT_BANK_BRANCH_LABEL\")}</h2>\r\n            <div className=\"field\">\r\n              <div className=\"field-container\">\r\n                <input className=\"employee-card-input\" value={bankBranch} type=\"text\" className=\"employee-card-input\" readOnly disabled />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </React.Fragment>\r\n      }\r\n    </React.Fragment>\r\n  );\r\n};\r\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n","var baseIsEqual = require('./_baseIsEqual');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n","export const BillDetailsKeyNoteConfig = () => ({\r\n  PT: {\r\n    heading: \"ES_BILL_DETAILS_PT_DETAILS_HEADING\",\r\n    details: [\r\n      {\r\n        keyValue: \"PT_PROPERTY_ID\",\r\n        keyPath: [\"consumerCode\"],\r\n        fallback: \"\",\r\n      },\r\n      {\r\n        keyValue: \"CS_PAYMENT_BILLING_PERIOD\",\r\n        keyPath: [\r\n          \"billDetails\",\r\n          (d) => {\r\n            const { fromPeriod, toPeriod } = d[0];\r\n            if (fromPeriod && toPeriod) {\r\n              let from = new Date(fromPeriod).getFullYear().toString();\r\n              let to = new Date(toPeriod).getFullYear().toString();\r\n              return \"FY \" + from + \"-\" + to;\r\n            } else return \"N/A\";\r\n          },\r\n        ],\r\n        fallback: \"N/A\",\r\n      },\r\n      {\r\n        keyValue: \"CS_BILL_NO\",\r\n        keyPath: [\r\n          \"billDetails\",\r\n          (d) => {\r\n            const { currentBillNo } = d[0];\r\n            if (currentBillNo) {\r\n              return currentBillNo;\r\n            } else return \"N/A\";\r\n          },\r\n        ],\r\n        fallback: \"N/A\",\r\n      },\r\n      {\r\n        keyValue: \"CS_BILL_DUEDATE\",\r\n        keyPath: [\r\n          \"billDetails\",\r\n          (d) => {\r\n            const { currentExpiryDate } = d[0];\r\n            if (currentExpiryDate) {\r\n              return new Date(currentExpiryDate).toLocaleDateString();\r\n            } else return \"N/A\";\r\n          },\r\n        ],\r\n        fallback: \"N/A\",\r\n      },\r\n    ],\r\n  },\r\n  mcollect: {\r\n    heading: \"COMMON_PAY_SCREEN_HEADER\",\r\n    details: [\r\n      {\r\n        keyValue: \"UC_CHALLAN_NO\",\r\n        keyPath: [\"consumerCode\"],\r\n        fallback: \"\",\r\n      },\r\n    ],\r\n  },\r\n  \"PT.MUTATION\": {\r\n    heading: \"COMMON_PAY_SCREEN_HEADER\",\r\n    details: [\r\n      {\r\n        keyValue: \"PDF_STATIC_LABEL_MUATATION_NUMBER_LABEL\",\r\n        keyPath: [\"consumerCode\"],\r\n        fallback: \"\",\r\n      }, {\r\n        keyValue: \"CS_BILL_NO\",\r\n        keyPath: [\r\n          \"billDetails\",\r\n          (d) => {\r\n            const { currentBillNo } = d[0];\r\n            if (currentBillNo) {\r\n              return currentBillNo;\r\n            } else return \"N/A\";\r\n          },\r\n        ],\r\n        fallback: \"N/A\",\r\n      },\r\n      {\r\n        keyValue: \"CS_BILL_DUEDATE\",\r\n        keyPath: [\r\n          \"billDetails\",\r\n          (d) => {\r\n            const { currentExpiryDate } = d[0];\r\n            if (currentExpiryDate) {\r\n              return new Date(currentExpiryDate).toLocaleDateString();\r\n            } else return \"N/A\";\r\n          },\r\n        ],\r\n        fallback: \"N/A\",\r\n      },\r\n    ],\r\n  },\r\n  TL: {\r\n    heading: \"COMMON_PAY_SCREEN_HEADER\",\r\n    details: [\r\n      {\r\n        keyValue: \"TL_TRADE_LICENSE_LABEL\",\r\n        keyPath: [\"consumerCode\"],\r\n        fallback: \"\",\r\n      },\r\n    ],\r\n  },\r\n});\r\n","import {\r\n  CardSectionHeader, Loader, RadioButtons, Row,\r\n  StatusTable, TextInput\r\n} from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { BillDetailsKeyNoteConfig } from \"./billDetailsConfig\";\r\n\r\nexport const BillDetailsFormConfig = (props, t) => ({\r\n  PT: [\r\n    {\r\n      head: t(\"ES_BILL_DETAILS_PT_DETAILS_HEADING\"),\r\n      body: [\r\n        {\r\n          withoutLabel: true,\r\n          type: \"custom\",\r\n          populators: {\r\n            name: \"amount\",\r\n            customProps: { businessService: \"PT\", consumerCode: props.consumerCode },\r\n            component: (props, customProps) => <BillDetails onChange={props.onChange} amount={props.value} {...customProps} />,\r\n          },\r\n        },\r\n      ],\r\n    },\r\n  ],\r\n  mcollect: [\r\n    {\r\n      head: t(\"COMMON_PAY_SCREEN_HEADER\"),\r\n      body: [\r\n        {\r\n          withoutLabel: true,\r\n          type: \"custom\",\r\n          populators: {\r\n            name: \"amount\",\r\n            customProps: { businessService: props.businessService, consumerCode: props.consumerCode },\r\n            component: (props, customProps) => <BillDetails onChange={props.onChange} amount={props.value} {...customProps} />,\r\n          },\r\n        },\r\n      ],\r\n    },\r\n  ],\r\n  \"PT.MUTATION\": [\r\n    {\r\n      head: t(\"COMMON_PAY_SCREEN_HEADER\"),\r\n      body: [\r\n        {\r\n          withoutLabel: true,\r\n          type: \"custom\",\r\n          populators: {\r\n            name: \"amount\",\r\n            customProps: { businessService: props.businessService, consumerCode: props.consumerCode },\r\n            component: (props, customProps) => <BillDetails onChange={props.onChange} amount={props.value} {...customProps} />,\r\n          },\r\n        },\r\n      ],\r\n    },\r\n  ],\r\n  TL: [\r\n    {\r\n      body: [\r\n        {\r\n          withoutLabel: true,\r\n          type: \"custom\",\r\n          populators: {\r\n            name: \"amount\",\r\n            customProps: { businessService: \"TL\", consumerCode: props.consumerCode },\r\n            component: (props, customProps) => <BillDetails onChange={props.onChange} amount={props.value} {...customProps} />,\r\n          },\r\n        },\r\n      ],\r\n    },\r\n  ],\r\n});\r\n\r\nconst BillDetails = ({ businessService, consumerCode, _amount, onChange }) => {\r\n  const { t } = useTranslation();\r\n  const { workflow: ModuleWorkflow } = Digit.Hooks.useQueryParams();\r\n\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const { data, isLoading } = Digit.Hooks.useFetchPayment({ tenantId, businessService, consumerCode });\r\n\r\n  const [bill, setBill] = useState();\r\n  const [showDetails, setShowDetails] = useState(true);\r\n\r\n  const yearWiseBills = bill?.billDetails?.sort((a, b) => b.fromPeriod - a.fromPeriod);\r\n  const billDetails = yearWiseBills?.[0] || [];\r\n  // const currentYear = new Date().getFullYear();\r\n  const getTotal = () => (bill?.totalAmount ? bill?.totalAmount : 0);\r\n\r\n  const arrears =\r\n    bill?.billDetails\r\n      ?.sort((a, b) => b.fromPeriod - a.fromPeriod)\r\n      ?.reduce((total, current, index) => (index === 0 ? total : total + current.amount), 0) || 0;\r\n\r\n  const { isLoading: mdmsLoading, data: mdmsBillingData } = Digit.Hooks.useGetPaymentRulesForBusinessServices(tenantId);\r\n  const [paymentRules, setPaymentRules] = useState();\r\n\r\n  useEffect(() => {\r\n    const payRestrictiondetails = mdmsBillingData?.MdmsRes?.BillingService?.BusinessService;\r\n    if (payRestrictiondetails?.length) setPaymentRules(payRestrictiondetails.filter((e) => e.code == businessService)[0]);\r\n    else\r\n      setPaymentRules({\r\n        // isAdvanceAllowed: false,\r\n        // isVoucherCreationEnabled: true,\r\n        // minAmountPayable: 100,\r\n        // partPaymentAllowed: true,\r\n      });\r\n  }, [mdmsBillingData]);\r\n\r\n  const { minAmountPayable, isAdvanceAllowed } = paymentRules || {};\r\n\r\n  const [paymentType, setPaymentType] = useState(t(\"CS_PAYMENT_FULL_AMOUNT\"));\r\n  const [amount, setAmount] = useState(getTotal());\r\n  const [paymentAllowed, setPaymentAllowed] = useState(true);\r\n  const [formError, setError] = useState(\"\");\r\n\r\n  const changeAmount = (value) => {\r\n    setAmount(value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    ModuleWorkflow === \"mcollect\" &&\r\n      billDetails?.billAccountDetails &&\r\n      billDetails?.billAccountDetails.map((ob) => {\r\n        if (ob.taxHeadCode.includes(\"CGST\")) ob.order = 3;\r\n        else if (ob.taxHeadCode.includes(\"SGST\")) ob.order = 4;\r\n      });\r\n  }, [billDetails?.billAccountDetails]);\r\n\r\n  useEffect(() => {\r\n    const allowPayment = minAmountPayable && amount >= minAmountPayable && !isAdvanceAllowed && amount <= getTotal() && !formError;\r\n    if (paymentType != t(\"CS_PAYMENT_FULL_AMOUNT\")) setPaymentAllowed(allowPayment);\r\n    else setPaymentAllowed(true);\r\n  }, [paymentType, amount]);\r\n\r\n  useEffect(() => {\r\n    if (!bill && data) {\r\n      let requiredBill = data.Bill.filter((e) => e.consumerCode == consumerCode)[0];\r\n      setBill(requiredBill);\r\n    }\r\n  }, [data]);\r\n\r\n  useEffect(() => {\r\n    if (paymentType !== t(\"CS_PAYMENT_FULL_AMOUNT\")) onChangeAmount(amount.toString());\r\n    else {\r\n      setError(\"\");\r\n      changeAmount(getTotal());\r\n    }\r\n  }, [paymentType, bill]);\r\n\r\n  useEffect(() => {\r\n    if (paymentType !== t(\"CS_PAYMENT_FULL_AMOUNT\")) onChange({ amount, paymentAllowed, error: formError, minAmountPayable });\r\n    else onChange({ amount: getTotal(), paymentAllowed: true, error: formError, minAmountPayable });\r\n  }, [paymentAllowed, formError, amount, paymentType]);\r\n\r\n  // for setting error\r\n  const onChangeAmount = (value) => {\r\n    setError(\"\");\r\n    if (isNaN(value) || value.includes(\".\")) {\r\n      setError(\"AMOUNT_INVALID\");\r\n    } else if (!isAdvanceAllowed && value > getTotal()) {\r\n      setError(\"CS_ADVANCED_PAYMENT_NOT_ALLOWED\");\r\n    } else if (value < minAmountPayable) {\r\n      setError(\"CS_CANT_PAY_BELOW_MIN_AMOUNT\");\r\n    }\r\n    changeAmount(value);\r\n  };\r\n\r\n  if (isLoading || mdmsLoading) return <Loader />;\r\n\r\n  const getFinancialYear = (_bill) => {\r\n    const { fromPeriod, toPeriod } = _bill;\r\n    let from = new Date(fromPeriod).getFullYear().toString();\r\n    let to = new Date(toPeriod).getFullYear().toString();\r\n    return from + \"-\" + to;\r\n  };\r\n\r\n  const thStyle = { textAlign: \"left\", borderBottom: \"#D6D5D4 1px solid\", padding: \"16px 12px\", whiteSpace: \"break-spaces\" };\r\n  const tdStyle = { textAlign: \"left\", borderBottom: \"#D6D5D4 1px solid\", padding: \"8px 10px\", breakWord: \"no-break\" };\r\n\r\n  const config = BillDetailsKeyNoteConfig()[ModuleWorkflow ? ModuleWorkflow : businessService];\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <StatusTable>\r\n        {bill &&\r\n          config.details.map((obj, index) => {\r\n            const value = obj.keyPath.reduce((acc, key) => {\r\n              if (typeof key === \"function\") acc = key(acc);\r\n              else acc = acc[key];\r\n              return acc;\r\n            }, bill);\r\n            return <Row key={index + \"bill\"} label={t(obj.keyValue)} text={value} />;\r\n          })}\r\n      </StatusTable>\r\n      <StatusTable style={{ paddingTop: \"46px\" }}>\r\n        <Row label={t(\"ES_PAYMENT_TAXHEADS\")} textStyle={{ fontWeight: \"bold\" }} text={t(\"ES_PAYMENT_AMOUNT\")} />\r\n        <hr style={{ width: \"40%\" }} className=\"underline\" />\r\n        {billDetails?.billAccountDetails\r\n          ?.sort((a, b) => a.order - b.order)\r\n          .map((amountDetails, index) => (\r\n            <Row\r\n              key={index + \"taxheads\"}\r\n              labelStyle={{ fontWeight: \"normal\" }}\r\n              textStyle={{ textAlign: \"right\", maxWidth: \"100px\" }}\r\n              label={t(amountDetails.taxHeadCode)}\r\n              text={\"₹ \" + amountDetails.amount?.toFixed(2)}\r\n            />\r\n          ))}\r\n\r\n        {arrears?.toFixed?.(2) ? (\r\n          <Row\r\n            labelStyle={{ fontWeight: \"normal\" }}\r\n            textStyle={{ textAlign: \"right\", maxWidth: \"100px\" }}\r\n            label={t(\"COMMON_ARREARS\")}\r\n            text={\"₹ \" + arrears?.toFixed?.(2) || Number(0).toFixed(2)}\r\n          />\r\n        ) : null}\r\n\r\n        <hr style={{ width: \"40%\" }} className=\"underline\" />\r\n        <Row\r\n          label={t(\"CS_PAYMENT_TOTAL_AMOUNT\")}\r\n          textStyle={{ fontWeight: \"bold\", textAlign: \"right\", maxWidth: \"100px\" }}\r\n          text={\"₹ \" + getTotal()}\r\n        />\r\n        {!showDetails && !ModuleWorkflow && businessService !== \"TL\" && yearWiseBills?.length > 1 && (\r\n          <div className=\"row last\">\r\n            <h2></h2>\r\n            <div style={{ textAlign: \"right\", maxWidth: \"100px\" }} onClick={() => setShowDetails(true)} className=\"filter-button value\">\r\n              {t(\"ES_COMMON_VIEW_DETAILS\")}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </StatusTable>\r\n      {showDetails && yearWiseBills?.length > 1 && !ModuleWorkflow && businessService !== \"TL\" && (\r\n        <React.Fragment>\r\n          <div style={{ maxWidth: \"95%\", display: \"inline-block\", textAlign: \"right\" }}>\r\n            <div style={{ display: \"flex\", padding: \"10px\", paddingLeft: \"unset\", maxWidth: \"95%\" }}>\r\n              <div style={{ backgroundColor: \"#EEEEEE\", overflowX: \"auto\" }}>\r\n                <table className=\"table-fixed-column-common-pay\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th style={thStyle}>{t(\"FINANCIAL_YEAR\")}</th>\r\n                      <th style={{ ...thStyle }}>{t(\"CS_BILL_NO\")}</th>\r\n                      <th style={{ ...thStyle }}>{t(\"CS_BILL_DUEDATE\")}</th>\r\n                      {yearWiseBills\r\n                        ?.filter((e, ind) => ind > 0)?.[0]\r\n                        ?.billAccountDetails?.sort((a, b) => a.order - b.order)\r\n                        ?.map((head, index) => (\r\n                          <th style={{ ...thStyle }} key={index}>\r\n                            {t(head.taxHeadCode)}\r\n                          </th>\r\n                        ))}\r\n                      <th style={thStyle}>{t(\"TOTAL_TAX\")}</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {yearWiseBills\r\n                      ?.filter((e, ind) => ind > 0)\r\n                      ?.map((year_bill, index) => {\r\n                        const sorted_tax_heads = year_bill?.billAccountDetails?.sort((a, b) => a.order - b.order);\r\n                        return (\r\n                          <tr key={index}>\r\n                            <td style={tdStyle}>{getFinancialYear(year_bill)}</td>\r\n                            <td style={tdStyle}>{year_bill?.billNumber}</td>\r\n                            <td style={tdStyle}>{year_bill?.expiryDate && new Date(year_bill?.expiryDate).toLocaleDateString()}</td>\r\n                            {sorted_tax_heads.map((e, i) => (\r\n                              <td style={tdStyle} key={i}>\r\n                                {e.amount}\r\n                              </td>\r\n                            ))}\r\n                            <td style={tdStyle}>{year_bill.amount}</td>\r\n                          </tr>\r\n                        );\r\n                      })}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n            <div style={{ float: \"right\" }} onClick={() => setShowDetails(false)} className=\"filter-button\">\r\n              {t(\"ES_COMMON_HIDE_DETAILS\")}\r\n            </div>\r\n          </div>{\" \"}\r\n        </React.Fragment>\r\n      )}\r\n      {paymentRules?.partPaymentAllowed && (\r\n        <div style={{ marginTop: \"50px\" }} className=\"bill-payment-amount\">\r\n          <CardSectionHeader>{t(\"CS_COMMON_PAYMENT_AMOUNT\")}</CardSectionHeader>\r\n          <RadioButtons\r\n            style={{ display: \"flex\" }}\r\n            innerStyles={{ padding: \"5px\" }}\r\n            selectedOption={paymentType}\r\n            onSelect={setPaymentType}\r\n            options={paymentRules.partPaymentAllowed ? [t(\"CS_PAYMENT_FULL_AMOUNT\"), t(\"CS_PAYMENT_CUSTOM_AMOUNT\")] : [t(\"CS_PAYMENT_FULL_AMOUNT\")]}\r\n          />\r\n          <div style={{ position: \"relative\" }}>\r\n            <span\r\n              className=\"payment-amount-front\"\r\n              style={{ border: `1px solid ${paymentType === t(\"CS_PAYMENT_FULL_AMOUNT\") ? \"#9a9a9a\" : \"black\"}` }}\r\n            >\r\n              ₹\r\n            </span>\r\n            {paymentType !== t(\"CS_PAYMENT_FULL_AMOUNT\") ? (\r\n              <TextInput\r\n                style={{ width: \"30%\" }}\r\n                className=\"text-indent-xl\"\r\n                onChange={(e) => onChangeAmount(e.target.value)}\r\n                value={amount}\r\n                disable={getTotal() === 0}\r\n              />\r\n            ) : (\r\n              <TextInput style={{ width: \"30%\" }} className=\"text-indent-xl\" value={getTotal()} disable={true} />\r\n            )}\r\n            {formError === \"CS_CANT_PAY_BELOW_MIN_AMOUNT\" ? (\r\n              <span className=\"card-label-error\">\r\n                {t(formError)}: {\"₹\" + minAmountPayable}\r\n              </span>\r\n            ) : (\r\n              <span className=\"card-label-error\">{t(formError)}</span>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default BillDetails;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { RadioButtons, FormComposer, Dropdown, CardSectionHeader, Loader, Toast, Card, Header } from \"@egovernments/digit-ui-react-components\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useHistory, useParams, useRouteMatch } from \"react-router-dom\";\r\nimport { useQueryClient } from \"react-query\";\r\nimport { useCashPaymentDetails } from \"./ManualReciept\";\r\nimport { useCardPaymentDetails } from \"./card\";\r\nimport { useChequeDetails } from \"./cheque\";\r\nimport isEqual from \"lodash/isEqual\";\r\nimport { BillDetailsFormConfig } from \"./Bill-details/billDetails\";\r\n\r\nexport const CollectPayment = (props) => {\r\n  // const { formData, addParams } = props;\r\n  const { workflow: ModuleWorkflow } = Digit.Hooks.useQueryParams();\r\n  const { t } = useTranslation();\r\n  const history = useHistory();\r\n  const queryClient = useQueryClient();\r\n\r\n  const { path: currentPath } = useRouteMatch();\r\n  const { consumerCode, businessService } = useParams();\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const { data: paymentdetails, isLoading } = Digit.Hooks.useFetchPayment({ tenantId: tenantId, consumerCode, businessService });\r\n  const bill = paymentdetails?.Bill ? paymentdetails?.Bill[0] : {};\r\n\r\n  // const { isLoading: storeLoading, data: store } = Digit.Services.useStore({\r\n  //   stateCode: props.stateCode,\r\n  //   moduleCode: businessService.split(\".\")[0],\r\n  //   language: Digit.StoreData.getCurrentLanguage(),\r\n  // });\r\n\r\n  const { cardConfig } = useCardPaymentDetails(props, t);\r\n  const { chequeConfig } = useChequeDetails(props, t);\r\n  const { cashConfig } = useCashPaymentDetails(props, t);\r\n\r\n  const [formState, setFormState] = useState({});\r\n  const [toast, setToast] = useState(null);\r\n\r\n  const defaultPaymentModes = [\r\n    { code: \"CASH\", label: t(\"COMMON_MASTERS_PAYMENTMODE_CASH\") },\r\n    { code: \"CHEQUE\", label: t(\"COMMON_MASTERS_PAYMENTMODE_CHEQUE\") },\r\n    { code: \"CARD\", label: t(\"COMMON_MASTERS_PAYMENTMODE_CREDIT/DEBIT CARD\") },\r\n    // { code: \"DD\", label: \"Demand Draft\" },\r\n    // { code: \"OFFLINE_NEFT\", label: \"Offline NEFT\" },\r\n    // { code: \"OFFLINE_RTGS\", label: \"Offline RTGS\" },\r\n    // { code: \"POSTAL_ORDER\", label: \"Postal Order\" },\r\n  ];\r\n\r\n  const formConfigMap = {\r\n    CHEQUE: chequeConfig,\r\n    CARD: cardConfig,\r\n  };\r\n\r\n  useEffect(() => {\r\n    props.setLink(t(\"PAYMENT_COLLECT_LABEL\"));\r\n  }, []);\r\n\r\n  const getPaymentModes = () => defaultPaymentModes;\r\n  const paidByMenu = [\r\n    { code: \"OWNER\", name: t(\"COMMON_OWNER\") },\r\n    { code: \"OTHER\", name: t(\"COMMON_OTHER\") },\r\n  ];\r\n  const [selectedPaymentMode, setPaymentMode] = useState(formState?.selectedPaymentMode || getPaymentModes()[0]);\r\n\r\n  const onSubmit = async (data) => {\r\n    bill.totalAmount = Math.round(bill.totalAmount);\r\n    data.paidBy = data.paidBy.code;\r\n\r\n    if (\r\n      BillDetailsFormConfig({ consumerCode, businessService }, t)[ModuleWorkflow ? ModuleWorkflow : businessService] &&\r\n      !data?.amount?.paymentAllowed\r\n    ) {\r\n      let action =\r\n        data?.amount?.error === \"CS_CANT_PAY_BELOW_MIN_AMOUNT\"\r\n          ? t(data?.amount?.error) + \"- \" + data?.amount?.minAmountPayable\r\n          : t(data?.amount?.error);\r\n\r\n      setToast({\r\n        key: \"error\",\r\n        action,\r\n      });\r\n      return;\r\n    }\r\n\r\n    const { ManualRecieptDetails, paymentModeDetails, ...rest } = data;\r\n    const { errorObj, ...details } = paymentModeDetails || {};\r\n\r\n    const recieptRequest = {\r\n      Payment: {\r\n        mobileNumber: data.payerMobile,\r\n        paymentDetails: [\r\n          {\r\n            businessService,\r\n            billId: bill.id,\r\n            totalDue: bill.totalAmount,\r\n            totalAmountPaid: data?.amount?.amount || bill.totalAmount,\r\n          },\r\n        ],\r\n        tenantId: bill.tenantId,\r\n        totalDue: bill.totalAmount,\r\n        totalAmountPaid: data?.amount?.amount || bill.totalAmount,\r\n        paymentMode: data.paymentMode.code,\r\n        payerName: data.payerName,\r\n        paidBy: data.paidBy,\r\n      },\r\n    };\r\n\r\n    if (data.ManualRecieptDetails.manualReceiptDate) {\r\n      recieptRequest.Payment.paymentDetails[0].manualReceiptDate = new Date(ManualRecieptDetails.manualReceiptDate).getTime();\r\n    }\r\n    if (data.ManualRecieptDetails.manualReceiptNumber) {\r\n      recieptRequest.Payment.paymentDetails[0].manualReceiptNumber = ManualRecieptDetails.manualReceiptNumber;\r\n    }\r\n    recieptRequest.Payment.paymentMode = data?.paymentMode?.code;\r\n\r\n    if (data.paymentModeDetails) {\r\n      recieptRequest.Payment = { ...recieptRequest.Payment, ...details };\r\n      delete recieptRequest.Payment.paymentModeDetails;\r\n      if (data.paymentModeDetails.errorObj) {\r\n        const errors = data.paymentModeDetails.errorObj;\r\n        const messages = Object.keys(errors)\r\n          .map((e) => t(errors[e]))\r\n          .join();\r\n        if (messages) {\r\n          setToast({ key: \"error\", action: `${messages} ${t(\"ES_ERROR_REQUIRED\")}` });\r\n          setTimeout(() => setToast(null), 5000);\r\n          return;\r\n        }\r\n      }\r\n      if (data.errorMsg) setToast({ key: \"error\", action: t(errorMsg) });\r\n\r\n      recieptRequest.Payment.instrumentDate = new Date(recieptRequest?.Payment?.instrumentDate).getTime();\r\n      recieptRequest.Payment.transactionNumber = data.paymentModeDetails.transactionNumber;\r\n    }\r\n\r\n    if (data?.paymentModeDetails?.transactionNumber) {\r\n      if (data.paymentModeDetails.transactionNumber !== data.paymentModeDetails.reTransanctionNumber && [\"CARD\"].includes(data.paymentMode.code)) {\r\n        setToast({ key: \"error\", action: t(\"ERR_TRASACTION_NUMBERS_DONT_MATCH\") });\r\n        setTimeout(() => setToast(null), 5000);\r\n        return;\r\n      }\r\n      delete recieptRequest.Payment.last4Digits;\r\n      delete recieptRequest.Payment.reTransanctionNumber;\r\n    }\r\n\r\n    if (\r\n      recieptRequest.Payment?.instrumentNumber?.length &&\r\n      recieptRequest.Payment?.instrumentNumber?.length < 6 &&\r\n      recieptRequest?.Payment?.paymentMode === \"CHEQUE\"\r\n    ) {\r\n      setToast({ key: \"error\", action: t(\"ERR_CHEQUE_NUMBER_LESS_THAN_6\") });\r\n      setTimeout(() => setToast(null), 5000);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const resposne = await Digit.PaymentService.createReciept(tenantId, recieptRequest);\r\n      queryClient.invalidateQueries();\r\n      history.push(\r\n        `${props.basePath}/success/${businessService}/${resposne?.Payments[0]?.paymentDetails[0]?.receiptNumber.replace(/\\//g, \"%2F\")}/${\r\n          resposne?.Payments[0]?.paymentDetails[0]?.bill?.consumerCode\r\n        }`\r\n      );\r\n    } catch (error) {\r\n      setToast({ key: \"error\", action: error?.response?.data?.Errors?.map((e) => t(e.code)) })?.join(\" , \");\r\n      setTimeout(() => setToast(null), 5000);\r\n      return;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    document?.getElementById(\"paymentInfo\")?.scrollIntoView({ behavior: \"smooth\" });\r\n    document?.querySelector(\"#paymentInfo + .label-field-pair input\")?.focus();\r\n  }, [selectedPaymentMode]);\r\n\r\n  const config = [\r\n    {\r\n      head: !ModuleWorkflow && businessService !== \"TL\" ? t(\"COMMON_PAYMENT_HEAD\") : \"\",\r\n      body: [\r\n        {\r\n          label: t(\"PAY_TOTAL_AMOUNT\"),\r\n          populators: <CardSectionHeader style={{ marginBottom: 0, textAlign: \"right\" }}> {`₹ ${bill?.totalAmount}`} </CardSectionHeader>,\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      head: t(\"PAYMENT_PAID_BY_HEAD\"),\r\n      body: [\r\n        {\r\n          label: t(\"PAYMENT_PAID_BY_LABEL\"),\r\n          isMandatory: true,\r\n          type: \"custom\",\r\n          populators: {\r\n            name: \"paidBy\",\r\n            customProps: { t, isMendatory: true, option: paidByMenu, optionKey: \"name\" },\r\n            component: (props, customProps) => (\r\n              <Dropdown\r\n                {...customProps}\r\n                selected={props.value}\r\n                select={(d) => {\r\n                  if (d.name == paidByMenu[0].name) {\r\n                    props.setValue(\"payerName\", bill?.payerName);\r\n                    props.setValue(\"payerMobile\", bill?.mobileNumber);\r\n                  } else {\r\n                    props.setValue(\"payerName\", \"\");\r\n                    props.setValue(\"payerMobile\", \"\");\r\n                  }\r\n                  props.onChange(d);\r\n                }}\r\n              />\r\n            ),\r\n            defaultValue: formState?.paidBy || paidByMenu[0],\r\n          },\r\n        },\r\n        {\r\n          label: t(\"PAYMENT_PAYER_NAME_LABEL\"),\r\n          isMandatory: true,\r\n          type: \"text\",\r\n          populators: {\r\n            name: \"payerName\",\r\n            validation: {\r\n              required: true,\r\n              pattern: /^[A-Za-z]/,\r\n            },\r\n            error: t(\"PAYMENT_INVALID_NAME\"),\r\n            defaultValue: bill?.payerName || formState?.payerName || \"\",\r\n            className: \"payment-form-text-input-correction\",\r\n          },\r\n        },\r\n        {\r\n          label: t(\"PAYMENT_PAYER_MOB_LABEL\"),\r\n          isMandatory: true,\r\n          type: \"text\",\r\n          populators: {\r\n            name: \"payerMobile\",\r\n            validation: {\r\n              required: true,\r\n              pattern: /^[6-9]\\d{9}$/,\r\n            },\r\n            error: t(\"PAYMENT_INVALID_MOBILE\"),\r\n            className: \"payment-form-text-input-correction\",\r\n            defaultValue: bill?.mobileNumber || formState?.payerMobile || \"\",\r\n          },\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      head: t(\"PAYMENT_MODE_HEAD\"),\r\n      body: [\r\n        {\r\n          label: t(\"PAYMENT_MODE_LABEL\"),\r\n          type: \"custom\",\r\n          populators: {\r\n            name: \"paymentMode\",\r\n            customProps: {\r\n              options: getPaymentModes(),\r\n              optionsKey: \"label\",\r\n              style: { display: \"flex\", flexWrap: \"wrap\" },\r\n              innerStyles: { minWidth: \"33%\" },\r\n            },\r\n            defaultValue: formState?.paymentMode || getPaymentModes()[0],\r\n            component: (props, customProps) => (\r\n              <RadioButtons\r\n                selectedOption={props.value}\r\n                onSelect={(d) => {\r\n                  props.onChange(d);\r\n                }}\r\n                {...customProps}\r\n              />\r\n            ),\r\n          },\r\n        },\r\n      ],\r\n    },\r\n  ];\r\n\r\n  const getDefaultValues = () => ({\r\n    payerName: bill?.payerName || formState?.payerName || \"\",\r\n    payerMobile: bill?.mobileNumber || formState?.payerMobile || \"\",\r\n  });\r\n\r\n  const getFormConfig = () => {\r\n    if (\r\n      BillDetailsFormConfig({ consumerCode, businessService }, t)[ModuleWorkflow ? ModuleWorkflow : businessService] ||\r\n      ModuleWorkflow ||\r\n      businessService === \"TL\"\r\n    ) {\r\n      config.splice(0, 1);\r\n    }\r\n    let conf = config.concat(formConfigMap[formState?.paymentMode?.code] || []);\r\n    conf = conf?.concat(cashConfig);\r\n    return BillDetailsFormConfig({ consumerCode, businessService }, t)[ModuleWorkflow ? ModuleWorkflow : businessService]\r\n      ? BillDetailsFormConfig({ consumerCode, businessService }, t)[ModuleWorkflow ? ModuleWorkflow : businessService].concat(conf)\r\n      : conf;\r\n  };\r\n\r\n  if (isLoading) {\r\n    return <Loader />;\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Header styles={{ marginLeft: \"15px\" }}>{t(\"PAYMENT_COLLECT\")}</Header>\r\n      <FormComposer\r\n        cardStyle={{ paddingBottom: \"100px\" }}\r\n        label={t(\"PAYMENT_COLLECT_LABEL\")}\r\n        config={getFormConfig()}\r\n        onSubmit={onSubmit}\r\n        formState={formState}\r\n        defaultValues={getDefaultValues()}\r\n        isDisabled={bill?.totalAmount ? !bill.totalAmount > 0 : true}\r\n        // isDisabled={BillDetailsFormConfig({ consumerCode }, t)[businessService] ? !}\r\n        onFormValueChange={(setValue, formValue) => {\r\n          if (!isEqual(formValue.paymentMode, selectedPaymentMode)) {\r\n            setFormState(formValue);\r\n            setPaymentMode(formState.paymentMode);\r\n          }\r\n        }}\r\n      ></FormComposer>\r\n      {toast && (\r\n        <Toast\r\n          error={toast.key === \"error\"}\r\n          label={t(toast.key === \"success\" ? `ES_${businessService.split(\".\")[0].toLowerCase()}_${toast.action}_UPDATE_SUCCESS` : toast.action)}\r\n          onClose={() => setToast(null)}\r\n          style={{ maxWidth: \"670px\" }}\r\n        />\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Banner, Card, CardText, SubmitBar, ActionBar, DownloadPrefixIcon, Loader } from \"@egovernments/digit-ui-react-components\";\r\nimport { useHistory, useParams, Link, LinkLabel } from \"react-router-dom\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useQueryClient } from \"react-query\";\r\n\r\nexport const SuccessfulPayment = (props) => {\r\n  const { addParams, clearParams } = props;\r\n  const { t } = useTranslation();\r\n  const queryClient = useQueryClient();\r\n  props.setLink(t(\"PAYMENT_LOCALIZATION_RESPONSE\"));\r\n  let { consumerCode, receiptNumber, businessService } = useParams();\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  receiptNumber = receiptNumber.replace(/%2F/g, \"/\");\r\n  const { data = {}, isLoading: isBpaSearchLoading, isSuccess: isBpaSuccess, error: bpaerror } = Digit.Hooks.obps.useOBPSSearch(\r\n    \"\", {}, tenantId, { applicationNo: consumerCode }, {}, {enabled : businessService?.includes(\"BPA\") ? true : false}\r\n  );\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      queryClient.clear();\r\n    };\r\n  }, []);\r\n\r\n  const getMessage = () => t(\"ES_PAYMENT_COLLECTED\");\r\n  const getCardText = () => {\r\n    if (businessService?.includes(\"BPA\")) {\r\n      let nameOfAchitect = sessionStorage.getItem(\"BPA_ARCHITECT_NAME\");\r\n      let parsedArchitectName = nameOfAchitect ? JSON.parse(nameOfAchitect) : \"ARCHITECT\";\r\n      return t(`ES_PAYMENT_${businessService}_${parsedArchitectName}_SUCCESSFUL_DESCRIPTION`);\r\n    } else {\r\n      return t(\"ES_PAYMENT_SUCCESSFUL_DESCRIPTION\")\r\n    }\r\n  }\r\n\r\n  const { data: generatePdfKey } = Digit.Hooks.useCommonMDMS(tenantId, \"common-masters\", \"ReceiptKey\", {\r\n    select: (data) =>\r\n      data[\"common-masters\"]?.uiCommonPay?.filter(({ code }) => businessService?.includes(code))[0]?.receiptKey || \"consolidatedreceipt\",\r\n  });\r\n\r\n  const printCertificate = async () => {\r\n    const tenantId = Digit.ULBService.getCurrentTenantId();\r\n    const state = Digit.ULBService.getStateId();\r\n    const applicationDetails = await Digit.TLService.search({ applicationNumber: consumerCode, tenantId });\r\n    const generatePdfKeyForTL = \"tlcertificate\";\r\n\r\n    if (applicationDetails) {\r\n      let response = await Digit.PaymentService.generatePdf(state, { Licenses: applicationDetails?.Licenses }, generatePdfKeyForTL);\r\n      const fileStore = await Digit.PaymentService.printReciept(state, { fileStoreIds: response.filestoreIds[0] });\r\n      window.open(fileStore[response.filestoreIds[0]], \"_blank\");\r\n    }\r\n  };\r\n\r\n  const convertDateToEpoch = (dateString, dayStartOrEnd = \"dayend\") => {\r\n    //example input format : \"2018-10-02\"\r\n    try {\r\n      const parts = dateString.match(/(\\d{4})-(\\d{1,2})-(\\d{1,2})/);\r\n      const DateObj = new Date(Date.UTC(parts[1], parts[2] - 1, parts[3]));\r\n      DateObj.setMinutes(DateObj.getMinutes() + DateObj.getTimezoneOffset());\r\n      if (dayStartOrEnd === \"dayend\") {\r\n        DateObj.setHours(DateObj.getHours() + 24);\r\n        DateObj.setSeconds(DateObj.getSeconds() - 1);\r\n      }\r\n      return DateObj.getTime();\r\n    } catch (e) {\r\n      return dateString;\r\n    }\r\n  };\r\n\r\n  const downloadPdf = (blob, fileName) => {\r\n    if (window.mSewaApp && window.mSewaApp.isMsewaApp() && window.mSewaApp.downloadBase64File) {\r\n      var reader = new FileReader();\r\n      reader.readAsDataURL(blob);\r\n      reader.onloadend = function () {\r\n        var base64data = reader.result;\r\n        mSewaApp.downloadBase64File(base64data, fileName);\r\n      };\r\n    } else {\r\n      const link = document.createElement(\"a\");\r\n      // create a blobURI pointing to our Blob\r\n      link.href = URL.createObjectURL(blob);\r\n      link.download = fileName;\r\n      // some browser needs the anchor to be in the doc\r\n      document.body.append(link);\r\n      link.click();\r\n      link.remove();\r\n      // in case the Blob uses a lot of memory\r\n      setTimeout(() => URL.revokeObjectURL(link.href), 7000);\r\n    }\r\n  };\r\n  \r\n  const printPdf = (blob) => {\r\n    const fileURL = URL.createObjectURL(blob);\r\n    var myWindow = window.open(fileURL);\r\n    if (myWindow != undefined) {\r\n      myWindow.addEventListener(\"load\", (event) => {\r\n        myWindow.focus();\r\n        myWindow.print();\r\n      });\r\n    }\r\n  };\r\n\r\n  const getPermitOccupancyOrderSearch = async(order, mode=\"download\") => {\r\n    let queryObj = { applicationNo: data?.[0]?.applicationNo };\r\n    let bpaResponse = await Digit.OBPSService.BPASearch(data?.[0]?.tenantId, queryObj);\r\n    const edcrResponse = await Digit.OBPSService.scrutinyDetails(data?.[0]?.tenantId, { edcrNumber: data?.[0]?.edcrNumber });\r\n    let bpaData = bpaResponse?.BPA?.[0], edcrData = edcrResponse?.edcrDetail?.[0];\r\n    let currentDate = new Date();\r\n    bpaData.additionalDetails.runDate = convertDateToEpoch(currentDate.getFullYear() + '-' + (currentDate.getMonth() + 1) + '-' + currentDate.getDate());\r\n    let reqData = {...bpaData, edcrDetail: [{...edcrData}]};\r\n    let response = await Digit.PaymentService.generatePdf(bpaData?.tenantId, { Bpa: [reqData] }, order);\r\n    const fileStore = await Digit.PaymentService.printReciept(bpaData?.tenantId, { fileStoreIds: response.filestoreIds[0] });\r\n    window.open(fileStore[response?.filestoreIds[0]], \"_blank\");\r\n    reqData[\"applicationType\"] = data?.[0]?.additionalDetails?.applicationType;\r\n    let edcrResponseData = await Digit.OBPSService.edcr_report_download({BPA: {...reqData}});\r\n    const responseStatus = parseInt(edcrResponseData.status, 10);\r\n    if (responseStatus === 201 || responseStatus === 200) {\r\n      mode == \"print\"\r\n        ? printPdf(new Blob([edcrResponseData.data], { type: \"application/pdf\" }))\r\n        : downloadPdf(new Blob([edcrResponseData.data], { type: \"application/pdf\" }), `edcrReport.pdf`);\r\n    }\r\n\r\n  }\r\n\r\n\r\n  const printReciept = async () => {\r\n    const tenantId = Digit.ULBService.getCurrentTenantId();\r\n    const state = Digit.ULBService.getStateId();\r\n    const payments = await Digit.PaymentService.getReciept(tenantId, businessService, { receiptNumbers: receiptNumber });\r\n    let response = { filestoreIds: [payments.Payments[0]?.fileStoreId] };\r\n\r\n    if (!payments.Payments[0]?.fileStoreId) {\r\n      response = await Digit.PaymentService.generatePdf(state, { Payments: payments.Payments }, generatePdfKey);\r\n    }\r\n    const fileStore = await Digit.PaymentService.printReciept(state, { fileStoreIds: response.filestoreIds[0] });\r\n    window.open(fileStore[response.filestoreIds[0]], \"_blank\");\r\n  };\r\n\r\n\r\n  if (businessService?.includes(\"BPA\") && isBpaSearchLoading) return <Loader />\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Card>\r\n        <Banner message={getMessage()} info={t(\"PAYMENT_LOCALIZATION_RECIEPT_NO\")} applicationNumber={receiptNumber} successful={true} />\r\n        <CardText>{getCardText()}</CardText>\r\n        {generatePdfKey ? (\r\n          <div style={{ display: \"flex\" }}>\r\n            <div className=\"primary-label-btn d-grid\" style={{ marginLeft: \"unset\", marginRight: \"20px\" }} onClick={printReciept}>\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\">\r\n                <path d=\"M0 0h24v24H0z\" fill=\"none\" />\r\n                <path d=\"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z\" />\r\n              </svg>\r\n              {t(\"CS_COMMON_PRINT_RECEIPT\")}\r\n            </div>\r\n            {businessService == \"TL\" ? (\r\n              <div className=\"primary-label-btn d-grid\" style={{ marginLeft: \"unset\" }} onClick={printCertificate}>\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\">\r\n                  <path d=\"M0 0h24v24H0z\" fill=\"none\" />\r\n                  <path d=\"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z\" />\r\n                </svg>\r\n                {t(\"CS_COMMON_PRINT_CERTIFICATE\")}\r\n              </div>\r\n            ) : null}\r\n            {data?.[0]?.businessService === \"BPA_OC\" && ( data?.[0]?.status===\"APPROVED\" || data?.[0]?.status===\"PENDING_SANC_FEE_PAYMENT\" ) ? (\r\n              <div className=\"primary-label-btn d-grid\" style={{ marginLeft: \"unset\" }} onClick={e => getPermitOccupancyOrderSearch(\"occupancy-certificate\")}>\r\n                <DownloadPrefixIcon />\r\n                {t(\"BPA_OC_CERTIFICATE\")}\r\n              </div>\r\n            ) : null}\r\n            {data?.[0]?.businessService === \"BPA_LOW\" ? (\r\n              <div className=\"primary-label-btn d-grid\" style={{ marginLeft: \"unset\" }} onClick={r => getPermitOccupancyOrderSearch(\"buildingpermit-low\")}>\r\n                <DownloadPrefixIcon />\r\n                {t(\"BPA_PERMIT_ORDER\")}\r\n              </div>\r\n            ) : null}\r\n            {data?.[0]?.businessService === \"BPA\" && (data?.[0]?.businessService !== \"BPA_LOW\") && (data?.[0]?.businessService !== \"BPA_OC\") && (data?.[0]?.status===\"PENDING_SANC_FEE_PAYMENT\" || data?.[0]?.status === \"APPROVED\") ? (\r\n              <div className=\"primary-label-btn d-grid\" style={{ marginLeft: \"unset\" }} onClick={r => getPermitOccupancyOrderSearch(\"buildingpermit\")}>\r\n                <DownloadPrefixIcon />\r\n                {t(\"BPA_PERMIT_ORDER\")}\r\n              </div>\r\n            ) : null}\r\n          </div>\r\n        ) : null}\r\n      </Card>\r\n      <ActionBar style={{ display: \"flex\", justifyContent: \"flex-end\", alignItems: \"baseline\" }}>\r\n        <Link to=\"/digit-ui/employee\">\r\n          <SubmitBar label={t(\"CORE_COMMON_GO_TO_HOME\")} />\r\n        </Link>\r\n      </ActionBar>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport const FailedPayment = (props) => {\r\n  props.setLink(\"Response\");\r\n  const { addParams, clearParams } = props;\r\n  const { t } = useTranslation();\r\n  const { consumerCode } = useParams();\r\n\r\n  const getMessage = () => t(\"ES_PAYMENT_COLLECTED_ERROR\");\r\n  return (\r\n    <React.Fragment>\r\n      <Card>\r\n        <Banner message={getMessage()} complaintNumber={consumerCode} successful={false} />\r\n        <CardText>{t(\"ES_PAYMENT_FAILED_DETAILS\")}</CardText>\r\n      </Card>\r\n      <ActionBar style={{ display: \"flex\", justifyContent: \"flex-end\", alignItems: \"baseline\" }}>\r\n        <Link to=\"/digit-ui/employee\">\r\n          <SubmitBar label={t(\"CORE_COMMON_GO_TO_HOME\")} />\r\n        </Link>\r\n      </ActionBar>\r\n    </React.Fragment>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Dropdown, SearchIconSvg } from \"@egovernments/digit-ui-react-components\";\r\n\r\nconst middleWare_1 = async (data, _break, _next) => {\r\n  data.a = \"a\";\r\n  return await _next(data);\r\n};\r\n\r\nconst middleWare_2 = async (data, _break, _next) => {\r\n  data.b = \"b\";\r\n  // _break();\r\n  return await _next(data);\r\n};\r\n\r\nconst middleWare_3 = async (data, _break, _next) => {\r\n  data.c = \"c\";\r\n  if (data.b === \"b\") {\r\n    try {\r\n      const res = await window.fetch(`https://ifsc.razorpay.com/hdfc0000090`);\r\n      if (res.ok) {\r\n        const { BANK, BRANCH } = await res.json();\r\n        data.BANKFROMMiddleWare = BANK;\r\n      } else alert(\"Wrong IFSC Code\");\r\n    } catch (er) {\r\n      alert(\"Something Went Wrong !\");\r\n    }\r\n  }\r\n  return await _next(data);\r\n};\r\n\r\nconst asyncData = {\r\n  a: [\"1\", \"2\", \"3\"],\r\n  b: [\"4\", \"5\", \"6\"],\r\n  c: [\"7\", \"8\", \"9\"],\r\n  j: [\"10\", \"11\", \"12\"],\r\n  k: [\"22\", \"45\"],\r\n  l: [\"456\"],\r\n};\r\n\r\nexport const testForm = {\r\n  addedFields: [],\r\n  middlewares: [{ middleWare_1 }, { middleWare_2 }, { middleWare_3 }],\r\n\r\n  state: { firstDDoptions: [\"a\", \"b\", \"c\"], secondDDoptions: asyncData.a, thirdDDoptions: [\"d\", \"e\", \"f\"] },\r\n\r\n  fields: [\r\n    {\r\n      label: \"first\",\r\n      name: \"pehla\",\r\n      defaultValue: \"b\",\r\n      customProps: (state) => ({ isMendatory: true, option: state.firstDDoptions }),\r\n      component: (props, customProps) => (\r\n        <Dropdown\r\n          select={(d) => {\r\n            props.setState({ secondDDoptions: asyncData[d] });\r\n            props.setValue(\"doosra\", \"\");\r\n            props.onChange(d);\r\n          }}\r\n          selected={props.value}\r\n          {...customProps}\r\n        />\r\n      ),\r\n      validations: {},\r\n    },\r\n    {\r\n      label: \"second\",\r\n      name: \"doosra\",\r\n      customProps: (state) => ({ isMendatory: true, option: state.secondDDoptions }),\r\n      defaultValue: (state) => state.secondDDoptions[1],\r\n      component: (props, customProps) => (\r\n        <Dropdown\r\n          select={(d) => {\r\n            props.onChange(d);\r\n          }}\r\n          selected={props.value}\r\n          {...customProps}\r\n        />\r\n      ),\r\n    },\r\n    {\r\n      label: \"third\",\r\n      name: \"teesra\",\r\n      customProps: (state) => ({ isMendatory: true, option: state.thirdDDoptions }),\r\n      defaultValue: \"d\",\r\n      component: (props, customProps) => (\r\n        <Dropdown\r\n          select={(d) => {\r\n            props.onChange(d);\r\n          }}\r\n          selected={props.value}\r\n          {...customProps}\r\n        />\r\n      ),\r\n    },\r\n    {\r\n      label: \"IFSC\",\r\n      name: \"ifsc\",\r\n      customProps: {\r\n        isMendatory: true,\r\n        setBankDetailsFromIFSC: async (props) => {\r\n          try {\r\n            const res = await window.fetch(`https://ifsc.razorpay.com/${props.getValues(\"ifsc\")}`);\r\n            if (res.ok) {\r\n              const { BANK, BRANCH } = await res.json();\r\n              props.setValue(\"bank\", BANK);\r\n              props.setValue(\"branch\", BRANCH);\r\n            } else alert(\"Wrong IFSC Code\");\r\n          } catch (er) {\r\n            alert(\"Something Went Wrong !\");\r\n          }\r\n        },\r\n      },\r\n      defaultValue: \"\",\r\n      component: (props, customProps) => (\r\n        <div className=\"ifsc-field\">\r\n          <input\r\n            value={props.value}\r\n            type=\"text\"\r\n            onChange={(e) => {\r\n              props.setState({ ifsc: e.target.value });\r\n              props.onChange(e.target.value);\r\n            }}\r\n          />\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => {\r\n              customProps.setBankDetailsFromIFSC(props);\r\n            }}\r\n          >\r\n            <SearchIconSvg />\r\n          </button>\r\n        </div>\r\n      ),\r\n    },\r\n    {\r\n      label: \"Bank\",\r\n      name: \"bank\",\r\n      defaultValue: \"d\",\r\n      component: (props, customProps) => <input readOnly value={props.value}></input>,\r\n    },\r\n    {\r\n      label: \"Branch\",\r\n      name: \"branch\",\r\n      defaultValue: \"d\",\r\n      component: (props, customProps) => <input readOnly value={props.value}></input>,\r\n    },\r\n  ],\r\n};\r\n","import { Header, Loader } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\n\r\nconst IFrameInterface = (props) => {\r\n  const { stateCode } = props;\r\n  const { moduleName, pageName } = useParams();\r\n\r\n  const { t } = useTranslation();\r\n  const [url, setUrl] = useState(\"\");\r\n  const [title, setTitle] = useState(\"\");\r\n\r\n  const { data, isLoading } = Digit.Hooks.dss.useMDMS(stateCode, \"common-masters\", [\"uiCommonConstants\"], {\r\n    select: (data) => {\r\n      let formattedResponse = data?.[\"common-masters\"]?.[\"uiCommonConstants\"]?.[0] || {};\r\n      return formattedResponse;\r\n    },\r\n    enabled: true,\r\n  });\r\n\r\n  useEffect(() => {\r\n    const pageObject = data?.[moduleName]?.[\"iframe-routes\"]?.[pageName] || {};\r\n    const isOrign = pageObject?.[\"isOrigin\"] || false;\r\n    const domain = isOrign ? (process.env.NODE_ENV === \"development\" ? \"https://qa.digit.org\" : document.location.origin) : pageObject?.[\"domain\"];\r\n    const contextPath = pageObject?.[\"routePath\"] || \"\";\r\n    const title = pageObject?.[\"title\"] || \"\";\r\n    let url = `${domain}${contextPath}`;\r\n    setUrl(url);\r\n    setTitle(title);\r\n  }, [data, moduleName, pageName]);\r\n\r\n  if (isLoading) {\r\n    return <Loader />;\r\n  }\r\n\r\n  if (!url) {\r\n    return <div>No Iframe To Load</div>;\r\n  }\r\n  return (\r\n    <React.Fragment>\r\n      <Header>{t(title)}</Header>\r\n      <div className=\"app-iframe-wrapper\">\r\n        <iframe src={url} title={title} className=\"app-iframe\" />\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default IFrameInterface;\r\n","import React, { useEffect, useState } from \"react\";\r\n// import { useTranslation } from \"react-i18next\";\r\nimport { useRouteMatch, Switch, Route, Link } from \"react-router-dom\";\r\nimport { CollectPayment } from \"./payment-collect\";\r\nimport { SuccessfulPayment, FailedPayment } from \"./response\";\r\n// import { SubformComposer } from \"../../hoc\";\r\n// import { subFormRegistry } from \"../../hoc/subFormClass\";\r\nimport { testForm } from \"../../hoc/testForm-config\";\r\nimport { subFormRegistry } from \"@egovernments/digit-ui-libraries\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport IFrameInterface from \"./IFrameInterface\";\r\n\r\nsubFormRegistry.addSubForm(\"testForm\", testForm);\r\n\r\nconst EmployeePayment = ({ stateCode, cityCode, moduleCode }) => {\r\n  const userType = \"employee\";\r\n  const { path: currentPath } = useRouteMatch();\r\n\r\n  const { t } = useTranslation();\r\n\r\n  const [link, setLink] = useState(null);\r\n\r\n  const commonProps = { stateCode, cityCode, moduleCode, setLink };\r\n\r\n  const isFsm = location?.pathname?.includes(\"fsm\") || location?.pathname?.includes(\"FSM\");\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <p className=\"breadcrumb\" style={{ marginLeft: \"15px\" }}>\r\n        <Link to={`/digit-ui/employee`}>{t(\"ES_COMMON_HOME\")}</Link>\r\n        {isFsm ? <Link to={`/digit-ui/employee/fsm/inbox`}>/ {t(\"ES_TITLE_INBOX\")}</Link> : null}/ {link}\r\n      </p>\r\n      <Switch>\r\n        <Route path={`${currentPath}/collect/:businessService/:consumerCode`}>\r\n          <CollectPayment {...commonProps} basePath={currentPath} />\r\n        </Route>\r\n        <Route path={`${currentPath}/success/:businessService/:receiptNumber/:consumerCode`}>\r\n          <SuccessfulPayment {...commonProps} />\r\n        </Route>\r\n        <Route path={`${currentPath}/integration/:moduleName/:pageName`}>\r\n          <IFrameInterface {...commonProps} />\r\n        </Route>\r\n        <Route path={`${currentPath}/failure`}>\r\n          <FailedPayment {...commonProps} />\r\n        </Route>\r\n      </Switch>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default EmployeePayment;\r\n","import { Loader } from \"@egovernments/digit-ui-react-components\";\r\nimport React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useRouteMatch } from \"react-router-dom\";\r\nimport CitizenPayment from \"./citizen\";\r\nimport { getKeyNotesConfig } from \"./citizen/keynotesConfig\";\r\nimport EmployeePayment from \"./employee\";\r\n\r\n\r\nexport const PaymentModule = ({ deltaConfig = {}, stateCode, cityCode, moduleCode = \"Payment\", userType }) => {\r\n  const { path, url } = useRouteMatch();\r\n  const store = { data: {} }; //Digit.Services.useStore({}, { deltaConfig, stateCode, cityCode, moduleCode, language });\r\n\r\n  if (Object.keys(store).length === 0) {\r\n    return <Loader />;\r\n  }\r\n\r\n  const getPaymentHome = () => {\r\n    if (userType === \"citizen\") return <CitizenPayment {...{ stateCode, moduleCode, cityCode, path, url }} />;\r\n    else return <EmployeePayment {...{ stateCode, cityCode, moduleCode }} />;\r\n  };\r\n  return <React.Fragment>{getPaymentHome()}</React.Fragment>;\r\n};\r\n\r\nexport const PaymentLinks = ({ matchPath }) => {\r\n  const { t } = useTranslation();\r\n  return null;\r\n};\r\n\r\nexport const paymentConfigs = {\r\n  getBillDetailsConfigWithBusinessService: getKeyNotesConfig,\r\n};\r\n"]},"metadata":{},"sourceType":"module"}