{"ast":null,"code":"import React from'react';import ReactDOM from'react-dom';import{initLibraries}from\"@egovernments/digit-ui-libraries\";// import \"@egovernments/digit-ui-css/dist/index.css\";\nimport\"./index.css\";import App from'./App';import{TLCustomisations}from'./Customisations/tl/TLCustomisation';import{jsx as _jsx}from\"react/jsx-runtime\";initLibraries();window.Digit.Customizations={PGR:{},TL:TLCustomisations};var user=window.Digit.SessionStorage.get(\"User\");if(!user||!user.access_token||!user.info){// login detection\nvar parseValue=function parseValue(value){try{return JSON.parse(value);}catch(e){return value;}};var getFromStorage=function getFromStorage(key){var value=window.localStorage.getItem(key);return value&&value!==\"undefined\"?parseValue(value):null;};var token=getFromStorage(\"token\");var citizenToken=getFromStorage(\"Citizen.token\");var citizenInfo=getFromStorage(\"Citizen.user-info\");var citizenTenantId=getFromStorage(\"Citizen.tenant-id\");var employeeToken=getFromStorage(\"Employee.token\");var employeeInfo=getFromStorage(\"Employee.user-info\");var employeeTenantId=getFromStorage(\"Employee.tenant-id\");var userType=token===citizenToken?\"citizen\":\"employee\";window.Digit.SessionStorage.set(\"user_type\",userType);window.Digit.SessionStorage.set(\"userType\",userType);var getUserDetails=function getUserDetails(access_token,info){return{token:access_token,access_token:access_token,info:info};};var userDetails=userType===\"citizen\"?getUserDetails(citizenToken,citizenInfo):getUserDetails(employeeToken,employeeInfo);window.Digit.SessionStorage.set(\"User\",userDetails);window.Digit.SessionStorage.set(\"Citizen.tenantId\",citizenTenantId);window.Digit.SessionStorage.set(\"Employee.tenantId\",employeeTenantId);// end\n}ReactDOM.render(/*#__PURE__*/_jsx(React.StrictMode,{children:/*#__PURE__*/_jsx(App,{})}),document.getElementById('root'));","map":{"version":3,"names":["React","ReactDOM","initLibraries","App","TLCustomisations","window","Digit","Customizations","PGR","TL","user","SessionStorage","get","access_token","info","parseValue","value","JSON","parse","e","getFromStorage","key","localStorage","getItem","token","citizenToken","citizenInfo","citizenTenantId","employeeToken","employeeInfo","employeeTenantId","userType","set","getUserDetails","userDetails","render","document","getElementById"],"sources":["C:/Users/nehas/Downloads/UPYOG/frontend/micro-ui/web/src/index.js"],"sourcesContent":["import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { initLibraries } from \"@egovernments/digit-ui-libraries\";\r\n// import \"@egovernments/digit-ui-css/dist/index.css\";\r\nimport \"./index.css\";\r\nimport App from './App';\r\nimport { TLCustomisations } from './Customisations/tl/TLCustomisation';\r\n\r\n\r\ninitLibraries();\r\n\r\n\r\nwindow.Digit.Customizations = { PGR: {} ,TL:TLCustomisations};\r\n\r\nconst user = window.Digit.SessionStorage.get(\"User\");\r\n\r\nif (!user || !user.access_token || !user.info) {\r\n  // login detection\r\n\r\n  const parseValue = (value) => {\r\n    try {\r\n      return JSON.parse(value)\r\n    } catch (e) {\r\n      return value\r\n    }\r\n  }\r\n\r\n  const getFromStorage = (key) => {\r\n    const value = window.localStorage.getItem(key);\r\n    return value && value !== \"undefined\" ? parseValue(value) : null;\r\n  }\r\n\r\n  const token = getFromStorage(\"token\")\r\n\r\n  const citizenToken = getFromStorage(\"Citizen.token\")\r\n  const citizenInfo = getFromStorage(\"Citizen.user-info\")\r\n  const citizenTenantId = getFromStorage(\"Citizen.tenant-id\")\r\n\r\n  const employeeToken = getFromStorage(\"Employee.token\")\r\n  const employeeInfo = getFromStorage(\"Employee.user-info\")\r\n  const employeeTenantId = getFromStorage(\"Employee.tenant-id\")\r\n\r\n  const userType = token === citizenToken ? \"citizen\" : \"employee\";\r\n  window.Digit.SessionStorage.set(\"user_type\", userType);\r\n  window.Digit.SessionStorage.set(\"userType\", userType);\r\n\r\n  const getUserDetails = (access_token, info) => ({ token: access_token, access_token, info })\r\n\r\n  const userDetails = userType === \"citizen\" ? getUserDetails(citizenToken, citizenInfo) : getUserDetails(employeeToken, employeeInfo)\r\n\r\n  window.Digit.SessionStorage.set(\"User\", userDetails);\r\n  window.Digit.SessionStorage.set(\"Citizen.tenantId\", citizenTenantId);\r\n  window.Digit.SessionStorage.set(\"Employee.tenantId\", employeeTenantId);\r\n  // end\r\n}\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"mappings":"AAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,MAAOC,SAAQ,KAAM,WAAW,CAChC,OAASC,aAAa,KAAQ,kCAAkC,CAChE;AACA,MAAO,aAAa,CACpB,MAAOC,IAAG,KAAM,OAAO,CACvB,OAASC,gBAAgB,KAAQ,qCAAqC,CAAC,2CAGvEF,aAAa,EAAE,CAGfG,MAAM,CAACC,KAAK,CAACC,cAAc,CAAG,CAAEC,GAAG,CAAE,CAAC,CAAC,CAAEC,EAAE,CAACL,gBAAgB,CAAC,CAE7D,GAAMM,KAAI,CAAGL,MAAM,CAACC,KAAK,CAACK,cAAc,CAACC,GAAG,CAAC,MAAM,CAAC,CAEpD,GAAI,CAACF,IAAI,EAAI,CAACA,IAAI,CAACG,YAAY,EAAI,CAACH,IAAI,CAACI,IAAI,CAAE,CAC7C;AAEA,GAAMC,WAAU,CAAG,QAAbA,WAAU,CAAIC,KAAK,CAAK,CAC5B,GAAI,CACF,MAAOC,KAAI,CAACC,KAAK,CAACF,KAAK,CAAC,CAC1B,CAAE,MAAOG,CAAC,CAAE,CACV,MAAOH,MAAK,CACd,CACF,CAAC,CAED,GAAMI,eAAc,CAAG,QAAjBA,eAAc,CAAIC,GAAG,CAAK,CAC9B,GAAML,MAAK,CAAGX,MAAM,CAACiB,YAAY,CAACC,OAAO,CAACF,GAAG,CAAC,CAC9C,MAAOL,MAAK,EAAIA,KAAK,GAAK,WAAW,CAAGD,UAAU,CAACC,KAAK,CAAC,CAAG,IAAI,CAClE,CAAC,CAED,GAAMQ,MAAK,CAAGJ,cAAc,CAAC,OAAO,CAAC,CAErC,GAAMK,aAAY,CAAGL,cAAc,CAAC,eAAe,CAAC,CACpD,GAAMM,YAAW,CAAGN,cAAc,CAAC,mBAAmB,CAAC,CACvD,GAAMO,gBAAe,CAAGP,cAAc,CAAC,mBAAmB,CAAC,CAE3D,GAAMQ,cAAa,CAAGR,cAAc,CAAC,gBAAgB,CAAC,CACtD,GAAMS,aAAY,CAAGT,cAAc,CAAC,oBAAoB,CAAC,CACzD,GAAMU,iBAAgB,CAAGV,cAAc,CAAC,oBAAoB,CAAC,CAE7D,GAAMW,SAAQ,CAAGP,KAAK,GAAKC,YAAY,CAAG,SAAS,CAAG,UAAU,CAChEpB,MAAM,CAACC,KAAK,CAACK,cAAc,CAACqB,GAAG,CAAC,WAAW,CAAED,QAAQ,CAAC,CACtD1B,MAAM,CAACC,KAAK,CAACK,cAAc,CAACqB,GAAG,CAAC,UAAU,CAAED,QAAQ,CAAC,CAErD,GAAME,eAAc,CAAG,QAAjBA,eAAc,CAAIpB,YAAY,CAAEC,IAAI,QAAM,CAAEU,KAAK,CAAEX,YAAY,CAAEA,YAAY,CAAZA,YAAY,CAAEC,IAAI,CAAJA,IAAK,CAAC,EAAC,CAE5F,GAAMoB,YAAW,CAAGH,QAAQ,GAAK,SAAS,CAAGE,cAAc,CAACR,YAAY,CAAEC,WAAW,CAAC,CAAGO,cAAc,CAACL,aAAa,CAAEC,YAAY,CAAC,CAEpIxB,MAAM,CAACC,KAAK,CAACK,cAAc,CAACqB,GAAG,CAAC,MAAM,CAAEE,WAAW,CAAC,CACpD7B,MAAM,CAACC,KAAK,CAACK,cAAc,CAACqB,GAAG,CAAC,kBAAkB,CAAEL,eAAe,CAAC,CACpEtB,MAAM,CAACC,KAAK,CAACK,cAAc,CAACqB,GAAG,CAAC,mBAAmB,CAAEF,gBAAgB,CAAC,CACtE;AACF,CAEA7B,QAAQ,CAACkC,MAAM,cACb,KAAC,KAAK,CAAC,UAAU,wBACf,KAAC,GAAG,IAAG,EACU,CACnBC,QAAQ,CAACC,cAAc,CAAC,MAAM,CAAC,CAChC"},"metadata":{},"sourceType":"module"}