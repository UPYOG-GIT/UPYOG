{"ast":null,"code":"import React, { useState, useEffect, useCallback } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useHistory, useLocation, Switch, Link, useParams, useRouteMatch } from 'react-router-dom';\nimport { LabelFieldPair, CardLabel, Dropdown, Loader, Modal, FormComposer, CloseSvg, CheckBox, SubmitBar, ActionBar, ApplyFilterBar, PrivateRoute, Card, CardText, LinkButton, Banner as Banner$1, Header, StatusTable, Row, AnnouncementIcon, Table, Label, TextInput, LinkLabel, DatePicker, MobileNumber, DetailsCard, SearchAction, FilterAction, PopUp, ReceiptIcon, EmployeeModuleCard } from '@egovernments/digit-ui-react-components';\nimport { useTranslation } from 'react-i18next';\nimport { useForm, Controller } from 'react-hook-form';\nvar Banner = function Banner(_ref) {\n  var _config$texts;\n  var t = _ref.t,\n    config = _ref.config;\n  return /*#__PURE__*/React.createElement(LabelFieldPair, null, /*#__PURE__*/React.createElement(CardLabel, {\n    className: \"card-label-smaller\",\n    style: {\n      color: \"white\"\n    }\n  }, \".\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"form-field\",\n    style: {\n      color: \"gray\"\n    }\n  }, t(config === null || config === void 0 ? void 0 : (_config$texts = config.texts) === null || _config$texts === void 0 ? void 0 : _config$texts.header)));\n};\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nvar configCancelConfig = function configCancelConfig(_ref) {\n  var t = _ref.t,\n    selectedReason = _ref.selectedReason,\n    Reasons = _ref.Reasons,\n    selectReason = _ref.selectReason;\n  return {\n    label: {\n      heading: \"CR_COMMON_HEADER\",\n      submit: \"CR_CANCEL_RECEIPT_BUTTON\"\n    },\n    form: [{\n      body: [{\n        label: t(\"CR_RECEIPT_CANCELLATION_REASON_LABEL\"),\n        type: \"dropdown\",\n        isMandatory: true,\n        name: \"reason\",\n        populators: /*#__PURE__*/React.createElement(Dropdown, {\n          isMandatory: true,\n          selected: selectedReason,\n          optionKey: \"name\",\n          option: Reasons,\n          select: selectReason,\n          t: t\n        })\n      }, {\n        label: t(\"CR_MORE_DETAILS_LABEL\"),\n        type: \"text\",\n        populators: {\n          name: \"otherDetails\"\n        },\n        disable: (selectedReason === null || selectedReason === void 0 ? void 0 : selectedReason.code) == \"OTHER\" ? false : true\n      }, {\n        label: t(\"CR_ADDITIONAL_PENALTY\"),\n        type: \"text\",\n        populators: {\n          name: \"penalty\",\n          disable: true\n        },\n        disable: true\n      }]\n    }]\n  };\n};\nvar _excluded = [\"isLoading\", \"isError\", \"errors\", \"data\"];\nvar ReceiptCancelModal = function ReceiptCancelModal(_ref) {\n  var _config$label, _config$label2;\n  var t = _ref.t,\n    closeModal = _ref.closeModal,\n    applicationData = _ref.applicationData;\n  var history = useHistory();\n  var _useState = useState({}),\n    config = _useState[0],\n    setConfig = _useState[1];\n  var _useState2 = useState([]),\n    Reasons = _useState2[0],\n    setReasons = _useState2[1];\n  var _useState3 = useState(\"\"),\n    selectedReason = _useState3[0],\n    selecteReason = _useState3[1];\n  var tenantIds = Digit.ULBService.getCurrentTenantId() || '';\n  var tenant = Digit.ULBService.getStateId();\n  var _Digit$Hooks$receipts = Digit.Hooks.receipts.useReceiptsMDMS(tenant, \"CancelReceiptReason\"),\n    isLoading = _Digit$Hooks$receipts.isLoading,\n    data = _Digit$Hooks$receipts.data,\n    rest = _objectWithoutPropertiesLoose(_Digit$Hooks$receipts, _excluded);\n  useEffect(function () {\n    return setConfig(configCancelConfig({\n      t: t,\n      selectedReason: selectedReason,\n      Reasons: Reasons,\n      selectReason: selectReason\n    }));\n  }, [Reasons, selectedReason]);\n  var Heading = function Heading(props) {\n    return /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"heading-m\"\n    }, props.label);\n  };\n  function selectReason(e) {\n    selecteReason(e);\n  }\n  var Close = function Close() {\n    return /*#__PURE__*/React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 24 24\",\n      fill: \"#FFFFFF\"\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      d: \"M0 0h24v24H0V0z\",\n      fill: \"none\"\n    }), /*#__PURE__*/React.createElement(\"path\", {\n      d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z\"\n    }));\n  };\n  var CloseBtn = function CloseBtn(props) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"icon-bg-secondary\",\n      onClick: props.onClick\n    }, /*#__PURE__*/React.createElement(Close, null));\n  };\n  useEffect(function () {\n    setReasons(data === null || data === void 0 ? void 0 : data.dropdownData);\n  }, [data]);\n  function submit(data) {\n    var _applicationData$Paym, _applicationData$Paym2, _applicationData$Paym3, _applicationData$Paym4;\n    history.replace(\"/digit-ui/employee/receipts/response\", {\n      paymentWorkflow: {\n        action: \"CANCEL\",\n        additionalDetails: _extends({}, data.otherDetails, {\n          selectedReasonMessage: t(\"CR_REASON_\" + selectedReason.code)\n        }),\n        paymentId: applicationData === null || applicationData === void 0 ? void 0 : (_applicationData$Paym = applicationData.Payments[0]) === null || _applicationData$Paym === void 0 ? void 0 : _applicationData$Paym.id,\n        reason: selectedReason.code,\n        tenantId: applicationData === null || applicationData === void 0 ? void 0 : (_applicationData$Paym2 = applicationData.Payments[0]) === null || _applicationData$Paym2 === void 0 ? void 0 : _applicationData$Paym2.tenantId\n      },\n      key: \"UPDATE\",\n      action: \"CANCELLATION\",\n      businessService: applicationData === null || applicationData === void 0 ? void 0 : (_applicationData$Paym3 = applicationData.Payments[0]) === null || _applicationData$Paym3 === void 0 ? void 0 : (_applicationData$Paym4 = _applicationData$Paym3.paymentDetails[0]) === null || _applicationData$Paym4 === void 0 ? void 0 : _applicationData$Paym4.businessService\n    });\n  }\n  if (isLoading) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n  return config !== null && config !== void 0 && config.form ? /*#__PURE__*/React.createElement(Modal, {\n    headerBarMain: /*#__PURE__*/React.createElement(Heading, {\n      label: t(config === null || config === void 0 ? void 0 : (_config$label = config.label) === null || _config$label === void 0 ? void 0 : _config$label.heading)\n    }),\n    headerBarEnd: /*#__PURE__*/React.createElement(CloseBtn, {\n      onClick: closeModal\n    }),\n    actionCancelOnSubmit: closeModal,\n    actionSaveLabel: t(config === null || config === void 0 ? void 0 : (_config$label2 = config.label) === null || _config$label2 === void 0 ? void 0 : _config$label2.submit),\n    actionSaveOnSubmit: function actionSaveOnSubmit() {},\n    formId: \"modal-action\",\n    isDisabled: !selectedReason\n  }, /*#__PURE__*/React.createElement(FormComposer, {\n    config: config === null || config === void 0 ? void 0 : config.form,\n    noBoxShadow: true,\n    inline: true,\n    disabled: true,\n    childrenAtTheBottom: true,\n    onSubmit: submit,\n    formId: \"modal-action\"\n  })) : /*#__PURE__*/React.createElement(Loader, null);\n};\nvar ActionModal = function ActionModal(props) {\n  return /*#__PURE__*/React.createElement(ReceiptCancelModal, props);\n};\nvar convertEpochToDate = function convertEpochToDate(dateEpoch) {\n  if (dateEpoch) {\n    var dateFromApi = new Date(dateEpoch);\n    var month = dateFromApi.getMonth() + 1;\n    var day = dateFromApi.getDate();\n    var year = dateFromApi.getFullYear();\n    month = (month > 9 ? \"\" : \"0\") + month;\n    day = (day > 9 ? \"\" : \"0\") + day;\n    return day + \"/\" + month + \"/\" + year;\n  } else {\n    return 'NA';\n  }\n};\nvar stringReplaceAll = function stringReplaceAll(str, searcher, replaceWith) {\n  if (str === void 0) {\n    str = \"\";\n  }\n  if (searcher === void 0) {\n    searcher = \"\";\n  }\n  if (replaceWith === void 0) {\n    replaceWith = \"\";\n  }\n  if (searcher == \"\") return str;\n  while (str.includes(searcher)) {\n    str = str.replace(searcher, replaceWith);\n  }\n  return str;\n};\nvar checkForNotNull = function checkForNotNull(value) {\n  if (value === void 0) {\n    value = \"\";\n  }\n  return value && value != null && value != undefined && value != \"\" ? true : false;\n};\nvar convertDotValues = function convertDotValues(value) {\n  if (value === void 0) {\n    value = \"\";\n  }\n  return checkForNotNull(value) && (value.replaceAll && value.replaceAll(\".\", \"_\") || value.replace && stringReplaceAll(value, \".\", \"_\")) || \"NA\";\n};\nvar convertToLocale = function convertToLocale(value, key) {\n  if (value === void 0) {\n    value = \"\";\n  }\n  if (key === void 0) {\n    key = \"\";\n  }\n  var convertedValue = convertDotValues(value);\n  if (convertedValue == \"NA\") {\n    return \"PT_NA\";\n  }\n  return key + \"_\" + convertedValue;\n};\nvar RECEIPTS_DEFAULT_SERVICE = \"PT\";\nvar getDefaultReceiptService = function getDefaultReceiptService() {\n  return RECEIPTS_DEFAULT_SERVICE;\n};\nvar getFinancialYears = function getFinancialYears(from, to) {\n  var fromDate = new Date(from);\n  var toDate = new Date(to);\n  if (toDate.getYear() - fromDate.getYear() != 0) {\n    return \"FY\" + (fromDate.getYear() + 1900) + \"-\" + (toDate.getYear() - 100);\n  }\n  return fromDate.toLocaleDateString() + \"-\" + toDate.toLocaleDateString();\n};\nvar _excluded$1 = [\"searchParams\", \"onFilterChange\", \"onSearch\", \"removeParam\"],\n  _excluded2 = [\"data\", \"isLoading\"];\nvar ReceiptsFilter = function ReceiptsFilter(_ref) {\n  var searchParams = _ref.searchParams,\n    onFilterChange = _ref.onFilterChange,\n    props = _objectWithoutPropertiesLoose(_ref, _excluded$1);\n  var tenantId = Digit.ULBService.getCurrentTenantId() || '';\n  var tenant = Digit.ULBService.getStateId();\n  var _useState = useState(function () {\n      return searchParams;\n    }),\n    _searchParams = _useState[0],\n    setSearchParams = _useState[1];\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var defaultService = getDefaultReceiptService();\n  var _useState2 = useState([]),\n    status = _useState2[0],\n    setStatus = _useState2[1];\n  var _useState3 = useState({\n      name: \"BILLINGSERVICE_BUSINESSSERVICE_\" + defaultService,\n      code: defaultService\n    }),\n    service = _useState3[0],\n    setService = _useState3[1];\n  var _Digit$Hooks$receipts = Digit.Hooks.receipts.useReceiptsMDMS(tenant, \"CancelReceiptReasonAndStatus\"),\n    data = _Digit$Hooks$receipts.data,\n    isLoading = _Digit$Hooks$receipts.isLoading,\n    rest = _objectWithoutPropertiesLoose(_Digit$Hooks$receipts, _excluded2);\n  var mdmsStatus = (data === null || data === void 0 ? void 0 : data.dropdownDataStatus) || [];\n  useEffect(function () {\n    if ((service === null || service === void 0 ? void 0 : service.code) != _searchParams.businessServices) {\n      setSearchParams({\n        businessServices: service === null || service === void 0 ? void 0 : service.code\n      });\n    }\n  }, [service]);\n  useEffect(function () {\n    if (status) {\n      setSearchParams({\n        status: status.join(',')\n      });\n    }\n  }, [status]);\n  var onCheckBoxClick = function onCheckBoxClick(value) {\n    if (status.includes(value)) {\n      status.splice(status.findIndex(function (x) {\n        return x == value;\n      }), 1);\n    } else {\n      status.push(value);\n    }\n    setStatus([].concat(status));\n  };\n  var clearAll = function clearAll() {\n    var _props$onClose;\n    onFilterChange({\n      delete: Object.keys(searchParams)\n    }, true);\n    setStatus([]);\n    setService({\n      name: \"BILLINGSERVICE_BUSINESSSERVICE_\" + defaultService,\n      code: defaultService\n    });\n    props === null || props === void 0 ? void 0 : (_props$onClose = props.onClose) === null || _props$onClose === void 0 ? void 0 : _props$onClose.call(props);\n  };\n  if (isLoading) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filter\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filter-card\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"heading\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filter-label\"\n  }, t(\"COMMON_TABLE_FILTERS\"), \":\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"clearAll\",\n    onClick: clearAll\n  }, t(\"CR_COMMON_CLEAR_ALL\")), props.type === \"desktop\" && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"clear-search\",\n    onClick: clearAll,\n    style: {\n      border: \"1px solid #e0e0e0\",\n      padding: \"6px\"\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    width: \"17\",\n    height: \"17\",\n    viewBox: \"0 0 16 22\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8 5V8L12 4L8 0V3C3.58 3 0 6.58 0 11C0 12.57 0.46 14.03 1.24 15.26L2.7 13.8C2.25 12.97 2 12.01 2 11C2 7.69 4.69 5 8 5ZM14.76 6.74L13.3 8.2C13.74 9.04 14 9.99 14 11C14 14.31 11.31 17 8 17V14L4 18L8 22V19C12.42 19 16 15.42 16 11C16 9.43 15.54 7.97 14.76 6.74Z\",\n    fill: \"#505A5F\"\n  }))), props.type === \"mobile\" && /*#__PURE__*/React.createElement(\"span\", {\n    onClick: props.onClose\n  }, /*#__PURE__*/React.createElement(CloseSvg, null))), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filter-label\"\n  }, t(\"CR_COMMON_TABLE_COL_STATUS\")), mdmsStatus.map(function (sta, index) {\n    return /*#__PURE__*/React.createElement(CheckBox, {\n      key: index + \"service\",\n      label: t(sta === null || sta === void 0 ? void 0 : sta.name),\n      value: sta === null || sta === void 0 ? void 0 : sta.code,\n      checked: status.includes(sta === null || sta === void 0 ? void 0 : sta.code),\n      onChange: function onChange(event) {\n        return onCheckBoxClick(event.target.value);\n      }\n    });\n  }), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filter-label\"\n  }, t(\"CR_SERVICE_CATEGORY_LABEL\")), /*#__PURE__*/React.createElement(Dropdown, {\n    t: t,\n    option: (data === null || data === void 0 ? void 0 : data.dropdownData) || null,\n    value: service,\n    selected: service,\n    select: setService,\n    optionKey: \"name\"\n  })), props.type !== \"mobile\" && /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(SubmitBar, {\n    onSubmit: function onSubmit() {\n      var _props$onClose2;\n      onFilterChange(_searchParams);\n      props === null || props === void 0 ? void 0 : (_props$onClose2 = props.onClose) === null || _props$onClose2 === void 0 ? void 0 : _props$onClose2.call(props);\n    },\n    label: t(\"ACTION_TEST_APPLY\")\n  })), props.type === \"mobile\" && /*#__PURE__*/React.createElement(ActionBar, null, /*#__PURE__*/React.createElement(ApplyFilterBar, {\n    submit: false,\n    labelLink: t(\"ES_COMMON_CLEAR_ALL\"),\n    buttonLink: t(\"ACTION_TEST_APPLY\"),\n    onSubmit: function onSubmit() {\n      var _props$onClose3;\n      onFilterChange(_searchParams);\n      props === null || props === void 0 ? void 0 : (_props$onClose3 = props.onClose) === null || _props$onClose3 === void 0 ? void 0 : _props$onClose3.call(props);\n    },\n    onClear: function onClear() {\n      var _props$onClose4;\n      clearAll();\n      props === null || props === void 0 ? void 0 : (_props$onClose4 = props.onClose) === null || _props$onClose4 === void 0 ? void 0 : _props$onClose4.call(props);\n    },\n    style: {\n      flex: 1\n    }\n  })))))));\n};\nvar EmployeeApp = function EmployeeApp(_ref) {\n  var path = _ref.path;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var location = useLocation();\n  var mobileView = innerWidth <= 640;\n  var tenantId = Digit.ULBService.getCurrentTenantId();\n  var inboxInitialState = {\n    searchParams: {\n      tenantId: tenantId,\n      businessServices: getDefaultReceiptService()\n    }\n  };\n  var ReceiptInbox = Digit.ComponentRegistryService.getComponent(\"ReceiptInbox\");\n  var ReceiptAcknowledgement = Digit.ComponentRegistryService.getComponent(\"ReceiptAcknowledgement\");\n  var ReceiptDetails = Digit.ComponentRegistryService.getComponent(\"ReceiptDetails\");\n  return /*#__PURE__*/React.createElement(Switch, null, /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ground-container\"\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"breadcrumb\",\n    style: {\n      marginLeft: mobileView ? \"2vw\" : \"revert\"\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/digit-ui/employee\",\n    style: {\n      cursor: \"pointer\",\n      color: \"#666\"\n    }\n  }, t(\"ES_COMMON_HOME\")), \" \", \"/ \", /*#__PURE__*/React.createElement(\"span\", null, location.pathname === \"/digit-ui/employee/receipts/inbox\" ? t(\"CR_COMMON_HEADER\") : t(\"CR_COMMON_HEADER\"))), /*#__PURE__*/React.createElement(PrivateRoute, {\n    path: path + \"/inbox\",\n    component: function component() {\n      return /*#__PURE__*/React.createElement(ReceiptInbox, {\n        parentRoute: path,\n        businessService: \"receipts\",\n        filterComponent: \"RECEIPTS_INBOX_FILTER\",\n        initialStates: inboxInitialState,\n        isInbox: true\n      });\n    }\n  }), /*#__PURE__*/React.createElement(PrivateRoute, {\n    path: path + \"/inprogress\",\n    component: function component(props) {\n      return /*#__PURE__*/React.createElement(\"h2\", null, t(\"CR_RECEIPTS_SCREENS_UNDER_CONSTRUCTION\"));\n    }\n  }), /*#__PURE__*/React.createElement(PrivateRoute, {\n    path: path + \"/response\",\n    component: function component(props) {\n      return /*#__PURE__*/React.createElement(ReceiptAcknowledgement, _extends({}, props, {\n        parentRoute: path\n      }));\n    }\n  }), /*#__PURE__*/React.createElement(PrivateRoute, {\n    path: path + \"/details/:service/:id\",\n    component: function component() {\n      return /*#__PURE__*/React.createElement(ReceiptDetails, null);\n    }\n  }))));\n};\nvar printReciept = function printReciept(businessService, consumerCode) {\n  try {\n    return Promise.resolve(Digit.Utils.downloadReceipt(consumerCode, businessService, 'consolidatedreceipt')).then(function () {});\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\nvar GetMessage = function GetMessage(type, action, isSuccess, isEmployee, t) {\n  return t(\"CR_APPLY_\" + (isSuccess ? \"SUCCESS\" : \"FAILURE\") + \"_MESSAGE_MAIN\");\n};\nvar GetActionMessage = function GetActionMessage(action, isSuccess, isEmployee, t) {\n  return GetMessage(\"ACTION\", action, isSuccess, isEmployee, t);\n};\nvar BannerPicker = function BannerPicker(props) {\n  var _props$data, _props$data$Payments, _props$data$Payments$;\n  return /*#__PURE__*/React.createElement(Banner$1, {\n    message: GetActionMessage(props.action, props.isSuccess, props.isEmployee, props.t),\n    applicationNumber: props === null || props === void 0 ? void 0 : (_props$data = props.data) === null || _props$data === void 0 ? void 0 : (_props$data$Payments = _props$data.Payments) === null || _props$data$Payments === void 0 ? void 0 : (_props$data$Payments$ = _props$data$Payments[0]) === null || _props$data$Payments$ === void 0 ? void 0 : _props$data$Payments$.paymentDetails[0].receiptNumber,\n    info: props.isSuccess ? props.t(\"CR_RECEIPT_NUMBER\") : \"\",\n    successful: props.isSuccess\n  });\n};\nvar ReceiptAcknowledgement = function ReceiptAcknowledgement(props) {\n  var _mutation$data, _successData$Payments;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var tenantId = Digit.ULBService.getCurrentTenantId();\n  var state = props.location.state;\n  var mutation = Digit.Hooks.receipts.useReceiptsUpdate(tenantId, state === null || state === void 0 ? void 0 : state.businessService);\n  var _Digit$Hooks$useSessi = Digit.Hooks.useSessionStorage(\"EMPLOYEE_RECEIPT_MUTATION_HAPPENED\", false),\n    mutationHappened = _Digit$Hooks$useSessi[0],\n    setMutationHappened = _Digit$Hooks$useSessi[1];\n  var _Digit$Hooks$useSessi2 = Digit.Hooks.useSessionStorage(\"EMPLOYEE_RECEIPT_ERROR_DATA\", false),\n    errorInfo = _Digit$Hooks$useSessi2[0],\n    setErrorInfo = _Digit$Hooks$useSessi2[1];\n  var _Digit$Hooks$useSessi3 = Digit.Hooks.useSessionStorage(\"EMPLOYEE_RECEIPT_MUTATION_SUCCESS_DATA\", false),\n    successData = _Digit$Hooks$useSessi3[0],\n    setsuccessData = _Digit$Hooks$useSessi3[1];\n  useEffect(function () {\n    if (mutation.data) setsuccessData(mutation.data);\n  }, [mutation.data]);\n  var onError = function onError(error, variables) {\n    var _error$response, _error$response$data, _error$response$data$;\n    setErrorInfo((error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : (_error$response$data$ = _error$response$data.Errors[0]) === null || _error$response$data$ === void 0 ? void 0 : _error$response$data$.code) || 'ERROR');\n    setMutationHappened(true);\n  };\n  useEffect(function () {\n    var onSuccess = function onSuccess() {\n      setMutationHappened(true);\n    };\n    if (state.key === \"UPDATE\" && !mutationHappened && !errorInfo) {\n      mutation.mutate({\n        paymentWorkflows: [state.paymentWorkflow]\n      }, {\n        onError: onError,\n        onSuccess: onSuccess\n      });\n    }\n  }, []);\n  var DisplayText = function DisplayText(action, isSuccess, isEmployee, t) {\n    if (!isSuccess) {\n      var _mutation$error, _mutation$error$respo, _mutation$error$respo2;\n      return (mutation === null || mutation === void 0 ? void 0 : (_mutation$error = mutation.error) === null || _mutation$error === void 0 ? void 0 : (_mutation$error$respo = _mutation$error.response) === null || _mutation$error$respo === void 0 ? void 0 : (_mutation$error$respo2 = _mutation$error$respo.data) === null || _mutation$error$respo2 === void 0 ? void 0 : _mutation$error$respo2.Errors[0].code) || errorInfo;\n    } else {\n      Digit.SessionStorage.set(\"isupdate\", Math.floor(100000 + Math.random() * 900000));\n      return t('CR_APPLY_FORWARD_SUCCESS');\n    }\n  };\n  if (mutation.isLoading || mutation.isIdle && !mutationHappened) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n  var Payment = (mutation === null || mutation === void 0 ? void 0 : (_mutation$data = mutation.data) === null || _mutation$data === void 0 ? void 0 : _mutation$data.Payments[0]) || (successData === null || successData === void 0 ? void 0 : (_successData$Payments = successData.Payments) === null || _successData$Payments === void 0 ? void 0 : _successData$Payments[0]);\n  var isSuccess = !successData ? mutation === null || mutation === void 0 ? void 0 : mutation.isSuccess : true;\n  return /*#__PURE__*/React.createElement(Card, null, /*#__PURE__*/React.createElement(BannerPicker, {\n    t: t,\n    data: (mutation === null || mutation === void 0 ? void 0 : mutation.data) || successData,\n    action: state.action,\n    isSuccess: isSuccess,\n    isLoading: mutation.isIdle && !mutationHappened || (mutation === null || mutation === void 0 ? void 0 : mutation.isLoading),\n    isEmployee: props.parentRoute.includes(\"employee\")\n  }), /*#__PURE__*/React.createElement(CardText, null, t(DisplayText(state.action, isSuccess, props.parentRoute.includes(\"employee\"), t), t)), isSuccess && /*#__PURE__*/React.createElement(CardText, null, /*#__PURE__*/React.createElement(LinkButton, {\n    label: /*#__PURE__*/React.createElement(\"div\", {\n      className: \"response-download-button\"\n    }, /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(\"svg\", {\n      width: \"20\",\n      height: \"18\",\n      viewBox: \"0 0 20 18\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\"\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      d: \"M17 5H3C1.34 5 0 6.34 0 8V14H4V18H16V14H20V8C20 6.34 18.66 5 17 5ZM14 16H6V11H14V16ZM17 9C16.45 9 16 8.55 16 8C16 7.45 16.45 7 17 7C17.55 7 18 7.45 18 8C18 8.55 17.55 9 17 9ZM16 0H4V4H16V0Z\",\n      fill: \"#F47738\"\n    }))), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"download-button\"\n    }, t(\"COMMON_TABLE_PRINT\"))),\n    style: {\n      width: \"100px\"\n    },\n    onClick: function onClick() {\n      var _Payment$paymentDetai, _Payment$paymentDetai2, _Payment$paymentDetai3;\n      printReciept(Payment === null || Payment === void 0 ? void 0 : (_Payment$paymentDetai = Payment.paymentDetails[0]) === null || _Payment$paymentDetai === void 0 ? void 0 : _Payment$paymentDetai.businessService, Payment === null || Payment === void 0 ? void 0 : (_Payment$paymentDetai2 = Payment.paymentDetails[0]) === null || _Payment$paymentDetai2 === void 0 ? void 0 : (_Payment$paymentDetai3 = _Payment$paymentDetai2.bill) === null || _Payment$paymentDetai3 === void 0 ? void 0 : _Payment$paymentDetai3.consumerCode);\n    }\n  })), /*#__PURE__*/React.createElement(ActionBar, null, /*#__PURE__*/React.createElement(Link, {\n    to: \"\" + (props.parentRoute.includes(\"employee\") ? \"/digit-ui/employee\" : \"/digit-ui/citizen\")\n  }, /*#__PURE__*/React.createElement(SubmitBar, {\n    label: t(\"CORE_COMMON_GO_TO_HOME\")\n  }))));\n};\nvar _excluded$2 = [\"isLoading\", \"isError\", \"error\", \"data\"];\nvar canCancelReceipt = function canCancelReceipt(Receipt) {\n  var _Receipt, _Receipt2, _Receipt3, _Receipt4;\n  if (Receipt === void 0) {\n    Receipt = {};\n  }\n  return ((_Receipt = Receipt) === null || _Receipt === void 0 ? void 0 : _Receipt.paymentStatus) !== \"CANCELLED\" && ((_Receipt2 = Receipt) === null || _Receipt2 === void 0 ? void 0 : _Receipt2.paymentStatus) !== \"DEPOSITED\" && (((_Receipt3 = Receipt) === null || _Receipt3 === void 0 ? void 0 : _Receipt3.instrumentStatus) == \"APPROVED\" || ((_Receipt4 = Receipt) === null || _Receipt4 === void 0 ? void 0 : _Receipt4.instrumentStatus) == \"REMITTED\");\n};\nvar ReceiptDetails = function ReceiptDetails() {\n  var _data$Payments, _data$Payments2, _PaymentReceipt$payme, _PaymentReceipt$payme2, _PaymentReceipt$payme3, _PaymentReceipt$payme4, _PaymentReceipt$payme5, _PaymentReceipt$payme6, _PaymentReceipt$payme7, _PaymentReceipt$payme8, _PaymentReceipt$payme9, _PaymentReceipt$payme10, _PaymentReceipt$payme11, _PaymentReceipt$payme12, _PaymentReceipt$payme13;\n  var _useState = useState(false),\n    showModal = _useState[0],\n    setShowModal = _useState[1];\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var _useParams = useParams(),\n    receiptId = _useParams.id,\n    businessService = _useParams.service;\n  var tenantId = Digit.ULBService.getCurrentTenantId();\n  var isupdate = Digit.SessionStorage.get(\"isupdate\");\n  var _Digit$Hooks$receipts = Digit.Hooks.receipts.useReceiptsSearch({\n      receiptNumbers: decodeURIComponent(receiptId),\n      businessServices: businessService\n    }, tenantId, {}, isupdate),\n    isLoading = _Digit$Hooks$receipts.isLoading,\n    data = _Digit$Hooks$receipts.data,\n    rest = _objectWithoutPropertiesLoose(_Digit$Hooks$receipts, _excluded$2);\n  var cancelReceipt = function cancelReceipt() {\n    setShowModal(true);\n  };\n  var closeModal = function closeModal() {\n    setShowModal(false);\n  };\n  var submitAction = function submitAction(data) {};\n  useEffect(function () {\n    return function () {\n      rest === null || rest === void 0 ? void 0 : rest.revalidate();\n    };\n  }, []);\n  var _Digit$Hooks$useSessi = Digit.Hooks.useSessionStorage(\"EMPLOYEE_RECEIPT_MUTATION_HAPPENED\", false),\n    setMutationHappened = _Digit$Hooks$useSessi[1];\n  var _Digit$Hooks$useSessi2 = Digit.Hooks.useSessionStorage(\"EMPLOYEE_RECEIPT_MUTATION_SUCCESS_DATA\", false),\n    clearSuccessData = _Digit$Hooks$useSessi2[2];\n  var _Digit$Hooks$useSessi3 = Digit.Hooks.useSessionStorage(\"EMPLOYEE_RECEIPT_ERROR_DATA\", false),\n    clearError = _Digit$Hooks$useSessi3[2];\n  useEffect(function () {\n    setMutationHappened(false);\n    clearSuccessData();\n    clearError();\n  }, []);\n  if (isLoading) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n  var PaymentReceipt = !isLoading && (data === null || data === void 0 ? void 0 : (_data$Payments = data.Payments) === null || _data$Payments === void 0 ? void 0 : _data$Payments.length) > 0 ? data.Payments[0] : {};\n  var pendingDue = (PaymentReceipt === null || PaymentReceipt === void 0 ? void 0 : PaymentReceipt.totalDue) - (PaymentReceipt === null || PaymentReceipt === void 0 ? void 0 : PaymentReceipt.totalAmountPaid);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"30%\",\n      fontFamily: \"calibri\",\n      color: \"#FF0000\"\n    }\n  }, /*#__PURE__*/React.createElement(Header, null, t(\"CR_RECEIPT_SUMMARY\"))), !isLoading && (data === null || data === void 0 ? void 0 : (_data$Payments2 = data.Payments) === null || _data$Payments2 === void 0 ? void 0 : _data$Payments2.length) > 0 ? /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Card, null, /*#__PURE__*/React.createElement(StatusTable, null, /*#__PURE__*/React.createElement(Row, {\n    label: t(\"CR_RECEIPT_NUMBER\"),\n    text: (PaymentReceipt === null || PaymentReceipt === void 0 ? void 0 : (_PaymentReceipt$payme = PaymentReceipt.paymentDetails[0]) === null || _PaymentReceipt$payme === void 0 ? void 0 : _PaymentReceipt$payme.receiptNumber) || \"NA\",\n    textStyle: {\n      whiteSpace: \"pre\"\n    }\n  }), /*#__PURE__*/React.createElement(Row, {\n    label: t(\"CR_RECEIPT_CONSUMER_NUMBER\"),\n    text: (PaymentReceipt === null || PaymentReceipt === void 0 ? void 0 : (_PaymentReceipt$payme2 = PaymentReceipt.paymentDetails[0]) === null || _PaymentReceipt$payme2 === void 0 ? void 0 : (_PaymentReceipt$payme3 = _PaymentReceipt$payme2.bill) === null || _PaymentReceipt$payme3 === void 0 ? void 0 : _PaymentReceipt$payme3.consumerCode) || \"NA\",\n    textStyle: {\n      whiteSpace: \"pre\"\n    }\n  }), /*#__PURE__*/React.createElement(Row, {\n    label: t(\"CR_RECEIPT_PAYMENT_DATE\"),\n    text: convertEpochToDate(PaymentReceipt === null || PaymentReceipt === void 0 ? void 0 : (_PaymentReceipt$payme4 = PaymentReceipt.paymentDetails[0]) === null || _PaymentReceipt$payme4 === void 0 ? void 0 : _PaymentReceipt$payme4.receiptDate) || \"NA\"\n  }), /*#__PURE__*/React.createElement(Row, {\n    label: t(\"CR_RECEIPT_PAYER_NAME\"),\n    text: (PaymentReceipt === null || PaymentReceipt === void 0 ? void 0 : PaymentReceipt.payerName) || \"NA\"\n  }), /*#__PURE__*/React.createElement(Row, {\n    label: t(\"CR_RECEIPT_PAYER_NUMBER\"),\n    text: (PaymentReceipt === null || PaymentReceipt === void 0 ? void 0 : PaymentReceipt.mobileNumber) || \"NA\"\n  }), /*#__PURE__*/React.createElement(Row, {\n    label: t(\"CR_RECEIPT_SERVICE_TYPE\"),\n    text: t(convertToLocale(PaymentReceipt === null || PaymentReceipt === void 0 ? void 0 : (_PaymentReceipt$payme5 = PaymentReceipt.paymentDetails[0]) === null || _PaymentReceipt$payme5 === void 0 ? void 0 : _PaymentReceipt$payme5.businessService, 'BILLINGSERVICE_BUSINESSSERVICE')) || \"NA\"\n  }), /*#__PURE__*/React.createElement(Row, {\n    label: t(\"CR_RECEIPT_BILL_PERIOD\"),\n    text: getFinancialYears(PaymentReceipt === null || PaymentReceipt === void 0 ? void 0 : (_PaymentReceipt$payme6 = PaymentReceipt.paymentDetails[0]) === null || _PaymentReceipt$payme6 === void 0 ? void 0 : (_PaymentReceipt$payme7 = _PaymentReceipt$payme6.bill) === null || _PaymentReceipt$payme7 === void 0 ? void 0 : (_PaymentReceipt$payme8 = _PaymentReceipt$payme7.billDetails[0]) === null || _PaymentReceipt$payme8 === void 0 ? void 0 : _PaymentReceipt$payme8.fromPeriod, PaymentReceipt === null || PaymentReceipt === void 0 ? void 0 : (_PaymentReceipt$payme9 = PaymentReceipt.paymentDetails[0]) === null || _PaymentReceipt$payme9 === void 0 ? void 0 : (_PaymentReceipt$payme10 = _PaymentReceipt$payme9.bill) === null || _PaymentReceipt$payme10 === void 0 ? void 0 : (_PaymentReceipt$payme11 = _PaymentReceipt$payme10.billDetails[0]) === null || _PaymentReceipt$payme11 === void 0 ? void 0 : _PaymentReceipt$payme11.toPeriod) || \"NA\"\n  }), /*#__PURE__*/React.createElement(Row, {\n    label: t(\"CR_RECEIPT_AMOUNT\"),\n    text: '₹' + (PaymentReceipt === null || PaymentReceipt === void 0 ? void 0 : PaymentReceipt.totalAmountPaid) || \"NA\"\n  }), /*#__PURE__*/React.createElement(Row, {\n    label: t(\"CR_RECEIPT_PENDING_AMOUNT\"),\n    text: '₹' + pendingDue || \"₹0\"\n  }), /*#__PURE__*/React.createElement(Row, {\n    label: t(\"CR_RECEIPT_PAYMENT_MODE\"),\n    text: PaymentReceipt !== null && PaymentReceipt !== void 0 && PaymentReceipt.paymentMode ? t(\"COMMON_MASTERS_PAYMENTMODE_\" + (PaymentReceipt === null || PaymentReceipt === void 0 ? void 0 : PaymentReceipt.paymentMode)) || \"NA\" : \"NA\"\n  }), /*#__PURE__*/React.createElement(Row, {\n    label: t(\"CR_RECEIPT_TXN_ID\"),\n    text: (PaymentReceipt === null || PaymentReceipt === void 0 ? void 0 : PaymentReceipt.transactionNumber) || \"NA\"\n  }), /*#__PURE__*/React.createElement(Row, {\n    label: t(\"CR_RECEIPT_G8_RECEIPT_NO\"),\n    text: (PaymentReceipt === null || PaymentReceipt === void 0 ? void 0 : (_PaymentReceipt$payme12 = PaymentReceipt.paymentDetails[0]) === null || _PaymentReceipt$payme12 === void 0 ? void 0 : _PaymentReceipt$payme12.manualReceiptNumber) || \"NA\"\n  }), /*#__PURE__*/React.createElement(Row, {\n    label: t(\"CR_RECEIPT_G8_RECEIPT_DATE\"),\n    text: convertEpochToDate(PaymentReceipt === null || PaymentReceipt === void 0 ? void 0 : (_PaymentReceipt$payme13 = PaymentReceipt.paymentDetails[0]) === null || _PaymentReceipt$payme13 === void 0 ? void 0 : _PaymentReceipt$payme13.manualReceiptDate) || \"NA\"\n  })))) : null, showModal ? /*#__PURE__*/React.createElement(ActionModal, {\n    t: t,\n    tenantId: tenantId,\n    applicationData: data,\n    closeModal: closeModal,\n    submitAction: submitAction\n  }) : null, /*#__PURE__*/React.createElement(ActionBar, null, canCancelReceipt(PaymentReceipt) && /*#__PURE__*/React.createElement(SubmitBar, {\n    label: t(\"CR_CANCEL_RECEIPT_BUTTON\"),\n    onSubmit: function onSubmit() {\n      return cancelReceipt();\n    }\n  })));\n};\nvar InboxLinks = function InboxLinks(_ref) {\n  var businessService = _ref.businessService,\n    allLinks = _ref.allLinks,\n    headerText = _ref.headerText;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var _useState = useState([]),\n    links = _useState[0],\n    setLinks = _useState[1];\n  var userRoles = Digit.UserService.getUser().info.roles;\n  useEffect(function () {\n    var linksToShow = allLinks.filter(function (e) {\n      return e.businessService === businessService;\n    }).filter(function (_ref2) {\n      var roles = _ref2.roles;\n      return roles.some(function (e) {\n        return userRoles.map(function (_ref3) {\n          var code = _ref3.code;\n          return code;\n        }).includes(e);\n      }) || !roles.length;\n    });\n    setLinks(linksToShow);\n  }, []);\n  var GetLogo = function GetLogo() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header\"\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"logo\"\n    }, /*#__PURE__*/React.createElement(AnnouncementIcon, null)), \" \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text\"\n    }, t(headerText)));\n  };\n  return /*#__PURE__*/React.createElement(Card, {\n    className: \"employeeCard filter inboxLinks\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"complaint-links-container\"\n  }, GetLogo(), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"body\"\n  }, links.map(function (_ref4, index) {\n    var link = _ref4.link,\n      text = _ref4.text,\n      _ref4$hyperlink = _ref4.hyperlink,\n      hyperlink = _ref4$hyperlink === void 0 ? false : _ref4$hyperlink;\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: \"link\",\n      key: index\n    }, hyperlink ? /*#__PURE__*/React.createElement(\"a\", {\n      href: link\n    }, t(text)) : /*#__PURE__*/React.createElement(Link, {\n      to: link\n    }, t(text)));\n  }))));\n};\nvar ApplicationTable = function ApplicationTable(_ref) {\n  var t = _ref.t,\n    columns = _ref.columns,\n    data = _ref.data,\n    getCellProps = _ref.getCellProps,\n    onNextPage = _ref.onNextPage,\n    onPrevPage = _ref.onPrevPage,\n    currentPage = _ref.currentPage,\n    totalRecords = _ref.totalRecords,\n    pageSizeLimit = _ref.pageSizeLimit,\n    onPageSizeChange = _ref.onPageSizeChange,\n    onLastPage = _ref.onLastPage,\n    onFirstPage = _ref.onFirstPage;\n  return /*#__PURE__*/React.createElement(Table, {\n    t: t,\n    data: data,\n    manualPagination: true,\n    columns: columns,\n    getCellProps: getCellProps,\n    onNextPage: onNextPage,\n    onPrevPage: onPrevPage,\n    currentPage: currentPage,\n    totalRecords: totalRecords,\n    onLastPage: onLastPage,\n    onFirstPage: onFirstPage,\n    onPageSizeChange: onPageSizeChange,\n    pageSizeLimit: pageSizeLimit\n  });\n};\nvar _excluded$3 = [\"pattern\", \"name\", \"maxLength\", \"minLength\", \"errorMessages\"];\nvar fieldComponents = {\n  date: DatePicker,\n  mobileNumber: MobileNumber\n};\nvar SearchApplication = function SearchApplication(_ref) {\n  var _searchFields$filter, _ref3;\n  var onSearch = _ref.onSearch,\n    type = _ref.type,\n    onClose = _ref.onClose,\n    searchFields = _ref.searchFields,\n    searchParams = _ref.searchParams,\n    isInboxPage = _ref.isInboxPage;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var _useForm = useForm({\n      defaultValues: searchParams\n    }),\n    register = _useForm.register,\n    handleSubmit = _useForm.handleSubmit,\n    reset = _useForm.reset,\n    watch = _useForm.watch,\n    control = _useForm.control,\n    setError = _useForm.setError,\n    clearErrors = _useForm.clearErrors,\n    formState = _useForm.formState;\n  var form = watch();\n  var mobileView = innerWidth <= 640;\n  useEffect(function () {\n    searchFields.forEach(function (_ref2) {\n      var pattern = _ref2.pattern,\n        name = _ref2.name,\n        maxLength = _ref2.maxLength,\n        minLength = _ref2.minLength,\n        errorMessages = _ref2.errorMessages,\n        el = _objectWithoutPropertiesLoose(_ref2, _excluded$3);\n      var value = form[name];\n      var error = formState.errors[name];\n      if (pattern) {\n        if (!new RegExp(pattern).test(value) && !error) setError(name, {\n          type: \"pattern\",\n          message: t(errorMessages === null || errorMessages === void 0 ? void 0 : errorMessages.pattern) || t(\"PATTERN_\" + name.toUpperCase() + \"_FAILED\")\n        });else if (new RegExp(pattern).test(value) && (error === null || error === void 0 ? void 0 : error.type) === \"pattern\") clearErrors([name]);\n      }\n      if (minLength) {\n        if ((value === null || value === void 0 ? void 0 : value.length) < minLength && !error) setError(name, {\n          type: \"minLength\",\n          message: t((errorMessages === null || errorMessages === void 0 ? void 0 : errorMessages.minLength) || \"MINLENGTH_\" + name.toUpperCase() + \"_FAILED\")\n        });else if ((value === null || value === void 0 ? void 0 : value.length) >= minLength && (error === null || error === void 0 ? void 0 : error.type) === \"minLength\") clearErrors([name]);\n      }\n      if (maxLength) {\n        if ((value === null || value === void 0 ? void 0 : value.length) > maxLength && !error) setError(name, {\n          type: \"maxLength\",\n          message: t((errorMessages === null || errorMessages === void 0 ? void 0 : errorMessages.maxLength) || \"MAXLENGTH_\" + name.toUpperCase() + \"_FAILED\")\n        });else if ((value === null || value === void 0 ? void 0 : value.length) <= maxLength && (error === null || error === void 0 ? void 0 : error.type) === \"maxLength\") clearErrors([name]);\n      }\n    });\n  }, [form, formState, setError, clearErrors]);\n  var onSubmitInput = function onSubmitInput(data) {\n    {\n      if (!data.mobileNumber) {\n        delete data.mobileNumber;\n      }\n      data.delete = [];\n      searchFields.forEach(function (field) {\n        if (!data[field.name]) data.delete.push(field.name);\n      });\n      onSearch(data);\n      if (type === \"mobile\") {\n        onClose();\n      }\n    }\n  };\n  function clearSearch() {\n    var resetValues = searchFields.reduce(function (acc, field) {\n      var _extends2;\n      return _extends({}, acc, (_extends2 = {}, _extends2[field === null || field === void 0 ? void 0 : field.name] = \"\", _extends2));\n    }, {});\n    reset(resetValues);\n    var _newParams = _extends({}, searchParams);\n    _newParams.delete = [];\n    searchFields.forEach(function (e) {\n      _newParams.delete.push(e === null || e === void 0 ? void 0 : e.name);\n    });\n    onSearch(_extends({}, _newParams), true);\n    if (type === \"mobile\") {\n      onClose();\n    }\n  }\n  var clearAll = function clearAll(mobileView) {\n    var mobileViewStyles = mobileView ? {\n      margin: 0\n    } : {};\n    return /*#__PURE__*/React.createElement(LinkLabel, {\n      style: _extends({\n        display: \"inline\"\n      }, mobileViewStyles),\n      onClick: clearSearch\n    }, t(\"CR_RESET_BUTTON\"));\n  };\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit(onSubmitInput)\n  }, /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-container\",\n    style: {\n      width: \"auto\",\n      marginLeft: isInboxPage ? \"24px\" : \"revert\"\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-complaint-container\"\n  }, (type === \"mobile\" || mobileView) && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"complaint-header\",\n    style: {\n      display: 'flex',\n      justifyContent: \"space-between\"\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", null, t(\"ES_COMMON_SEARCH_BY\")), /*#__PURE__*/React.createElement(\"span\", {\n    onClick: onClose\n  }, /*#__PURE__*/React.createElement(CloseSvg, null))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"complaint-input-container\",\n    style: {\n      width: \"100%\"\n    }\n  }, searchFields === null || searchFields === void 0 ? void 0 : (_searchFields$filter = searchFields.filter(function (e) {\n    return true;\n  })) === null || _searchFields$filter === void 0 ? void 0 : _searchFields$filter.map(function (input, index) {\n    var _formState$dirtyField, _formState$errors, _formState$errors$inp;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: input.name,\n      className: \"input-fields\"\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"mobile-input\"\n    }, /*#__PURE__*/React.createElement(Label, null, t(input.label)), !input.type ? /*#__PURE__*/React.createElement(Controller, {\n      render: function render(props) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"field-container\"\n        }, input !== null && input !== void 0 && input.componentInFront ? /*#__PURE__*/React.createElement(\"span\", {\n          className: \"employee-card-input employee-card-input--front\",\n          style: {\n            flex: \"none\"\n          }\n        }, input === null || input === void 0 ? void 0 : input.componentInFront) : null, /*#__PURE__*/React.createElement(TextInput, _extends({}, input, {\n          inputRef: register,\n          watch: watch,\n          shouldUpdate: true\n        })));\n      },\n      name: input.name,\n      control: control,\n      defaultValue: \"\"\n    }) : /*#__PURE__*/React.createElement(Controller, {\n      render: function render(props) {\n        var Comp = fieldComponents === null || fieldComponents === void 0 ? void 0 : fieldComponents[input.type];\n        return /*#__PURE__*/React.createElement(Comp, {\n          onChange: props.onChange,\n          value: props.value\n        });\n      },\n      name: input.name,\n      control: control,\n      defaultValue: \"\"\n    })), formState !== null && formState !== void 0 && (_formState$dirtyField = formState.dirtyFields) !== null && _formState$dirtyField !== void 0 && _formState$dirtyField[input.name] ? /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        fontWeight: \"700\",\n        color: \"rgba(212, 53, 28)\",\n        paddingLeft: \"8px\",\n        marginTop: \"-20px\",\n        fontSize: \"12px\"\n      },\n      className: \"inbox-search-form-error\"\n    }, formState === null || formState === void 0 ? void 0 : (_formState$errors = formState.errors) === null || _formState$errors === void 0 ? void 0 : (_formState$errors$inp = _formState$errors[input.name]) === null || _formState$errors$inp === void 0 ? void 0 : _formState$errors$inp.message) : null);\n  }), type === \"desktop\" && !mobileView && !isInboxPage && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-action-wrapper\"\n  }, /*#__PURE__*/React.createElement(SubmitBar, {\n    className: \"submit-bar-search\",\n    label: t(\"CR_SEARCH_BUTTON\"),\n    submit: true\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: (_ref3 = {\n      width: \"100%\",\n      textAlign: \"right\"\n    }, _ref3[\"width\"] = \"240px\", _ref3[\"textAlign\"] = \"right\", _ref3.marginLeft = \"96px\", _ref3.marginTop = \"8px\", _ref3)\n  }, clearAll()))), isInboxPage && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"inbox-action-container\"\n  }, type === \"desktop\" && !mobileView && /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      paddingTop: \"9px\"\n    },\n    className: \"clear-search\"\n  }, clearAll()), type === \"desktop\" && !mobileView && /*#__PURE__*/React.createElement(SubmitBar, {\n    style: {\n      marginTop: \"unset\"\n    },\n    className: \"submit-bar-search\",\n    label: t(\"CR_SEARCH_BUTTON\"),\n    submit: true\n  })))), (type === \"mobile\" || mobileView) && /*#__PURE__*/React.createElement(ActionBar, {\n    className: \"clear-search-container\"\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"clear-search\",\n    style: {\n      flex: 1\n    }\n  }, clearAll(mobileView)), /*#__PURE__*/React.createElement(SubmitBar, {\n    label: t(\"CR_SEARCH_BUTTON\"),\n    style: {\n      flex: 1\n    },\n    submit: true\n  }))));\n};\nvar _excluded$4 = [\"tableConfig\", \"filterComponent\"];\nvar ReceiptsDesktopInbox = function ReceiptsDesktopInbox(_ref) {\n  var _props$data;\n  var filterComponent = _ref.filterComponent,\n    props = _objectWithoutPropertiesLoose(_ref, _excluded$4);\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var tenantIds = Digit.SessionStorage.get(\"HRMS_TENANTS\");\n  var GetCell = function GetCell(value) {\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: \"cell-text\"\n    }, t(value));\n  };\n  var GetDateCell = function GetDateCell(value) {\n    var date = new Date(value);\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: \"cell-text\"\n    }, date === null || date === void 0 ? void 0 : date.toLocaleDateString());\n  };\n  var GetSlaCell = function GetSlaCell(value, t, prefix) {\n    if (prefix === void 0) {\n      prefix = '';\n    }\n    return value == \"CANCELLED\" ? /*#__PURE__*/React.createElement(\"span\", {\n      className: \"sla-cell-error\"\n    }, t(\"\" + prefix + value) || \"\") : /*#__PURE__*/React.createElement(\"span\", {\n      className: \"sla-cell-success\"\n    }, t(\"\" + prefix + value) || \"\");\n  };\n  var data = props === null || props === void 0 ? void 0 : (_props$data = props.data) === null || _props$data === void 0 ? void 0 : _props$data.Payments;\n  var _useState = useState(function () {\n      var _Digit$ComponentRegis;\n      return (_Digit$ComponentRegis = Digit.ComponentRegistryService) === null || _Digit$ComponentRegis === void 0 ? void 0 : _Digit$ComponentRegis.getComponent(filterComponent);\n    }),\n    FilterComponent = _useState[0];\n  var columns = React.useMemo(function () {\n    return [{\n      Header: t(\"CR_COMMON_TABLE_COL_RECEIPT_NO\"),\n      disableSortBy: true,\n      Cell: function Cell(_ref2) {\n        var _row$original, _row$original$payment, _row$original2, _row$original2$paymen, _row$original3, _row$original3$paymen;\n        var row = _ref2.row;\n        return /*#__PURE__*/React.createElement(\"span\", {\n          className: \"link\"\n        }, /*#__PURE__*/React.createElement(Link, {\n          to: \"/digit-ui/employee/receipts/details/\" + ((_row$original = row.original) === null || _row$original === void 0 ? void 0 : (_row$original$payment = _row$original.paymentDetails[0]) === null || _row$original$payment === void 0 ? void 0 : _row$original$payment.businessService) + \"/\" + encodeURIComponent((_row$original2 = row.original) === null || _row$original2 === void 0 ? void 0 : (_row$original2$paymen = _row$original2.paymentDetails[0]) === null || _row$original2$paymen === void 0 ? void 0 : _row$original2$paymen.receiptNumber)\n        }, (_row$original3 = row.original) === null || _row$original3 === void 0 ? void 0 : (_row$original3$paymen = _row$original3.paymentDetails[0]) === null || _row$original3$paymen === void 0 ? void 0 : _row$original3$paymen.receiptNumber));\n      }\n    }, {\n      Header: t(\"CR_COMMON_TABLE_COL_DATE\"),\n      disableSortBy: true,\n      Cell: function Cell(_ref3) {\n        var _row$original4;\n        var row = _ref3.row;\n        return GetDateCell((_row$original4 = row.original) === null || _row$original4 === void 0 ? void 0 : _row$original4.transactionDate);\n      }\n    }, {\n      Header: t(\"CR_COMMON_TABLE_CONSUMERCODE\"),\n      disableSortBy: true,\n      Cell: function Cell(_ref4) {\n        var _row$original5, _row$original5$paymen, _row$original5$paymen2;\n        var row = _ref4.row;\n        return GetCell(\"\" + ((_row$original5 = row.original) === null || _row$original5 === void 0 ? void 0 : (_row$original5$paymen = _row$original5.paymentDetails[0]) === null || _row$original5$paymen === void 0 ? void 0 : (_row$original5$paymen2 = _row$original5$paymen.bill) === null || _row$original5$paymen2 === void 0 ? void 0 : _row$original5$paymen2.consumerCode));\n      }\n    }, {\n      Header: t(\"CR_COMMON_TABLE_COL_PAYEE_NAME\"),\n      disableSortBy: true,\n      Cell: function Cell(_ref5) {\n        var _row$original6;\n        var row = _ref5.row;\n        return GetCell(\"\" + ((_row$original6 = row.original) === null || _row$original6 === void 0 ? void 0 : _row$original6.payerName));\n      }\n    }, {\n      Header: t(\"CR_SERVICE_TYPE_LABEL\"),\n      disableSortBy: true,\n      Cell: function Cell(_ref6) {\n        var _row$original7, _row$original7$paymen;\n        var row = _ref6.row;\n        return GetCell(\"\" + t(\"BILLINGSERVICE_BUSINESSSERVICE_\" + ((_row$original7 = row.original) === null || _row$original7 === void 0 ? void 0 : (_row$original7$paymen = _row$original7.paymentDetails[0]) === null || _row$original7$paymen === void 0 ? void 0 : _row$original7$paymen.businessService)));\n      }\n    }, {\n      Header: t(\"CR_COMMON_TABLE_COL_STATUS\"),\n      disableSortBy: true,\n      Cell: function Cell(_ref7) {\n        var _row$original8;\n        var row = _ref7.row;\n        return GetSlaCell(\"\" + ((_row$original8 = row.original) === null || _row$original8 === void 0 ? void 0 : _row$original8.paymentStatus), t, 'RC_');\n      }\n    }];\n  }, []);\n  var result;\n  if (props.isLoading) {\n    result = /*#__PURE__*/React.createElement(Loader, null);\n  } else if ((data === null || data === void 0 ? void 0 : data.length) === 0) {\n    result = /*#__PURE__*/React.createElement(Card, {\n      style: {\n        marginTop: 20\n      }\n    }, t(\"CS_MYAPPLICATIONS_NO_APPLICATION\").split(\"\\\\n\").map(function (text, index) {\n      return /*#__PURE__*/React.createElement(\"p\", {\n        key: index,\n        style: {\n          textAlign: \"center\"\n        }\n      }, text);\n    }));\n  } else if ((data === null || data === void 0 ? void 0 : data.length) > 0) {\n    var _React$createElement;\n    result = /*#__PURE__*/React.createElement(ApplicationTable, (_React$createElement = {\n      t: t,\n      data: data,\n      columns: columns,\n      getCellProps: function getCellProps(cellInfo) {\n        return {\n          style: {\n            maxWidth: cellInfo.column.Header === t(\"HR_EMP_ID_LABEL\") ? \"140px\" : \"\",\n            padding: \"20px 18px\",\n            fontSize: \"16px\"\n          }\n        };\n      },\n      onPageSizeChange: props.onPageSizeChange,\n      currentPage: props.currentPage,\n      onNextPage: props.onNextPage,\n      onPrevPage: props.onPrevPage,\n      onLastPage: props.onLastPage,\n      onFirstPage: props.onFirstPage,\n      pageSizeLimit: props.pageSizeLimit,\n      onSort: props.onSort,\n      disableSort: props.disableSort\n    }, _React$createElement[\"onPageSizeChange\"] = props.onPageSizeChange, _React$createElement.sortParams = props.sortParams, _React$createElement.totalRecords = props.totalRecords, _React$createElement));\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"inbox-container\"\n  }, !props.isSearch && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filters-container\"\n  }, /*#__PURE__*/React.createElement(InboxLinks, {\n    parentRoute: props.parentRoute,\n    allLinks: [{\n      text: \"CR_COMMON_DASHBOARD_HEADER\",\n      link: \"/digit-ui/employee/receipts/inprogress\",\n      businessService: \"receipts\",\n      roles: [\"CR_PT\"]\n    }, {\n      text: \"CR_COMMON_REPORTS_HEADER\",\n      link: \"/digit-ui/employee/receipts/inprogress\",\n      businessService: \"receipts\",\n      roles: [\"CR_PT\"]\n    }],\n    headerText: t(\"ACTION_TEST_RECEIPTS\"),\n    businessService: props.businessService\n  }), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(FilterComponent, {\n    defaultSearchParams: props.defaultSearchParams,\n    onFilterChange: props.onFilterChange,\n    searchParams: props.searchParams,\n    type: \"desktop\",\n    tenantIds: tenantIds\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      flex: 1\n    }\n  }, /*#__PURE__*/React.createElement(SearchApplication, {\n    defaultSearchParams: props.defaultSearchParams,\n    onSearch: props.onSearch,\n    type: \"desktop\",\n    tenantIds: tenantIds,\n    searchFields: props.searchFields,\n    isInboxPage: !(props !== null && props !== void 0 && props.isSearch),\n    searchParams: props.searchParams\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"result\",\n    style: {\n      marginLeft: !(props !== null && props !== void 0 && props.isSearch) ? \"24px\" : \"\",\n      flex: 1\n    }\n  }, result)));\n};\nvar ApplicationCard = function ApplicationCard(_ref) {\n  var t = _ref.t,\n    data = _ref.data,\n    onFilterChange = _ref.onFilterChange,\n    onSearch = _ref.onSearch,\n    serviceRequestIdKey = _ref.serviceRequestIdKey,\n    isFstpOperator = _ref.isFstpOperator,\n    isLoading = _ref.isLoading,\n    isSearch = _ref.isSearch,\n    searchParams = _ref.searchParams,\n    searchFields = _ref.searchFields,\n    sortParams = _ref.sortParams,\n    linkPrefix = _ref.linkPrefix,\n    defaultSearchParams = _ref.defaultSearchParams;\n  var _useState = useState(isSearch ? \"SEARCH\" : \"\"),\n    type = _useState[0],\n    setType = _useState[1];\n  var _useState2 = useState(isSearch ? true : false),\n    popup = _useState2[0],\n    setPopup = _useState2[1];\n  var _useState3 = useState(searchParams),\n    setParams = _useState3[1];\n  var _useState4 = useState(sortParams),\n    setSortParams = _useState4[1];\n  useEffect(function () {\n    if (type) setPopup(true);\n  }, [type]);\n  var DSO = Digit.UserService.hasAccess([\"FSM_DSO\"]) || false;\n  var handlePopupClose = function handlePopupClose() {\n    setPopup(false);\n    setType(\"\");\n    setParams(searchParams);\n    setSortParams(sortParams);\n  };\n  if (isLoading) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n  var result;\n  if (!data || (data === null || data === void 0 ? void 0 : data.length) === 0) {\n    result = /*#__PURE__*/React.createElement(Card, {\n      style: {\n        marginTop: 20\n      }\n    }, t(\"CS_MYAPPLICATIONS_NO_APPLICATION\").split(\"\\\\n\").map(function (text, index) {\n      return /*#__PURE__*/React.createElement(\"p\", {\n        key: index,\n        style: {\n          textAlign: \"center\"\n        }\n      }, text);\n    }));\n  } else if (data && (data === null || data === void 0 ? void 0 : data.length) > 0) {\n    result = /*#__PURE__*/React.createElement(DetailsCard, {\n      data: data,\n      serviceRequestIdKey: serviceRequestIdKey,\n      linkPrefix: linkPrefix ? linkPrefix : DSO ? \"/digit-ui/employee/fsm/application-details/\" : \"/digit-ui/employee/fsm/\"\n    });\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"searchBox\"\n  }, onSearch && /*#__PURE__*/React.createElement(SearchAction, {\n    text: \"SEARCH\",\n    handleActionClick: function handleActionClick() {\n      setType(\"SEARCH\");\n      setPopup(true);\n    }\n  }), !isSearch && onFilterChange && /*#__PURE__*/React.createElement(FilterAction, {\n    text: \"FILTER\",\n    handleActionClick: function handleActionClick() {\n      setType(\"FILTER\");\n      setPopup(true);\n    }\n  })), result, popup && /*#__PURE__*/React.createElement(PopUp, null, type === \"FILTER\" && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"popup-module\"\n  }, /*#__PURE__*/React.createElement(ReceiptsFilter, {\n    defaultSearchParams: defaultSearchParams,\n    onFilterChange: onFilterChange,\n    searchParams: searchParams,\n    type: \"mobile\",\n    onClose: handlePopupClose\n  })), type === \"SEARCH\" && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"popup-module\"\n  }, /*#__PURE__*/React.createElement(SearchApplication, {\n    type: \"mobile\",\n    onClose: handlePopupClose,\n    onSearch: onSearch,\n    isFstpOperator: isFstpOperator,\n    searchParams: searchParams,\n    searchFields: searchFields\n  }))));\n};\nvar GetDateCell = function GetDateCell(value) {\n  var date = new Date(value);\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sla-cell\"\n  }, date === null || date === void 0 ? void 0 : date.toLocaleDateString());\n};\nvar GetCell = function GetCell(value) {\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sla-cell\"\n  }, value);\n};\nvar ReceiptsMobileInbox = function ReceiptsMobileInbox(_ref) {\n  var data = _ref.data,\n    isLoading = _ref.isLoading,\n    isSearch = _ref.isSearch,\n    searchFields = _ref.searchFields,\n    onFilterChange = _ref.onFilterChange,\n    onSearch = _ref.onSearch,\n    onSort = _ref.onSort,\n    searchParams = _ref.searchParams,\n    sortParams = _ref.sortParams,\n    linkPrefix = _ref.linkPrefix,\n    filterComponent = _ref.filterComponent,\n    defaultSearchParams = _ref.defaultSearchParams;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var getData = function getData() {\n    var _data$Payments;\n    return data === null || data === void 0 ? void 0 : (_data$Payments = data.Payments) === null || _data$Payments === void 0 ? void 0 : _data$Payments.map(function (original) {\n      var _original$paymentDeta, _original$paymentDeta2, _original$paymentDeta3, _original$paymentDeta4, _ref2;\n      return _ref2 = {}, _ref2[t(\"CR_COMMON_TABLE_COL_RECEIPT_NO\")] = original === null || original === void 0 ? void 0 : (_original$paymentDeta = original.paymentDetails[0]) === null || _original$paymentDeta === void 0 ? void 0 : _original$paymentDeta.receiptNumber, _ref2[t(\"CR_COMMON_TABLE_COL_DATE\")] = GetDateCell((original === null || original === void 0 ? void 0 : original.transactionDate) || \"\"), _ref2[t(\"CR_COMMON_TABLE_CONSUMERCODE\")] = GetCell((original === null || original === void 0 ? void 0 : (_original$paymentDeta2 = original.paymentDetails[0]) === null || _original$paymentDeta2 === void 0 ? void 0 : (_original$paymentDeta3 = _original$paymentDeta2.bill) === null || _original$paymentDeta3 === void 0 ? void 0 : _original$paymentDeta3.consumerCode) || \"\"), _ref2[t(\"CR_COMMON_TABLE_COL_PAYEE_NAME\")] = GetCell(original === null || original === void 0 ? void 0 : original.payerName), _ref2[t(\"CR_SERVICE_TYPE_LABEL\")] = GetCell(t(\"BILLINGSERVICE_BUSINESSSERVICE_\" + (original === null || original === void 0 ? void 0 : (_original$paymentDeta4 = original.paymentDetails[0]) === null || _original$paymentDeta4 === void 0 ? void 0 : _original$paymentDeta4.businessService))), _ref2[t(\"CR_COMMON_TABLE_COL_STATUS\")] = GetCell(t(\"RC_\" + (original === null || original === void 0 ? void 0 : original.paymentStatus))), _ref2;\n    });\n  };\n  var serviceRequestIdKey = function serviceRequestIdKey(original) {\n    return (searchParams === null || searchParams === void 0 ? void 0 : searchParams.businessServices) + \"/\" + encodeURIComponent(original === null || original === void 0 ? void 0 : original[t(\"CR_COMMON_TABLE_COL_RECEIPT_NO\")]);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: 0\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"inbox-container\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filters-container\"\n  }, /*#__PURE__*/React.createElement(ApplicationCard, {\n    t: t,\n    data: getData(),\n    onFilterChange: onFilterChange,\n    isLoading: isLoading,\n    isSearch: isSearch,\n    onSearch: onSearch,\n    onSort: onSort,\n    defaultSearchParams: defaultSearchParams,\n    searchParams: searchParams,\n    searchFields: searchFields,\n    linkPrefix: linkPrefix,\n    sortParams: sortParams,\n    filterComponent: filterComponent,\n    serviceRequestIdKey: serviceRequestIdKey\n  }))));\n};\nvar _excluded$5 = [\"isLoading\", \"data\"],\n  _excluded2$1 = [\"isLoading\", \"isError\", \"error\", \"data\"];\nvar ReceiptInbox = function ReceiptInbox(_ref) {\n  var _sortParams$, _sortParams$2;\n  var parentRoute = _ref.parentRoute,\n    _ref$businessService = _ref.businessService,\n    businessService = _ref$businessService === void 0 ? \"receipts\" : _ref$businessService,\n    _ref$initialStates = _ref.initialStates,\n    initialStates = _ref$initialStates === void 0 ? {} : _ref$initialStates,\n    filterComponent = _ref.filterComponent,\n    isInbox = _ref.isInbox;\n  var tenantId = Digit.ULBService.getCurrentTenantId();\n  var isupdate = Digit.SessionStorage.get(\"isupdate\");\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var _useState = useState(initialStates.pageOffset || 0),\n    pageOffset = _useState[0],\n    setPageOffset = _useState[1];\n  var _useState2 = useState(initialStates.pageSize || 10),\n    pageSize = _useState2[0],\n    setPageSize = _useState2[1];\n  var _useState3 = useState(initialStates.sortParams || [{\n      id: \"createdTime\",\n      desc: false\n    }]),\n    sortParams = _useState3[0],\n    setSortParams = _useState3[1];\n  var _useState4 = useState(0),\n    totalRecords = _useState4[0],\n    setTotalRecords = _useState4[1];\n  var _useState5 = useState(function () {\n      return initialStates.searchParams || {};\n    }),\n    searchParams = _useState5[0],\n    setSearchParams = _useState5[1];\n  var _Digit$Hooks$receipts = Digit.Hooks.receipts.useReceiptsSearch(_extends({}, searchParams, {\n      isCountRequest: true\n    }), tenantId, [], isupdate),\n    countData = _Digit$Hooks$receipts.data,\n    rest1 = _objectWithoutPropertiesLoose(_Digit$Hooks$receipts, _excluded$5);\n  var isMobile = window.Digit.Utils.browser.isMobile();\n  var paginationParams = isMobile ? {\n    limit: 100,\n    offset: pageOffset,\n    sortOrder: sortParams !== null && sortParams !== void 0 && (_sortParams$ = sortParams[0]) !== null && _sortParams$ !== void 0 && _sortParams$.desc ? \"DESC\" : \"ASC\"\n  } : {\n    limit: pageSize,\n    offset: pageOffset,\n    sortOrder: sortParams !== null && sortParams !== void 0 && (_sortParams$2 = sortParams[0]) !== null && _sortParams$2 !== void 0 && _sortParams$2.desc ? \"DESC\" : \"ASC\"\n  };\n  var _Digit$Hooks$receipts2 = Digit.Hooks.receipts.useReceiptsSearch(searchParams, tenantId, paginationParams, isupdate),\n    hookLoading = _Digit$Hooks$receipts2.isLoading,\n    data = _Digit$Hooks$receipts2.data,\n    rest = _objectWithoutPropertiesLoose(_Digit$Hooks$receipts2, _excluded2$1);\n  useEffect(function () {\n    return function () {\n      rest === null || rest === void 0 ? void 0 : rest.revalidate();\n    };\n  }, []);\n  useEffect(function () {\n    setTotalRecords(countData === null || countData === void 0 ? void 0 : countData.Count);\n  }, [countData]);\n  useEffect(function () {\n    setPageOffset(0);\n  }, [searchParams]);\n  var fetchNextPage = function fetchNextPage() {\n    setPageOffset(function (prevState) {\n      return prevState + pageSize;\n    });\n  };\n  var fetchPrevPage = function fetchPrevPage() {\n    setPageOffset(function (prevState) {\n      return prevState - pageSize;\n    });\n  };\n  var fetchLastPage = function fetchLastPage() {\n    setPageOffset(function (prevState) {\n      return (countData === null || countData === void 0 ? void 0 : countData.Count) && Math.ceil((countData === null || countData === void 0 ? void 0 : countData.Count) / 10) * 10 - pageSize;\n    });\n  };\n  var fetchFirstPage = function fetchFirstPage() {\n    setPageOffset(function (prevState) {\n      return 0;\n    });\n  };\n  var handleFilterChange = function handleFilterChange(filterParam, reset) {\n    if (reset === void 0) {\n      reset = false;\n    }\n    if (!reset) {\n      var keys_to_delete = filterParam.delete;\n      var _new = _extends({}, searchParams, filterParam);\n      if (keys_to_delete) keys_to_delete.forEach(function (key) {\n        return delete _new[key];\n      });\n      delete _new.delete;\n      setSearchParams(_extends({}, _new));\n    } else {\n      setSearchParams(_extends({}, initialStates.searchParams));\n    }\n  };\n  var handleSort = useCallback(function (args) {\n    if (args.length === 0) return;\n    setSortParams(args);\n  }, []);\n  var handlePageSizeChange = function handlePageSizeChange(e) {\n    setPageSize(Number(e.target.value));\n  };\n  var getSearchFields = function getSearchFields() {\n    return [{\n      label: t(\"CR_CONSUMER_NO_LABEL\"),\n      name: \"consumerCodes\"\n    }, {\n      label: t(\"CR_RECEPIT_NO_LABEL\"),\n      name: \"receiptNumbers\"\n    }, {\n      label: t(\"CR_MOBILE_NO_LABEL\"),\n      name: \"mobileNumber\",\n      maxlength: 10,\n      pattern: \"[6-9][0-9]{9}\",\n      title: t(\"ES_SEARCH_APPLICATION_MOBILE_INVALID\"),\n      componentInFront: \"+91\"\n    }];\n  };\n  if ((data === null || data === void 0 ? void 0 : data.length) !== null) {\n    if (isMobile) {\n      return /*#__PURE__*/React.createElement(ReceiptsMobileInbox, {\n        businessService: businessService,\n        data: data,\n        tableConfig: rest === null || rest === void 0 ? void 0 : rest.tableConfig,\n        isLoading: hookLoading,\n        defaultSearchParams: initialStates.searchParams,\n        isSearch: !isInbox,\n        onFilterChange: handleFilterChange,\n        searchFields: getSearchFields(),\n        onSearch: handleFilterChange,\n        onSort: handleSort,\n        onNextPage: fetchNextPage,\n        onPrevPage: fetchPrevPage,\n        currentPage: Math.floor(pageOffset / pageSize),\n        pageSizeLimit: pageSize,\n        disableSort: false,\n        onPageSizeChange: handlePageSizeChange,\n        parentRoute: parentRoute,\n        searchParams: searchParams,\n        sortParams: sortParams,\n        totalRecords: totalRecords,\n        linkPrefix: '/digit-ui/employee/receipts/details/',\n        filterComponent: filterComponent\n      });\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", null, isInbox && /*#__PURE__*/React.createElement(Header, null, t(\"CR_SEARCH_COMMON_HEADER\")), /*#__PURE__*/React.createElement(ReceiptsDesktopInbox, {\n        businessService: businessService,\n        data: data,\n        isLoading: hookLoading,\n        defaultSearchParams: initialStates.searchParams,\n        isSearch: !isInbox,\n        onFilterChange: handleFilterChange,\n        searchFields: getSearchFields(),\n        onSearch: handleFilterChange,\n        onSort: handleSort,\n        onNextPage: fetchNextPage,\n        onPrevPage: fetchPrevPage,\n        onLastPage: fetchLastPage,\n        onFirstPage: fetchFirstPage,\n        currentPage: Math.floor(pageOffset / pageSize),\n        pageSizeLimit: pageSize,\n        disableSort: false,\n        onPageSizeChange: handlePageSizeChange,\n        parentRoute: parentRoute,\n        searchParams: searchParams,\n        sortParams: sortParams,\n        totalRecords: totalRecords,\n        filterComponent: filterComponent\n      }));\n    }\n  }\n};\nvar _excluded$6 = [\"isLoading\", \"isError\", \"error\", \"data\"];\nvar ReceiptsCard = function ReceiptsCard() {\n  if (!Digit.Utils.receiptsAccess()) {\n    return null;\n  }\n  var tenantId = Digit.ULBService.getCurrentTenantId();\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var searchParams = {\n    tenantId: tenantId,\n    businessServices: getDefaultReceiptService(),\n    isCountRequest: true\n  };\n  var _Digit$Hooks$receipts = Digit.Hooks.receipts.useReceiptsSearch(searchParams, tenantId, [], false),\n    isLoading = _Digit$Hooks$receipts.isLoading,\n    data = _Digit$Hooks$receipts.data,\n    rest = _objectWithoutPropertiesLoose(_Digit$Hooks$receipts, _excluded$6);\n  var propsForModuleCard = {\n    Icon: /*#__PURE__*/React.createElement(ReceiptIcon, null),\n    moduleName: t(\"ACTION_TEST_RECEIPTS\"),\n    kpis: [{\n      count: isLoading ? \"-\" : data === null || data === void 0 ? void 0 : data.Count,\n      label: t(\"CR_TOTAL_RECEIPTS\"),\n      link: \"/digit-ui/employee/receipts/inbox\"\n    }],\n    links: [{\n      count: isLoading ? \"-\" : data === null || data === void 0 ? void 0 : data.Count,\n      label: t(\"CR_SEARCH_COMMON_HEADER\"),\n      link: \"/digit-ui/employee/receipts/inbox\"\n    }]\n  };\n  return /*#__PURE__*/React.createElement(EmployeeModuleCard, propsForModuleCard);\n};\nvar ReceiptsModule = function ReceiptsModule(_ref) {\n  var _state$common;\n  var stateCode = _ref.stateCode,\n    userType = _ref.userType;\n  var moduleCode = \"RECEIPTS\";\n  var state = useSelector(function (state) {\n    return state;\n  });\n  var language = state === null || state === void 0 ? void 0 : (_state$common = state.common) === null || _state$common === void 0 ? void 0 : _state$common.selectedLanguage;\n  var _Digit$Services$useSt = Digit.Services.useStore({\n    stateCode: stateCode,\n    moduleCode: moduleCode,\n    language: language\n  });\n  var _useRouteMatch = useRouteMatch(),\n    path = _useRouteMatch.path,\n    url = _useRouteMatch.url;\n  if (userType === \"employee\") {\n    return /*#__PURE__*/React.createElement(EmployeeApp, {\n      path: path,\n      url: url,\n      userType: \"employee\"\n    });\n  } else return null;\n};\nvar componentsToRegister = {\n  ReceiptsModule: ReceiptsModule,\n  ReceiptsCard: ReceiptsCard,\n  ReceiptInbox: ReceiptInbox,\n  ReceiptAcknowledgement: ReceiptAcknowledgement,\n  ReceiptDetails: ReceiptDetails,\n  ActionModal: ActionModal,\n  Banner: Banner,\n  RECEIPTS_INBOX_FILTER: function RECEIPTS_INBOX_FILTER(props) {\n    return /*#__PURE__*/React.createElement(ReceiptsFilter, props);\n  }\n};\nvar initReceiptsComponents = function initReceiptsComponents() {\n  Object.entries(componentsToRegister).forEach(function (_ref2) {\n    var key = _ref2[0],\n      value = _ref2[1];\n    Digit.ComponentRegistryService.setComponent(key, value);\n  });\n};\nexport { ReceiptsModule, initReceiptsComponents };","map":{"version":3,"mappings":"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","names":["Banner","t","config","React","LabelFieldPair","CardLabel","className","style","color","texts","_config$texts","header","configCancelConfig","selectedReason","Reasons","selectReason","label","heading","submit","form","body","type","isMandatory","name","populators","Dropdown","selected","optionKey","option","select","disable","code","ReceiptCancelModal","action","closeModal","submitAction","applicationData","history","useHistory","useState","setConfig","setReasons","selecteReason","tenantIds","Digit","ULBService","getCurrentTenantId","tenant","getStateId","Hooks","receipts","useReceiptsMDMS","isLoading","isError","data","rest","useEffect","Heading","props","e","Close","xmlns","viewBox","fill","d","CloseBtn","onClick","dropdownData","replace","paymentWorkflow","additionalDetails","otherDetails","selectedReasonMessage","paymentId","Payments","_applicationData$Paym","id","reason","tenantId","_applicationData$Paym2","key","businessService","_applicationData$Paym3","paymentDetails","_applicationData$Paym4","Loader","Modal","headerBarMain","_config$label","headerBarEnd","actionCancelOnSubmit","actionSaveLabel","_config$label2","actionSaveOnSubmit","formId","isDisabled","FormComposer","noBoxShadow","inline","disabled","childrenAtTheBottom","onSubmit","ActionModal","convertEpochToDate","dateEpoch","dateFromApi","Date","month","getMonth","day","getDate","year","getFullYear","stringReplaceAll","str","searcher","replaceWith","includes","checkForNotNull","value","undefined","convertDotValues","replaceAll","convertToLocale","convertedValue","RECEIPTS_DEFAULT_SERVICE","getDefaultReceiptService","getFinancialYears","from","to","fromDate","toDate","getYear","toLocaleDateString","ReceiptsFilter","searchParams","onFilterChange","onSearch","_searchParams","setSearchParams","useTranslation","defaultService","status","setStatus","service","setService","mdmsStatus","dropdownDataStatus","businessServices","join","onCheckBoxClick","splice","findIndex","x","push","clearAll","delete","Object","keys","onClose","_props$onClose","Fragment","border","padding","width","height","CloseSvg","map","sta","index","CheckBox","checked","onChange","event","target","SubmitBar","_props$onClose2","ActionBar","ApplyFilterBar","labelLink","buttonLink","_props$onClose3","onClear","_props$onClose4","flex","EmployeeApp","path","location","useLocation","mobileView","innerWidth","inboxInitialState","ReceiptInbox","ComponentRegistryService","getComponent","ReceiptAcknowledgement","ReceiptDetails","Switch","marginLeft","Link","cursor","pathname","PrivateRoute","component","parentRoute","filterComponent","initialStates","isInbox","printReciept","consumerCode","Utils","downloadReceipt","GetMessage","isSuccess","isEmployee","GetActionMessage","BannerPicker","message","applicationNumber","_props$data","_props$data$Payments","_props$data$Payments$","receiptNumber","info","successful","state","mutation","useReceiptsUpdate","useSessionStorage","mutationHappened","setMutationHappened","errorInfo","setErrorInfo","successData","setsuccessData","onError","error","variables","response","_error$response","_error$response$data","Errors","_error$response$data$","onSuccess","mutate","paymentWorkflows","DisplayText","_mutation$error","_mutation$error$respo","_mutation$error$respo2","SessionStorage","set","Math","floor","random","isIdle","Payment","_mutation$data","_successData$Payments","Card","CardText","LinkButton","_Payment$paymentDetai","_Payment$paymentDetai2","bill","_Payment$paymentDetai3","canCancelReceipt","Receipt","_Receipt","paymentStatus","_Receipt2","_Receipt3","instrumentStatus","_Receipt4","showModal","setShowModal","useParams","receiptId","isupdate","get","useReceiptsSearch","receiptNumbers","decodeURIComponent","cancelReceipt","revalidate","clearSuccessData","clearError","PaymentReceipt","_data$Payments","length","pendingDue","totalDue","totalAmountPaid","fontFamily","Header","_data$Payments2","StatusTable","Row","text","_PaymentReceipt$payme","textStyle","whiteSpace","_PaymentReceipt$payme2","_PaymentReceipt$payme3","_PaymentReceipt$payme4","receiptDate","payerName","mobileNumber","_PaymentReceipt$payme5","_PaymentReceipt$payme6","_PaymentReceipt$payme7","billDetails","_PaymentReceipt$payme8","fromPeriod","_PaymentReceipt$payme9","_PaymentReceipt$payme10","_PaymentReceipt$payme11","toPeriod","paymentMode","transactionNumber","_PaymentReceipt$payme12","manualReceiptNumber","_PaymentReceipt$payme13","manualReceiptDate","InboxLinks","allLinks","headerText","links","setLinks","userRoles","UserService","getUser","roles","linksToShow","filter","some","GetLogo","AnnouncementIcon","link","_ref4$hyperlink","hyperlink","href","ApplicationTable","columns","getCellProps","onNextPage","onPrevPage","currentPage","totalRecords","pageSizeLimit","onPageSizeChange","onLastPage","onFirstPage","Table","manualPagination","fieldComponents","date","DatePicker","MobileNumber","SearchApplication","searchFields","isInboxPage","useForm","defaultValues","register","handleSubmit","reset","watch","control","setError","clearErrors","formState","forEach","pattern","maxLength","minLength","errorMessages","el","errors","RegExp","test","toUpperCase","onSubmitInput","field","clearSearch","resetValues","reduce","acc","_newParams","mobileViewStyles","margin","LinkLabel","display","justifyContent","_searchFields$filter","input","Label","Controller","render","componentInFront","TextInput","inputRef","shouldUpdate","defaultValue","Comp","dirtyFields","_formState$dirtyField","fontWeight","paddingLeft","marginTop","fontSize","_formState$errors","_formState$errors$inp","textAlign","paddingTop","ReceiptsDesktopInbox","GetCell","GetDateCell","GetSlaCell","prefix","_Digit$ComponentRegis","FilterComponent","useMemo","disableSortBy","Cell","row","original","_row$original","_row$original$payment","encodeURIComponent","_row$original2","_row$original2$paymen","_row$original3","_row$original3$paymen","_row$original4","transactionDate","_row$original5","_row$original5$paymen","_row$original5$paymen2","_row$original6","_row$original7","_row$original7$paymen","_row$original8","result","split","cellInfo","maxWidth","column","onSort","disableSort","sortParams","isSearch","defaultSearchParams","ApplicationCard","serviceRequestIdKey","isFstpOperator","linkPrefix","removeParam","setType","popup","setPopup","params","_sortparams","DSO","hasAccess","handlePopupClose","setParams","setSortParams","DetailsCard","SearchAction","handleActionClick","FilterAction","PopUp","ReceiptsMobileInbox","tableConfig","getData","_original$paymentDeta","_original$paymentDeta2","_original$paymentDeta3","_original$paymentDeta4","_ref$businessService","_ref$initialStates","pageOffset","setPageOffset","pageSize","setPageSize","desc","setTotalRecords","isCountRequest","countLoading","rest1","isMobile","window","browser","paginationParams","limit","offset","sortOrder","_sortParams$","_sortParams$2","hookLoading","countData","Count","fetchNextPage","prevState","fetchPrevPage","fetchLastPage","ceil","fetchFirstPage","handleFilterChange","filterParam","keys_to_delete","_new","handleSort","useCallback","args","handlePageSizeChange","Number","getSearchFields","maxlength","title","ReceiptsCard","receiptsAccess","propsForModuleCard","Icon","ReceiptIcon","moduleName","kpis","count","EmployeeModuleCard","ReceiptsModule","stateCode","userType","moduleCode","useSelector","language","common","_state$common","selectedLanguage","Services","useStore","useRouteMatch","url","componentsToRegister","RECEIPTS_INBOX_FILTER","initReceiptsComponents","entries","setComponent"],"sources":["../src/components/Banner.js","../src/components/Modal/CancelConfig.js","../src/components/ReceiptCancelModal.js","../src/components/Modal/index.js","../src/utils/index.js","../src/components/ReceiptsFilter.js","../src/pages/index.js","../src/pages/ReceiptAcknowledgement.js","../src/pages/ReceiptDetails.js","../src/components/inbox/ApplicationLinks.js","../src/components/inbox/ApplicationTable.js","../src/components/inbox/search.js","../src/components/inbox/ReceiptsDesktopInbox.js","../src/components/inbox/ApplicationCard.js","../src/components/inbox/ReceiptsMobileInbox.js","../src/pages/ReceiptInbox.js","../src/receiptHomeCard.js","../src/Module.js"],"sourcesContent":["import { CardLabel, LabelFieldPair } from \"@egovernments/digit-ui-react-components\";\r\nimport React from \"react\";\r\n\r\nconst Banner = ({ t, config }) => {\r\n    return (\r\n        <LabelFieldPair>\r\n            <CardLabel className=\"card-label-smaller\" style={{ color: \"white\" }}>.</CardLabel>\r\n            <span className=\"form-field\" style={{ color: \"gray\" }}>{t(config?.texts?.header)}</span>\r\n        </LabelFieldPair>)\r\n}\r\nexport default Banner;","import { Dropdown } from \"@egovernments/digit-ui-react-components\";\r\nimport React from \"react\";\r\n\r\nexport const configCancelConfig = ({ t, selectedReason, Reasons, selectReason }) => {\r\n    return {\r\n        label: {\r\n            heading: `CR_COMMON_HEADER`,\r\n            submit: `CR_CANCEL_RECEIPT_BUTTON`,\r\n        },\r\n        form: [\r\n            {\r\n                body: [\r\n                    {\r\n                        label: t(\"CR_RECEIPT_CANCELLATION_REASON_LABEL\"),\r\n                        type: \"dropdown\",\r\n                        isMandatory: true,\r\n                        name: \"reason\",\r\n                        populators: (\r\n                            <Dropdown isMandatory selected={selectedReason} optionKey=\"name\" option={Reasons} select={selectReason} t={t} />\r\n                        ),\r\n                    },\r\n                    {\r\n                        label: t(\"CR_MORE_DETAILS_LABEL\"),\r\n                        type: \"text\",\r\n                        populators: {\r\n                            name: \"otherDetails\",\r\n                        },\r\n                        // isMandatory:selectedReason?.code==\"OTHER\"?true:false,\r\n                        disable: selectedReason?.code == \"OTHER\" ? false : true,\r\n                    },\r\n                    {\r\n                        label: t(\"CR_ADDITIONAL_PENALTY\"),\r\n                        type: \"text\",\r\n                        populators: {\r\n                            name: \"penalty\",\r\n                            disable: true\r\n                        },\r\n                        disable: true\r\n                    }\r\n                ],\r\n            },\r\n        ],\r\n    };\r\n};","import { FormComposer, Loader, Modal } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { configCancelConfig } from \"./Modal/CancelConfig\";\r\n\r\nconst ReceiptCancelModal = ({ t, action, tenantId, closeModal, submitAction, applicationData, billData }) => {\r\n  const history = useHistory();\r\n  const [config, setConfig] = useState({});\r\n  const [Reasons, setReasons] = useState([]);\r\n  const [selectedReason, selecteReason] = useState(\"\");\r\n  const tenantIds = Digit.ULBService.getCurrentTenantId() || '';\r\n  const tenant = Digit.ULBService.getStateId();\r\n  const { isLoading, isError, errors, data, ...rest } = Digit.Hooks.receipts.useReceiptsMDMS(\r\n    tenant,\r\n    \"CancelReceiptReason\"\r\n  );\r\n\r\n  useEffect(() => {\r\n    return setConfig(\r\n      configCancelConfig({\r\n        t,\r\n        selectedReason,\r\n        Reasons,\r\n        selectReason,\r\n      })\r\n    );\r\n  }, [Reasons, selectedReason]);\r\n\r\n  const Heading = (props) => {\r\n    return <h1 className=\"heading-m\">{props.label}</h1>;\r\n  };\r\n\r\n  function selectReason(e) {\r\n    selecteReason(e);\r\n  }\r\n  const Close = () => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"#FFFFFF\">\r\n      <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\r\n      <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z\" />\r\n    </svg>\r\n  );\r\n\r\n  const CloseBtn = (props) => {\r\n    return (\r\n      <div className=\"icon-bg-secondary\" onClick={props.onClick}>\r\n        <Close />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    setReasons(data?.dropdownData);\r\n  }, [data]);\r\n\r\n\r\n  function submit(data) {\r\n    history.replace(\"/digit-ui/employee/receipts/response\", {\r\n      paymentWorkflow: {\r\n        action: \"CANCEL\",\r\n        additionalDetails: {...data.otherDetails,selectedReasonMessage:t(`CR_REASON_${selectedReason.code}`)},\r\n        paymentId: applicationData?.Payments[0]?.id,\r\n        reason: selectedReason.code,\r\n        tenantId: applicationData?.Payments[0]?.tenantId,\r\n      }, key: \"UPDATE\", action: \"CANCELLATION\", businessService: applicationData?.Payments[0]?.paymentDetails[0]?.businessService\r\n    });\r\n\r\n  }\r\n  if (isLoading) {\r\n    return <Loader></Loader>\r\n  }\r\n  return config?.form ? (\r\n    <Modal\r\n      headerBarMain={<Heading label={t(config?.label?.heading)} />}\r\n      headerBarEnd={<CloseBtn onClick={closeModal} />}\r\n      actionCancelOnSubmit={closeModal}\r\n      actionSaveLabel={t(config?.label?.submit)}\r\n      actionSaveOnSubmit={() => { }}\r\n      formId=\"modal-action\"\r\n      isDisabled={!selectedReason}\r\n    >\r\n      <FormComposer config={config?.form} noBoxShadow inline disabled={true} childrenAtTheBottom onSubmit={submit} formId=\"modal-action\" />\r\n    </Modal>\r\n  ) : (\r\n    <Loader />\r\n  );\r\n};\r\nexport default ReceiptCancelModal;\r\n","import React from \"react\";\r\nimport ReceiptCancelModal from \"../ReceiptCancelModal\";\r\n\r\nconst ActionModal = (props) => {\r\n  return <ReceiptCancelModal {...props} />;\r\n};\r\n\r\nexport default ActionModal;\r\n","/* method to get date from epoch */\r\nexport const convertEpochToDate = (dateEpoch) => {\r\n    // Returning NA in else case because new Date(null) returns Current date from calender\r\n    if (dateEpoch) {\r\n        const dateFromApi = new Date(dateEpoch);\r\n        let month = dateFromApi.getMonth() + 1;\r\n        let day = dateFromApi.getDate();\r\n        let year = dateFromApi.getFullYear();\r\n        month = (month > 9 ? \"\" : \"0\") + month;\r\n        day = (day > 9 ? \"\" : \"0\") + day;\r\n        return `${day}/${month}/${year}`;\r\n    } else {\r\n        return 'NA';\r\n    }\r\n};\r\nexport const stringReplaceAll = (str = \"\", searcher = \"\", replaceWith = \"\") => {\r\n    if (searcher == \"\") return str;\r\n    while (str.includes(searcher)) {\r\n        str = str.replace(searcher, replaceWith);\r\n    }\r\n    return str;\r\n};\r\n\r\n/*   method to check not null  if not returns false*/\r\nexport const checkForNotNull = (value = \"\") => {\r\n    return value && value != null && value != undefined && value != \"\" ? true : false;\r\n};\r\n\r\nexport const convertDotValues = (value = \"\") => {\r\n    return (\r\n        (checkForNotNull(value) && ((value.replaceAll && value.replaceAll(\".\", \"_\")) || (value.replace && stringReplaceAll(value, \".\", \"_\")))) || \"NA\"\r\n    );\r\n};\r\n\r\nexport const convertToLocale = (value = \"\", key = \"\") => {\r\n    let convertedValue = convertDotValues(value);\r\n    if (convertedValue == \"NA\") {\r\n        return \"PT_NA\";\r\n    }\r\n    return `${key}_${convertedValue}`;\r\n};\r\n\r\nconst RECEIPTS_DEFAULT_SERVICE = \"PT\";\r\n\r\nexport const getDefaultReceiptService = () => {\r\n    return RECEIPTS_DEFAULT_SERVICE;\r\n}\r\n\r\nexport const getFinancialYears = (from, to) => {\r\n    const fromDate = new Date(from);\r\n    const toDate = new Date(to);\r\n    if (toDate.getYear() - fromDate.getYear() != 0) {\r\n      return `FY${fromDate.getYear() + 1900}-${toDate.getYear() - 100}`;\r\n    }\r\n    return `${fromDate.toLocaleDateString()}-${toDate.toLocaleDateString()}`;\r\n  }","import { CheckBox, CloseSvg, Dropdown, Loader, SubmitBar,ApplyFilterBar,ActionBar } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { getDefaultReceiptService } from \"../utils\";\r\n\r\nconst ReceiptsFilter = ({ searchParams, onFilterChange, onSearch, removeParam, ...props }) => {\r\n\r\n  const tenantId = Digit.ULBService.getCurrentTenantId() || '';\r\n  const tenant =Digit.ULBService.getStateId();\r\n  const [_searchParams, setSearchParams] = useState(() => searchParams);\r\n  const { t } = useTranslation();\r\n  const defaultService = getDefaultReceiptService();\r\n  const [status, setStatus] = useState([]);\r\n  const [service, setService] = useState({ name: `BILLINGSERVICE_BUSINESSSERVICE_${defaultService}`, code: defaultService });\r\n\r\n  const { data, isLoading, ...rest } = Digit.Hooks.receipts.useReceiptsMDMS(\r\n    tenant,\r\n    \"CancelReceiptReasonAndStatus\"\r\n  );\r\n\r\n  const mdmsStatus = data?.dropdownDataStatus || [];\r\n\r\n  useEffect(() => {\r\n    if (service?.code != _searchParams.businessServices) {\r\n      setSearchParams({ businessServices: service?.code });\r\n    }\r\n  }, [service]);\r\n\r\n  useEffect(() => {\r\n    if (status) {\r\n      setSearchParams({ status: status.join(',') });\r\n    }\r\n  }, [status]);\r\n\r\n  const onCheckBoxClick = (value) => {\r\n    if (status.includes(value)) {\r\n      status.splice(status.findIndex((x) => x == value), 1)\r\n    } else {\r\n      status.push(value)\r\n    }\r\n    setStatus([...status])\r\n  }\r\n\r\n  const clearAll = () => {\r\n    onFilterChange({ delete: Object.keys(searchParams) }, true);\r\n    setStatus([]);\r\n    setService({ name: `BILLINGSERVICE_BUSINESSSERVICE_${defaultService}`, code: defaultService });\r\n    props?.onClose?.();\r\n  };\r\n  if (isLoading) {\r\n    return <Loader />\r\n  }\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"filter\">\r\n        <div className=\"filter-card\">\r\n          <div className=\"heading\">\r\n            <div className=\"filter-label\">{t(\"COMMON_TABLE_FILTERS\")}:</div>\r\n            <div className=\"clearAll\" onClick={clearAll}>\r\n              {t(\"CR_COMMON_CLEAR_ALL\")}\r\n            </div>\r\n            {props.type === \"desktop\" && (\r\n              <span className=\"clear-search\" onClick={clearAll} style={{ border: \"1px solid #e0e0e0\", padding: \"6px\" }}>\r\n                <svg width=\"17\" height=\"17\" viewBox=\"0 0 16 22\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path\r\n                    d=\"M8 5V8L12 4L8 0V3C3.58 3 0 6.58 0 11C0 12.57 0.46 14.03 1.24 15.26L2.7 13.8C2.25 12.97 2 12.01 2 11C2 7.69 4.69 5 8 5ZM14.76 6.74L13.3 8.2C13.74 9.04 14 9.99 14 11C14 14.31 11.31 17 8 17V14L4 18L8 22V19C12.42 19 16 15.42 16 11C16 9.43 15.54 7.97 14.76 6.74Z\"\r\n                    fill=\"#505A5F\"\r\n                  />\r\n                </svg>\r\n              </span>\r\n            )}\r\n            {props.type === \"mobile\" && (\r\n              <span onClick={props.onClose}>\r\n                <CloseSvg />\r\n              </span>\r\n            )}\r\n          </div>\r\n          <div>\r\n            <div>\r\n              <div className=\"filter-label\">{t(\"CR_COMMON_TABLE_COL_STATUS\")}</div>\r\n              {mdmsStatus.map((sta, index) =>\r\n                <CheckBox\r\n                  key={index + \"service\"}\r\n                  label={t(sta?.name)}\r\n                  value={sta?.code}\r\n                  checked={status.includes(sta?.code)}\r\n                  onChange={(event) =>\r\n                    onCheckBoxClick(event.target.value)}\r\n                />\r\n              )}\r\n              <div>\r\n                <div className=\"filter-label\">{t(\"CR_SERVICE_CATEGORY_LABEL\")}</div>\r\n                <Dropdown t={t} option={data?.dropdownData || null} value={service} selected={service} select={setService} optionKey={\"name\"} />\r\n              </div>\r\n              {props.type !== \"mobile\" &&<div>\r\n                <SubmitBar\r\n                  // disabled={status?.length == mdmsStatus?.length&& service?.code == defaultService}\r\n                  onSubmit={() => {onFilterChange(_searchParams)\r\n                    props?.onClose?.()}}\r\n                  label={t(\"ACTION_TEST_APPLY\")}\r\n                />\r\n              </div>}\r\n              {props.type === \"mobile\" &&(  <ActionBar>\r\n                <ApplyFilterBar\r\n                  submit={false}\r\n                  labelLink={t(\"ES_COMMON_CLEAR_ALL\")}\r\n                  buttonLink={t(\"ACTION_TEST_APPLY\")}\r\n                  onSubmit={() => {onFilterChange(_searchParams)\r\n                    props?.onClose?.()}}\r\n                  onClear={() => {clearAll()\r\n                    props?.onClose?.()}}\r\n                  style={{ flex: 1 }}\r\n                />\r\n              </ActionBar>)}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default ReceiptsFilter;\r\n","import { PrivateRoute } from \"@egovernments/digit-ui-react-components\";\r\nimport React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Link, Switch, useLocation } from \"react-router-dom\";\r\nimport { getDefaultReceiptService } from \"../utils\";\r\n\r\nconst EmployeeApp = ({ path, url, userType }) => {\r\n  const { t } = useTranslation();\r\n  const location = useLocation();\r\n  const mobileView = innerWidth <= 640;\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n\r\n  const inboxInitialState = {\r\n    searchParams: {\r\n      tenantId: tenantId,\r\n      businessServices: getDefaultReceiptService(),\r\n    },\r\n  };\r\n\r\n  const ReceiptInbox = Digit.ComponentRegistryService.getComponent(\"ReceiptInbox\");\r\n  const ReceiptAcknowledgement = Digit.ComponentRegistryService.getComponent(\"ReceiptAcknowledgement\");\r\n  const ReceiptDetails = Digit.ComponentRegistryService.getComponent(\"ReceiptDetails\");\r\n\r\n  return (\r\n    <Switch>\r\n      <React.Fragment>\r\n        <div className=\"ground-container\">\r\n          <p className=\"breadcrumb\" style={{ marginLeft: mobileView ? \"2vw\" : \"revert\" }}>\r\n            <Link to=\"/digit-ui/employee\" style={{ cursor: \"pointer\", color: \"#666\" }}>\r\n              {t(\"ES_COMMON_HOME\")}\r\n            </Link>{\" \"}\r\n            / <span>{location.pathname === \"/digit-ui/employee/receipts/inbox\" ? t(\"CR_COMMON_HEADER\") : t(\"CR_COMMON_HEADER\")}</span>\r\n          </p>\r\n          <PrivateRoute\r\n            path={`${path}/inbox`}\r\n            component={() => (\r\n              <ReceiptInbox\r\n                parentRoute={path}\r\n                businessService=\"receipts\"\r\n                filterComponent=\"RECEIPTS_INBOX_FILTER\"\r\n                initialStates={inboxInitialState}\r\n                isInbox={true}\r\n              />\r\n            )}\r\n          />\r\n          <PrivateRoute path={`${path}/inprogress`} component={(props) => <h2>{t(\"CR_RECEIPTS_SCREENS_UNDER_CONSTRUCTION\")}</h2>} />\r\n          <PrivateRoute path={`${path}/response`} component={(props) => <ReceiptAcknowledgement {...props} parentRoute={path} />} />\r\n          <PrivateRoute path={`${path}/details/:service/:id`} component={() => <ReceiptDetails />} />\r\n        </div>\r\n      </React.Fragment>\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default EmployeeApp;\r\n","\r\nimport { ActionBar, Banner, Card, CardText, LinkButton, Loader, SubmitBar } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport const printReciept = async (businessService, consumerCode) => {\r\n  await Digit.Utils.downloadReceipt(consumerCode, businessService, 'consolidatedreceipt');\r\n};\r\n\r\nconst GetMessage = (type, action, isSuccess, isEmployee, t) => {\r\n  return t(`CR_APPLY_${isSuccess ? \"SUCCESS\" : \"FAILURE\"}_MESSAGE_MAIN`);\r\n};\r\n\r\nconst GetActionMessage = (action, isSuccess, isEmployee, t) => {\r\n  return GetMessage(\"ACTION\", action, isSuccess, isEmployee, t);\r\n};\r\n\r\nconst GetLabel = (action, isSuccess, isEmployee, t) => {\r\n  if (isSuccess && action == \"CREATE\") {\r\n    return GetMessage(\"LABEL\", action, isSuccess, isEmployee, t);\r\n  }\r\n};\r\n\r\nconst BannerPicker = (props) => {\r\n  return (\r\n    <Banner\r\n      message={(GetActionMessage(props.action, props.isSuccess, props.isEmployee, props.t))}\r\n      applicationNumber={props?.data?.Payments?.[0]?.paymentDetails[0].receiptNumber}\r\n      info={props.isSuccess ? props.t(\"CR_RECEIPT_NUMBER\") : \"\"}\r\n      successful={props.isSuccess}\r\n    />\r\n  );\r\n};\r\n\r\nconst ReceiptAcknowledgement = (props) => {\r\n  const { t } = useTranslation();\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const { state } = props.location;\r\n  const mutation = Digit.Hooks.receipts.useReceiptsUpdate(tenantId, state?.businessService);\r\n  const [mutationHappened, setMutationHappened, clear] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_RECEIPT_MUTATION_HAPPENED\", false);\r\n  const [errorInfo, setErrorInfo, clearError] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_RECEIPT_ERROR_DATA\", false);\r\n  const [successData, setsuccessData, clearSuccessData] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_RECEIPT_MUTATION_SUCCESS_DATA\", false);\r\n\r\n  useEffect(() => {\r\n    if (mutation.data) setsuccessData(mutation.data);\r\n  }, [mutation.data]);\r\n\r\n  const onError = (error, variables) => {\r\n    setErrorInfo(error?.response?.data?.Errors[0]?.code || 'ERROR');\r\n    setMutationHappened(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const onSuccess = () => {\r\n      setMutationHappened(true);\r\n    };\r\n    if (state.key === \"UPDATE\" && !mutationHappened && !errorInfo) {\r\n      mutation.mutate(\r\n        {\r\n          paymentWorkflows: [state.paymentWorkflow]\r\n        },\r\n        {\r\n          onError,\r\n          onSuccess,\r\n        }\r\n      );\r\n    }\r\n  }, []);\r\n\r\n  const DisplayText = (action, isSuccess, isEmployee, t) => {\r\n    if (!isSuccess) {\r\n      return mutation?.error?.response?.data?.Errors[0].code || errorInfo\r\n    } else {\r\n      Digit.SessionStorage.set(\"isupdate\", Math.floor(100000 + Math.random() * 900000));\r\n      return t('CR_APPLY_FORWARD_SUCCESS');\r\n    }\r\n  };\r\n\r\n  if (mutation.isLoading || (mutation.isIdle && !mutationHappened)) {\r\n    return <Loader />;\r\n  }\r\n  const Payment = mutation?.data?.Payments[0] || successData?.Payments?.[0];\r\n  const isSuccess = !successData ? mutation?.isSuccess : true;\r\n  return (\r\n    <Card>\r\n      <BannerPicker\r\n        t={t}\r\n        data={mutation?.data || successData}\r\n        action={state.action}\r\n        isSuccess={isSuccess}\r\n        isLoading={(mutation.isIdle && !mutationHappened) || mutation?.isLoading}\r\n        isEmployee={props.parentRoute.includes(\"employee\")}\r\n      />\r\n      <CardText>{t(DisplayText(state.action, isSuccess, props.parentRoute.includes(\"employee\"), t), t)}</CardText>\r\n      {isSuccess && (\r\n        <CardText>\r\n          <LinkButton\r\n            label={\r\n              <div className=\"response-download-button\">\r\n                <span>\r\n                  <svg width=\"20\" height=\"18\" viewBox=\"0 0 20 18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path d=\"M17 5H3C1.34 5 0 6.34 0 8V14H4V18H16V14H20V8C20 6.34 18.66 5 17 5ZM14 16H6V11H14V16ZM17 9C16.45 9 16 8.55 16 8C16 7.45 16.45 7 17 7C17.55 7 18 7.45 18 8C18 8.55 17.55 9 17 9ZM16 0H4V4H16V0Z\" fill=\"#F47738\" />\r\n                  </svg>\r\n                </span>\r\n                <span className=\"download-button\">{t(\"COMMON_TABLE_PRINT\")}</span>\r\n              </div>\r\n            }\r\n            style={{ width: \"100px\" }}\r\n            onClick={() => { printReciept(Payment?.paymentDetails[0]?.businessService, Payment?.paymentDetails[0]?.bill?.consumerCode) }}\r\n          />\r\n        </CardText>)}\r\n      <ActionBar>\r\n        <Link to={`${props.parentRoute.includes(\"employee\") ? \"/digit-ui/employee\" : \"/digit-ui/citizen\"}`}>\r\n          <SubmitBar label={t(\"CORE_COMMON_GO_TO_HOME\")} />\r\n        </Link>\r\n      </ActionBar>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default ReceiptAcknowledgement;\r\n","import { ActionBar, Card, Header, Loader, Row, StatusTable, SubmitBar } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport ActionModal from \"../components/Modal\";\r\nimport { convertEpochToDate, convertToLocale, getFinancialYears } from \"../utils\";\r\n\r\nconst canCancelReceipt=(Receipt={})=>{\r\n  return Receipt?.paymentStatus !== \"CANCELLED\" && Receipt?.paymentStatus !== \"DEPOSITED\" && (Receipt?.instrumentStatus == \"APPROVED\" || Receipt?.instrumentStatus == \"REMITTED\");\r\n}\r\n\r\nconst ReceiptDetails = () => {\r\n\r\n  const [showModal, setShowModal] = useState(false);\r\n  const { t } = useTranslation();\r\n  const { id: receiptId, service: businessService } = useParams();\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const isupdate = Digit.SessionStorage.get(\"isupdate\")\r\n  const { isLoading, isError, error, data, ...rest } = Digit.Hooks.receipts.useReceiptsSearch({ receiptNumbers: decodeURIComponent(receiptId), businessServices: businessService }, tenantId, {}, isupdate);\r\n\r\n  const cancelReceipt = () => {\r\n    setShowModal(true);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setShowModal(false);\r\n  };\r\n\r\n  const submitAction = (data) => { };\r\n  useEffect(() => {\r\n    return () => {\r\n      rest?.revalidate();\r\n    }\r\n  }, [])\r\n\r\n  const [mutationHappened, setMutationHappened, clear] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_RECEIPT_MUTATION_HAPPENED\", false);\r\n  const [successData, setsuccessData, clearSuccessData] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_RECEIPT_MUTATION_SUCCESS_DATA\", false);\r\n  const [errorInfo, setErrorInfo, clearError] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_RECEIPT_ERROR_DATA\", false);\r\n  useEffect(() => {\r\n    setMutationHappened(false);\r\n    clearSuccessData();\r\n    clearError();\r\n  }, []);\r\n\r\n  if (isLoading) {\r\n    return <Loader />;\r\n  }\r\n  const PaymentReceipt = !isLoading && data?.Payments?.length > 0 ? data.Payments[0] : {};\r\n  const pendingDue= PaymentReceipt?.totalDue - PaymentReceipt?.totalAmountPaid;\r\n  return (\r\n    <React.Fragment>\r\n      <div style={{ width: \"30%\", fontFamily: \"calibri\", color: \"#FF0000\" }}>\r\n        <Header>{t(\"CR_RECEIPT_SUMMARY\")}</Header>\r\n      </div>\r\n      {!isLoading && data?.Payments?.length > 0 ? (\r\n        <div >\r\n          <Card>\r\n            <StatusTable>\r\n              <Row label={t(\"CR_RECEIPT_NUMBER\")} text={PaymentReceipt?.paymentDetails[0]?.receiptNumber || \"NA\"} textStyle={{ whiteSpace: \"pre\" }} />\r\n              <Row label={t(\"CR_RECEIPT_CONSUMER_NUMBER\")} text={PaymentReceipt?.paymentDetails[0]?.bill?.consumerCode || \"NA\"} textStyle={{ whiteSpace: \"pre\" }} />\r\n              <Row label={t(\"CR_RECEIPT_PAYMENT_DATE\")} text={convertEpochToDate(PaymentReceipt?.paymentDetails[0]?.receiptDate) || \"NA\"} />\r\n              <Row label={t(\"CR_RECEIPT_PAYER_NAME\")} text={PaymentReceipt?.payerName || \"NA\"} />\r\n              <Row label={t(\"CR_RECEIPT_PAYER_NUMBER\")} text={PaymentReceipt?.mobileNumber || \"NA\"} />\r\n              <Row label={t(\"CR_RECEIPT_SERVICE_TYPE\")} text={t(convertToLocale(PaymentReceipt?.paymentDetails[0]?.businessService, 'BILLINGSERVICE_BUSINESSSERVICE')) || \"NA\"} />\r\n              <Row label={t(\"CR_RECEIPT_BILL_PERIOD\")} text={getFinancialYears(PaymentReceipt?.paymentDetails[0]?.bill?.billDetails[0]?.fromPeriod,PaymentReceipt?.paymentDetails[0]?.bill?.billDetails[0]?.toPeriod) || \"NA\"} />\r\n              <Row label={t(\"CR_RECEIPT_AMOUNT\")} text={'₹' + PaymentReceipt?.totalAmountPaid || \"NA\"} />\r\n              <Row label={t(\"CR_RECEIPT_PENDING_AMOUNT\")} text={'₹' + (pendingDue) || \"₹0\"} />\r\n              <Row label={t(\"CR_RECEIPT_PAYMENT_MODE\")} text={PaymentReceipt?.paymentMode ? t(`COMMON_MASTERS_PAYMENTMODE_${PaymentReceipt?.paymentMode}`) || \"NA\" : \"NA\"} />\r\n              <Row label={t(\"CR_RECEIPT_TXN_ID\")} text={PaymentReceipt?.transactionNumber || \"NA\"} />\r\n              <Row label={t(\"CR_RECEIPT_G8_RECEIPT_NO\")} text={PaymentReceipt?.paymentDetails[0]?.manualReceiptNumber || \"NA\"} />\r\n              <Row label={t(\"CR_RECEIPT_G8_RECEIPT_DATE\")} text={convertEpochToDate(PaymentReceipt?.paymentDetails[0]?.manualReceiptDate) || \"NA\"} />\r\n            </StatusTable>\r\n          </Card>\r\n        </div>\r\n      ) : null}\r\n      {showModal ? (\r\n        <ActionModal t={t} tenantId={tenantId} applicationData={data} closeModal={closeModal} submitAction={submitAction} />\r\n      ) : null}\r\n      <ActionBar>\r\n        {canCancelReceipt(PaymentReceipt) && <SubmitBar label={t(\"CR_CANCEL_RECEIPT_BUTTON\")} onSubmit={() => cancelReceipt()} />}\r\n      </ActionBar>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default ReceiptDetails;\r\n","import { AnnouncementIcon, Card } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst InboxLinks = ({ parentRoute, businessService, allLinks, headerText }) => {\r\n  const { t } = useTranslation();\r\n  const [links, setLinks] = useState([]);\r\n  const { roles: userRoles } = Digit.UserService.getUser().info;\r\n  useEffect(() => {\r\n    let linksToShow = allLinks\r\n      .filter((e) => e.businessService === businessService)\r\n      .filter(({ roles }) => roles.some((e) => userRoles.map(({ code }) => code).includes(e)) || !roles.length);\r\n    setLinks(linksToShow);\r\n  }, []);\r\n\r\n  const GetLogo = () => (\r\n    <div className=\"header\">\r\n      <span className=\"logo\">\r\n        <AnnouncementIcon />\r\n      </span>{\" \"}\r\n      <span className=\"text\">{t(headerText)}</span>\r\n    </div>\r\n  );\r\n  return (\r\n    <Card className=\"employeeCard filter inboxLinks\">\r\n      <div className=\"complaint-links-container\">\r\n        {GetLogo()}\r\n        <div className=\"body\">\r\n          {links.map(({ link, text, hyperlink = false, accessTo = [] }, index) => {\r\n            return (\r\n              <span className=\"link\" key={index}>\r\n                {hyperlink ? <a href={link}>{t(text)}</a> : <Link to={link}>{t(text)}</Link>}\r\n              </span>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default InboxLinks;","import { Table } from \"@egovernments/digit-ui-react-components\";\r\nimport React from \"react\";\r\n\r\nconst ApplicationTable = ({ t, columns, data, getCellProps, onNextPage, onPrevPage, currentPage, totalRecords, pageSizeLimit, onPageSizeChange, onLastPage, onFirstPage }) => (\r\n  <Table\r\n    t={t}\r\n    data={data}\r\n    manualPagination={true}\r\n    columns={columns}\r\n    getCellProps={getCellProps}\r\n    onNextPage={onNextPage}\r\n    onPrevPage={onPrevPage}\r\n    currentPage={currentPage}\r\n    totalRecords={totalRecords}\r\n    onLastPage={onLastPage}\r\n    onFirstPage={onFirstPage}\r\n    onPageSizeChange={onPageSizeChange}\r\n    pageSizeLimit={pageSizeLimit}\r\n  />\r\n);\r\n\r\nexport default ApplicationTable;\r\n","import { ActionBar, CloseSvg, DatePicker, Label, LinkLabel, MobileNumber, SubmitBar, TextInput } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useEffect } from \"react\";\r\nimport { Controller, useForm } from \"react-hook-form\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nconst fieldComponents = {\r\n  date: DatePicker,\r\n  mobileNumber: MobileNumber,\r\n};\r\n\r\nconst SearchApplication = ({ onSearch, type, onClose, searchFields, searchParams, isInboxPage, defaultSearchParams, clearSearch: _clearSearch }) => {\r\n  const { t } = useTranslation();\r\n  const { register, handleSubmit, reset, watch, control, setError, clearErrors, formState } = useForm({\r\n    defaultValues: searchParams,\r\n  });\r\n\r\n  const form = watch();\r\n  const mobileView = innerWidth <= 640;\r\n\r\n\r\n  useEffect(() => {\r\n    searchFields.forEach(({ pattern, name, maxLength, minLength, errorMessages, ...el }) => {\r\n      const value = form[name];\r\n      const error = formState.errors[name];\r\n      if (pattern) {\r\n        if (!new RegExp(pattern).test(value) && !error)\r\n          setError(name, { type: \"pattern\", message: t(errorMessages?.pattern) || t(`PATTERN_${name.toUpperCase()}_FAILED`) });\r\n        else if (new RegExp(pattern).test(value) && error?.type === \"pattern\") clearErrors([name]);\r\n      }\r\n      if (minLength) {\r\n        if (value?.length < minLength && !error)\r\n          setError(name, { type: \"minLength\", message: t(errorMessages?.minLength || `MINLENGTH_${name.toUpperCase()}_FAILED`) });\r\n        else if (value?.length >= minLength && error?.type === \"minLength\") clearErrors([name]);\r\n      }\r\n      if (maxLength) {\r\n        if (value?.length > maxLength && !error)\r\n          setError(name, { type: \"maxLength\", message: t(errorMessages?.maxLength || `MAXLENGTH_${name.toUpperCase()}_FAILED`) });\r\n        else if (value?.length <= maxLength && error?.type === \"maxLength\") clearErrors([name]);\r\n      }\r\n    });\r\n  }, [form, formState, setError, clearErrors]);\r\n\r\n  const onSubmitInput = (data) => {\r\n    if (true) {\r\n      if (!data.mobileNumber) {\r\n        delete data.mobileNumber;\r\n      }\r\n      data.delete = [];\r\n      searchFields.forEach((field) => {\r\n        if (!data[field.name]) data.delete.push(field.name);\r\n      });\r\n      onSearch(data);\r\n      if (type === \"mobile\") {\r\n        onClose();\r\n      }\r\n    }\r\n  };\r\n\r\n  function clearSearch() {\r\n    const resetValues = searchFields.reduce((acc, field) => ({ ...acc, [field?.name]: \"\" }), {});\r\n    reset(resetValues);\r\n    const _newParams = { ...searchParams };\r\n    _newParams.delete = [];\r\n    searchFields.forEach((e) => {\r\n      _newParams.delete.push(e?.name);\r\n    });\r\n    onSearch({ ..._newParams }, true);\r\n    if (type === \"mobile\") {\r\n      onClose();\r\n    }\r\n  }\r\n\r\n  const clearAll = (mobileView) => {\r\n    const mobileViewStyles = mobileView ? { margin: 0 } : {};\r\n    return (\r\n      <LinkLabel style={{ display: \"inline\", ...mobileViewStyles }} onClick={clearSearch}>\r\n        {t(\"CR_RESET_BUTTON\")}\r\n      </LinkLabel>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit(onSubmitInput)}>\r\n      <React.Fragment>\r\n        <div className=\"search-container\" style={{ width: \"auto\", marginLeft: isInboxPage ? \"24px\" : \"revert\" }}>\r\n          <div className=\"search-complaint-container\">\r\n            {(type === \"mobile\" || mobileView) && (\r\n              <div className=\"complaint-header\" style={{ display: 'flex', justifyContent: \"space-between\" }}>\r\n                <h2>{t(\"ES_COMMON_SEARCH_BY\")}</h2>\r\n                <span onClick={onClose}>\r\n                  <CloseSvg />\r\n                </span>\r\n              </div>\r\n            )}\r\n            <div className=\"complaint-input-container\" style={{ width: \"100%\" }}>\r\n              {searchFields\r\n                ?.filter((e) => true)\r\n                ?.map((input, index) => (\r\n                  <div key={input.name} className=\"input-fields\">\r\n                    <span className={\"mobile-input\"}>\r\n                      <Label>{t(input.label)}</Label>\r\n                      {!input.type ? (\r\n                        <Controller\r\n                          render={(props) => {\r\n                            return <div className=\"field-container\">\r\n                              {input?.componentInFront ? (\r\n                                <span className=\"employee-card-input employee-card-input--front\" style={{ flex: \"none\" }}>\r\n                                  {input?.componentInFront}\r\n                                </span>\r\n                              ) : null}\r\n                              <TextInput {...input} inputRef={register} watch={watch} shouldUpdate={true} />\r\n                            </div>\r\n                          }}\r\n                          name={input.name}\r\n                          control={control}\r\n                          defaultValue={\"\"}\r\n                        />\r\n                      ) : (\r\n                        <Controller\r\n                          render={(props) => {\r\n                            const Comp = fieldComponents?.[input.type];\r\n                            return <Comp onChange={props.onChange} value={props.value} />;\r\n                          }}\r\n                          name={input.name}\r\n                          control={control}\r\n                          defaultValue={\"\"}\r\n                        />\r\n                      )}\r\n                    </span>\r\n                    {formState?.dirtyFields?.[input.name] ? (\r\n                      <span\r\n                        style={{ fontWeight: \"700\", color: \"rgba(212, 53, 28)\", paddingLeft: \"8px\", marginTop: \"-20px\", fontSize: \"12px\" }}\r\n                        className=\"inbox-search-form-error\"\r\n                      >\r\n                        {formState?.errors?.[input.name]?.message}\r\n                      </span>\r\n                    ) : null}\r\n                  </div>\r\n                ))}\r\n              {type === \"desktop\" && !mobileView && !isInboxPage && (\r\n                <div className=\"search-action-wrapper\">\r\n                  <SubmitBar\r\n                    className=\"submit-bar-search\"\r\n                    label={t(\"CR_SEARCH_BUTTON\")}\r\n                    // disabled={!!Object.keys(formState.errors).length || Object.keys(form).every((key) => !form?.[key])}\r\n                    submit\r\n                  />\r\n                  <div style={{ width: \"100%\", textAlign: \"right\", width: \"240px\", textAlign: \"right\", marginLeft: \"96px\", marginTop: \"8px\" }}>\r\n                    {clearAll()}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n            {isInboxPage && (\r\n              <div className=\"inbox-action-container\">\r\n                {type === \"desktop\" && !mobileView && (\r\n                  <span style={{ paddingTop: \"9px\" }} className=\"clear-search\">\r\n                    {clearAll()}\r\n                  </span>\r\n                )}\r\n                {type === \"desktop\" && !mobileView && (\r\n                  <SubmitBar\r\n                    style={{ marginTop: \"unset\" }}\r\n                    className=\"submit-bar-search\"\r\n                    label={t(\"CR_SEARCH_BUTTON\")}\r\n                    submit\r\n                  />\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n        {(type === \"mobile\" || mobileView) && (\r\n          <ActionBar className=\"clear-search-container\">\r\n            <button className=\"clear-search\" style={{ flex: 1 }}>\r\n              {clearAll(mobileView)}\r\n            </button>\r\n            <SubmitBar\r\n              label={t(\"CR_SEARCH_BUTTON\")} style={{ flex: 1 }} submit={true} />\r\n          </ActionBar>\r\n        )}\r\n      </React.Fragment>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default SearchApplication;","import { Card, Loader } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\nimport InboxLinks from \"./ApplicationLinks\";\r\nimport ApplicationTable from \"./ApplicationTable\";\r\nimport SearchApplication from \"./search\";\r\n\r\nconst ReceiptsDesktopInbox = ({ tableConfig, filterComponent, ...props }) => {\r\n  const { t } = useTranslation();\r\n  const tenantIds = Digit.SessionStorage.get(\"HRMS_TENANTS\");\r\n  const GetCell = (value) => <span className=\"cell-text\">{t(value)}</span>;\r\n  const GetDateCell = (value) => {\r\n    const date = new Date(value);\r\n    return <span className=\"cell-text\">{date?.toLocaleDateString()}</span>\r\n  };\r\n  const GetSlaCell = (value, t, prefix = '') => {\r\n    return value == \"CANCELLED\" ? <span className=\"sla-cell-error\">{t(`${prefix}${value}`) || \"\"}</span> : <span className=\"sla-cell-success\">{t(`${prefix}${value}`) || \"\"}</span>;\r\n  };\r\n  const data = props?.data?.Payments;\r\n  const [FilterComponent, setComp] = useState(() => Digit.ComponentRegistryService?.getComponent(filterComponent));\r\n  const columns = React.useMemo(() => {\r\n    return [\r\n      {\r\n        Header: t(\"CR_COMMON_TABLE_COL_RECEIPT_NO\"),\r\n        disableSortBy: true,\r\n        Cell: ({ row }) => {\r\n          return (\r\n            <span className=\"link\">\r\n              <Link to={`/digit-ui/employee/receipts/details/${row.original?.paymentDetails[0]?.businessService}/${encodeURIComponent(row.original?.paymentDetails[0]?.receiptNumber)}`}>{row.original?.paymentDetails[0]?.receiptNumber}</Link>\r\n            </span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        Header: t(\"CR_COMMON_TABLE_COL_DATE\"),\r\n        disableSortBy: true,\r\n        Cell: ({ row }) => {\r\n          return GetDateCell(row.original?.transactionDate);\r\n        },\r\n      },\r\n      {\r\n        Header: t(\"CR_COMMON_TABLE_CONSUMERCODE\"),\r\n        disableSortBy: true,\r\n        Cell: ({ row }) => {\r\n          return GetCell(`${row.original?.paymentDetails[0]?.bill?.consumerCode}`);\r\n        },\r\n      },\r\n      {\r\n        Header: t(\"CR_COMMON_TABLE_COL_PAYEE_NAME\"),\r\n        disableSortBy: true,\r\n        Cell: ({ row }) => {\r\n          return GetCell(`${row.original?.payerName}`);\r\n        },\r\n      },\r\n      {\r\n        Header: t(\"CR_SERVICE_TYPE_LABEL\"),\r\n        disableSortBy: true,\r\n        Cell: ({ row }) => {\r\n          return GetCell(`${t(\"BILLINGSERVICE_BUSINESSSERVICE_\" + row.original?.paymentDetails[0]?.businessService)}`);\r\n        },\r\n      },\r\n      {\r\n        Header: t(\"CR_COMMON_TABLE_COL_STATUS\"),\r\n        disableSortBy: true,\r\n        Cell: ({ row }) => {\r\n          return GetSlaCell(`${row.original?.paymentStatus}`, t, 'RC_');\r\n        },\r\n      },\r\n\r\n    ];\r\n  }, []);\r\n\r\n  let result;\r\n  if (props.isLoading) {\r\n    result = <Loader />;\r\n  } else if (data?.length === 0) {\r\n    result = (\r\n      <Card style={{ marginTop: 20 }}>\r\n        {t(\"CS_MYAPPLICATIONS_NO_APPLICATION\")\r\n          .split(\"\\\\n\")\r\n          .map((text, index) => (\r\n            <p key={index} style={{ textAlign: \"center\" }}>\r\n              {text}\r\n            </p>\r\n          ))}\r\n      </Card>\r\n    );\r\n  } else if (data?.length > 0) {\r\n    result = (\r\n      <ApplicationTable\r\n        t={t}\r\n        data={data}\r\n        columns={columns}\r\n        getCellProps={(cellInfo) => {\r\n          return {\r\n            style: {\r\n              maxWidth: cellInfo.column.Header === t(\"HR_EMP_ID_LABEL\") ? \"140px\" : \"\",\r\n              padding: \"20px 18px\",\r\n              fontSize: \"16px\",\r\n            },\r\n          };\r\n        }}\r\n        onPageSizeChange={props.onPageSizeChange}\r\n        currentPage={props.currentPage}\r\n        onNextPage={props.onNextPage}\r\n        onPrevPage={props.onPrevPage}\r\n        onLastPage={props.onLastPage}\r\n        onFirstPage={props.onFirstPage}\r\n        pageSizeLimit={props.pageSizeLimit}\r\n        onSort={props.onSort}\r\n        disableSort={props.disableSort}\r\n        onPageSizeChange={props.onPageSizeChange}\r\n        sortParams={props.sortParams}\r\n        totalRecords={props.totalRecords}\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"inbox-container\">\r\n      {!props.isSearch && (\r\n        <div className=\"filters-container\">\r\n          <InboxLinks\r\n            parentRoute={props.parentRoute}\r\n            allLinks={[\r\n              {\r\n                text: \"CR_COMMON_DASHBOARD_HEADER\",\r\n                link: \"/digit-ui/employee/receipts/inprogress\",\r\n                businessService: \"receipts\",\r\n                roles: [\"CR_PT\"],\r\n              },\r\n              {\r\n                text: \"CR_COMMON_REPORTS_HEADER\",\r\n                link: \"/digit-ui/employee/receipts/inprogress\",\r\n                businessService: \"receipts\",\r\n                roles: [\"CR_PT\"],\r\n              }\r\n            ]}\r\n            headerText={t(\"ACTION_TEST_RECEIPTS\")}\r\n            businessService={props.businessService}\r\n          />\r\n          <div>\r\n            {\r\n              <FilterComponent\r\n                defaultSearchParams={props.defaultSearchParams}\r\n                onFilterChange={props.onFilterChange}\r\n                searchParams={props.searchParams}\r\n                type=\"desktop\"\r\n                tenantIds={tenantIds}\r\n              />\r\n            }\r\n          </div>\r\n        </div>\r\n      )}\r\n      <div style={{ flex: 1 }}>\r\n        <SearchApplication\r\n          defaultSearchParams={props.defaultSearchParams}\r\n          onSearch={props.onSearch}\r\n          type=\"desktop\"\r\n          tenantIds={tenantIds}\r\n          searchFields={props.searchFields}\r\n          isInboxPage={!props?.isSearch}\r\n          searchParams={props.searchParams}\r\n        />\r\n        <div className=\"result\" style={{ marginLeft: !props?.isSearch ? \"24px\" : \"\", flex: 1 }}>\r\n          {result}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReceiptsDesktopInbox;\r\n","import { Card, DetailsCard, FilterAction, Loader, PopUp, SearchAction } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport ReceiptsFilter from \"../ReceiptsFilter\";\r\nimport SearchApplication from \"./search\";\r\nexport const ApplicationCard = ({\r\n  t,\r\n  data,\r\n  onFilterChange,\r\n  onSearch,\r\n  onSort,\r\n  serviceRequestIdKey,\r\n  isFstpOperator,\r\n  isLoading,\r\n  isSearch,\r\n  searchParams,\r\n  searchFields,\r\n  sortParams,\r\n  linkPrefix,\r\n  removeParam,\r\n  defaultSearchParams\r\n}) => {\r\n\r\n  const [type, setType] = useState(isSearch ? \"SEARCH\" : \"\");\r\n  const [popup, setPopup] = useState(isSearch ? true : false);\r\n  const [params, setParams] = useState(searchParams);\r\n  const [_sortparams, setSortParams] = useState(sortParams);\r\n  const selectParams = (param) => {\r\n    setParams((o) => ({ ...o, ...param }));\r\n  };\r\n  const clearParam = () => {\r\n    setParams({});\r\n  };\r\n  const onSearchPara = (param) => {\r\n    onFilterChange({ ...params, ...param });\r\n    setType(\"\");\r\n    setPopup(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (type) setPopup(true);\r\n  }, [type]);\r\n  const DSO = Digit.UserService.hasAccess([\"FSM_DSO\"]) || false;\r\n  const handlePopupClose = () => {\r\n    setPopup(false);\r\n    setType(\"\");\r\n    setParams(searchParams);\r\n    setSortParams(sortParams);\r\n  };\r\n  const onSearchSortParams = (d) => {\r\n    setSortParams(d);\r\n    setPopup(false);\r\n    setType(\"\");\r\n    onSort(d);\r\n  };\r\n  if (isLoading) {\r\n    return <Loader />;\r\n  }\r\n\r\n\r\n  let result;\r\n  if (!data || data?.length === 0) {\r\n    result = (\r\n      <Card style={{ marginTop: 20 }}>\r\n        {t(\"CS_MYAPPLICATIONS_NO_APPLICATION\")\r\n          .split(\"\\\\n\")\r\n          .map((text, index) => (\r\n            <p key={index} style={{ textAlign: \"center\" }}>\r\n              {text}\r\n            </p>\r\n          ))}\r\n      </Card>\r\n    );\r\n  } else if (data && data?.length > 0) {\r\n    result = (\r\n      <DetailsCard\r\n        data={data}\r\n        serviceRequestIdKey={serviceRequestIdKey}\r\n        linkPrefix={linkPrefix ? linkPrefix : DSO ? \"/digit-ui/employee/fsm/application-details/\" : \"/digit-ui/employee/fsm/\"}\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"searchBox\">\r\n        {onSearch && (\r\n          <SearchAction\r\n            text=\"SEARCH\"\r\n            handleActionClick={() => {\r\n              setType(\"SEARCH\");\r\n              setPopup(true);\r\n            }}\r\n          />\r\n        )}\r\n        {!isSearch && onFilterChange && (\r\n          <FilterAction\r\n            text=\"FILTER\"\r\n            handleActionClick={() => {\r\n              setType(\"FILTER\");\r\n              setPopup(true);\r\n            }}\r\n          />\r\n        )}\r\n        {/* <FilterAction\r\n          text=\"SORT\"\r\n          handleActionClick={() => {\r\n            setType(\"SORT\");\r\n            setPopup(true);\r\n          }}\r\n        /> */}\r\n      </div>\r\n      {result}\r\n      {popup && (\r\n        <PopUp>\r\n          {type === \"FILTER\" && (\r\n            <div className=\"popup-module\">\r\n              {\r\n                <ReceiptsFilter\r\n                  defaultSearchParams={defaultSearchParams}\r\n                  onFilterChange={onFilterChange}\r\n                  searchParams={searchParams}\r\n                  type=\"mobile\"\r\n                  onClose={handlePopupClose}\r\n                />\r\n              }\r\n            </div>\r\n          )}\r\n          {type === \"SEARCH\" && (\r\n            <div className=\"popup-module\">\r\n              <SearchApplication\r\n                type=\"mobile\"\r\n                onClose={handlePopupClose}\r\n                onSearch={onSearch}\r\n                isFstpOperator={isFstpOperator}\r\n                searchParams={searchParams}\r\n                searchFields={searchFields}\r\n              />\r\n            </div>\r\n          )}\r\n        </PopUp>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { ApplicationCard } from \"./ApplicationCard\";\r\n\r\nconst GetDateCell = (value) => {\r\n  const date = new Date(value);\r\n  return <span className=\"sla-cell\">{date?.toLocaleDateString()}</span>\r\n};\r\nconst GetCell = (value) => <span className=\"sla-cell\">{value}</span>;\r\n\r\nconst ReceiptsMobileInbox = ({\r\n  data,\r\n  isLoading,\r\n  isSearch,\r\n  searchFields,\r\n  onFilterChange,\r\n  onSearch,\r\n  onSort,\r\n  parentRoute,\r\n  searchParams,\r\n  sortParams,\r\n  linkPrefix,\r\n  tableConfig,\r\n  filterComponent,\r\n  allLinks,\r\n  defaultSearchParams\r\n}) => {\r\n  \r\n  const { t } = useTranslation();\r\n  const getData = () => {\r\n    return data?.Payments?.map((original) => ({\r\n      [t(\"CR_COMMON_TABLE_COL_RECEIPT_NO\")]: original?.paymentDetails[0]?.receiptNumber,\r\n      [t(\"CR_COMMON_TABLE_COL_DATE\")]: GetDateCell(original?.transactionDate || \"\"),\r\n      [t(\"CR_COMMON_TABLE_CONSUMERCODE\")]: GetCell(original?.paymentDetails[0]?.bill?.consumerCode || \"\"),\r\n      [t(\"CR_COMMON_TABLE_COL_PAYEE_NAME\")]: GetCell(original?.payerName),\r\n      [t(\"CR_SERVICE_TYPE_LABEL\")]: GetCell(t(`BILLINGSERVICE_BUSINESSSERVICE_${original?.paymentDetails[0]?.businessService}`)),\r\n      [t(\"CR_COMMON_TABLE_COL_STATUS\")]: GetCell(t(`RC_${original?.paymentStatus}`)),\r\n    }));\r\n  };\r\n  const serviceRequestIdKey = (original) => {return `${searchParams?.businessServices}/${encodeURIComponent(original?.[t(\"CR_COMMON_TABLE_COL_RECEIPT_NO\")])}`};\r\n  return (\r\n    <div style={{ padding: 0 }}>\r\n      <div className=\"inbox-container\">\r\n        <div className=\"filters-container\">\r\n          {/* {!isSearch && <ApplicationLinks linkPrefix={parentRoute} allLinks={allLinks} isMobile={true} />} */}\r\n          <ApplicationCard\r\n            t={t}\r\n            data={getData()}\r\n            onFilterChange={onFilterChange}\r\n            isLoading={isLoading}\r\n            isSearch={isSearch}\r\n            onSearch={onSearch}\r\n            onSort={onSort}\r\n            defaultSearchParams={defaultSearchParams}\r\n            searchParams={searchParams}\r\n            searchFields={searchFields}\r\n            linkPrefix={linkPrefix}\r\n            sortParams={sortParams}\r\n            filterComponent={filterComponent}\r\n            serviceRequestIdKey={serviceRequestIdKey}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReceiptsMobileInbox;\r\n","import { Header, Loader } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useCallback, useEffect, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport ReceiptsDesktopInbox from \"../components/inbox/ReceiptsDesktopInbox\";\r\nimport ReceiptsMobileInbox from \"../components/inbox/ReceiptsMobileInbox\";\r\n\r\nconst ReceiptInbox = ({ parentRoute, businessService = \"receipts\", initialStates = {}, filterComponent, isInbox }) => {\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const isupdate = Digit.SessionStorage.get(\"isupdate\");\r\n  const { t } = useTranslation();\r\n  const [pageOffset, setPageOffset] = useState(initialStates.pageOffset || 0);\r\n  const [pageSize, setPageSize] = useState(initialStates.pageSize || 10);\r\n  const [sortParams, setSortParams] = useState(initialStates.sortParams || [{ id: \"createdTime\", desc: false }]);\r\n  const [totalRecords, setTotalRecords] = useState(0);\r\n  const [searchParams, setSearchParams] = useState(() => {\r\n    return initialStates.searchParams || {};\r\n  });\r\n  const { isLoading: countLoading, data: countData, ...rest1 } = Digit.Hooks.receipts.useReceiptsSearch({ ...searchParams, isCountRequest: true }, tenantId, [], isupdate);\r\n  let isMobile = window.Digit.Utils.browser.isMobile();\r\n\r\n  let paginationParams = isMobile\r\n    ? { limit: 100, offset: pageOffset, sortOrder: sortParams?.[0]?.desc ? \"DESC\" : \"ASC\" }\r\n    : { limit: pageSize, offset: pageOffset, sortOrder: sortParams?.[0]?.desc ? \"DESC\" : \"ASC\" };\r\n\r\n  const { isLoading: hookLoading, isError, error, data, ...rest } = Digit.Hooks.receipts.useReceiptsSearch(searchParams, tenantId, paginationParams, isupdate);\r\n  let isLoading = false;\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      rest?.revalidate();\r\n    }\r\n  }, [])\r\n  useEffect(() => { setTotalRecords(countData?.Count) }, [countData])\r\n  useEffect(() => {\r\n    setPageOffset(0);\r\n  }, [searchParams]);\r\n\r\n  const fetchNextPage = () => {\r\n    setPageOffset((prevState) => prevState + pageSize);\r\n  };\r\n\r\n  const fetchPrevPage = () => {\r\n    setPageOffset((prevState) => prevState - pageSize);\r\n  };\r\n  const fetchLastPage = () => {\r\n    setPageOffset((prevState) => countData?.Count && (Math.ceil(countData?.Count / 10) * 10 - pageSize));\r\n  };\r\n\r\n  const fetchFirstPage = () => {\r\n    setPageOffset((prevState) => 0);\r\n  };\r\n  const handleFilterChange = (filterParam, reset = false) => {\r\n    if (!reset) {\r\n      let keys_to_delete = filterParam.delete;\r\n      let _new = { ...searchParams, ...filterParam };\r\n      if (keys_to_delete) keys_to_delete.forEach((key) => delete _new[key]);\r\n      filterParam.delete;\r\n      delete _new.delete;\r\n      setSearchParams({ ..._new });\r\n    } else {\r\n      setSearchParams({ ...initialStates.searchParams });\r\n    }\r\n\r\n  };\r\n\r\n  const handleSort = useCallback((args) => {\r\n    if (args.length === 0) return;\r\n    setSortParams(args);\r\n  }, []);\r\n\r\n  const handlePageSizeChange = (e) => {\r\n    setPageSize(Number(e.target.value));\r\n  };\r\n\r\n  const getSearchFields = () => {\r\n    return [\r\n      // {\r\n      //   label: t(\"CR_SERVICE_CATEGORY_LABEL\"),\r\n      //   name: \"service\",\r\n      // },\r\n      {\r\n        label: t(\"CR_CONSUMER_NO_LABEL\"),\r\n        name: \"consumerCodes\",\r\n      },\r\n      {\r\n        label: t(\"CR_RECEPIT_NO_LABEL\"),\r\n        name: \"receiptNumbers\",\r\n      },\r\n      {\r\n        label: t(\"CR_MOBILE_NO_LABEL\"),\r\n        name: \"mobileNumber\",\r\n        maxlength: 10,\r\n        pattern: \"[6-9][0-9]{9}\",\r\n        title: t(\"ES_SEARCH_APPLICATION_MOBILE_INVALID\"),\r\n        componentInFront: \"+91\",\r\n      },\r\n    ];\r\n  };\r\n\r\n  if (isLoading) {\r\n    return <Loader />;\r\n  }\r\n\r\n  if (data?.length !== null) {\r\n    if (isMobile) {\r\n      return (\r\n        <ReceiptsMobileInbox\r\n          businessService={businessService}\r\n          data={data}\r\n          tableConfig={rest?.tableConfig}\r\n          isLoading={hookLoading}\r\n          defaultSearchParams={initialStates.searchParams}\r\n          isSearch={!isInbox}\r\n          onFilterChange={handleFilterChange}\r\n          searchFields={getSearchFields()}\r\n          onSearch={handleFilterChange}\r\n          onSort={handleSort}\r\n          onNextPage={fetchNextPage}\r\n          onPrevPage={fetchPrevPage}\r\n          currentPage={Math.floor(pageOffset / pageSize)}\r\n          pageSizeLimit={pageSize}\r\n          disableSort={false}\r\n          onPageSizeChange={handlePageSizeChange}\r\n          parentRoute={parentRoute}\r\n          searchParams={searchParams}\r\n          sortParams={sortParams}\r\n          totalRecords={totalRecords}\r\n          linkPrefix={'/digit-ui/employee/receipts/details/'}\r\n          filterComponent={filterComponent}\r\n        />\r\n      );\r\n    } else {\r\n      return (\r\n        <div>\r\n          {isInbox && <Header>{t(\"CR_SEARCH_COMMON_HEADER\")}</Header>}\r\n          <ReceiptsDesktopInbox\r\n            businessService={businessService}\r\n            data={data}\r\n            isLoading={hookLoading}\r\n            defaultSearchParams={initialStates.searchParams}\r\n            isSearch={!isInbox}\r\n            onFilterChange={handleFilterChange}\r\n            searchFields={getSearchFields()}\r\n            onSearch={handleFilterChange}\r\n            onSort={handleSort}\r\n            onNextPage={fetchNextPage}\r\n            onPrevPage={fetchPrevPage}\r\n            onLastPage={fetchLastPage}\r\n            onFirstPage={fetchFirstPage}\r\n            currentPage={Math.floor(pageOffset / pageSize)}\r\n            pageSizeLimit={pageSize}\r\n            disableSort={false}\r\n            onPageSizeChange={handlePageSizeChange}\r\n            parentRoute={parentRoute}\r\n            searchParams={searchParams}\r\n            sortParams={sortParams}\r\n            totalRecords={totalRecords}\r\n            filterComponent={filterComponent}\r\n          />\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n};\r\n\r\nexport default ReceiptInbox;\r\n","import { EmployeeModuleCard, ReceiptIcon } from \"@egovernments/digit-ui-react-components\";\r\nimport React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { getDefaultReceiptService } from \"./utils\";\r\n\r\nconst ReceiptsCard = () => {\r\n  if (!Digit.Utils.receiptsAccess()) {\r\n    return null;\r\n  }\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const { t } = useTranslation();\r\n  const searchParams = {\r\n    tenantId: tenantId,\r\n    businessServices: getDefaultReceiptService(),\r\n    isCountRequest: true\r\n  };\r\n  const { isLoading, isError, error, data, ...rest } = Digit.Hooks.receipts.useReceiptsSearch(searchParams, tenantId, [], false);\r\n\r\n  const  propsForModuleCard  = {\r\n    Icon: <ReceiptIcon />,\r\n    moduleName: t(\"ACTION_TEST_RECEIPTS\"),\r\n    kpis: [\r\n      {\r\n        count: isLoading ? \"-\" : data?.Count,\r\n        label: t(\"CR_TOTAL_RECEIPTS\"),\r\n        link: `/digit-ui/employee/receipts/inbox`\r\n      },\r\n    ],\r\n    links: [\r\n      {\r\n        count: isLoading ? \"-\" : data?.Count,\r\n        label: t(\"CR_SEARCH_COMMON_HEADER\"),\r\n        link: `/digit-ui/employee/receipts/inbox`\r\n      }\r\n    ]\r\n  }\r\n  return <EmployeeModuleCard {...propsForModuleCard} />\r\n};\r\n\r\nexport default ReceiptsCard;\r\n\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useRouteMatch } from \"react-router-dom\";\r\nimport Banner from \"./components/Banner\";\r\nimport ActionModal from \"./components/Modal\";\r\nimport ReceiptsFilter from \"./components/ReceiptsFilter\";\r\nimport EmployeeApp from \"./pages\";\r\nimport ReceiptAcknowledgement from \"./pages/ReceiptAcknowledgement\";\r\nimport ReceiptDetails from \"./pages/ReceiptDetails\";\r\nimport ReceiptInbox from \"./pages/ReceiptInbox\";\r\nimport ReceiptsCard from \"./receiptHomeCard\";\r\n\r\nexport const ReceiptsModule = ({ stateCode, userType }) => {\r\n  const moduleCode = \"RECEIPTS\";\r\n  const state = useSelector((state) => state);\r\n  const language = state?.common?.selectedLanguage;\r\n  const { isLoading, data: store } = Digit.Services.useStore({ stateCode, moduleCode, language });\r\n  const { path, url } = useRouteMatch();\r\n  if (userType === \"employee\") {\r\n    return <EmployeeApp path={path} url={url} userType={\"employee\"} />;\r\n  } else return null;\r\n};\r\n\r\nconst componentsToRegister = {\r\n  ReceiptsModule,\r\n  ReceiptsCard,\r\n  ReceiptInbox: ReceiptInbox,\r\n  ReceiptAcknowledgement: ReceiptAcknowledgement,\r\n  ReceiptDetails: ReceiptDetails,\r\n  ActionModal,\r\n  Banner,\r\n  RECEIPTS_INBOX_FILTER: (props) => <ReceiptsFilter {...props} />,\r\n};\r\n\r\nexport const initReceiptsComponents = () => {\r\n  Object.entries(componentsToRegister).forEach(([key, value]) => {\r\n    Digit.ComponentRegistryService.setComponent(key, value);\r\n  });\r\n};\r\n"]},"metadata":{},"sourceType":"module"}