{"version":3,"file":"index.modern.js","sources":["../src/components/Banner.js","../src/components/Modal/CancelConfig.js","../src/components/ReceiptCancelModal.js","../src/components/Modal/index.js","../src/utils/index.js","../src/components/ReceiptsFilter.js","../src/pages/index.js","../src/pages/ReceiptAcknowledgement.js","../src/pages/ReceiptDetails.js","../src/components/inbox/ApplicationLinks.js","../src/components/inbox/ApplicationTable.js","../src/components/inbox/search.js","../src/components/inbox/ReceiptsDesktopInbox.js","../src/components/inbox/ApplicationCard.js","../src/components/inbox/ReceiptsMobileInbox.js","../src/pages/ReceiptInbox.js","../src/receiptHomeCard.js","../src/Module.js"],"sourcesContent":["import { CardLabel, LabelFieldPair } from \"@egovernments/digit-ui-react-components\";\r\nimport React from \"react\";\r\n\r\nconst Banner = ({ t, config }) => {\r\n    return (\r\n        <LabelFieldPair>\r\n            <CardLabel className=\"card-label-smaller\" style={{ color: \"white\" }}>.</CardLabel>\r\n            <span className=\"form-field\" style={{ color: \"gray\" }}>{t(config?.texts?.header)}</span>\r\n        </LabelFieldPair>)\r\n}\r\nexport default Banner;","import { Dropdown } from \"@egovernments/digit-ui-react-components\";\r\nimport React from \"react\";\r\n\r\nexport const configCancelConfig = ({ t, selectedReason, Reasons, selectReason }) => {\r\n    return {\r\n        label: {\r\n            heading: `CR_COMMON_HEADER`,\r\n            submit: `CR_CANCEL_RECEIPT_BUTTON`,\r\n        },\r\n        form: [\r\n            {\r\n                body: [\r\n                    {\r\n                        label: t(\"CR_RECEIPT_CANCELLATION_REASON_LABEL\"),\r\n                        type: \"dropdown\",\r\n                        isMandatory: true,\r\n                        name: \"reason\",\r\n                        populators: (\r\n                            <Dropdown isMandatory selected={selectedReason} optionKey=\"name\" option={Reasons} select={selectReason} t={t} />\r\n                        ),\r\n                    },\r\n                    {\r\n                        label: t(\"CR_MORE_DETAILS_LABEL\"),\r\n                        type: \"text\",\r\n                        populators: {\r\n                            name: \"otherDetails\",\r\n                        },\r\n                        // isMandatory:selectedReason?.code==\"OTHER\"?true:false,\r\n                        disable: selectedReason?.code == \"OTHER\" ? false : true,\r\n                    },\r\n                    {\r\n                        label: t(\"CR_ADDITIONAL_PENALTY\"),\r\n                        type: \"text\",\r\n                        populators: {\r\n                            name: \"penalty\",\r\n                            disable: true\r\n                        },\r\n                        disable: true\r\n                    }\r\n                ],\r\n            },\r\n        ],\r\n    };\r\n};","import { FormComposer, Loader, Modal } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { configCancelConfig } from \"./Modal/CancelConfig\";\r\n\r\nconst ReceiptCancelModal = ({ t, action, tenantId, closeModal, submitAction, applicationData, billData }) => {\r\n  const history = useHistory();\r\n  const [config, setConfig] = useState({});\r\n  const [Reasons, setReasons] = useState([]);\r\n  const [selectedReason, selecteReason] = useState(\"\");\r\n  const tenantIds = Digit.ULBService.getCurrentTenantId() || '';\r\n  const tenant = Digit.ULBService.getStateId();\r\n  const { isLoading, isError, errors, data, ...rest } = Digit.Hooks.receipts.useReceiptsMDMS(\r\n    tenant,\r\n    \"CancelReceiptReason\"\r\n  );\r\n\r\n  useEffect(() => {\r\n    return setConfig(\r\n      configCancelConfig({\r\n        t,\r\n        selectedReason,\r\n        Reasons,\r\n        selectReason,\r\n      })\r\n    );\r\n  }, [Reasons, selectedReason]);\r\n\r\n  const Heading = (props) => {\r\n    return <h1 className=\"heading-m\">{props.label}</h1>;\r\n  };\r\n\r\n  function selectReason(e) {\r\n    selecteReason(e);\r\n  }\r\n  const Close = () => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"#FFFFFF\">\r\n      <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\r\n      <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z\" />\r\n    </svg>\r\n  );\r\n\r\n  const CloseBtn = (props) => {\r\n    return (\r\n      <div className=\"icon-bg-secondary\" onClick={props.onClick}>\r\n        <Close />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    setReasons(data?.dropdownData);\r\n  }, [data]);\r\n\r\n\r\n  function submit(data) {\r\n    history.replace(\"/digit-ui/employee/receipts/response\", {\r\n      paymentWorkflow: {\r\n        action: \"CANCEL\",\r\n        additionalDetails: {...data.otherDetails,selectedReasonMessage:t(`CR_REASON_${selectedReason.code}`)},\r\n        paymentId: applicationData?.Payments[0]?.id,\r\n        reason: selectedReason.code,\r\n        tenantId: applicationData?.Payments[0]?.tenantId,\r\n      }, key: \"UPDATE\", action: \"CANCELLATION\", businessService: applicationData?.Payments[0]?.paymentDetails[0]?.businessService\r\n    });\r\n\r\n  }\r\n  if (isLoading) {\r\n    return <Loader></Loader>\r\n  }\r\n  return config?.form ? (\r\n    <Modal\r\n      headerBarMain={<Heading label={t(config?.label?.heading)} />}\r\n      headerBarEnd={<CloseBtn onClick={closeModal} />}\r\n      actionCancelOnSubmit={closeModal}\r\n      actionSaveLabel={t(config?.label?.submit)}\r\n      actionSaveOnSubmit={() => { }}\r\n      formId=\"modal-action\"\r\n      isDisabled={!selectedReason}\r\n    >\r\n      <FormComposer config={config?.form} noBoxShadow inline disabled={true} childrenAtTheBottom onSubmit={submit} formId=\"modal-action\" />\r\n    </Modal>\r\n  ) : (\r\n    <Loader />\r\n  );\r\n};\r\nexport default ReceiptCancelModal;\r\n","import React from \"react\";\r\nimport ReceiptCancelModal from \"../ReceiptCancelModal\";\r\n\r\nconst ActionModal = (props) => {\r\n  return <ReceiptCancelModal {...props} />;\r\n};\r\n\r\nexport default ActionModal;\r\n","/* method to get date from epoch */\r\nexport const convertEpochToDate = (dateEpoch) => {\r\n    // Returning NA in else case because new Date(null) returns Current date from calender\r\n    if (dateEpoch) {\r\n        const dateFromApi = new Date(dateEpoch);\r\n        let month = dateFromApi.getMonth() + 1;\r\n        let day = dateFromApi.getDate();\r\n        let year = dateFromApi.getFullYear();\r\n        month = (month > 9 ? \"\" : \"0\") + month;\r\n        day = (day > 9 ? \"\" : \"0\") + day;\r\n        return `${day}/${month}/${year}`;\r\n    } else {\r\n        return 'NA';\r\n    }\r\n};\r\nexport const stringReplaceAll = (str = \"\", searcher = \"\", replaceWith = \"\") => {\r\n    if (searcher == \"\") return str;\r\n    while (str.includes(searcher)) {\r\n        str = str.replace(searcher, replaceWith);\r\n    }\r\n    return str;\r\n};\r\n\r\n/*   method to check not null  if not returns false*/\r\nexport const checkForNotNull = (value = \"\") => {\r\n    return value && value != null && value != undefined && value != \"\" ? true : false;\r\n};\r\n\r\nexport const convertDotValues = (value = \"\") => {\r\n    return (\r\n        (checkForNotNull(value) && ((value.replaceAll && value.replaceAll(\".\", \"_\")) || (value.replace && stringReplaceAll(value, \".\", \"_\")))) || \"NA\"\r\n    );\r\n};\r\n\r\nexport const convertToLocale = (value = \"\", key = \"\") => {\r\n    let convertedValue = convertDotValues(value);\r\n    if (convertedValue == \"NA\") {\r\n        return \"PT_NA\";\r\n    }\r\n    return `${key}_${convertedValue}`;\r\n};\r\n\r\nconst RECEIPTS_DEFAULT_SERVICE = \"PT\";\r\n\r\nexport const getDefaultReceiptService = () => {\r\n    return RECEIPTS_DEFAULT_SERVICE;\r\n}\r\n\r\nexport const getFinancialYears = (from, to) => {\r\n    const fromDate = new Date(from);\r\n    const toDate = new Date(to);\r\n    if (toDate.getYear() - fromDate.getYear() != 0) {\r\n      return `FY${fromDate.getYear() + 1900}-${toDate.getYear() - 100}`;\r\n    }\r\n    return `${fromDate.toLocaleDateString()}-${toDate.toLocaleDateString()}`;\r\n  }","import { CheckBox, CloseSvg, Dropdown, Loader, SubmitBar,ApplyFilterBar,ActionBar } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { getDefaultReceiptService } from \"../utils\";\r\n\r\nconst ReceiptsFilter = ({ searchParams, onFilterChange, onSearch, removeParam, ...props }) => {\r\n\r\n  const tenantId = Digit.ULBService.getCurrentTenantId() || '';\r\n  const tenant =Digit.ULBService.getStateId();\r\n  const [_searchParams, setSearchParams] = useState(() => searchParams);\r\n  const { t } = useTranslation();\r\n  const defaultService = getDefaultReceiptService();\r\n  const [status, setStatus] = useState([]);\r\n  const [service, setService] = useState({ name: `BILLINGSERVICE_BUSINESSSERVICE_${defaultService}`, code: defaultService });\r\n\r\n  const { data, isLoading, ...rest } = Digit.Hooks.receipts.useReceiptsMDMS(\r\n    tenant,\r\n    \"CancelReceiptReasonAndStatus\"\r\n  );\r\n\r\n  const mdmsStatus = data?.dropdownDataStatus || [];\r\n\r\n  useEffect(() => {\r\n    if (service?.code != _searchParams.businessServices) {\r\n      setSearchParams({ businessServices: service?.code });\r\n    }\r\n  }, [service]);\r\n\r\n  useEffect(() => {\r\n    if (status) {\r\n      setSearchParams({ status: status.join(',') });\r\n    }\r\n  }, [status]);\r\n\r\n  const onCheckBoxClick = (value) => {\r\n    if (status.includes(value)) {\r\n      status.splice(status.findIndex((x) => x == value), 1)\r\n    } else {\r\n      status.push(value)\r\n    }\r\n    setStatus([...status])\r\n  }\r\n\r\n  const clearAll = () => {\r\n    onFilterChange({ delete: Object.keys(searchParams) }, true);\r\n    setStatus([]);\r\n    setService({ name: `BILLINGSERVICE_BUSINESSSERVICE_${defaultService}`, code: defaultService });\r\n    props?.onClose?.();\r\n  };\r\n  if (isLoading) {\r\n    return <Loader />\r\n  }\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"filter\">\r\n        <div className=\"filter-card\">\r\n          <div className=\"heading\">\r\n            <div className=\"filter-label\">{t(\"COMMON_TABLE_FILTERS\")}:</div>\r\n            <div className=\"clearAll\" onClick={clearAll}>\r\n              {t(\"CR_COMMON_CLEAR_ALL\")}\r\n            </div>\r\n            {props.type === \"desktop\" && (\r\n              <span className=\"clear-search\" onClick={clearAll} style={{ border: \"1px solid #e0e0e0\", padding: \"6px\" }}>\r\n                <svg width=\"17\" height=\"17\" viewBox=\"0 0 16 22\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path\r\n                    d=\"M8 5V8L12 4L8 0V3C3.58 3 0 6.58 0 11C0 12.57 0.46 14.03 1.24 15.26L2.7 13.8C2.25 12.97 2 12.01 2 11C2 7.69 4.69 5 8 5ZM14.76 6.74L13.3 8.2C13.74 9.04 14 9.99 14 11C14 14.31 11.31 17 8 17V14L4 18L8 22V19C12.42 19 16 15.42 16 11C16 9.43 15.54 7.97 14.76 6.74Z\"\r\n                    fill=\"#505A5F\"\r\n                  />\r\n                </svg>\r\n              </span>\r\n            )}\r\n            {props.type === \"mobile\" && (\r\n              <span onClick={props.onClose}>\r\n                <CloseSvg />\r\n              </span>\r\n            )}\r\n          </div>\r\n          <div>\r\n            <div>\r\n              <div className=\"filter-label\">{t(\"CR_COMMON_TABLE_COL_STATUS\")}</div>\r\n              {mdmsStatus.map((sta, index) =>\r\n                <CheckBox\r\n                  key={index + \"service\"}\r\n                  label={t(sta?.name)}\r\n                  value={sta?.code}\r\n                  checked={status.includes(sta?.code)}\r\n                  onChange={(event) =>\r\n                    onCheckBoxClick(event.target.value)}\r\n                />\r\n              )}\r\n              <div>\r\n                <div className=\"filter-label\">{t(\"CR_SERVICE_CATEGORY_LABEL\")}</div>\r\n                <Dropdown t={t} option={data?.dropdownData || null} value={service} selected={service} select={setService} optionKey={\"name\"} />\r\n              </div>\r\n              {props.type !== \"mobile\" &&<div>\r\n                <SubmitBar\r\n                  // disabled={status?.length == mdmsStatus?.length&& service?.code == defaultService}\r\n                  onSubmit={() => {onFilterChange(_searchParams)\r\n                    props?.onClose?.()}}\r\n                  label={t(\"ACTION_TEST_APPLY\")}\r\n                />\r\n              </div>}\r\n              {props.type === \"mobile\" &&(  <ActionBar>\r\n                <ApplyFilterBar\r\n                  submit={false}\r\n                  labelLink={t(\"ES_COMMON_CLEAR_ALL\")}\r\n                  buttonLink={t(\"ACTION_TEST_APPLY\")}\r\n                  onSubmit={() => {onFilterChange(_searchParams)\r\n                    props?.onClose?.()}}\r\n                  onClear={() => {clearAll()\r\n                    props?.onClose?.()}}\r\n                  style={{ flex: 1 }}\r\n                />\r\n              </ActionBar>)}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default ReceiptsFilter;\r\n","import { PrivateRoute } from \"@egovernments/digit-ui-react-components\";\r\nimport React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Link, Switch, useLocation } from \"react-router-dom\";\r\nimport { getDefaultReceiptService } from \"../utils\";\r\n\r\nconst EmployeeApp = ({ path, url, userType }) => {\r\n  const { t } = useTranslation();\r\n  const location = useLocation();\r\n  const mobileView = innerWidth <= 640;\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n\r\n  const inboxInitialState = {\r\n    searchParams: {\r\n      tenantId: tenantId,\r\n      businessServices: getDefaultReceiptService(),\r\n    },\r\n  };\r\n\r\n  const ReceiptInbox = Digit.ComponentRegistryService.getComponent(\"ReceiptInbox\");\r\n  const ReceiptAcknowledgement = Digit.ComponentRegistryService.getComponent(\"ReceiptAcknowledgement\");\r\n  const ReceiptDetails = Digit.ComponentRegistryService.getComponent(\"ReceiptDetails\");\r\n\r\n  return (\r\n    <Switch>\r\n      <React.Fragment>\r\n        <div className=\"ground-container\">\r\n          <p className=\"breadcrumb\" style={{ marginLeft: mobileView ? \"2vw\" : \"revert\" }}>\r\n            <Link to=\"/digit-ui/employee\" style={{ cursor: \"pointer\", color: \"#666\" }}>\r\n              {t(\"ES_COMMON_HOME\")}\r\n            </Link>{\" \"}\r\n            / <span>{location.pathname === \"/digit-ui/employee/receipts/inbox\" ? t(\"CR_COMMON_HEADER\") : t(\"CR_COMMON_HEADER\")}</span>\r\n          </p>\r\n          <PrivateRoute\r\n            path={`${path}/inbox`}\r\n            component={() => (\r\n              <ReceiptInbox\r\n                parentRoute={path}\r\n                businessService=\"receipts\"\r\n                filterComponent=\"RECEIPTS_INBOX_FILTER\"\r\n                initialStates={inboxInitialState}\r\n                isInbox={true}\r\n              />\r\n            )}\r\n          />\r\n          <PrivateRoute path={`${path}/inprogress`} component={(props) => <h2>{t(\"CR_RECEIPTS_SCREENS_UNDER_CONSTRUCTION\")}</h2>} />\r\n          <PrivateRoute path={`${path}/response`} component={(props) => <ReceiptAcknowledgement {...props} parentRoute={path} />} />\r\n          <PrivateRoute path={`${path}/details/:service/:id`} component={() => <ReceiptDetails />} />\r\n        </div>\r\n      </React.Fragment>\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default EmployeeApp;\r\n","\r\nimport { ActionBar, Banner, Card, CardText, LinkButton, Loader, SubmitBar } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport const printReciept = async (businessService, consumerCode) => {\r\n  await Digit.Utils.downloadReceipt(consumerCode, businessService, 'consolidatedreceipt');\r\n};\r\n\r\nconst GetMessage = (type, action, isSuccess, isEmployee, t) => {\r\n  return t(`CR_APPLY_${isSuccess ? \"SUCCESS\" : \"FAILURE\"}_MESSAGE_MAIN`);\r\n};\r\n\r\nconst GetActionMessage = (action, isSuccess, isEmployee, t) => {\r\n  return GetMessage(\"ACTION\", action, isSuccess, isEmployee, t);\r\n};\r\n\r\nconst GetLabel = (action, isSuccess, isEmployee, t) => {\r\n  if (isSuccess && action == \"CREATE\") {\r\n    return GetMessage(\"LABEL\", action, isSuccess, isEmployee, t);\r\n  }\r\n};\r\n\r\nconst BannerPicker = (props) => {\r\n  return (\r\n    <Banner\r\n      message={(GetActionMessage(props.action, props.isSuccess, props.isEmployee, props.t))}\r\n      applicationNumber={props?.data?.Payments?.[0]?.paymentDetails[0].receiptNumber}\r\n      info={props.isSuccess ? props.t(\"CR_RECEIPT_NUMBER\") : \"\"}\r\n      successful={props.isSuccess}\r\n    />\r\n  );\r\n};\r\n\r\nconst ReceiptAcknowledgement = (props) => {\r\n  const { t } = useTranslation();\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const { state } = props.location;\r\n  const mutation = Digit.Hooks.receipts.useReceiptsUpdate(tenantId, state?.businessService);\r\n  const [mutationHappened, setMutationHappened, clear] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_RECEIPT_MUTATION_HAPPENED\", false);\r\n  const [errorInfo, setErrorInfo, clearError] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_RECEIPT_ERROR_DATA\", false);\r\n  const [successData, setsuccessData, clearSuccessData] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_RECEIPT_MUTATION_SUCCESS_DATA\", false);\r\n\r\n  useEffect(() => {\r\n    if (mutation.data) setsuccessData(mutation.data);\r\n  }, [mutation.data]);\r\n\r\n  const onError = (error, variables) => {\r\n    setErrorInfo(error?.response?.data?.Errors[0]?.code || 'ERROR');\r\n    setMutationHappened(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const onSuccess = () => {\r\n      setMutationHappened(true);\r\n    };\r\n    if (state.key === \"UPDATE\" && !mutationHappened && !errorInfo) {\r\n      mutation.mutate(\r\n        {\r\n          paymentWorkflows: [state.paymentWorkflow]\r\n        },\r\n        {\r\n          onError,\r\n          onSuccess,\r\n        }\r\n      );\r\n    }\r\n  }, []);\r\n\r\n  const DisplayText = (action, isSuccess, isEmployee, t) => {\r\n    if (!isSuccess) {\r\n      return mutation?.error?.response?.data?.Errors[0].code || errorInfo\r\n    } else {\r\n      Digit.SessionStorage.set(\"isupdate\", Math.floor(100000 + Math.random() * 900000));\r\n      return t('CR_APPLY_FORWARD_SUCCESS');\r\n    }\r\n  };\r\n\r\n  if (mutation.isLoading || (mutation.isIdle && !mutationHappened)) {\r\n    return <Loader />;\r\n  }\r\n  const Payment = mutation?.data?.Payments[0] || successData?.Payments?.[0];\r\n  const isSuccess = !successData ? mutation?.isSuccess : true;\r\n  return (\r\n    <Card>\r\n      <BannerPicker\r\n        t={t}\r\n        data={mutation?.data || successData}\r\n        action={state.action}\r\n        isSuccess={isSuccess}\r\n        isLoading={(mutation.isIdle && !mutationHappened) || mutation?.isLoading}\r\n        isEmployee={props.parentRoute.includes(\"employee\")}\r\n      />\r\n      <CardText>{t(DisplayText(state.action, isSuccess, props.parentRoute.includes(\"employee\"), t), t)}</CardText>\r\n      {isSuccess && (\r\n        <CardText>\r\n          <LinkButton\r\n            label={\r\n              <div className=\"response-download-button\">\r\n                <span>\r\n                  <svg width=\"20\" height=\"18\" viewBox=\"0 0 20 18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path d=\"M17 5H3C1.34 5 0 6.34 0 8V14H4V18H16V14H20V8C20 6.34 18.66 5 17 5ZM14 16H6V11H14V16ZM17 9C16.45 9 16 8.55 16 8C16 7.45 16.45 7 17 7C17.55 7 18 7.45 18 8C18 8.55 17.55 9 17 9ZM16 0H4V4H16V0Z\" fill=\"#F47738\" />\r\n                  </svg>\r\n                </span>\r\n                <span className=\"download-button\">{t(\"COMMON_TABLE_PRINT\")}</span>\r\n              </div>\r\n            }\r\n            style={{ width: \"100px\" }}\r\n            onClick={() => { printReciept(Payment?.paymentDetails[0]?.businessService, Payment?.paymentDetails[0]?.bill?.consumerCode) }}\r\n          />\r\n        </CardText>)}\r\n      <ActionBar>\r\n        <Link to={`${props.parentRoute.includes(\"employee\") ? \"/digit-ui/employee\" : \"/digit-ui/citizen\"}`}>\r\n          <SubmitBar label={t(\"CORE_COMMON_GO_TO_HOME\")} />\r\n        </Link>\r\n      </ActionBar>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default ReceiptAcknowledgement;\r\n","import { ActionBar, Card, Header, Loader, Row, StatusTable, SubmitBar } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport ActionModal from \"../components/Modal\";\r\nimport { convertEpochToDate, convertToLocale, getFinancialYears } from \"../utils\";\r\n\r\nconst canCancelReceipt=(Receipt={})=>{\r\n  return Receipt?.paymentStatus !== \"CANCELLED\" && Receipt?.paymentStatus !== \"DEPOSITED\" && (Receipt?.instrumentStatus == \"APPROVED\" || Receipt?.instrumentStatus == \"REMITTED\");\r\n}\r\n\r\nconst ReceiptDetails = () => {\r\n\r\n  const [showModal, setShowModal] = useState(false);\r\n  const { t } = useTranslation();\r\n  const { id: receiptId, service: businessService } = useParams();\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const isupdate = Digit.SessionStorage.get(\"isupdate\")\r\n  const { isLoading, isError, error, data, ...rest } = Digit.Hooks.receipts.useReceiptsSearch({ receiptNumbers: decodeURIComponent(receiptId), businessServices: businessService }, tenantId, {}, isupdate);\r\n\r\n  const cancelReceipt = () => {\r\n    setShowModal(true);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setShowModal(false);\r\n  };\r\n\r\n  const submitAction = (data) => { };\r\n  useEffect(() => {\r\n    return () => {\r\n      rest?.revalidate();\r\n    }\r\n  }, [])\r\n\r\n  const [mutationHappened, setMutationHappened, clear] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_RECEIPT_MUTATION_HAPPENED\", false);\r\n  const [successData, setsuccessData, clearSuccessData] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_RECEIPT_MUTATION_SUCCESS_DATA\", false);\r\n  const [errorInfo, setErrorInfo, clearError] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_RECEIPT_ERROR_DATA\", false);\r\n  useEffect(() => {\r\n    setMutationHappened(false);\r\n    clearSuccessData();\r\n    clearError();\r\n  }, []);\r\n\r\n  if (isLoading) {\r\n    return <Loader />;\r\n  }\r\n  const PaymentReceipt = !isLoading && data?.Payments?.length > 0 ? data.Payments[0] : {};\r\n  const pendingDue= PaymentReceipt?.totalDue - PaymentReceipt?.totalAmountPaid;\r\n  return (\r\n    <React.Fragment>\r\n      <div style={{ width: \"30%\", fontFamily: \"calibri\", color: \"#FF0000\" }}>\r\n        <Header>{t(\"CR_RECEIPT_SUMMARY\")}</Header>\r\n      </div>\r\n      {!isLoading && data?.Payments?.length > 0 ? (\r\n        <div >\r\n          <Card>\r\n            <StatusTable>\r\n              <Row label={t(\"CR_RECEIPT_NUMBER\")} text={PaymentReceipt?.paymentDetails[0]?.receiptNumber || \"NA\"} textStyle={{ whiteSpace: \"pre\" }} />\r\n              <Row label={t(\"CR_RECEIPT_CONSUMER_NUMBER\")} text={PaymentReceipt?.paymentDetails[0]?.bill?.consumerCode || \"NA\"} textStyle={{ whiteSpace: \"pre\" }} />\r\n              <Row label={t(\"CR_RECEIPT_PAYMENT_DATE\")} text={convertEpochToDate(PaymentReceipt?.paymentDetails[0]?.receiptDate) || \"NA\"} />\r\n              <Row label={t(\"CR_RECEIPT_PAYER_NAME\")} text={PaymentReceipt?.payerName || \"NA\"} />\r\n              <Row label={t(\"CR_RECEIPT_PAYER_NUMBER\")} text={PaymentReceipt?.mobileNumber || \"NA\"} />\r\n              <Row label={t(\"CR_RECEIPT_SERVICE_TYPE\")} text={t(convertToLocale(PaymentReceipt?.paymentDetails[0]?.businessService, 'BILLINGSERVICE_BUSINESSSERVICE')) || \"NA\"} />\r\n              <Row label={t(\"CR_RECEIPT_BILL_PERIOD\")} text={getFinancialYears(PaymentReceipt?.paymentDetails[0]?.bill?.billDetails[0]?.fromPeriod,PaymentReceipt?.paymentDetails[0]?.bill?.billDetails[0]?.toPeriod) || \"NA\"} />\r\n              <Row label={t(\"CR_RECEIPT_AMOUNT\")} text={'₹' + PaymentReceipt?.totalAmountPaid || \"NA\"} />\r\n              <Row label={t(\"CR_RECEIPT_PENDING_AMOUNT\")} text={'₹' + (pendingDue) || \"₹0\"} />\r\n              <Row label={t(\"CR_RECEIPT_PAYMENT_MODE\")} text={PaymentReceipt?.paymentMode ? t(`COMMON_MASTERS_PAYMENTMODE_${PaymentReceipt?.paymentMode}`) || \"NA\" : \"NA\"} />\r\n              <Row label={t(\"CR_RECEIPT_TXN_ID\")} text={PaymentReceipt?.transactionNumber || \"NA\"} />\r\n              <Row label={t(\"CR_RECEIPT_G8_RECEIPT_NO\")} text={PaymentReceipt?.paymentDetails[0]?.manualReceiptNumber || \"NA\"} />\r\n              <Row label={t(\"CR_RECEIPT_G8_RECEIPT_DATE\")} text={convertEpochToDate(PaymentReceipt?.paymentDetails[0]?.manualReceiptDate) || \"NA\"} />\r\n            </StatusTable>\r\n          </Card>\r\n        </div>\r\n      ) : null}\r\n      {showModal ? (\r\n        <ActionModal t={t} tenantId={tenantId} applicationData={data} closeModal={closeModal} submitAction={submitAction} />\r\n      ) : null}\r\n      <ActionBar>\r\n        {canCancelReceipt(PaymentReceipt) && <SubmitBar label={t(\"CR_CANCEL_RECEIPT_BUTTON\")} onSubmit={() => cancelReceipt()} />}\r\n      </ActionBar>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default ReceiptDetails;\r\n","import { AnnouncementIcon, Card } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst InboxLinks = ({ parentRoute, businessService, allLinks, headerText }) => {\r\n  const { t } = useTranslation();\r\n  const [links, setLinks] = useState([]);\r\n  const { roles: userRoles } = Digit.UserService.getUser().info;\r\n  useEffect(() => {\r\n    let linksToShow = allLinks\r\n      .filter((e) => e.businessService === businessService)\r\n      .filter(({ roles }) => roles.some((e) => userRoles.map(({ code }) => code).includes(e)) || !roles.length);\r\n    setLinks(linksToShow);\r\n  }, []);\r\n\r\n  const GetLogo = () => (\r\n    <div className=\"header\">\r\n      <span className=\"logo\">\r\n        <AnnouncementIcon />\r\n      </span>{\" \"}\r\n      <span className=\"text\">{t(headerText)}</span>\r\n    </div>\r\n  );\r\n  return (\r\n    <Card className=\"employeeCard filter inboxLinks\">\r\n      <div className=\"complaint-links-container\">\r\n        {GetLogo()}\r\n        <div className=\"body\">\r\n          {links.map(({ link, text, hyperlink = false, accessTo = [] }, index) => {\r\n            return (\r\n              <span className=\"link\" key={index}>\r\n                {hyperlink ? <a href={link}>{t(text)}</a> : <Link to={link}>{t(text)}</Link>}\r\n              </span>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default InboxLinks;","import { Table } from \"@egovernments/digit-ui-react-components\";\r\nimport React from \"react\";\r\n\r\nconst ApplicationTable = ({ t, columns, data, getCellProps, onNextPage, onPrevPage, currentPage, totalRecords, pageSizeLimit, onPageSizeChange, onLastPage, onFirstPage }) => (\r\n  <Table\r\n    t={t}\r\n    data={data}\r\n    manualPagination={true}\r\n    columns={columns}\r\n    getCellProps={getCellProps}\r\n    onNextPage={onNextPage}\r\n    onPrevPage={onPrevPage}\r\n    currentPage={currentPage}\r\n    totalRecords={totalRecords}\r\n    onLastPage={onLastPage}\r\n    onFirstPage={onFirstPage}\r\n    onPageSizeChange={onPageSizeChange}\r\n    pageSizeLimit={pageSizeLimit}\r\n  />\r\n);\r\n\r\nexport default ApplicationTable;\r\n","import { ActionBar, CloseSvg, DatePicker, Label, LinkLabel, MobileNumber, SubmitBar, TextInput } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useEffect } from \"react\";\r\nimport { Controller, useForm } from \"react-hook-form\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nconst fieldComponents = {\r\n  date: DatePicker,\r\n  mobileNumber: MobileNumber,\r\n};\r\n\r\nconst SearchApplication = ({ onSearch, type, onClose, searchFields, searchParams, isInboxPage, defaultSearchParams, clearSearch: _clearSearch }) => {\r\n  const { t } = useTranslation();\r\n  const { register, handleSubmit, reset, watch, control, setError, clearErrors, formState } = useForm({\r\n    defaultValues: searchParams,\r\n  });\r\n\r\n  const form = watch();\r\n  const mobileView = innerWidth <= 640;\r\n\r\n\r\n  useEffect(() => {\r\n    searchFields.forEach(({ pattern, name, maxLength, minLength, errorMessages, ...el }) => {\r\n      const value = form[name];\r\n      const error = formState.errors[name];\r\n      if (pattern) {\r\n        if (!new RegExp(pattern).test(value) && !error)\r\n          setError(name, { type: \"pattern\", message: t(errorMessages?.pattern) || t(`PATTERN_${name.toUpperCase()}_FAILED`) });\r\n        else if (new RegExp(pattern).test(value) && error?.type === \"pattern\") clearErrors([name]);\r\n      }\r\n      if (minLength) {\r\n        if (value?.length < minLength && !error)\r\n          setError(name, { type: \"minLength\", message: t(errorMessages?.minLength || `MINLENGTH_${name.toUpperCase()}_FAILED`) });\r\n        else if (value?.length >= minLength && error?.type === \"minLength\") clearErrors([name]);\r\n      }\r\n      if (maxLength) {\r\n        if (value?.length > maxLength && !error)\r\n          setError(name, { type: \"maxLength\", message: t(errorMessages?.maxLength || `MAXLENGTH_${name.toUpperCase()}_FAILED`) });\r\n        else if (value?.length <= maxLength && error?.type === \"maxLength\") clearErrors([name]);\r\n      }\r\n    });\r\n  }, [form, formState, setError, clearErrors]);\r\n\r\n  const onSubmitInput = (data) => {\r\n    if (true) {\r\n      if (!data.mobileNumber) {\r\n        delete data.mobileNumber;\r\n      }\r\n      data.delete = [];\r\n      searchFields.forEach((field) => {\r\n        if (!data[field.name]) data.delete.push(field.name);\r\n      });\r\n      onSearch(data);\r\n      if (type === \"mobile\") {\r\n        onClose();\r\n      }\r\n    }\r\n  };\r\n\r\n  function clearSearch() {\r\n    const resetValues = searchFields.reduce((acc, field) => ({ ...acc, [field?.name]: \"\" }), {});\r\n    reset(resetValues);\r\n    const _newParams = { ...searchParams };\r\n    _newParams.delete = [];\r\n    searchFields.forEach((e) => {\r\n      _newParams.delete.push(e?.name);\r\n    });\r\n    onSearch({ ..._newParams }, true);\r\n    if (type === \"mobile\") {\r\n      onClose();\r\n    }\r\n  }\r\n\r\n  const clearAll = (mobileView) => {\r\n    const mobileViewStyles = mobileView ? { margin: 0 } : {};\r\n    return (\r\n      <LinkLabel style={{ display: \"inline\", ...mobileViewStyles }} onClick={clearSearch}>\r\n        {t(\"CR_RESET_BUTTON\")}\r\n      </LinkLabel>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit(onSubmitInput)}>\r\n      <React.Fragment>\r\n        <div className=\"search-container\" style={{ width: \"auto\", marginLeft: isInboxPage ? \"24px\" : \"revert\" }}>\r\n          <div className=\"search-complaint-container\">\r\n            {(type === \"mobile\" || mobileView) && (\r\n              <div className=\"complaint-header\" style={{ display: 'flex', justifyContent: \"space-between\" }}>\r\n                <h2>{t(\"ES_COMMON_SEARCH_BY\")}</h2>\r\n                <span onClick={onClose}>\r\n                  <CloseSvg />\r\n                </span>\r\n              </div>\r\n            )}\r\n            <div className=\"complaint-input-container\" style={{ width: \"100%\" }}>\r\n              {searchFields\r\n                ?.filter((e) => true)\r\n                ?.map((input, index) => (\r\n                  <div key={input.name} className=\"input-fields\">\r\n                    <span className={\"mobile-input\"}>\r\n                      <Label>{t(input.label)}</Label>\r\n                      {!input.type ? (\r\n                        <Controller\r\n                          render={(props) => {\r\n                            return <div className=\"field-container\">\r\n                              {input?.componentInFront ? (\r\n                                <span className=\"employee-card-input employee-card-input--front\" style={{ flex: \"none\" }}>\r\n                                  {input?.componentInFront}\r\n                                </span>\r\n                              ) : null}\r\n                              <TextInput {...input} inputRef={register} watch={watch} shouldUpdate={true} />\r\n                            </div>\r\n                          }}\r\n                          name={input.name}\r\n                          control={control}\r\n                          defaultValue={\"\"}\r\n                        />\r\n                      ) : (\r\n                        <Controller\r\n                          render={(props) => {\r\n                            const Comp = fieldComponents?.[input.type];\r\n                            return <Comp onChange={props.onChange} value={props.value} />;\r\n                          }}\r\n                          name={input.name}\r\n                          control={control}\r\n                          defaultValue={\"\"}\r\n                        />\r\n                      )}\r\n                    </span>\r\n                    {formState?.dirtyFields?.[input.name] ? (\r\n                      <span\r\n                        style={{ fontWeight: \"700\", color: \"rgba(212, 53, 28)\", paddingLeft: \"8px\", marginTop: \"-20px\", fontSize: \"12px\" }}\r\n                        className=\"inbox-search-form-error\"\r\n                      >\r\n                        {formState?.errors?.[input.name]?.message}\r\n                      </span>\r\n                    ) : null}\r\n                  </div>\r\n                ))}\r\n              {type === \"desktop\" && !mobileView && !isInboxPage && (\r\n                <div className=\"search-action-wrapper\">\r\n                  <SubmitBar\r\n                    className=\"submit-bar-search\"\r\n                    label={t(\"CR_SEARCH_BUTTON\")}\r\n                    // disabled={!!Object.keys(formState.errors).length || Object.keys(form).every((key) => !form?.[key])}\r\n                    submit\r\n                  />\r\n                  <div style={{ width: \"100%\", textAlign: \"right\", width: \"240px\", textAlign: \"right\", marginLeft: \"96px\", marginTop: \"8px\" }}>\r\n                    {clearAll()}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n            {isInboxPage && (\r\n              <div className=\"inbox-action-container\">\r\n                {type === \"desktop\" && !mobileView && (\r\n                  <span style={{ paddingTop: \"9px\" }} className=\"clear-search\">\r\n                    {clearAll()}\r\n                  </span>\r\n                )}\r\n                {type === \"desktop\" && !mobileView && (\r\n                  <SubmitBar\r\n                    style={{ marginTop: \"unset\" }}\r\n                    className=\"submit-bar-search\"\r\n                    label={t(\"CR_SEARCH_BUTTON\")}\r\n                    submit\r\n                  />\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n        {(type === \"mobile\" || mobileView) && (\r\n          <ActionBar className=\"clear-search-container\">\r\n            <button className=\"clear-search\" style={{ flex: 1 }}>\r\n              {clearAll(mobileView)}\r\n            </button>\r\n            <SubmitBar\r\n              label={t(\"CR_SEARCH_BUTTON\")} style={{ flex: 1 }} submit={true} />\r\n          </ActionBar>\r\n        )}\r\n      </React.Fragment>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default SearchApplication;","import { Card, Loader } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\nimport InboxLinks from \"./ApplicationLinks\";\r\nimport ApplicationTable from \"./ApplicationTable\";\r\nimport SearchApplication from \"./search\";\r\n\r\nconst ReceiptsDesktopInbox = ({ tableConfig, filterComponent, ...props }) => {\r\n  const { t } = useTranslation();\r\n  const tenantIds = Digit.SessionStorage.get(\"HRMS_TENANTS\");\r\n  const GetCell = (value) => <span className=\"cell-text\">{t(value)}</span>;\r\n  const GetDateCell = (value) => {\r\n    const date = new Date(value);\r\n    return <span className=\"cell-text\">{date?.toLocaleDateString()}</span>\r\n  };\r\n  const GetSlaCell = (value, t, prefix = '') => {\r\n    return value == \"CANCELLED\" ? <span className=\"sla-cell-error\">{t(`${prefix}${value}`) || \"\"}</span> : <span className=\"sla-cell-success\">{t(`${prefix}${value}`) || \"\"}</span>;\r\n  };\r\n  const data = props?.data?.Payments;\r\n  const [FilterComponent, setComp] = useState(() => Digit.ComponentRegistryService?.getComponent(filterComponent));\r\n  const columns = React.useMemo(() => {\r\n    return [\r\n      {\r\n        Header: t(\"CR_COMMON_TABLE_COL_RECEIPT_NO\"),\r\n        disableSortBy: true,\r\n        Cell: ({ row }) => {\r\n          return (\r\n            <span className=\"link\">\r\n              <Link to={`/digit-ui/employee/receipts/details/${row.original?.paymentDetails[0]?.businessService}/${encodeURIComponent(row.original?.paymentDetails[0]?.receiptNumber)}`}>{row.original?.paymentDetails[0]?.receiptNumber}</Link>\r\n            </span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        Header: t(\"CR_COMMON_TABLE_COL_DATE\"),\r\n        disableSortBy: true,\r\n        Cell: ({ row }) => {\r\n          return GetDateCell(row.original?.transactionDate);\r\n        },\r\n      },\r\n      {\r\n        Header: t(\"CR_COMMON_TABLE_CONSUMERCODE\"),\r\n        disableSortBy: true,\r\n        Cell: ({ row }) => {\r\n          return GetCell(`${row.original?.paymentDetails[0]?.bill?.consumerCode}`);\r\n        },\r\n      },\r\n      {\r\n        Header: t(\"CR_COMMON_TABLE_COL_PAYEE_NAME\"),\r\n        disableSortBy: true,\r\n        Cell: ({ row }) => {\r\n          return GetCell(`${row.original?.payerName}`);\r\n        },\r\n      },\r\n      {\r\n        Header: t(\"CR_SERVICE_TYPE_LABEL\"),\r\n        disableSortBy: true,\r\n        Cell: ({ row }) => {\r\n          return GetCell(`${t(\"BILLINGSERVICE_BUSINESSSERVICE_\" + row.original?.paymentDetails[0]?.businessService)}`);\r\n        },\r\n      },\r\n      {\r\n        Header: t(\"CR_COMMON_TABLE_COL_STATUS\"),\r\n        disableSortBy: true,\r\n        Cell: ({ row }) => {\r\n          return GetSlaCell(`${row.original?.paymentStatus}`, t, 'RC_');\r\n        },\r\n      },\r\n\r\n    ];\r\n  }, []);\r\n\r\n  let result;\r\n  if (props.isLoading) {\r\n    result = <Loader />;\r\n  } else if (data?.length === 0) {\r\n    result = (\r\n      <Card style={{ marginTop: 20 }}>\r\n        {t(\"CS_MYAPPLICATIONS_NO_APPLICATION\")\r\n          .split(\"\\\\n\")\r\n          .map((text, index) => (\r\n            <p key={index} style={{ textAlign: \"center\" }}>\r\n              {text}\r\n            </p>\r\n          ))}\r\n      </Card>\r\n    );\r\n  } else if (data?.length > 0) {\r\n    result = (\r\n      <ApplicationTable\r\n        t={t}\r\n        data={data}\r\n        columns={columns}\r\n        getCellProps={(cellInfo) => {\r\n          return {\r\n            style: {\r\n              maxWidth: cellInfo.column.Header === t(\"HR_EMP_ID_LABEL\") ? \"140px\" : \"\",\r\n              padding: \"20px 18px\",\r\n              fontSize: \"16px\",\r\n            },\r\n          };\r\n        }}\r\n        onPageSizeChange={props.onPageSizeChange}\r\n        currentPage={props.currentPage}\r\n        onNextPage={props.onNextPage}\r\n        onPrevPage={props.onPrevPage}\r\n        onLastPage={props.onLastPage}\r\n        onFirstPage={props.onFirstPage}\r\n        pageSizeLimit={props.pageSizeLimit}\r\n        onSort={props.onSort}\r\n        disableSort={props.disableSort}\r\n        onPageSizeChange={props.onPageSizeChange}\r\n        sortParams={props.sortParams}\r\n        totalRecords={props.totalRecords}\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"inbox-container\">\r\n      {!props.isSearch && (\r\n        <div className=\"filters-container\">\r\n          <InboxLinks\r\n            parentRoute={props.parentRoute}\r\n            allLinks={[\r\n              {\r\n                text: \"CR_COMMON_DASHBOARD_HEADER\",\r\n                link: \"/digit-ui/employee/receipts/inprogress\",\r\n                businessService: \"receipts\",\r\n                roles: [\"CR_PT\"],\r\n              },\r\n              {\r\n                text: \"CR_COMMON_REPORTS_HEADER\",\r\n                link: \"/digit-ui/employee/receipts/inprogress\",\r\n                businessService: \"receipts\",\r\n                roles: [\"CR_PT\"],\r\n              }\r\n            ]}\r\n            headerText={t(\"ACTION_TEST_RECEIPTS\")}\r\n            businessService={props.businessService}\r\n          />\r\n          <div>\r\n            {\r\n              <FilterComponent\r\n                defaultSearchParams={props.defaultSearchParams}\r\n                onFilterChange={props.onFilterChange}\r\n                searchParams={props.searchParams}\r\n                type=\"desktop\"\r\n                tenantIds={tenantIds}\r\n              />\r\n            }\r\n          </div>\r\n        </div>\r\n      )}\r\n      <div style={{ flex: 1 }}>\r\n        <SearchApplication\r\n          defaultSearchParams={props.defaultSearchParams}\r\n          onSearch={props.onSearch}\r\n          type=\"desktop\"\r\n          tenantIds={tenantIds}\r\n          searchFields={props.searchFields}\r\n          isInboxPage={!props?.isSearch}\r\n          searchParams={props.searchParams}\r\n        />\r\n        <div className=\"result\" style={{ marginLeft: !props?.isSearch ? \"24px\" : \"\", flex: 1 }}>\r\n          {result}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReceiptsDesktopInbox;\r\n","import { Card, DetailsCard, FilterAction, Loader, PopUp, SearchAction } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport ReceiptsFilter from \"../ReceiptsFilter\";\r\nimport SearchApplication from \"./search\";\r\nexport const ApplicationCard = ({\r\n  t,\r\n  data,\r\n  onFilterChange,\r\n  onSearch,\r\n  onSort,\r\n  serviceRequestIdKey,\r\n  isFstpOperator,\r\n  isLoading,\r\n  isSearch,\r\n  searchParams,\r\n  searchFields,\r\n  sortParams,\r\n  linkPrefix,\r\n  removeParam,\r\n  defaultSearchParams\r\n}) => {\r\n\r\n  const [type, setType] = useState(isSearch ? \"SEARCH\" : \"\");\r\n  const [popup, setPopup] = useState(isSearch ? true : false);\r\n  const [params, setParams] = useState(searchParams);\r\n  const [_sortparams, setSortParams] = useState(sortParams);\r\n  const selectParams = (param) => {\r\n    setParams((o) => ({ ...o, ...param }));\r\n  };\r\n  const clearParam = () => {\r\n    setParams({});\r\n  };\r\n  const onSearchPara = (param) => {\r\n    onFilterChange({ ...params, ...param });\r\n    setType(\"\");\r\n    setPopup(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (type) setPopup(true);\r\n  }, [type]);\r\n  const DSO = Digit.UserService.hasAccess([\"FSM_DSO\"]) || false;\r\n  const handlePopupClose = () => {\r\n    setPopup(false);\r\n    setType(\"\");\r\n    setParams(searchParams);\r\n    setSortParams(sortParams);\r\n  };\r\n  const onSearchSortParams = (d) => {\r\n    setSortParams(d);\r\n    setPopup(false);\r\n    setType(\"\");\r\n    onSort(d);\r\n  };\r\n  if (isLoading) {\r\n    return <Loader />;\r\n  }\r\n\r\n\r\n  let result;\r\n  if (!data || data?.length === 0) {\r\n    result = (\r\n      <Card style={{ marginTop: 20 }}>\r\n        {t(\"CS_MYAPPLICATIONS_NO_APPLICATION\")\r\n          .split(\"\\\\n\")\r\n          .map((text, index) => (\r\n            <p key={index} style={{ textAlign: \"center\" }}>\r\n              {text}\r\n            </p>\r\n          ))}\r\n      </Card>\r\n    );\r\n  } else if (data && data?.length > 0) {\r\n    result = (\r\n      <DetailsCard\r\n        data={data}\r\n        serviceRequestIdKey={serviceRequestIdKey}\r\n        linkPrefix={linkPrefix ? linkPrefix : DSO ? \"/digit-ui/employee/fsm/application-details/\" : \"/digit-ui/employee/fsm/\"}\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"searchBox\">\r\n        {onSearch && (\r\n          <SearchAction\r\n            text=\"SEARCH\"\r\n            handleActionClick={() => {\r\n              setType(\"SEARCH\");\r\n              setPopup(true);\r\n            }}\r\n          />\r\n        )}\r\n        {!isSearch && onFilterChange && (\r\n          <FilterAction\r\n            text=\"FILTER\"\r\n            handleActionClick={() => {\r\n              setType(\"FILTER\");\r\n              setPopup(true);\r\n            }}\r\n          />\r\n        )}\r\n        {/* <FilterAction\r\n          text=\"SORT\"\r\n          handleActionClick={() => {\r\n            setType(\"SORT\");\r\n            setPopup(true);\r\n          }}\r\n        /> */}\r\n      </div>\r\n      {result}\r\n      {popup && (\r\n        <PopUp>\r\n          {type === \"FILTER\" && (\r\n            <div className=\"popup-module\">\r\n              {\r\n                <ReceiptsFilter\r\n                  defaultSearchParams={defaultSearchParams}\r\n                  onFilterChange={onFilterChange}\r\n                  searchParams={searchParams}\r\n                  type=\"mobile\"\r\n                  onClose={handlePopupClose}\r\n                />\r\n              }\r\n            </div>\r\n          )}\r\n          {type === \"SEARCH\" && (\r\n            <div className=\"popup-module\">\r\n              <SearchApplication\r\n                type=\"mobile\"\r\n                onClose={handlePopupClose}\r\n                onSearch={onSearch}\r\n                isFstpOperator={isFstpOperator}\r\n                searchParams={searchParams}\r\n                searchFields={searchFields}\r\n              />\r\n            </div>\r\n          )}\r\n        </PopUp>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { ApplicationCard } from \"./ApplicationCard\";\r\n\r\nconst GetDateCell = (value) => {\r\n  const date = new Date(value);\r\n  return <span className=\"sla-cell\">{date?.toLocaleDateString()}</span>\r\n};\r\nconst GetCell = (value) => <span className=\"sla-cell\">{value}</span>;\r\n\r\nconst ReceiptsMobileInbox = ({\r\n  data,\r\n  isLoading,\r\n  isSearch,\r\n  searchFields,\r\n  onFilterChange,\r\n  onSearch,\r\n  onSort,\r\n  parentRoute,\r\n  searchParams,\r\n  sortParams,\r\n  linkPrefix,\r\n  tableConfig,\r\n  filterComponent,\r\n  allLinks,\r\n  defaultSearchParams\r\n}) => {\r\n  \r\n  const { t } = useTranslation();\r\n  const getData = () => {\r\n    return data?.Payments?.map((original) => ({\r\n      [t(\"CR_COMMON_TABLE_COL_RECEIPT_NO\")]: original?.paymentDetails[0]?.receiptNumber,\r\n      [t(\"CR_COMMON_TABLE_COL_DATE\")]: GetDateCell(original?.transactionDate || \"\"),\r\n      [t(\"CR_COMMON_TABLE_CONSUMERCODE\")]: GetCell(original?.paymentDetails[0]?.bill?.consumerCode || \"\"),\r\n      [t(\"CR_COMMON_TABLE_COL_PAYEE_NAME\")]: GetCell(original?.payerName),\r\n      [t(\"CR_SERVICE_TYPE_LABEL\")]: GetCell(t(`BILLINGSERVICE_BUSINESSSERVICE_${original?.paymentDetails[0]?.businessService}`)),\r\n      [t(\"CR_COMMON_TABLE_COL_STATUS\")]: GetCell(t(`RC_${original?.paymentStatus}`)),\r\n    }));\r\n  };\r\n  const serviceRequestIdKey = (original) => {return `${searchParams?.businessServices}/${encodeURIComponent(original?.[t(\"CR_COMMON_TABLE_COL_RECEIPT_NO\")])}`};\r\n  return (\r\n    <div style={{ padding: 0 }}>\r\n      <div className=\"inbox-container\">\r\n        <div className=\"filters-container\">\r\n          {/* {!isSearch && <ApplicationLinks linkPrefix={parentRoute} allLinks={allLinks} isMobile={true} />} */}\r\n          <ApplicationCard\r\n            t={t}\r\n            data={getData()}\r\n            onFilterChange={onFilterChange}\r\n            isLoading={isLoading}\r\n            isSearch={isSearch}\r\n            onSearch={onSearch}\r\n            onSort={onSort}\r\n            defaultSearchParams={defaultSearchParams}\r\n            searchParams={searchParams}\r\n            searchFields={searchFields}\r\n            linkPrefix={linkPrefix}\r\n            sortParams={sortParams}\r\n            filterComponent={filterComponent}\r\n            serviceRequestIdKey={serviceRequestIdKey}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReceiptsMobileInbox;\r\n","import { Header, Loader } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useCallback, useEffect, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport ReceiptsDesktopInbox from \"../components/inbox/ReceiptsDesktopInbox\";\r\nimport ReceiptsMobileInbox from \"../components/inbox/ReceiptsMobileInbox\";\r\n\r\nconst ReceiptInbox = ({ parentRoute, businessService = \"receipts\", initialStates = {}, filterComponent, isInbox }) => {\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const isupdate = Digit.SessionStorage.get(\"isupdate\");\r\n  const { t } = useTranslation();\r\n  const [pageOffset, setPageOffset] = useState(initialStates.pageOffset || 0);\r\n  const [pageSize, setPageSize] = useState(initialStates.pageSize || 10);\r\n  const [sortParams, setSortParams] = useState(initialStates.sortParams || [{ id: \"createdTime\", desc: false }]);\r\n  const [totalRecords, setTotalRecords] = useState(0);\r\n  const [searchParams, setSearchParams] = useState(() => {\r\n    return initialStates.searchParams || {};\r\n  });\r\n  const { isLoading: countLoading, data: countData, ...rest1 } = Digit.Hooks.receipts.useReceiptsSearch({ ...searchParams, isCountRequest: true }, tenantId, [], isupdate);\r\n  let isMobile = window.Digit.Utils.browser.isMobile();\r\n\r\n  let paginationParams = isMobile\r\n    ? { limit: 100, offset: pageOffset, sortOrder: sortParams?.[0]?.desc ? \"DESC\" : \"ASC\" }\r\n    : { limit: pageSize, offset: pageOffset, sortOrder: sortParams?.[0]?.desc ? \"DESC\" : \"ASC\" };\r\n\r\n  const { isLoading: hookLoading, isError, error, data, ...rest } = Digit.Hooks.receipts.useReceiptsSearch(searchParams, tenantId, paginationParams, isupdate);\r\n  let isLoading = false;\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      rest?.revalidate();\r\n    }\r\n  }, [])\r\n  useEffect(() => { setTotalRecords(countData?.Count) }, [countData])\r\n  useEffect(() => {\r\n    setPageOffset(0);\r\n  }, [searchParams]);\r\n\r\n  const fetchNextPage = () => {\r\n    setPageOffset((prevState) => prevState + pageSize);\r\n  };\r\n\r\n  const fetchPrevPage = () => {\r\n    setPageOffset((prevState) => prevState - pageSize);\r\n  };\r\n  const fetchLastPage = () => {\r\n    setPageOffset((prevState) => countData?.Count && (Math.ceil(countData?.Count / 10) * 10 - pageSize));\r\n  };\r\n\r\n  const fetchFirstPage = () => {\r\n    setPageOffset((prevState) => 0);\r\n  };\r\n  const handleFilterChange = (filterParam, reset = false) => {\r\n    if (!reset) {\r\n      let keys_to_delete = filterParam.delete;\r\n      let _new = { ...searchParams, ...filterParam };\r\n      if (keys_to_delete) keys_to_delete.forEach((key) => delete _new[key]);\r\n      filterParam.delete;\r\n      delete _new.delete;\r\n      setSearchParams({ ..._new });\r\n    } else {\r\n      setSearchParams({ ...initialStates.searchParams });\r\n    }\r\n\r\n  };\r\n\r\n  const handleSort = useCallback((args) => {\r\n    if (args.length === 0) return;\r\n    setSortParams(args);\r\n  }, []);\r\n\r\n  const handlePageSizeChange = (e) => {\r\n    setPageSize(Number(e.target.value));\r\n  };\r\n\r\n  const getSearchFields = () => {\r\n    return [\r\n      // {\r\n      //   label: t(\"CR_SERVICE_CATEGORY_LABEL\"),\r\n      //   name: \"service\",\r\n      // },\r\n      {\r\n        label: t(\"CR_CONSUMER_NO_LABEL\"),\r\n        name: \"consumerCodes\",\r\n      },\r\n      {\r\n        label: t(\"CR_RECEPIT_NO_LABEL\"),\r\n        name: \"receiptNumbers\",\r\n      },\r\n      {\r\n        label: t(\"CR_MOBILE_NO_LABEL\"),\r\n        name: \"mobileNumber\",\r\n        maxlength: 10,\r\n        pattern: \"[6-9][0-9]{9}\",\r\n        title: t(\"ES_SEARCH_APPLICATION_MOBILE_INVALID\"),\r\n        componentInFront: \"+91\",\r\n      },\r\n    ];\r\n  };\r\n\r\n  if (isLoading) {\r\n    return <Loader />;\r\n  }\r\n\r\n  if (data?.length !== null) {\r\n    if (isMobile) {\r\n      return (\r\n        <ReceiptsMobileInbox\r\n          businessService={businessService}\r\n          data={data}\r\n          tableConfig={rest?.tableConfig}\r\n          isLoading={hookLoading}\r\n          defaultSearchParams={initialStates.searchParams}\r\n          isSearch={!isInbox}\r\n          onFilterChange={handleFilterChange}\r\n          searchFields={getSearchFields()}\r\n          onSearch={handleFilterChange}\r\n          onSort={handleSort}\r\n          onNextPage={fetchNextPage}\r\n          onPrevPage={fetchPrevPage}\r\n          currentPage={Math.floor(pageOffset / pageSize)}\r\n          pageSizeLimit={pageSize}\r\n          disableSort={false}\r\n          onPageSizeChange={handlePageSizeChange}\r\n          parentRoute={parentRoute}\r\n          searchParams={searchParams}\r\n          sortParams={sortParams}\r\n          totalRecords={totalRecords}\r\n          linkPrefix={'/digit-ui/employee/receipts/details/'}\r\n          filterComponent={filterComponent}\r\n        />\r\n      );\r\n    } else {\r\n      return (\r\n        <div>\r\n          {isInbox && <Header>{t(\"CR_SEARCH_COMMON_HEADER\")}</Header>}\r\n          <ReceiptsDesktopInbox\r\n            businessService={businessService}\r\n            data={data}\r\n            isLoading={hookLoading}\r\n            defaultSearchParams={initialStates.searchParams}\r\n            isSearch={!isInbox}\r\n            onFilterChange={handleFilterChange}\r\n            searchFields={getSearchFields()}\r\n            onSearch={handleFilterChange}\r\n            onSort={handleSort}\r\n            onNextPage={fetchNextPage}\r\n            onPrevPage={fetchPrevPage}\r\n            onLastPage={fetchLastPage}\r\n            onFirstPage={fetchFirstPage}\r\n            currentPage={Math.floor(pageOffset / pageSize)}\r\n            pageSizeLimit={pageSize}\r\n            disableSort={false}\r\n            onPageSizeChange={handlePageSizeChange}\r\n            parentRoute={parentRoute}\r\n            searchParams={searchParams}\r\n            sortParams={sortParams}\r\n            totalRecords={totalRecords}\r\n            filterComponent={filterComponent}\r\n          />\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n};\r\n\r\nexport default ReceiptInbox;\r\n","import { EmployeeModuleCard, ReceiptIcon } from \"@egovernments/digit-ui-react-components\";\r\nimport React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { getDefaultReceiptService } from \"./utils\";\r\n\r\nconst ReceiptsCard = () => {\r\n  if (!Digit.Utils.receiptsAccess()) {\r\n    return null;\r\n  }\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const { t } = useTranslation();\r\n  const searchParams = {\r\n    tenantId: tenantId,\r\n    businessServices: getDefaultReceiptService(),\r\n    isCountRequest: true\r\n  };\r\n  const { isLoading, isError, error, data, ...rest } = Digit.Hooks.receipts.useReceiptsSearch(searchParams, tenantId, [], false);\r\n\r\n  const  propsForModuleCard  = {\r\n    Icon: <ReceiptIcon />,\r\n    moduleName: t(\"ACTION_TEST_RECEIPTS\"),\r\n    kpis: [\r\n      {\r\n        count: isLoading ? \"-\" : data?.Count,\r\n        label: t(\"CR_TOTAL_RECEIPTS\"),\r\n        link: `/digit-ui/employee/receipts/inbox`\r\n      },\r\n    ],\r\n    links: [\r\n      {\r\n        count: isLoading ? \"-\" : data?.Count,\r\n        label: t(\"CR_SEARCH_COMMON_HEADER\"),\r\n        link: `/digit-ui/employee/receipts/inbox`\r\n      }\r\n    ]\r\n  }\r\n  return <EmployeeModuleCard {...propsForModuleCard} />\r\n};\r\n\r\nexport default ReceiptsCard;\r\n\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useRouteMatch } from \"react-router-dom\";\r\nimport Banner from \"./components/Banner\";\r\nimport ActionModal from \"./components/Modal\";\r\nimport ReceiptsFilter from \"./components/ReceiptsFilter\";\r\nimport EmployeeApp from \"./pages\";\r\nimport ReceiptAcknowledgement from \"./pages/ReceiptAcknowledgement\";\r\nimport ReceiptDetails from \"./pages/ReceiptDetails\";\r\nimport ReceiptInbox from \"./pages/ReceiptInbox\";\r\nimport ReceiptsCard from \"./receiptHomeCard\";\r\n\r\nexport const ReceiptsModule = ({ stateCode, userType }) => {\r\n  const moduleCode = \"RECEIPTS\";\r\n  const state = useSelector((state) => state);\r\n  const language = state?.common?.selectedLanguage;\r\n  const { isLoading, data: store } = Digit.Services.useStore({ stateCode, moduleCode, language });\r\n  const { path, url } = useRouteMatch();\r\n  if (userType === \"employee\") {\r\n    return <EmployeeApp path={path} url={url} userType={\"employee\"} />;\r\n  } else return null;\r\n};\r\n\r\nconst componentsToRegister = {\r\n  ReceiptsModule,\r\n  ReceiptsCard,\r\n  ReceiptInbox: ReceiptInbox,\r\n  ReceiptAcknowledgement: ReceiptAcknowledgement,\r\n  ReceiptDetails: ReceiptDetails,\r\n  ActionModal,\r\n  Banner,\r\n  RECEIPTS_INBOX_FILTER: (props) => <ReceiptsFilter {...props} />,\r\n};\r\n\r\nexport const initReceiptsComponents = () => {\r\n  Object.entries(componentsToRegister).forEach(([key, value]) => {\r\n    Digit.ComponentRegistryService.setComponent(key, value);\r\n  });\r\n};\r\n"],"names":["Banner","t","config","color","texts","header","configCancelConfig","selectedReason","Reasons","selectReason","label","heading","submit","form","body","type","isMandatory","name","populators","disable","code","ReceiptCancelModal","action","closeModal","submitAction","applicationData","history","useHistory","useState","setConfig","setReasons","selecteReason","tenantIds","Digit","ULBService","getCurrentTenantId","tenant","getStateId","Hooks","receipts","useReceiptsMDMS","isLoading","isError","data","rest","useEffect","Heading","props","e","Close","CloseBtn","onClick","dropdownData","replace","paymentWorkflow","additionalDetails","otherDetails","selectedReasonMessage","paymentId","Payments","id","reason","tenantId","key","businessService","paymentDetails","ActionModal","convertEpochToDate","dateEpoch","dateFromApi","Date","month","getMonth","day","getDate","year","getFullYear","stringReplaceAll","str","searcher","replaceWith","includes","checkForNotNull","value","undefined","convertDotValues","replaceAll","convertToLocale","convertedValue","RECEIPTS_DEFAULT_SERVICE","getDefaultReceiptService","getFinancialYears","from","to","fromDate","toDate","getYear","toLocaleDateString","ReceiptsFilter","searchParams","onFilterChange","onSearch","_searchParams","setSearchParams","useTranslation","defaultService","status","setStatus","service","setService","mdmsStatus","dropdownDataStatus","businessServices","join","onCheckBoxClick","splice","findIndex","x","push","clearAll","delete","Object","keys","onClose","border","padding","map","sta","index","event","target","flex","EmployeeApp","path","location","useLocation","mobileView","innerWidth","inboxInitialState","ReceiptInbox","ComponentRegistryService","getComponent","ReceiptAcknowledgement","ReceiptDetails","marginLeft","cursor","pathname","printReciept","consumerCode","Utils","downloadReceipt","GetMessage","isSuccess","isEmployee","GetActionMessage","BannerPicker","receiptNumber","state","mutation","useReceiptsUpdate","useSessionStorage","mutationHappened","setMutationHappened","errorInfo","setErrorInfo","successData","setsuccessData","onError","error","variables","response","Errors","onSuccess","mutate","paymentWorkflows","DisplayText","SessionStorage","set","Math","floor","random","isIdle","Payment","parentRoute","width","bill","canCancelReceipt","Receipt","paymentStatus","instrumentStatus","showModal","setShowModal","useParams","receiptId","isupdate","get","useReceiptsSearch","receiptNumbers","decodeURIComponent","cancelReceipt","revalidate","clearSuccessData","clearError","PaymentReceipt","length","pendingDue","totalDue","totalAmountPaid","fontFamily","whiteSpace","receiptDate","payerName","mobileNumber","billDetails","fromPeriod","toPeriod","paymentMode","transactionNumber","manualReceiptNumber","manualReceiptDate","InboxLinks","allLinks","headerText","links","setLinks","userRoles","UserService","getUser","info","roles","linksToShow","filter","some","GetLogo","link","text","hyperlink","ApplicationTable","columns","getCellProps","onNextPage","onPrevPage","currentPage","totalRecords","pageSizeLimit","onPageSizeChange","onLastPage","onFirstPage","fieldComponents","date","DatePicker","MobileNumber","SearchApplication","searchFields","isInboxPage","useForm","defaultValues","register","handleSubmit","reset","watch","control","setError","clearErrors","formState","forEach","pattern","maxLength","minLength","errorMessages","el","errors","RegExp","test","message","toUpperCase","onSubmitInput","field","clearSearch","resetValues","reduce","acc","_newParams","mobileViewStyles","margin","display","justifyContent","input","componentInFront","Comp","onChange","dirtyFields","fontWeight","paddingLeft","marginTop","fontSize","textAlign","paddingTop","ReceiptsDesktopInbox","filterComponent","GetCell","GetDateCell","GetSlaCell","prefix","FilterComponent","React","useMemo","Header","disableSortBy","Cell","row","original","encodeURIComponent","transactionDate","result","split","cellInfo","style","maxWidth","column","onSort","disableSort","sortParams","isSearch","defaultSearchParams","ApplicationCard","serviceRequestIdKey","isFstpOperator","linkPrefix","removeParam","setType","popup","setPopup","params","setParams","_sortparams","setSortParams","DSO","hasAccess","handlePopupClose","ReceiptsMobileInbox","tableConfig","getData","initialStates","isInbox","pageOffset","setPageOffset","pageSize","setPageSize","desc","setTotalRecords","isCountRequest","countLoading","countData","rest1","isMobile","window","browser","paginationParams","limit","offset","sortOrder","hookLoading","Count","fetchNextPage","prevState","fetchPrevPage","fetchLastPage","ceil","fetchFirstPage","handleFilterChange","filterParam","keys_to_delete","_new","handleSort","useCallback","args","handlePageSizeChange","Number","getSearchFields","maxlength","title","ReceiptsCard","receiptsAccess","propsForModuleCard","Icon","moduleName","kpis","count","ReceiptsModule","stateCode","userType","moduleCode","useSelector","language","common","selectedLanguage","Services","useStore","useRouteMatch","url","componentsToRegister","RECEIPTS_INBOX_FILTER","initReceiptsComponents","entries","setComponent"],"mappings":"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"}