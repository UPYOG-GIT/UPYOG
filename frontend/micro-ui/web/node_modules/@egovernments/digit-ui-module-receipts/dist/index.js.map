{"version":3,"file":"index.js","sources":["../src/components/Banner.js","../src/components/Modal/CancelConfig.js","../src/components/ReceiptCancelModal.js","../src/components/Modal/index.js","../src/utils/index.js","../src/components/ReceiptsFilter.js","../src/pages/index.js","../src/pages/ReceiptAcknowledgement.js","../src/pages/ReceiptDetails.js","../src/components/inbox/ApplicationLinks.js","../src/components/inbox/ApplicationTable.js","../src/components/inbox/search.js","../src/components/inbox/ReceiptsDesktopInbox.js","../src/components/inbox/ApplicationCard.js","../src/components/inbox/ReceiptsMobileInbox.js","../src/pages/ReceiptInbox.js","../src/receiptHomeCard.js","../src/Module.js"],"sourcesContent":["import { CardLabel, LabelFieldPair } from \"@egovernments/digit-ui-react-components\";\r\nimport React from \"react\";\r\n\r\nconst Banner = ({ t, config }) => {\r\n    return (\r\n        <LabelFieldPair>\r\n            <CardLabel className=\"card-label-smaller\" style={{ color: \"white\" }}>.</CardLabel>\r\n            <span className=\"form-field\" style={{ color: \"gray\" }}>{t(config?.texts?.header)}</span>\r\n        </LabelFieldPair>)\r\n}\r\nexport default Banner;","import { Dropdown } from \"@egovernments/digit-ui-react-components\";\r\nimport React from \"react\";\r\n\r\nexport const configCancelConfig = ({ t, selectedReason, Reasons, selectReason }) => {\r\n    return {\r\n        label: {\r\n            heading: `CR_COMMON_HEADER`,\r\n            submit: `CR_CANCEL_RECEIPT_BUTTON`,\r\n        },\r\n        form: [\r\n            {\r\n                body: [\r\n                    {\r\n                        label: t(\"CR_RECEIPT_CANCELLATION_REASON_LABEL\"),\r\n                        type: \"dropdown\",\r\n                        isMandatory: true,\r\n                        name: \"reason\",\r\n                        populators: (\r\n                            <Dropdown isMandatory selected={selectedReason} optionKey=\"name\" option={Reasons} select={selectReason} t={t} />\r\n                        ),\r\n                    },\r\n                    {\r\n                        label: t(\"CR_MORE_DETAILS_LABEL\"),\r\n                        type: \"text\",\r\n                        populators: {\r\n                            name: \"otherDetails\",\r\n                        },\r\n                        // isMandatory:selectedReason?.code==\"OTHER\"?true:false,\r\n                        disable: selectedReason?.code == \"OTHER\" ? false : true,\r\n                    },\r\n                    {\r\n                        label: t(\"CR_ADDITIONAL_PENALTY\"),\r\n                        type: \"text\",\r\n                        populators: {\r\n                            name: \"penalty\",\r\n                            disable: true\r\n                        },\r\n                        disable: true\r\n                    }\r\n                ],\r\n            },\r\n        ],\r\n    };\r\n};","import { FormComposer, Loader, Modal } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { configCancelConfig } from \"./Modal/CancelConfig\";\r\n\r\nconst ReceiptCancelModal = ({ t, action, tenantId, closeModal, submitAction, applicationData, billData }) => {\r\n  const history = useHistory();\r\n  const [config, setConfig] = useState({});\r\n  const [Reasons, setReasons] = useState([]);\r\n  const [selectedReason, selecteReason] = useState(\"\");\r\n  const tenantIds = Digit.ULBService.getCurrentTenantId() || '';\r\n  const tenant = Digit.ULBService.getStateId();\r\n  const { isLoading, isError, errors, data, ...rest } = Digit.Hooks.receipts.useReceiptsMDMS(\r\n    tenant,\r\n    \"CancelReceiptReason\"\r\n  );\r\n\r\n  useEffect(() => {\r\n    return setConfig(\r\n      configCancelConfig({\r\n        t,\r\n        selectedReason,\r\n        Reasons,\r\n        selectReason,\r\n      })\r\n    );\r\n  }, [Reasons, selectedReason]);\r\n\r\n  const Heading = (props) => {\r\n    return <h1 className=\"heading-m\">{props.label}</h1>;\r\n  };\r\n\r\n  function selectReason(e) {\r\n    selecteReason(e);\r\n  }\r\n  const Close = () => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"#FFFFFF\">\r\n      <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\r\n      <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z\" />\r\n    </svg>\r\n  );\r\n\r\n  const CloseBtn = (props) => {\r\n    return (\r\n      <div className=\"icon-bg-secondary\" onClick={props.onClick}>\r\n        <Close />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    setReasons(data?.dropdownData);\r\n  }, [data]);\r\n\r\n\r\n  function submit(data) {\r\n    history.replace(\"/digit-ui/employee/receipts/response\", {\r\n      paymentWorkflow: {\r\n        action: \"CANCEL\",\r\n        additionalDetails: {...data.otherDetails,selectedReasonMessage:t(`CR_REASON_${selectedReason.code}`)},\r\n        paymentId: applicationData?.Payments[0]?.id,\r\n        reason: selectedReason.code,\r\n        tenantId: applicationData?.Payments[0]?.tenantId,\r\n      }, key: \"UPDATE\", action: \"CANCELLATION\", businessService: applicationData?.Payments[0]?.paymentDetails[0]?.businessService\r\n    });\r\n\r\n  }\r\n  if (isLoading) {\r\n    return <Loader></Loader>\r\n  }\r\n  return config?.form ? (\r\n    <Modal\r\n      headerBarMain={<Heading label={t(config?.label?.heading)} />}\r\n      headerBarEnd={<CloseBtn onClick={closeModal} />}\r\n      actionCancelOnSubmit={closeModal}\r\n      actionSaveLabel={t(config?.label?.submit)}\r\n      actionSaveOnSubmit={() => { }}\r\n      formId=\"modal-action\"\r\n      isDisabled={!selectedReason}\r\n    >\r\n      <FormComposer config={config?.form} noBoxShadow inline disabled={true} childrenAtTheBottom onSubmit={submit} formId=\"modal-action\" />\r\n    </Modal>\r\n  ) : (\r\n    <Loader />\r\n  );\r\n};\r\nexport default ReceiptCancelModal;\r\n","import React from \"react\";\r\nimport ReceiptCancelModal from \"../ReceiptCancelModal\";\r\n\r\nconst ActionModal = (props) => {\r\n  return <ReceiptCancelModal {...props} />;\r\n};\r\n\r\nexport default ActionModal;\r\n","/* method to get date from epoch */\r\nexport const convertEpochToDate = (dateEpoch) => {\r\n    // Returning NA in else case because new Date(null) returns Current date from calender\r\n    if (dateEpoch) {\r\n        const dateFromApi = new Date(dateEpoch);\r\n        let month = dateFromApi.getMonth() + 1;\r\n        let day = dateFromApi.getDate();\r\n        let year = dateFromApi.getFullYear();\r\n        month = (month > 9 ? \"\" : \"0\") + month;\r\n        day = (day > 9 ? \"\" : \"0\") + day;\r\n        return `${day}/${month}/${year}`;\r\n    } else {\r\n        return 'NA';\r\n    }\r\n};\r\nexport const stringReplaceAll = (str = \"\", searcher = \"\", replaceWith = \"\") => {\r\n    if (searcher == \"\") return str;\r\n    while (str.includes(searcher)) {\r\n        str = str.replace(searcher, replaceWith);\r\n    }\r\n    return str;\r\n};\r\n\r\n/*   method to check not null  if not returns false*/\r\nexport const checkForNotNull = (value = \"\") => {\r\n    return value && value != null && value != undefined && value != \"\" ? true : false;\r\n};\r\n\r\nexport const convertDotValues = (value = \"\") => {\r\n    return (\r\n        (checkForNotNull(value) && ((value.replaceAll && value.replaceAll(\".\", \"_\")) || (value.replace && stringReplaceAll(value, \".\", \"_\")))) || \"NA\"\r\n    );\r\n};\r\n\r\nexport const convertToLocale = (value = \"\", key = \"\") => {\r\n    let convertedValue = convertDotValues(value);\r\n    if (convertedValue == \"NA\") {\r\n        return \"PT_NA\";\r\n    }\r\n    return `${key}_${convertedValue}`;\r\n};\r\n\r\nconst RECEIPTS_DEFAULT_SERVICE = \"PT\";\r\n\r\nexport const getDefaultReceiptService = () => {\r\n    return RECEIPTS_DEFAULT_SERVICE;\r\n}\r\n\r\nexport const getFinancialYears = (from, to) => {\r\n    const fromDate = new Date(from);\r\n    const toDate = new Date(to);\r\n    if (toDate.getYear() - fromDate.getYear() != 0) {\r\n      return `FY${fromDate.getYear() + 1900}-${toDate.getYear() - 100}`;\r\n    }\r\n    return `${fromDate.toLocaleDateString()}-${toDate.toLocaleDateString()}`;\r\n  }","import { CheckBox, CloseSvg, Dropdown, Loader, SubmitBar,ApplyFilterBar,ActionBar } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { getDefaultReceiptService } from \"../utils\";\r\n\r\nconst ReceiptsFilter = ({ searchParams, onFilterChange, onSearch, removeParam, ...props }) => {\r\n\r\n  const tenantId = Digit.ULBService.getCurrentTenantId() || '';\r\n  const tenant =Digit.ULBService.getStateId();\r\n  const [_searchParams, setSearchParams] = useState(() => searchParams);\r\n  const { t } = useTranslation();\r\n  const defaultService = getDefaultReceiptService();\r\n  const [status, setStatus] = useState([]);\r\n  const [service, setService] = useState({ name: `BILLINGSERVICE_BUSINESSSERVICE_${defaultService}`, code: defaultService });\r\n\r\n  const { data, isLoading, ...rest } = Digit.Hooks.receipts.useReceiptsMDMS(\r\n    tenant,\r\n    \"CancelReceiptReasonAndStatus\"\r\n  );\r\n\r\n  const mdmsStatus = data?.dropdownDataStatus || [];\r\n\r\n  useEffect(() => {\r\n    if (service?.code != _searchParams.businessServices) {\r\n      setSearchParams({ businessServices: service?.code });\r\n    }\r\n  }, [service]);\r\n\r\n  useEffect(() => {\r\n    if (status) {\r\n      setSearchParams({ status: status.join(',') });\r\n    }\r\n  }, [status]);\r\n\r\n  const onCheckBoxClick = (value) => {\r\n    if (status.includes(value)) {\r\n      status.splice(status.findIndex((x) => x == value), 1)\r\n    } else {\r\n      status.push(value)\r\n    }\r\n    setStatus([...status])\r\n  }\r\n\r\n  const clearAll = () => {\r\n    onFilterChange({ delete: Object.keys(searchParams) }, true);\r\n    setStatus([]);\r\n    setService({ name: `BILLINGSERVICE_BUSINESSSERVICE_${defaultService}`, code: defaultService });\r\n    props?.onClose?.();\r\n  };\r\n  if (isLoading) {\r\n    return <Loader />\r\n  }\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"filter\">\r\n        <div className=\"filter-card\">\r\n          <div className=\"heading\">\r\n            <div className=\"filter-label\">{t(\"COMMON_TABLE_FILTERS\")}:</div>\r\n            <div className=\"clearAll\" onClick={clearAll}>\r\n              {t(\"CR_COMMON_CLEAR_ALL\")}\r\n            </div>\r\n            {props.type === \"desktop\" && (\r\n              <span className=\"clear-search\" onClick={clearAll} style={{ border: \"1px solid #e0e0e0\", padding: \"6px\" }}>\r\n                <svg width=\"17\" height=\"17\" viewBox=\"0 0 16 22\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path\r\n                    d=\"M8 5V8L12 4L8 0V3C3.58 3 0 6.58 0 11C0 12.57 0.46 14.03 1.24 15.26L2.7 13.8C2.25 12.97 2 12.01 2 11C2 7.69 4.69 5 8 5ZM14.76 6.74L13.3 8.2C13.74 9.04 14 9.99 14 11C14 14.31 11.31 17 8 17V14L4 18L8 22V19C12.42 19 16 15.42 16 11C16 9.43 15.54 7.97 14.76 6.74Z\"\r\n                    fill=\"#505A5F\"\r\n                  />\r\n                </svg>\r\n              </span>\r\n            )}\r\n            {props.type === \"mobile\" && (\r\n              <span onClick={props.onClose}>\r\n                <CloseSvg />\r\n              </span>\r\n            )}\r\n          </div>\r\n          <div>\r\n            <div>\r\n              <div className=\"filter-label\">{t(\"CR_COMMON_TABLE_COL_STATUS\")}</div>\r\n              {mdmsStatus.map((sta, index) =>\r\n                <CheckBox\r\n                  key={index + \"service\"}\r\n                  label={t(sta?.name)}\r\n                  value={sta?.code}\r\n                  checked={status.includes(sta?.code)}\r\n                  onChange={(event) =>\r\n                    onCheckBoxClick(event.target.value)}\r\n                />\r\n              )}\r\n              <div>\r\n                <div className=\"filter-label\">{t(\"CR_SERVICE_CATEGORY_LABEL\")}</div>\r\n                <Dropdown t={t} option={data?.dropdownData || null} value={service} selected={service} select={setService} optionKey={\"name\"} />\r\n              </div>\r\n              {props.type !== \"mobile\" &&<div>\r\n                <SubmitBar\r\n                  // disabled={status?.length == mdmsStatus?.length&& service?.code == defaultService}\r\n                  onSubmit={() => {onFilterChange(_searchParams)\r\n                    props?.onClose?.()}}\r\n                  label={t(\"ACTION_TEST_APPLY\")}\r\n                />\r\n              </div>}\r\n              {props.type === \"mobile\" &&(  <ActionBar>\r\n                <ApplyFilterBar\r\n                  submit={false}\r\n                  labelLink={t(\"ES_COMMON_CLEAR_ALL\")}\r\n                  buttonLink={t(\"ACTION_TEST_APPLY\")}\r\n                  onSubmit={() => {onFilterChange(_searchParams)\r\n                    props?.onClose?.()}}\r\n                  onClear={() => {clearAll()\r\n                    props?.onClose?.()}}\r\n                  style={{ flex: 1 }}\r\n                />\r\n              </ActionBar>)}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default ReceiptsFilter;\r\n","import { PrivateRoute } from \"@egovernments/digit-ui-react-components\";\r\nimport React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Link, Switch, useLocation } from \"react-router-dom\";\r\nimport { getDefaultReceiptService } from \"../utils\";\r\n\r\nconst EmployeeApp = ({ path, url, userType }) => {\r\n  const { t } = useTranslation();\r\n  const location = useLocation();\r\n  const mobileView = innerWidth <= 640;\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n\r\n  const inboxInitialState = {\r\n    searchParams: {\r\n      tenantId: tenantId,\r\n      businessServices: getDefaultReceiptService(),\r\n    },\r\n  };\r\n\r\n  const ReceiptInbox = Digit.ComponentRegistryService.getComponent(\"ReceiptInbox\");\r\n  const ReceiptAcknowledgement = Digit.ComponentRegistryService.getComponent(\"ReceiptAcknowledgement\");\r\n  const ReceiptDetails = Digit.ComponentRegistryService.getComponent(\"ReceiptDetails\");\r\n\r\n  return (\r\n    <Switch>\r\n      <React.Fragment>\r\n        <div className=\"ground-container\">\r\n          <p className=\"breadcrumb\" style={{ marginLeft: mobileView ? \"2vw\" : \"revert\" }}>\r\n            <Link to=\"/digit-ui/employee\" style={{ cursor: \"pointer\", color: \"#666\" }}>\r\n              {t(\"ES_COMMON_HOME\")}\r\n            </Link>{\" \"}\r\n            / <span>{location.pathname === \"/digit-ui/employee/receipts/inbox\" ? t(\"CR_COMMON_HEADER\") : t(\"CR_COMMON_HEADER\")}</span>\r\n          </p>\r\n          <PrivateRoute\r\n            path={`${path}/inbox`}\r\n            component={() => (\r\n              <ReceiptInbox\r\n                parentRoute={path}\r\n                businessService=\"receipts\"\r\n                filterComponent=\"RECEIPTS_INBOX_FILTER\"\r\n                initialStates={inboxInitialState}\r\n                isInbox={true}\r\n              />\r\n            )}\r\n          />\r\n          <PrivateRoute path={`${path}/inprogress`} component={(props) => <h2>{t(\"CR_RECEIPTS_SCREENS_UNDER_CONSTRUCTION\")}</h2>} />\r\n          <PrivateRoute path={`${path}/response`} component={(props) => <ReceiptAcknowledgement {...props} parentRoute={path} />} />\r\n          <PrivateRoute path={`${path}/details/:service/:id`} component={() => <ReceiptDetails />} />\r\n        </div>\r\n      </React.Fragment>\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default EmployeeApp;\r\n","\r\nimport { ActionBar, Banner, Card, CardText, LinkButton, Loader, SubmitBar } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport const printReciept = async (businessService, consumerCode) => {\r\n  await Digit.Utils.downloadReceipt(consumerCode, businessService, 'consolidatedreceipt');\r\n};\r\n\r\nconst GetMessage = (type, action, isSuccess, isEmployee, t) => {\r\n  return t(`CR_APPLY_${isSuccess ? \"SUCCESS\" : \"FAILURE\"}_MESSAGE_MAIN`);\r\n};\r\n\r\nconst GetActionMessage = (action, isSuccess, isEmployee, t) => {\r\n  return GetMessage(\"ACTION\", action, isSuccess, isEmployee, t);\r\n};\r\n\r\nconst GetLabel = (action, isSuccess, isEmployee, t) => {\r\n  if (isSuccess && action == \"CREATE\") {\r\n    return GetMessage(\"LABEL\", action, isSuccess, isEmployee, t);\r\n  }\r\n};\r\n\r\nconst BannerPicker = (props) => {\r\n  return (\r\n    <Banner\r\n      message={(GetActionMessage(props.action, props.isSuccess, props.isEmployee, props.t))}\r\n      applicationNumber={props?.data?.Payments?.[0]?.paymentDetails[0].receiptNumber}\r\n      info={props.isSuccess ? props.t(\"CR_RECEIPT_NUMBER\") : \"\"}\r\n      successful={props.isSuccess}\r\n    />\r\n  );\r\n};\r\n\r\nconst ReceiptAcknowledgement = (props) => {\r\n  const { t } = useTranslation();\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const { state } = props.location;\r\n  const mutation = Digit.Hooks.receipts.useReceiptsUpdate(tenantId, state?.businessService);\r\n  const [mutationHappened, setMutationHappened, clear] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_RECEIPT_MUTATION_HAPPENED\", false);\r\n  const [errorInfo, setErrorInfo, clearError] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_RECEIPT_ERROR_DATA\", false);\r\n  const [successData, setsuccessData, clearSuccessData] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_RECEIPT_MUTATION_SUCCESS_DATA\", false);\r\n\r\n  useEffect(() => {\r\n    if (mutation.data) setsuccessData(mutation.data);\r\n  }, [mutation.data]);\r\n\r\n  const onError = (error, variables) => {\r\n    setErrorInfo(error?.response?.data?.Errors[0]?.code || 'ERROR');\r\n    setMutationHappened(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const onSuccess = () => {\r\n      setMutationHappened(true);\r\n    };\r\n    if (state.key === \"UPDATE\" && !mutationHappened && !errorInfo) {\r\n      mutation.mutate(\r\n        {\r\n          paymentWorkflows: [state.paymentWorkflow]\r\n        },\r\n        {\r\n          onError,\r\n          onSuccess,\r\n        }\r\n      );\r\n    }\r\n  }, []);\r\n\r\n  const DisplayText = (action, isSuccess, isEmployee, t) => {\r\n    if (!isSuccess) {\r\n      return mutation?.error?.response?.data?.Errors[0].code || errorInfo\r\n    } else {\r\n      Digit.SessionStorage.set(\"isupdate\", Math.floor(100000 + Math.random() * 900000));\r\n      return t('CR_APPLY_FORWARD_SUCCESS');\r\n    }\r\n  };\r\n\r\n  if (mutation.isLoading || (mutation.isIdle && !mutationHappened)) {\r\n    return <Loader />;\r\n  }\r\n  const Payment = mutation?.data?.Payments[0] || successData?.Payments?.[0];\r\n  const isSuccess = !successData ? mutation?.isSuccess : true;\r\n  return (\r\n    <Card>\r\n      <BannerPicker\r\n        t={t}\r\n        data={mutation?.data || successData}\r\n        action={state.action}\r\n        isSuccess={isSuccess}\r\n        isLoading={(mutation.isIdle && !mutationHappened) || mutation?.isLoading}\r\n        isEmployee={props.parentRoute.includes(\"employee\")}\r\n      />\r\n      <CardText>{t(DisplayText(state.action, isSuccess, props.parentRoute.includes(\"employee\"), t), t)}</CardText>\r\n      {isSuccess && (\r\n        <CardText>\r\n          <LinkButton\r\n            label={\r\n              <div className=\"response-download-button\">\r\n                <span>\r\n                  <svg width=\"20\" height=\"18\" viewBox=\"0 0 20 18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path d=\"M17 5H3C1.34 5 0 6.34 0 8V14H4V18H16V14H20V8C20 6.34 18.66 5 17 5ZM14 16H6V11H14V16ZM17 9C16.45 9 16 8.55 16 8C16 7.45 16.45 7 17 7C17.55 7 18 7.45 18 8C18 8.55 17.55 9 17 9ZM16 0H4V4H16V0Z\" fill=\"#F47738\" />\r\n                  </svg>\r\n                </span>\r\n                <span className=\"download-button\">{t(\"COMMON_TABLE_PRINT\")}</span>\r\n              </div>\r\n            }\r\n            style={{ width: \"100px\" }}\r\n            onClick={() => { printReciept(Payment?.paymentDetails[0]?.businessService, Payment?.paymentDetails[0]?.bill?.consumerCode) }}\r\n          />\r\n        </CardText>)}\r\n      <ActionBar>\r\n        <Link to={`${props.parentRoute.includes(\"employee\") ? \"/digit-ui/employee\" : \"/digit-ui/citizen\"}`}>\r\n          <SubmitBar label={t(\"CORE_COMMON_GO_TO_HOME\")} />\r\n        </Link>\r\n      </ActionBar>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default ReceiptAcknowledgement;\r\n","import { ActionBar, Card, Header, Loader, Row, StatusTable, SubmitBar } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport ActionModal from \"../components/Modal\";\r\nimport { convertEpochToDate, convertToLocale, getFinancialYears } from \"../utils\";\r\n\r\nconst canCancelReceipt=(Receipt={})=>{\r\n  return Receipt?.paymentStatus !== \"CANCELLED\" && Receipt?.paymentStatus !== \"DEPOSITED\" && (Receipt?.instrumentStatus == \"APPROVED\" || Receipt?.instrumentStatus == \"REMITTED\");\r\n}\r\n\r\nconst ReceiptDetails = () => {\r\n\r\n  const [showModal, setShowModal] = useState(false);\r\n  const { t } = useTranslation();\r\n  const { id: receiptId, service: businessService } = useParams();\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const isupdate = Digit.SessionStorage.get(\"isupdate\")\r\n  const { isLoading, isError, error, data, ...rest } = Digit.Hooks.receipts.useReceiptsSearch({ receiptNumbers: decodeURIComponent(receiptId), businessServices: businessService }, tenantId, {}, isupdate);\r\n\r\n  const cancelReceipt = () => {\r\n    setShowModal(true);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setShowModal(false);\r\n  };\r\n\r\n  const submitAction = (data) => { };\r\n  useEffect(() => {\r\n    return () => {\r\n      rest?.revalidate();\r\n    }\r\n  }, [])\r\n\r\n  const [mutationHappened, setMutationHappened, clear] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_RECEIPT_MUTATION_HAPPENED\", false);\r\n  const [successData, setsuccessData, clearSuccessData] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_RECEIPT_MUTATION_SUCCESS_DATA\", false);\r\n  const [errorInfo, setErrorInfo, clearError] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_RECEIPT_ERROR_DATA\", false);\r\n  useEffect(() => {\r\n    setMutationHappened(false);\r\n    clearSuccessData();\r\n    clearError();\r\n  }, []);\r\n\r\n  if (isLoading) {\r\n    return <Loader />;\r\n  }\r\n  const PaymentReceipt = !isLoading && data?.Payments?.length > 0 ? data.Payments[0] : {};\r\n  const pendingDue= PaymentReceipt?.totalDue - PaymentReceipt?.totalAmountPaid;\r\n  return (\r\n    <React.Fragment>\r\n      <div style={{ width: \"30%\", fontFamily: \"calibri\", color: \"#FF0000\" }}>\r\n        <Header>{t(\"CR_RECEIPT_SUMMARY\")}</Header>\r\n      </div>\r\n      {!isLoading && data?.Payments?.length > 0 ? (\r\n        <div >\r\n          <Card>\r\n            <StatusTable>\r\n              <Row label={t(\"CR_RECEIPT_NUMBER\")} text={PaymentReceipt?.paymentDetails[0]?.receiptNumber || \"NA\"} textStyle={{ whiteSpace: \"pre\" }} />\r\n              <Row label={t(\"CR_RECEIPT_CONSUMER_NUMBER\")} text={PaymentReceipt?.paymentDetails[0]?.bill?.consumerCode || \"NA\"} textStyle={{ whiteSpace: \"pre\" }} />\r\n              <Row label={t(\"CR_RECEIPT_PAYMENT_DATE\")} text={convertEpochToDate(PaymentReceipt?.paymentDetails[0]?.receiptDate) || \"NA\"} />\r\n              <Row label={t(\"CR_RECEIPT_PAYER_NAME\")} text={PaymentReceipt?.payerName || \"NA\"} />\r\n              <Row label={t(\"CR_RECEIPT_PAYER_NUMBER\")} text={PaymentReceipt?.mobileNumber || \"NA\"} />\r\n              <Row label={t(\"CR_RECEIPT_SERVICE_TYPE\")} text={t(convertToLocale(PaymentReceipt?.paymentDetails[0]?.businessService, 'BILLINGSERVICE_BUSINESSSERVICE')) || \"NA\"} />\r\n              <Row label={t(\"CR_RECEIPT_BILL_PERIOD\")} text={getFinancialYears(PaymentReceipt?.paymentDetails[0]?.bill?.billDetails[0]?.fromPeriod,PaymentReceipt?.paymentDetails[0]?.bill?.billDetails[0]?.toPeriod) || \"NA\"} />\r\n              <Row label={t(\"CR_RECEIPT_AMOUNT\")} text={'₹' + PaymentReceipt?.totalAmountPaid || \"NA\"} />\r\n              <Row label={t(\"CR_RECEIPT_PENDING_AMOUNT\")} text={'₹' + (pendingDue) || \"₹0\"} />\r\n              <Row label={t(\"CR_RECEIPT_PAYMENT_MODE\")} text={PaymentReceipt?.paymentMode ? t(`COMMON_MASTERS_PAYMENTMODE_${PaymentReceipt?.paymentMode}`) || \"NA\" : \"NA\"} />\r\n              <Row label={t(\"CR_RECEIPT_TXN_ID\")} text={PaymentReceipt?.transactionNumber || \"NA\"} />\r\n              <Row label={t(\"CR_RECEIPT_G8_RECEIPT_NO\")} text={PaymentReceipt?.paymentDetails[0]?.manualReceiptNumber || \"NA\"} />\r\n              <Row label={t(\"CR_RECEIPT_G8_RECEIPT_DATE\")} text={convertEpochToDate(PaymentReceipt?.paymentDetails[0]?.manualReceiptDate) || \"NA\"} />\r\n            </StatusTable>\r\n          </Card>\r\n        </div>\r\n      ) : null}\r\n      {showModal ? (\r\n        <ActionModal t={t} tenantId={tenantId} applicationData={data} closeModal={closeModal} submitAction={submitAction} />\r\n      ) : null}\r\n      <ActionBar>\r\n        {canCancelReceipt(PaymentReceipt) && <SubmitBar label={t(\"CR_CANCEL_RECEIPT_BUTTON\")} onSubmit={() => cancelReceipt()} />}\r\n      </ActionBar>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default ReceiptDetails;\r\n","import { AnnouncementIcon, Card } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst InboxLinks = ({ parentRoute, businessService, allLinks, headerText }) => {\r\n  const { t } = useTranslation();\r\n  const [links, setLinks] = useState([]);\r\n  const { roles: userRoles } = Digit.UserService.getUser().info;\r\n  useEffect(() => {\r\n    let linksToShow = allLinks\r\n      .filter((e) => e.businessService === businessService)\r\n      .filter(({ roles }) => roles.some((e) => userRoles.map(({ code }) => code).includes(e)) || !roles.length);\r\n    setLinks(linksToShow);\r\n  }, []);\r\n\r\n  const GetLogo = () => (\r\n    <div className=\"header\">\r\n      <span className=\"logo\">\r\n        <AnnouncementIcon />\r\n      </span>{\" \"}\r\n      <span className=\"text\">{t(headerText)}</span>\r\n    </div>\r\n  );\r\n  return (\r\n    <Card className=\"employeeCard filter inboxLinks\">\r\n      <div className=\"complaint-links-container\">\r\n        {GetLogo()}\r\n        <div className=\"body\">\r\n          {links.map(({ link, text, hyperlink = false, accessTo = [] }, index) => {\r\n            return (\r\n              <span className=\"link\" key={index}>\r\n                {hyperlink ? <a href={link}>{t(text)}</a> : <Link to={link}>{t(text)}</Link>}\r\n              </span>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default InboxLinks;","import { Table } from \"@egovernments/digit-ui-react-components\";\r\nimport React from \"react\";\r\n\r\nconst ApplicationTable = ({ t, columns, data, getCellProps, onNextPage, onPrevPage, currentPage, totalRecords, pageSizeLimit, onPageSizeChange, onLastPage, onFirstPage }) => (\r\n  <Table\r\n    t={t}\r\n    data={data}\r\n    manualPagination={true}\r\n    columns={columns}\r\n    getCellProps={getCellProps}\r\n    onNextPage={onNextPage}\r\n    onPrevPage={onPrevPage}\r\n    currentPage={currentPage}\r\n    totalRecords={totalRecords}\r\n    onLastPage={onLastPage}\r\n    onFirstPage={onFirstPage}\r\n    onPageSizeChange={onPageSizeChange}\r\n    pageSizeLimit={pageSizeLimit}\r\n  />\r\n);\r\n\r\nexport default ApplicationTable;\r\n","import { ActionBar, CloseSvg, DatePicker, Label, LinkLabel, MobileNumber, SubmitBar, TextInput } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useEffect } from \"react\";\r\nimport { Controller, useForm } from \"react-hook-form\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nconst fieldComponents = {\r\n  date: DatePicker,\r\n  mobileNumber: MobileNumber,\r\n};\r\n\r\nconst SearchApplication = ({ onSearch, type, onClose, searchFields, searchParams, isInboxPage, defaultSearchParams, clearSearch: _clearSearch }) => {\r\n  const { t } = useTranslation();\r\n  const { register, handleSubmit, reset, watch, control, setError, clearErrors, formState } = useForm({\r\n    defaultValues: searchParams,\r\n  });\r\n\r\n  const form = watch();\r\n  const mobileView = innerWidth <= 640;\r\n\r\n\r\n  useEffect(() => {\r\n    searchFields.forEach(({ pattern, name, maxLength, minLength, errorMessages, ...el }) => {\r\n      const value = form[name];\r\n      const error = formState.errors[name];\r\n      if (pattern) {\r\n        if (!new RegExp(pattern).test(value) && !error)\r\n          setError(name, { type: \"pattern\", message: t(errorMessages?.pattern) || t(`PATTERN_${name.toUpperCase()}_FAILED`) });\r\n        else if (new RegExp(pattern).test(value) && error?.type === \"pattern\") clearErrors([name]);\r\n      }\r\n      if (minLength) {\r\n        if (value?.length < minLength && !error)\r\n          setError(name, { type: \"minLength\", message: t(errorMessages?.minLength || `MINLENGTH_${name.toUpperCase()}_FAILED`) });\r\n        else if (value?.length >= minLength && error?.type === \"minLength\") clearErrors([name]);\r\n      }\r\n      if (maxLength) {\r\n        if (value?.length > maxLength && !error)\r\n          setError(name, { type: \"maxLength\", message: t(errorMessages?.maxLength || `MAXLENGTH_${name.toUpperCase()}_FAILED`) });\r\n        else if (value?.length <= maxLength && error?.type === \"maxLength\") clearErrors([name]);\r\n      }\r\n    });\r\n  }, [form, formState, setError, clearErrors]);\r\n\r\n  const onSubmitInput = (data) => {\r\n    if (true) {\r\n      if (!data.mobileNumber) {\r\n        delete data.mobileNumber;\r\n      }\r\n      data.delete = [];\r\n      searchFields.forEach((field) => {\r\n        if (!data[field.name]) data.delete.push(field.name);\r\n      });\r\n      onSearch(data);\r\n      if (type === \"mobile\") {\r\n        onClose();\r\n      }\r\n    }\r\n  };\r\n\r\n  function clearSearch() {\r\n    const resetValues = searchFields.reduce((acc, field) => ({ ...acc, [field?.name]: \"\" }), {});\r\n    reset(resetValues);\r\n    const _newParams = { ...searchParams };\r\n    _newParams.delete = [];\r\n    searchFields.forEach((e) => {\r\n      _newParams.delete.push(e?.name);\r\n    });\r\n    onSearch({ ..._newParams }, true);\r\n    if (type === \"mobile\") {\r\n      onClose();\r\n    }\r\n  }\r\n\r\n  const clearAll = (mobileView) => {\r\n    const mobileViewStyles = mobileView ? { margin: 0 } : {};\r\n    return (\r\n      <LinkLabel style={{ display: \"inline\", ...mobileViewStyles }} onClick={clearSearch}>\r\n        {t(\"CR_RESET_BUTTON\")}\r\n      </LinkLabel>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit(onSubmitInput)}>\r\n      <React.Fragment>\r\n        <div className=\"search-container\" style={{ width: \"auto\", marginLeft: isInboxPage ? \"24px\" : \"revert\" }}>\r\n          <div className=\"search-complaint-container\">\r\n            {(type === \"mobile\" || mobileView) && (\r\n              <div className=\"complaint-header\" style={{ display: 'flex', justifyContent: \"space-between\" }}>\r\n                <h2>{t(\"ES_COMMON_SEARCH_BY\")}</h2>\r\n                <span onClick={onClose}>\r\n                  <CloseSvg />\r\n                </span>\r\n              </div>\r\n            )}\r\n            <div className=\"complaint-input-container\" style={{ width: \"100%\" }}>\r\n              {searchFields\r\n                ?.filter((e) => true)\r\n                ?.map((input, index) => (\r\n                  <div key={input.name} className=\"input-fields\">\r\n                    <span className={\"mobile-input\"}>\r\n                      <Label>{t(input.label)}</Label>\r\n                      {!input.type ? (\r\n                        <Controller\r\n                          render={(props) => {\r\n                            return <div className=\"field-container\">\r\n                              {input?.componentInFront ? (\r\n                                <span className=\"employee-card-input employee-card-input--front\" style={{ flex: \"none\" }}>\r\n                                  {input?.componentInFront}\r\n                                </span>\r\n                              ) : null}\r\n                              <TextInput {...input} inputRef={register} watch={watch} shouldUpdate={true} />\r\n                            </div>\r\n                          }}\r\n                          name={input.name}\r\n                          control={control}\r\n                          defaultValue={\"\"}\r\n                        />\r\n                      ) : (\r\n                        <Controller\r\n                          render={(props) => {\r\n                            const Comp = fieldComponents?.[input.type];\r\n                            return <Comp onChange={props.onChange} value={props.value} />;\r\n                          }}\r\n                          name={input.name}\r\n                          control={control}\r\n                          defaultValue={\"\"}\r\n                        />\r\n                      )}\r\n                    </span>\r\n                    {formState?.dirtyFields?.[input.name] ? (\r\n                      <span\r\n                        style={{ fontWeight: \"700\", color: \"rgba(212, 53, 28)\", paddingLeft: \"8px\", marginTop: \"-20px\", fontSize: \"12px\" }}\r\n                        className=\"inbox-search-form-error\"\r\n                      >\r\n                        {formState?.errors?.[input.name]?.message}\r\n                      </span>\r\n                    ) : null}\r\n                  </div>\r\n                ))}\r\n              {type === \"desktop\" && !mobileView && !isInboxPage && (\r\n                <div className=\"search-action-wrapper\">\r\n                  <SubmitBar\r\n                    className=\"submit-bar-search\"\r\n                    label={t(\"CR_SEARCH_BUTTON\")}\r\n                    // disabled={!!Object.keys(formState.errors).length || Object.keys(form).every((key) => !form?.[key])}\r\n                    submit\r\n                  />\r\n                  <div style={{ width: \"100%\", textAlign: \"right\", width: \"240px\", textAlign: \"right\", marginLeft: \"96px\", marginTop: \"8px\" }}>\r\n                    {clearAll()}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n            {isInboxPage && (\r\n              <div className=\"inbox-action-container\">\r\n                {type === \"desktop\" && !mobileView && (\r\n                  <span style={{ paddingTop: \"9px\" }} className=\"clear-search\">\r\n                    {clearAll()}\r\n                  </span>\r\n                )}\r\n                {type === \"desktop\" && !mobileView && (\r\n                  <SubmitBar\r\n                    style={{ marginTop: \"unset\" }}\r\n                    className=\"submit-bar-search\"\r\n                    label={t(\"CR_SEARCH_BUTTON\")}\r\n                    submit\r\n                  />\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n        {(type === \"mobile\" || mobileView) && (\r\n          <ActionBar className=\"clear-search-container\">\r\n            <button className=\"clear-search\" style={{ flex: 1 }}>\r\n              {clearAll(mobileView)}\r\n            </button>\r\n            <SubmitBar\r\n              label={t(\"CR_SEARCH_BUTTON\")} style={{ flex: 1 }} submit={true} />\r\n          </ActionBar>\r\n        )}\r\n      </React.Fragment>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default SearchApplication;","import { Card, Loader } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\nimport InboxLinks from \"./ApplicationLinks\";\r\nimport ApplicationTable from \"./ApplicationTable\";\r\nimport SearchApplication from \"./search\";\r\n\r\nconst ReceiptsDesktopInbox = ({ tableConfig, filterComponent, ...props }) => {\r\n  const { t } = useTranslation();\r\n  const tenantIds = Digit.SessionStorage.get(\"HRMS_TENANTS\");\r\n  const GetCell = (value) => <span className=\"cell-text\">{t(value)}</span>;\r\n  const GetDateCell = (value) => {\r\n    const date = new Date(value);\r\n    return <span className=\"cell-text\">{date?.toLocaleDateString()}</span>\r\n  };\r\n  const GetSlaCell = (value, t, prefix = '') => {\r\n    return value == \"CANCELLED\" ? <span className=\"sla-cell-error\">{t(`${prefix}${value}`) || \"\"}</span> : <span className=\"sla-cell-success\">{t(`${prefix}${value}`) || \"\"}</span>;\r\n  };\r\n  const data = props?.data?.Payments;\r\n  const [FilterComponent, setComp] = useState(() => Digit.ComponentRegistryService?.getComponent(filterComponent));\r\n  const columns = React.useMemo(() => {\r\n    return [\r\n      {\r\n        Header: t(\"CR_COMMON_TABLE_COL_RECEIPT_NO\"),\r\n        disableSortBy: true,\r\n        Cell: ({ row }) => {\r\n          return (\r\n            <span className=\"link\">\r\n              <Link to={`/digit-ui/employee/receipts/details/${row.original?.paymentDetails[0]?.businessService}/${encodeURIComponent(row.original?.paymentDetails[0]?.receiptNumber)}`}>{row.original?.paymentDetails[0]?.receiptNumber}</Link>\r\n            </span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        Header: t(\"CR_COMMON_TABLE_COL_DATE\"),\r\n        disableSortBy: true,\r\n        Cell: ({ row }) => {\r\n          return GetDateCell(row.original?.transactionDate);\r\n        },\r\n      },\r\n      {\r\n        Header: t(\"CR_COMMON_TABLE_CONSUMERCODE\"),\r\n        disableSortBy: true,\r\n        Cell: ({ row }) => {\r\n          return GetCell(`${row.original?.paymentDetails[0]?.bill?.consumerCode}`);\r\n        },\r\n      },\r\n      {\r\n        Header: t(\"CR_COMMON_TABLE_COL_PAYEE_NAME\"),\r\n        disableSortBy: true,\r\n        Cell: ({ row }) => {\r\n          return GetCell(`${row.original?.payerName}`);\r\n        },\r\n      },\r\n      {\r\n        Header: t(\"CR_SERVICE_TYPE_LABEL\"),\r\n        disableSortBy: true,\r\n        Cell: ({ row }) => {\r\n          return GetCell(`${t(\"BILLINGSERVICE_BUSINESSSERVICE_\" + row.original?.paymentDetails[0]?.businessService)}`);\r\n        },\r\n      },\r\n      {\r\n        Header: t(\"CR_COMMON_TABLE_COL_STATUS\"),\r\n        disableSortBy: true,\r\n        Cell: ({ row }) => {\r\n          return GetSlaCell(`${row.original?.paymentStatus}`, t, 'RC_');\r\n        },\r\n      },\r\n\r\n    ];\r\n  }, []);\r\n\r\n  let result;\r\n  if (props.isLoading) {\r\n    result = <Loader />;\r\n  } else if (data?.length === 0) {\r\n    result = (\r\n      <Card style={{ marginTop: 20 }}>\r\n        {t(\"CS_MYAPPLICATIONS_NO_APPLICATION\")\r\n          .split(\"\\\\n\")\r\n          .map((text, index) => (\r\n            <p key={index} style={{ textAlign: \"center\" }}>\r\n              {text}\r\n            </p>\r\n          ))}\r\n      </Card>\r\n    );\r\n  } else if (data?.length > 0) {\r\n    result = (\r\n      <ApplicationTable\r\n        t={t}\r\n        data={data}\r\n        columns={columns}\r\n        getCellProps={(cellInfo) => {\r\n          return {\r\n            style: {\r\n              maxWidth: cellInfo.column.Header === t(\"HR_EMP_ID_LABEL\") ? \"140px\" : \"\",\r\n              padding: \"20px 18px\",\r\n              fontSize: \"16px\",\r\n            },\r\n          };\r\n        }}\r\n        onPageSizeChange={props.onPageSizeChange}\r\n        currentPage={props.currentPage}\r\n        onNextPage={props.onNextPage}\r\n        onPrevPage={props.onPrevPage}\r\n        onLastPage={props.onLastPage}\r\n        onFirstPage={props.onFirstPage}\r\n        pageSizeLimit={props.pageSizeLimit}\r\n        onSort={props.onSort}\r\n        disableSort={props.disableSort}\r\n        onPageSizeChange={props.onPageSizeChange}\r\n        sortParams={props.sortParams}\r\n        totalRecords={props.totalRecords}\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"inbox-container\">\r\n      {!props.isSearch && (\r\n        <div className=\"filters-container\">\r\n          <InboxLinks\r\n            parentRoute={props.parentRoute}\r\n            allLinks={[\r\n              {\r\n                text: \"CR_COMMON_DASHBOARD_HEADER\",\r\n                link: \"/digit-ui/employee/receipts/inprogress\",\r\n                businessService: \"receipts\",\r\n                roles: [\"CR_PT\"],\r\n              },\r\n              {\r\n                text: \"CR_COMMON_REPORTS_HEADER\",\r\n                link: \"/digit-ui/employee/receipts/inprogress\",\r\n                businessService: \"receipts\",\r\n                roles: [\"CR_PT\"],\r\n              }\r\n            ]}\r\n            headerText={t(\"ACTION_TEST_RECEIPTS\")}\r\n            businessService={props.businessService}\r\n          />\r\n          <div>\r\n            {\r\n              <FilterComponent\r\n                defaultSearchParams={props.defaultSearchParams}\r\n                onFilterChange={props.onFilterChange}\r\n                searchParams={props.searchParams}\r\n                type=\"desktop\"\r\n                tenantIds={tenantIds}\r\n              />\r\n            }\r\n          </div>\r\n        </div>\r\n      )}\r\n      <div style={{ flex: 1 }}>\r\n        <SearchApplication\r\n          defaultSearchParams={props.defaultSearchParams}\r\n          onSearch={props.onSearch}\r\n          type=\"desktop\"\r\n          tenantIds={tenantIds}\r\n          searchFields={props.searchFields}\r\n          isInboxPage={!props?.isSearch}\r\n          searchParams={props.searchParams}\r\n        />\r\n        <div className=\"result\" style={{ marginLeft: !props?.isSearch ? \"24px\" : \"\", flex: 1 }}>\r\n          {result}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReceiptsDesktopInbox;\r\n","import { Card, DetailsCard, FilterAction, Loader, PopUp, SearchAction } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport ReceiptsFilter from \"../ReceiptsFilter\";\r\nimport SearchApplication from \"./search\";\r\nexport const ApplicationCard = ({\r\n  t,\r\n  data,\r\n  onFilterChange,\r\n  onSearch,\r\n  onSort,\r\n  serviceRequestIdKey,\r\n  isFstpOperator,\r\n  isLoading,\r\n  isSearch,\r\n  searchParams,\r\n  searchFields,\r\n  sortParams,\r\n  linkPrefix,\r\n  removeParam,\r\n  defaultSearchParams\r\n}) => {\r\n\r\n  const [type, setType] = useState(isSearch ? \"SEARCH\" : \"\");\r\n  const [popup, setPopup] = useState(isSearch ? true : false);\r\n  const [params, setParams] = useState(searchParams);\r\n  const [_sortparams, setSortParams] = useState(sortParams);\r\n  const selectParams = (param) => {\r\n    setParams((o) => ({ ...o, ...param }));\r\n  };\r\n  const clearParam = () => {\r\n    setParams({});\r\n  };\r\n  const onSearchPara = (param) => {\r\n    onFilterChange({ ...params, ...param });\r\n    setType(\"\");\r\n    setPopup(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (type) setPopup(true);\r\n  }, [type]);\r\n  const DSO = Digit.UserService.hasAccess([\"FSM_DSO\"]) || false;\r\n  const handlePopupClose = () => {\r\n    setPopup(false);\r\n    setType(\"\");\r\n    setParams(searchParams);\r\n    setSortParams(sortParams);\r\n  };\r\n  const onSearchSortParams = (d) => {\r\n    setSortParams(d);\r\n    setPopup(false);\r\n    setType(\"\");\r\n    onSort(d);\r\n  };\r\n  if (isLoading) {\r\n    return <Loader />;\r\n  }\r\n\r\n\r\n  let result;\r\n  if (!data || data?.length === 0) {\r\n    result = (\r\n      <Card style={{ marginTop: 20 }}>\r\n        {t(\"CS_MYAPPLICATIONS_NO_APPLICATION\")\r\n          .split(\"\\\\n\")\r\n          .map((text, index) => (\r\n            <p key={index} style={{ textAlign: \"center\" }}>\r\n              {text}\r\n            </p>\r\n          ))}\r\n      </Card>\r\n    );\r\n  } else if (data && data?.length > 0) {\r\n    result = (\r\n      <DetailsCard\r\n        data={data}\r\n        serviceRequestIdKey={serviceRequestIdKey}\r\n        linkPrefix={linkPrefix ? linkPrefix : DSO ? \"/digit-ui/employee/fsm/application-details/\" : \"/digit-ui/employee/fsm/\"}\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"searchBox\">\r\n        {onSearch && (\r\n          <SearchAction\r\n            text=\"SEARCH\"\r\n            handleActionClick={() => {\r\n              setType(\"SEARCH\");\r\n              setPopup(true);\r\n            }}\r\n          />\r\n        )}\r\n        {!isSearch && onFilterChange && (\r\n          <FilterAction\r\n            text=\"FILTER\"\r\n            handleActionClick={() => {\r\n              setType(\"FILTER\");\r\n              setPopup(true);\r\n            }}\r\n          />\r\n        )}\r\n        {/* <FilterAction\r\n          text=\"SORT\"\r\n          handleActionClick={() => {\r\n            setType(\"SORT\");\r\n            setPopup(true);\r\n          }}\r\n        /> */}\r\n      </div>\r\n      {result}\r\n      {popup && (\r\n        <PopUp>\r\n          {type === \"FILTER\" && (\r\n            <div className=\"popup-module\">\r\n              {\r\n                <ReceiptsFilter\r\n                  defaultSearchParams={defaultSearchParams}\r\n                  onFilterChange={onFilterChange}\r\n                  searchParams={searchParams}\r\n                  type=\"mobile\"\r\n                  onClose={handlePopupClose}\r\n                />\r\n              }\r\n            </div>\r\n          )}\r\n          {type === \"SEARCH\" && (\r\n            <div className=\"popup-module\">\r\n              <SearchApplication\r\n                type=\"mobile\"\r\n                onClose={handlePopupClose}\r\n                onSearch={onSearch}\r\n                isFstpOperator={isFstpOperator}\r\n                searchParams={searchParams}\r\n                searchFields={searchFields}\r\n              />\r\n            </div>\r\n          )}\r\n        </PopUp>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { ApplicationCard } from \"./ApplicationCard\";\r\n\r\nconst GetDateCell = (value) => {\r\n  const date = new Date(value);\r\n  return <span className=\"sla-cell\">{date?.toLocaleDateString()}</span>\r\n};\r\nconst GetCell = (value) => <span className=\"sla-cell\">{value}</span>;\r\n\r\nconst ReceiptsMobileInbox = ({\r\n  data,\r\n  isLoading,\r\n  isSearch,\r\n  searchFields,\r\n  onFilterChange,\r\n  onSearch,\r\n  onSort,\r\n  parentRoute,\r\n  searchParams,\r\n  sortParams,\r\n  linkPrefix,\r\n  tableConfig,\r\n  filterComponent,\r\n  allLinks,\r\n  defaultSearchParams\r\n}) => {\r\n  \r\n  const { t } = useTranslation();\r\n  const getData = () => {\r\n    return data?.Payments?.map((original) => ({\r\n      [t(\"CR_COMMON_TABLE_COL_RECEIPT_NO\")]: original?.paymentDetails[0]?.receiptNumber,\r\n      [t(\"CR_COMMON_TABLE_COL_DATE\")]: GetDateCell(original?.transactionDate || \"\"),\r\n      [t(\"CR_COMMON_TABLE_CONSUMERCODE\")]: GetCell(original?.paymentDetails[0]?.bill?.consumerCode || \"\"),\r\n      [t(\"CR_COMMON_TABLE_COL_PAYEE_NAME\")]: GetCell(original?.payerName),\r\n      [t(\"CR_SERVICE_TYPE_LABEL\")]: GetCell(t(`BILLINGSERVICE_BUSINESSSERVICE_${original?.paymentDetails[0]?.businessService}`)),\r\n      [t(\"CR_COMMON_TABLE_COL_STATUS\")]: GetCell(t(`RC_${original?.paymentStatus}`)),\r\n    }));\r\n  };\r\n  const serviceRequestIdKey = (original) => {return `${searchParams?.businessServices}/${encodeURIComponent(original?.[t(\"CR_COMMON_TABLE_COL_RECEIPT_NO\")])}`};\r\n  return (\r\n    <div style={{ padding: 0 }}>\r\n      <div className=\"inbox-container\">\r\n        <div className=\"filters-container\">\r\n          {/* {!isSearch && <ApplicationLinks linkPrefix={parentRoute} allLinks={allLinks} isMobile={true} />} */}\r\n          <ApplicationCard\r\n            t={t}\r\n            data={getData()}\r\n            onFilterChange={onFilterChange}\r\n            isLoading={isLoading}\r\n            isSearch={isSearch}\r\n            onSearch={onSearch}\r\n            onSort={onSort}\r\n            defaultSearchParams={defaultSearchParams}\r\n            searchParams={searchParams}\r\n            searchFields={searchFields}\r\n            linkPrefix={linkPrefix}\r\n            sortParams={sortParams}\r\n            filterComponent={filterComponent}\r\n            serviceRequestIdKey={serviceRequestIdKey}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReceiptsMobileInbox;\r\n","import { Header, Loader } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useCallback, useEffect, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport ReceiptsDesktopInbox from \"../components/inbox/ReceiptsDesktopInbox\";\r\nimport ReceiptsMobileInbox from \"../components/inbox/ReceiptsMobileInbox\";\r\n\r\nconst ReceiptInbox = ({ parentRoute, businessService = \"receipts\", initialStates = {}, filterComponent, isInbox }) => {\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const isupdate = Digit.SessionStorage.get(\"isupdate\");\r\n  const { t } = useTranslation();\r\n  const [pageOffset, setPageOffset] = useState(initialStates.pageOffset || 0);\r\n  const [pageSize, setPageSize] = useState(initialStates.pageSize || 10);\r\n  const [sortParams, setSortParams] = useState(initialStates.sortParams || [{ id: \"createdTime\", desc: false }]);\r\n  const [totalRecords, setTotalRecords] = useState(0);\r\n  const [searchParams, setSearchParams] = useState(() => {\r\n    return initialStates.searchParams || {};\r\n  });\r\n  const { isLoading: countLoading, data: countData, ...rest1 } = Digit.Hooks.receipts.useReceiptsSearch({ ...searchParams, isCountRequest: true }, tenantId, [], isupdate);\r\n  let isMobile = window.Digit.Utils.browser.isMobile();\r\n\r\n  let paginationParams = isMobile\r\n    ? { limit: 100, offset: pageOffset, sortOrder: sortParams?.[0]?.desc ? \"DESC\" : \"ASC\" }\r\n    : { limit: pageSize, offset: pageOffset, sortOrder: sortParams?.[0]?.desc ? \"DESC\" : \"ASC\" };\r\n\r\n  const { isLoading: hookLoading, isError, error, data, ...rest } = Digit.Hooks.receipts.useReceiptsSearch(searchParams, tenantId, paginationParams, isupdate);\r\n  let isLoading = false;\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      rest?.revalidate();\r\n    }\r\n  }, [])\r\n  useEffect(() => { setTotalRecords(countData?.Count) }, [countData])\r\n  useEffect(() => {\r\n    setPageOffset(0);\r\n  }, [searchParams]);\r\n\r\n  const fetchNextPage = () => {\r\n    setPageOffset((prevState) => prevState + pageSize);\r\n  };\r\n\r\n  const fetchPrevPage = () => {\r\n    setPageOffset((prevState) => prevState - pageSize);\r\n  };\r\n  const fetchLastPage = () => {\r\n    setPageOffset((prevState) => countData?.Count && (Math.ceil(countData?.Count / 10) * 10 - pageSize));\r\n  };\r\n\r\n  const fetchFirstPage = () => {\r\n    setPageOffset((prevState) => 0);\r\n  };\r\n  const handleFilterChange = (filterParam, reset = false) => {\r\n    if (!reset) {\r\n      let keys_to_delete = filterParam.delete;\r\n      let _new = { ...searchParams, ...filterParam };\r\n      if (keys_to_delete) keys_to_delete.forEach((key) => delete _new[key]);\r\n      filterParam.delete;\r\n      delete _new.delete;\r\n      setSearchParams({ ..._new });\r\n    } else {\r\n      setSearchParams({ ...initialStates.searchParams });\r\n    }\r\n\r\n  };\r\n\r\n  const handleSort = useCallback((args) => {\r\n    if (args.length === 0) return;\r\n    setSortParams(args);\r\n  }, []);\r\n\r\n  const handlePageSizeChange = (e) => {\r\n    setPageSize(Number(e.target.value));\r\n  };\r\n\r\n  const getSearchFields = () => {\r\n    return [\r\n      // {\r\n      //   label: t(\"CR_SERVICE_CATEGORY_LABEL\"),\r\n      //   name: \"service\",\r\n      // },\r\n      {\r\n        label: t(\"CR_CONSUMER_NO_LABEL\"),\r\n        name: \"consumerCodes\",\r\n      },\r\n      {\r\n        label: t(\"CR_RECEPIT_NO_LABEL\"),\r\n        name: \"receiptNumbers\",\r\n      },\r\n      {\r\n        label: t(\"CR_MOBILE_NO_LABEL\"),\r\n        name: \"mobileNumber\",\r\n        maxlength: 10,\r\n        pattern: \"[6-9][0-9]{9}\",\r\n        title: t(\"ES_SEARCH_APPLICATION_MOBILE_INVALID\"),\r\n        componentInFront: \"+91\",\r\n      },\r\n    ];\r\n  };\r\n\r\n  if (isLoading) {\r\n    return <Loader />;\r\n  }\r\n\r\n  if (data?.length !== null) {\r\n    if (isMobile) {\r\n      return (\r\n        <ReceiptsMobileInbox\r\n          businessService={businessService}\r\n          data={data}\r\n          tableConfig={rest?.tableConfig}\r\n          isLoading={hookLoading}\r\n          defaultSearchParams={initialStates.searchParams}\r\n          isSearch={!isInbox}\r\n          onFilterChange={handleFilterChange}\r\n          searchFields={getSearchFields()}\r\n          onSearch={handleFilterChange}\r\n          onSort={handleSort}\r\n          onNextPage={fetchNextPage}\r\n          onPrevPage={fetchPrevPage}\r\n          currentPage={Math.floor(pageOffset / pageSize)}\r\n          pageSizeLimit={pageSize}\r\n          disableSort={false}\r\n          onPageSizeChange={handlePageSizeChange}\r\n          parentRoute={parentRoute}\r\n          searchParams={searchParams}\r\n          sortParams={sortParams}\r\n          totalRecords={totalRecords}\r\n          linkPrefix={'/digit-ui/employee/receipts/details/'}\r\n          filterComponent={filterComponent}\r\n        />\r\n      );\r\n    } else {\r\n      return (\r\n        <div>\r\n          {isInbox && <Header>{t(\"CR_SEARCH_COMMON_HEADER\")}</Header>}\r\n          <ReceiptsDesktopInbox\r\n            businessService={businessService}\r\n            data={data}\r\n            isLoading={hookLoading}\r\n            defaultSearchParams={initialStates.searchParams}\r\n            isSearch={!isInbox}\r\n            onFilterChange={handleFilterChange}\r\n            searchFields={getSearchFields()}\r\n            onSearch={handleFilterChange}\r\n            onSort={handleSort}\r\n            onNextPage={fetchNextPage}\r\n            onPrevPage={fetchPrevPage}\r\n            onLastPage={fetchLastPage}\r\n            onFirstPage={fetchFirstPage}\r\n            currentPage={Math.floor(pageOffset / pageSize)}\r\n            pageSizeLimit={pageSize}\r\n            disableSort={false}\r\n            onPageSizeChange={handlePageSizeChange}\r\n            parentRoute={parentRoute}\r\n            searchParams={searchParams}\r\n            sortParams={sortParams}\r\n            totalRecords={totalRecords}\r\n            filterComponent={filterComponent}\r\n          />\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n};\r\n\r\nexport default ReceiptInbox;\r\n","import { EmployeeModuleCard, ReceiptIcon } from \"@egovernments/digit-ui-react-components\";\r\nimport React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { getDefaultReceiptService } from \"./utils\";\r\n\r\nconst ReceiptsCard = () => {\r\n  if (!Digit.Utils.receiptsAccess()) {\r\n    return null;\r\n  }\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const { t } = useTranslation();\r\n  const searchParams = {\r\n    tenantId: tenantId,\r\n    businessServices: getDefaultReceiptService(),\r\n    isCountRequest: true\r\n  };\r\n  const { isLoading, isError, error, data, ...rest } = Digit.Hooks.receipts.useReceiptsSearch(searchParams, tenantId, [], false);\r\n\r\n  const  propsForModuleCard  = {\r\n    Icon: <ReceiptIcon />,\r\n    moduleName: t(\"ACTION_TEST_RECEIPTS\"),\r\n    kpis: [\r\n      {\r\n        count: isLoading ? \"-\" : data?.Count,\r\n        label: t(\"CR_TOTAL_RECEIPTS\"),\r\n        link: `/digit-ui/employee/receipts/inbox`\r\n      },\r\n    ],\r\n    links: [\r\n      {\r\n        count: isLoading ? \"-\" : data?.Count,\r\n        label: t(\"CR_SEARCH_COMMON_HEADER\"),\r\n        link: `/digit-ui/employee/receipts/inbox`\r\n      }\r\n    ]\r\n  }\r\n  return <EmployeeModuleCard {...propsForModuleCard} />\r\n};\r\n\r\nexport default ReceiptsCard;\r\n\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useRouteMatch } from \"react-router-dom\";\r\nimport Banner from \"./components/Banner\";\r\nimport ActionModal from \"./components/Modal\";\r\nimport ReceiptsFilter from \"./components/ReceiptsFilter\";\r\nimport EmployeeApp from \"./pages\";\r\nimport ReceiptAcknowledgement from \"./pages/ReceiptAcknowledgement\";\r\nimport ReceiptDetails from \"./pages/ReceiptDetails\";\r\nimport ReceiptInbox from \"./pages/ReceiptInbox\";\r\nimport ReceiptsCard from \"./receiptHomeCard\";\r\n\r\nexport const ReceiptsModule = ({ stateCode, userType }) => {\r\n  const moduleCode = \"RECEIPTS\";\r\n  const state = useSelector((state) => state);\r\n  const language = state?.common?.selectedLanguage;\r\n  const { isLoading, data: store } = Digit.Services.useStore({ stateCode, moduleCode, language });\r\n  const { path, url } = useRouteMatch();\r\n  if (userType === \"employee\") {\r\n    return <EmployeeApp path={path} url={url} userType={\"employee\"} />;\r\n  } else return null;\r\n};\r\n\r\nconst componentsToRegister = {\r\n  ReceiptsModule,\r\n  ReceiptsCard,\r\n  ReceiptInbox: ReceiptInbox,\r\n  ReceiptAcknowledgement: ReceiptAcknowledgement,\r\n  ReceiptDetails: ReceiptDetails,\r\n  ActionModal,\r\n  Banner,\r\n  RECEIPTS_INBOX_FILTER: (props) => <ReceiptsFilter {...props} />,\r\n};\r\n\r\nexport const initReceiptsComponents = () => {\r\n  Object.entries(componentsToRegister).forEach(([key, value]) => {\r\n    Digit.ComponentRegistryService.setComponent(key, value);\r\n  });\r\n};\r\n"],"names":["Banner","t","config","React","LabelFieldPair","CardLabel","color","texts","header","configCancelConfig","selectedReason","Reasons","selectReason","label","heading","submit","form","body","type","isMandatory","name","populators","Dropdown","disable","code","ReceiptCancelModal","action","closeModal","submitAction","applicationData","history","useHistory","useState","setConfig","setReasons","selecteReason","tenantIds","Digit","ULBService","getCurrentTenantId","tenant","getStateId","Hooks","receipts","useReceiptsMDMS","isLoading","isError","data","rest","useEffect","Heading","props","e","Close","CloseBtn","onClick","dropdownData","replace","paymentWorkflow","additionalDetails","otherDetails","selectedReasonMessage","paymentId","Payments","id","reason","tenantId","key","businessService","paymentDetails","Loader","Modal","FormComposer","ActionModal","convertEpochToDate","dateEpoch","dateFromApi","Date","month","getMonth","day","getDate","year","getFullYear","stringReplaceAll","str","searcher","replaceWith","includes","checkForNotNull","value","undefined","convertDotValues","replaceAll","convertToLocale","convertedValue","RECEIPTS_DEFAULT_SERVICE","getDefaultReceiptService","getFinancialYears","from","to","fromDate","toDate","getYear","toLocaleDateString","ReceiptsFilter","searchParams","onFilterChange","onSearch","_searchParams","setSearchParams","useTranslation","defaultService","status","setStatus","service","setService","mdmsStatus","dropdownDataStatus","businessServices","join","onCheckBoxClick","splice","findIndex","x","push","clearAll","delete","Object","keys","onClose","border","padding","CloseSvg","map","sta","index","CheckBox","event","target","SubmitBar","ActionBar","ApplyFilterBar","flex","EmployeeApp","path","location","useLocation","mobileView","innerWidth","inboxInitialState","ReceiptInbox","ComponentRegistryService","getComponent","ReceiptAcknowledgement","ReceiptDetails","Switch","marginLeft","Link","cursor","pathname","PrivateRoute","printReciept","consumerCode","Utils","downloadReceipt","GetMessage","isSuccess","isEmployee","GetActionMessage","BannerPicker","receiptNumber","state","mutation","useReceiptsUpdate","useSessionStorage","mutationHappened","setMutationHappened","errorInfo","setErrorInfo","successData","setsuccessData","onError","error","variables","response","Errors","onSuccess","mutate","paymentWorkflows","DisplayText","SessionStorage","set","Math","floor","random","isIdle","Payment","Card","parentRoute","CardText","LinkButton","width","bill","canCancelReceipt","Receipt","paymentStatus","instrumentStatus","showModal","setShowModal","useParams","receiptId","isupdate","get","useReceiptsSearch","receiptNumbers","decodeURIComponent","cancelReceipt","revalidate","clearSuccessData","clearError","PaymentReceipt","length","pendingDue","totalDue","totalAmountPaid","fontFamily","Header","StatusTable","Row","whiteSpace","receiptDate","payerName","mobileNumber","billDetails","fromPeriod","toPeriod","paymentMode","transactionNumber","manualReceiptNumber","manualReceiptDate","InboxLinks","allLinks","headerText","links","setLinks","userRoles","UserService","getUser","info","roles","linksToShow","filter","some","GetLogo","AnnouncementIcon","link","text","hyperlink","ApplicationTable","columns","getCellProps","onNextPage","onPrevPage","currentPage","totalRecords","pageSizeLimit","onPageSizeChange","onLastPage","onFirstPage","Table","fieldComponents","date","DatePicker","MobileNumber","SearchApplication","searchFields","isInboxPage","useForm","defaultValues","register","handleSubmit","reset","watch","control","setError","clearErrors","formState","forEach","pattern","maxLength","minLength","errorMessages","el","errors","RegExp","test","message","toUpperCase","onSubmitInput","field","clearSearch","resetValues","reduce","acc","_newParams","mobileViewStyles","margin","LinkLabel","display","justifyContent","input","Label","Controller","componentInFront","TextInput","Comp","onChange","dirtyFields","fontWeight","paddingLeft","marginTop","fontSize","textAlign","paddingTop","ReceiptsDesktopInbox","filterComponent","GetCell","GetDateCell","GetSlaCell","prefix","FilterComponent","useMemo","disableSortBy","Cell","row","original","encodeURIComponent","transactionDate","result","split","cellInfo","style","maxWidth","column","onSort","disableSort","sortParams","isSearch","defaultSearchParams","ApplicationCard","serviceRequestIdKey","isFstpOperator","linkPrefix","removeParam","setType","popup","setPopup","params","setParams","_sortparams","setSortParams","DSO","hasAccess","handlePopupClose","DetailsCard","SearchAction","FilterAction","PopUp","ReceiptsMobileInbox","tableConfig","getData","initialStates","isInbox","pageOffset","setPageOffset","pageSize","setPageSize","desc","setTotalRecords","isCountRequest","countLoading","countData","rest1","isMobile","window","browser","paginationParams","limit","offset","sortOrder","hookLoading","Count","fetchNextPage","prevState","fetchPrevPage","fetchLastPage","ceil","fetchFirstPage","handleFilterChange","filterParam","keys_to_delete","_new","handleSort","useCallback","args","handlePageSizeChange","Number","getSearchFields","maxlength","title","ReceiptsCard","receiptsAccess","propsForModuleCard","Icon","ReceiptIcon","moduleName","kpis","count","EmployeeModuleCard","ReceiptsModule","stateCode","userType","moduleCode","useSelector","language","common","selectedLanguage","Services","useStore","useRouteMatch","url","componentsToRegister","RECEIPTS_INBOX_FILTER","initReceiptsComponents","entries","setComponent"],"mappings":"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"}